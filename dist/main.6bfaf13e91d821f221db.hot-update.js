self["webpackHotUpdatelets_delivery"]("main",{

/***/ "./node_modules/@chakra-ui/accordion/dist/chakra-ui-accordion.esm.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@chakra-ui/accordion/dist/chakra-ui-accordion.esm.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Accordion": () => (/* binding */ Accordion),
/* harmony export */   "AccordionButton": () => (/* binding */ AccordionButton),
/* harmony export */   "AccordionDescendantsProvider": () => (/* binding */ AccordionDescendantsProvider),
/* harmony export */   "AccordionIcon": () => (/* binding */ AccordionIcon),
/* harmony export */   "AccordionItem": () => (/* binding */ AccordionItem),
/* harmony export */   "AccordionPanel": () => (/* binding */ AccordionPanel),
/* harmony export */   "AccordionProvider": () => (/* binding */ AccordionProvider),
/* harmony export */   "useAccordion": () => (/* binding */ useAccordion),
/* harmony export */   "useAccordionContext": () => (/* binding */ useAccordionContext),
/* harmony export */   "useAccordionDescendant": () => (/* binding */ useAccordionDescendant),
/* harmony export */   "useAccordionDescendants": () => (/* binding */ useAccordionDescendants),
/* harmony export */   "useAccordionDescendantsContext": () => (/* binding */ useAccordionDescendantsContext),
/* harmony export */   "useAccordionItem": () => (/* binding */ useAccordionItem),
/* harmony export */   "useAccordionItemState": () => (/* binding */ useAccordionItemState)
/* harmony export */ });
/* harmony import */ var _chakra_ui_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/icon */ "./node_modules/@chakra-ui/icon/dist/chakra-ui-icon.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/transition */ "./node_modules/@chakra-ui/transition/dist/chakra-ui-transition.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_descendant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/descendant */ "./node_modules/@chakra-ui/descendant/dist/chakra-ui-descendant.esm.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");










function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded$1 = ["onChange", "defaultIndex", "index", "allowMultiple", "allowToggle"],
    _excluded2$1 = ["isDisabled", "isFocusable", "id"];
/* -------------------------------------------------------------------------------------------------
 * Create context to track descendants and their indices
 * -----------------------------------------------------------------------------------------------*/

var _createDescendantCont = (0,_chakra_ui_descendant__WEBPACK_IMPORTED_MODULE_1__.createDescendantContext)(),
    AccordionDescendantsProvider = _createDescendantCont[0],
    useAccordionDescendantsContext = _createDescendantCont[1],
    useAccordionDescendants = _createDescendantCont[2],
    useAccordionDescendant = _createDescendantCont[3];

/**
 * useAccordion hook provides all the state and focus management logic
 * for accordion items.
 */
function useAccordion(props) {
  var onChange = props.onChange,
      defaultIndex = props.defaultIndex,
      indexProp = props.index,
      allowMultiple = props.allowMultiple,
      allowToggle = props.allowToggle,
      htmlProps = _objectWithoutPropertiesLoose(props, _excluded$1); // validate the props and `warn` if used incorrectly


  allowMultipleWarning(props);
  allowMultipleAndAllowToggleWarning(props);
  /**
   * Think of this as the register to each accordion item.
   * We used to manage focus between accordion item buttons.
   *
   * Every accordion item, registers their button refs in this context
   */

  var descendants = useAccordionDescendants();
  /**
   * This state is used to track the index focused accordion
   * button when click on the button, tab on the button, or
   * use the down/up arrow to navigate.
   */

  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1),
      focusedIndex = _useState[0],
      setFocusedIndex = _useState[1];
  /**
   * Reset focused index when accordion unmounts
   * or descendants change
   */


  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useUnmountEffect)(function () {
    setFocusedIndex(-1);
  });
  /**
   * Hook that manages the controlled and un-controlled state
   * for the accordion.
   */

  var _useControllableState = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useControllableState)({
    value: indexProp,
    defaultValue: function defaultValue() {
      if (allowMultiple) return defaultIndex != null ? defaultIndex : [];
      return defaultIndex != null ? defaultIndex : -1;
    },
    onChange: onChange
  }),
      index = _useControllableState[0],
      setIndex = _useControllableState[1];
  /**
   * Gets the `isOpen` and `onChange` props for a child accordion item based on
   * the child's index.
   *
   * @param idx {number} The index of the child accordion item
   */


  var getAccordionItemProps = function getAccordionItemProps(idx) {
    var isOpen = false;

    if (idx !== null) {
      isOpen = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isArray)(index) ? index.includes(idx) : index === idx;
    }

    var onChange = function onChange(isOpen) {
      if (idx === null) return;

      if (allowMultiple && (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isArray)(index)) {
        var nextState = isOpen ? (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.addItem)(index, idx) : (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.removeItem)(index, idx);
        setIndex(nextState);
      } else if (isOpen) {
        setIndex(idx);
      } else if (allowToggle) {
        setIndex(-1);
      }
    };

    return {
      isOpen: isOpen,
      onChange: onChange
    };
  };

  return {
    index: index,
    setIndex: setIndex,
    htmlProps: htmlProps,
    getAccordionItemProps: getAccordionItemProps,
    focusedIndex: focusedIndex,
    setFocusedIndex: setFocusedIndex,
    descendants: descendants
  };
}

var _createContext$1 = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_4__.createContext)({
  name: "AccordionContext",
  errorMessage: "useAccordionContext: `context` is undefined. Seems you forgot to wrap the accordion components in `<Accordion />`"
}),
    AccordionProvider = _createContext$1[0],
    useAccordionContext = _createContext$1[1];

/**
 * useAccordionItem
 *
 * React hook that provides the open/close functionality
 * for an accordion item and its children
 */
function useAccordionItem(props) {
  var isDisabled = props.isDisabled,
      isFocusable = props.isFocusable,
      id = props.id,
      htmlProps = _objectWithoutPropertiesLoose(props, _excluded2$1);

  var _useAccordionContext = useAccordionContext(),
      getAccordionItemProps = _useAccordionContext.getAccordionItemProps,
      setFocusedIndex = _useAccordionContext.setFocusedIndex;

  var buttonRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  /**
   * Generate unique ids for all accordion item components (button and panel)
   */

  var _useIds = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useIds)(id, "accordion-button", "accordion-panel"),
      buttonId = _useIds[0],
      panelId = _useIds[1];

  focusableNotDisabledWarning(props);
  /**
   * Think of this as a way to register this accordion item
   * with its parent `useAccordion`
   */

  var _useAccordionDescenda = useAccordionDescendant({
    disabled: isDisabled && !isFocusable
  }),
      register = _useAccordionDescenda.register,
      index = _useAccordionDescenda.index,
      descendants = _useAccordionDescenda.descendants;

  var _getAccordionItemProp = getAccordionItemProps(index === -1 ? null : index),
      isOpen = _getAccordionItemProp.isOpen,
      onChange = _getAccordionItemProp.onChange;

  warnIfOpenAndDisabled({
    isOpen: isOpen,
    isDisabled: isDisabled
  });

  var onOpen = function onOpen() {
    onChange == null ? void 0 : onChange(true);
  };

  var onClose = function onClose() {
    onChange == null ? void 0 : onChange(false);
  };
  /**
   * Toggle the visibility of the accordion item
   */


  var onClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    onChange == null ? void 0 : onChange(!isOpen);
    setFocusedIndex(index);
  }, [index, setFocusedIndex, isOpen, onChange]);
  /**
   * Manage keyboard navigation between accordion items.
   */

  var onKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    var eventKey = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeEventKey)(event);
    var keyMap = {
      ArrowDown: function ArrowDown() {
        var next = descendants.nextEnabled(index);
        if (next) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.focus)(next.node);
      },
      ArrowUp: function ArrowUp() {
        var prev = descendants.prevEnabled(index);
        if (prev) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.focus)(prev.node);
      },
      Home: function Home() {
        var first = descendants.firstEnabled();
        if (first) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.focus)(first.node);
      },
      End: function End() {
        var last = descendants.lastEnabled();
        if (last) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.focus)(last.node);
      }
    };
    var action = keyMap[eventKey];

    if (action) {
      event.preventDefault();
      action(event);
    }
  }, [descendants, index]);
  /**
   * Since each accordion item's button still remains tabbable, let's
   * update the focusedIndex when it receives focus
   */

  var onFocus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    setFocusedIndex(index);
  }, [setFocusedIndex, index]);
  var getButtonProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      type: "button",
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_4__.mergeRefs)(register, buttonRef, ref),
      id: buttonId,
      disabled: !!isDisabled,
      "aria-expanded": !!isOpen,
      "aria-controls": panelId,
      onClick: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onClick, onClick),
      onFocus: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onFocus, onFocus),
      onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onKeyDown, onKeyDown)
    });
  }, [buttonId, isDisabled, isOpen, onClick, onFocus, onKeyDown, panelId, register]);
  var getPanelProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: ref,
      role: "region",
      id: panelId,
      "aria-labelledby": buttonId,
      hidden: !isOpen
    });
  }, [buttonId, isOpen, panelId]);
  return {
    isOpen: isOpen,
    isDisabled: isDisabled,
    isFocusable: isFocusable,
    onOpen: onOpen,
    onClose: onClose,
    getButtonProps: getButtonProps,
    getPanelProps: getPanelProps,
    htmlProps: htmlProps
  };
}

/* -------------------------------------------------------------------------------------------------
 * Validate accordion and accordion item props, and emit warnings.
 * -----------------------------------------------------------------------------------------------*/
function allowMultipleWarning(props) {
  var index = props.index || props.defaultIndex;
  var condition = !(0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isUndefined)(index) && !(0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isArray)(index) && props.allowMultiple;
  (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.warn)({
    condition: !!condition,
    message: "If 'allowMultiple' is passed, then 'index' or 'defaultIndex' must be an array. You passed: " + typeof index + ","
  });
}

function allowMultipleAndAllowToggleWarning(props) {
  (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.warn)({
    condition: !!(props.allowMultiple && props.allowToggle),
    message: "If 'allowMultiple' is passed, 'allowToggle' will be ignored. Either remove 'allowToggle' or 'allowMultiple' depending on whether you want multiple accordions visible or not"
  });
}

function focusableNotDisabledWarning(props) {
  (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.warn)({
    condition: !!(props.isFocusable && !props.isDisabled),
    message: "Using only 'isFocusable', this prop is reserved for situations where you pass 'isDisabled' but you still want the element to receive focus (A11y). Either remove it or pass 'isDisabled' as well.\n    "
  });
}

function warnIfOpenAndDisabled(props) {
  (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.warn)({
    condition: props.isOpen && !!props.isDisabled,
    message: "Cannot open a disabled accordion item"
  });
}

var _excluded = ["children", "reduceMotion"],
    _excluded2 = ["htmlProps", "descendants"],
    _excluded3 = ["htmlProps"];
/* -------------------------------------------------------------------------------------------------
 * Accordion - The wrapper that provides context for all accordion items
 * -----------------------------------------------------------------------------------------------*/

/**
 * The wrapper that provides context and focus management
 * for all accordion items.
 *
 * It wraps all accordion items in a `div` for better grouping.
 * @see Docs https://chakra-ui.com/accordion
 */
var Accordion = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.forwardRef)(function (_ref, ref) {
  var children = _ref.children,
      reduceMotion = _ref.reduceMotion,
      props = _objectWithoutPropertiesLoose(_ref, _excluded);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.useMultiStyleConfig)("Accordion", props);
  var ownProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.omitThemingProps)(props);

  var _useAccordion = useAccordion(ownProps),
      htmlProps = _useAccordion.htmlProps,
      descendants = _useAccordion.descendants,
      context = _objectWithoutPropertiesLoose(_useAccordion, _excluded2);

  var ctx = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return _extends({}, context, {
      reduceMotion: !!reduceMotion
    });
  }, [context, reduceMotion]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(AccordionDescendantsProvider, {
    value: descendants
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(AccordionProvider, {
    value: ctx
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.chakra.div, _extends({
    ref: ref
  }, htmlProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-accordion", props.className)
  }), children))));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  Accordion.displayName = "Accordion";
}
/* -------------------------------------------------------------------------------------------------
 * Accordion Item
 * -----------------------------------------------------------------------------------------------*/


var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_4__.createContext)({
  name: "AccordionItemContext",
  errorMessage: "useAccordionItemContext: `context` is undefined. Seems you forgot to wrap the accordion item parts in `<AccordionItem />` "
}),
    AccordionItemProvider = _createContext[0],
    useAccordionItemContext = _createContext[1];

/**
 * AccordionItem is a single accordion that provides the open-close
 * behavior when the accordion button is clicked.
 *
 * It also provides context for the accordion button and panel.
 */
var AccordionItem = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.forwardRef)(function (props, ref) {
  var children = props.children,
      className = props.className;

  var _useAccordionItem = useAccordionItem(props),
      htmlProps = _useAccordionItem.htmlProps,
      context = _objectWithoutPropertiesLoose(_useAccordionItem, _excluded3);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.useStyles)();

  var containerStyles = _extends({}, styles.container, {
    overflowAnchor: "none"
  });

  var ctx = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return context;
  }, [context]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(AccordionItemProvider, {
    value: ctx
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.chakra.div, _extends({
    ref: ref
  }, htmlProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-accordion__item", className),
    __css: containerStyles
  }), (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.runIfFn)(children, {
    isExpanded: !!context.isOpen,
    isDisabled: !!context.isDisabled
  })));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  AccordionItem.displayName = "AccordionItem";
}
/**
 * React hook to get the state and actions of an accordion item
 */


function useAccordionItemState() {
  var _useAccordionItemCont = useAccordionItemContext(),
      isOpen = _useAccordionItemCont.isOpen,
      isDisabled = _useAccordionItemCont.isDisabled,
      onClose = _useAccordionItemCont.onClose,
      onOpen = _useAccordionItemCont.onOpen;

  return {
    isOpen: isOpen,
    onClose: onClose,
    isDisabled: isDisabled,
    onOpen: onOpen
  };
}
/* -------------------------------------------------------------------------------------------------
 * Accordion Item => Button
 * -----------------------------------------------------------------------------------------------*/

/**
 * AccordionButton is used expands and collapses an accordion item.
 * It must be a child of `AccordionItem`.
 *
 * Note 🚨: Each accordion button must be wrapped in an heading tag,
 * that is appropriate for the information architecture of the page.
 */
var AccordionButton = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.forwardRef)(function (props, ref) {
  var _useAccordionItemCont2 = useAccordionItemContext(),
      getButtonProps = _useAccordionItemCont2.getButtonProps;

  var buttonProps = getButtonProps(props, ref);
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.useStyles)();

  var buttonStyles = _extends({
    display: "flex",
    alignItems: "center",
    width: "100%",
    outline: 0
  }, styles.button);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.chakra.button, _extends({}, buttonProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-accordion__button", props.className),
    __css: buttonStyles
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  AccordionButton.displayName = "AccordionButton";
}
/* -------------------------------------------------------------------------------------------------
 * Accordion Item => Panel
 * -----------------------------------------------------------------------------------------------*/


/**
 * Accordion panel that holds the content for each accordion.
 * It shows and hides based on the state login from the `AccordionItem`.
 *
 * It uses the `Collapse` component to animate its height.
 */
var AccordionPanel = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.forwardRef)(function (props, ref) {
  var _useAccordionContext = useAccordionContext(),
      reduceMotion = _useAccordionContext.reduceMotion;

  var _useAccordionItemCont3 = useAccordionItemContext(),
      getPanelProps = _useAccordionItemCont3.getPanelProps,
      isOpen = _useAccordionItemCont3.isOpen; // remove `hidden` prop, 'coz we're using height animation


  var panelProps = getPanelProps(props, ref);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-accordion__panel", props.className);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.useStyles)();

  if (!reduceMotion) {
    delete panelProps.hidden;
  }

  var child = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.chakra.div, _extends({}, panelProps, {
    __css: styles.panel,
    className: _className
  }));

  if (!reduceMotion) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_transition__WEBPACK_IMPORTED_MODULE_6__.Collapse, {
      "in": isOpen
    }, child);
  }

  return child;
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  AccordionPanel.displayName = "AccordionPanel";
}
/* -------------------------------------------------------------------------------------------------
 * Accordion Item => Icon
 * -----------------------------------------------------------------------------------------------*/

/**
 * AccordionIcon that gives a visual cue of the open/close state of the accordion item.
 * It rotates `180deg` based on the open/close state.
 */


var AccordionIcon = function AccordionIcon(props) {
  var _useAccordionItemCont4 = useAccordionItemContext(),
      isOpen = _useAccordionItemCont4.isOpen,
      isDisabled = _useAccordionItemCont4.isDisabled;

  var _useAccordionContext2 = useAccordionContext(),
      reduceMotion = _useAccordionContext2.reduceMotion;

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-accordion__icon", props.className);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.useStyles)();

  var iconStyles = _extends({
    opacity: isDisabled ? 0.4 : 1,
    transform: isOpen ? "rotate(-180deg)" : undefined,
    transition: reduceMotion ? undefined : "transform 0.2s",
    transformOrigin: "center"
  }, styles.icon);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_7__.Icon, _extends({
    viewBox: "0 0 24 24",
    "aria-hidden": true,
    className: _className,
    __css: iconStyles
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"
  }));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  AccordionIcon.displayName = "AccordionIcon";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/alert/dist/chakra-ui-alert.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@chakra-ui/alert/dist/chakra-ui-alert.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Alert": () => (/* binding */ Alert),
/* harmony export */   "AlertDescription": () => (/* binding */ AlertDescription),
/* harmony export */   "AlertIcon": () => (/* binding */ AlertIcon),
/* harmony export */   "AlertTitle": () => (/* binding */ AlertTitle)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/icon */ "./node_modules/@chakra-ui/icon/dist/chakra-ui-icon.esm.js");






function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var CheckIcon = function CheckIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_1__.Icon, _extends({
    viewBox: "0 0 24 24"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M12,0A12,12,0,1,0,24,12,12.014,12.014,0,0,0,12,0Zm6.927,8.2-6.845,9.289a1.011,1.011,0,0,1-1.43.188L5.764,13.769a1,1,0,1,1,1.25-1.562l4.076,3.261,6.227-8.451A1,1,0,1,1,18.927,8.2Z"
  }));
};
var InfoIcon = function InfoIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_1__.Icon, _extends({
    viewBox: "0 0 24 24"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm.25,5a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,12.25,5ZM14.5,18.5h-4a1,1,0,0,1,0-2h.75a.25.25,0,0,0,.25-.25v-4.5a.25.25,0,0,0-.25-.25H10.5a1,1,0,0,1,0-2h1a2,2,0,0,1,2,2v4.75a.25.25,0,0,0,.25.25h.75a1,1,0,1,1,0,2Z"
  }));
};
var WarningIcon = function WarningIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_1__.Icon, _extends({
    viewBox: "0 0 24 24"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M11.983,0a12.206,12.206,0,0,0-8.51,3.653A11.8,11.8,0,0,0,0,12.207,11.779,11.779,0,0,0,11.8,24h.214A12.111,12.111,0,0,0,24,11.791h0A11.766,11.766,0,0,0,11.983,0ZM10.5,16.542a1.476,1.476,0,0,1,1.449-1.53h.027a1.527,1.527,0,0,1,1.523,1.47,1.475,1.475,0,0,1-1.449,1.53h-.027A1.529,1.529,0,0,1,10.5,16.542ZM11,12.5v-6a1,1,0,0,1,2,0v6a1,1,0,1,1-2,0Z"
  }));
};

var _excluded = ["status"];
var STATUSES = {
  info: {
    icon: InfoIcon,
    colorScheme: "blue"
  },
  warning: {
    icon: WarningIcon,
    colorScheme: "orange"
  },
  success: {
    icon: CheckIcon,
    colorScheme: "green"
  },
  error: {
    icon: WarningIcon,
    colorScheme: "red"
  }
};

var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__.createContext)({
  name: "AlertContext",
  errorMessage: "useAlertContext: `context` is undefined. Seems you forgot to wrap alert components in `<Alert />`"
}),
    AlertProvider = _createContext[0],
    useAlertContext = _createContext[1];

/**
 * Alert is used to communicate the state or status of a
 * page, feature or action
 */
var Alert = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  var _props$colorScheme;

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.omitThemingProps)(props),
      _omitThemingProps$sta = _omitThemingProps.status,
      status = _omitThemingProps$sta === void 0 ? "info" : _omitThemingProps$sta,
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);

  var colorScheme = (_props$colorScheme = props.colorScheme) != null ? _props$colorScheme : STATUSES[status].colorScheme;
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useMultiStyleConfig)("Alert", _extends({}, props, {
    colorScheme: colorScheme
  }));

  var alertStyles = _extends({
    width: "100%",
    display: "flex",
    alignItems: "center",
    position: "relative",
    overflow: "hidden"
  }, styles.container);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(AlertProvider, {
    value: {
      status: status
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.div, _extends({
    role: "alert",
    ref: ref
  }, rest, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-alert", props.className),
    __css: alertStyles
  }))));
});
var AlertTitle = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.div, _extends({
    ref: ref
  }, props, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-alert__title", props.className),
    __css: styles.title
  }));
});
var AlertDescription = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();

  var descriptionStyles = _extends({
    display: "inline"
  }, styles.description);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.div, _extends({
    ref: ref
  }, props, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-alert__desc", props.className),
    __css: descriptionStyles
  }));
});
var AlertIcon = function AlertIcon(props) {
  var _useAlertContext = useAlertContext(),
      status = _useAlertContext.status;

  var BaseIcon = STATUSES[status].icon;
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.span, _extends({
    display: "inherit"
  }, props, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-alert__icon", props.className),
    __css: styles.icon
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(BaseIcon, {
    w: "100%",
    h: "100%"
  }));
};




/***/ }),

/***/ "./node_modules/@chakra-ui/anatomy/dist/chakra-ui-anatomy.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@chakra-ui/anatomy/dist/chakra-ui-anatomy.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "accordionAnatomy": () => (/* binding */ accordionAnatomy),
/* harmony export */   "alertAnatomy": () => (/* binding */ alertAnatomy),
/* harmony export */   "avatarAnatomy": () => (/* binding */ avatarAnatomy),
/* harmony export */   "breadcrumbAnatomy": () => (/* binding */ breadcrumbAnatomy),
/* harmony export */   "buttonAnatomy": () => (/* binding */ buttonAnatomy),
/* harmony export */   "checkboxAnatomy": () => (/* binding */ checkboxAnatomy),
/* harmony export */   "circularProgressAnatomy": () => (/* binding */ circularProgressAnatomy),
/* harmony export */   "drawerAnatomy": () => (/* binding */ drawerAnatomy),
/* harmony export */   "editableAnatomy": () => (/* binding */ editableAnatomy),
/* harmony export */   "formAnatomy": () => (/* binding */ formAnatomy),
/* harmony export */   "formErrorAnatomy": () => (/* binding */ formErrorAnatomy),
/* harmony export */   "inputAnatomy": () => (/* binding */ inputAnatomy),
/* harmony export */   "listAnatomy": () => (/* binding */ listAnatomy),
/* harmony export */   "menuAnatomy": () => (/* binding */ menuAnatomy),
/* harmony export */   "modalAnatomy": () => (/* binding */ modalAnatomy),
/* harmony export */   "numberInputAnatomy": () => (/* binding */ numberInputAnatomy),
/* harmony export */   "pinInputAnatomy": () => (/* binding */ pinInputAnatomy),
/* harmony export */   "popoverAnatomy": () => (/* binding */ popoverAnatomy),
/* harmony export */   "progressAnatomy": () => (/* binding */ progressAnatomy),
/* harmony export */   "radioAnatomy": () => (/* binding */ radioAnatomy),
/* harmony export */   "selectAnatomy": () => (/* binding */ selectAnatomy),
/* harmony export */   "sliderAnatomy": () => (/* binding */ sliderAnatomy),
/* harmony export */   "statAnatomy": () => (/* binding */ statAnatomy),
/* harmony export */   "switchAnatomy": () => (/* binding */ switchAnatomy),
/* harmony export */   "tableAnatomy": () => (/* binding */ tableAnatomy),
/* harmony export */   "tabsAnatomy": () => (/* binding */ tabsAnatomy),
/* harmony export */   "tagAnatomy": () => (/* binding */ tagAnatomy)
/* harmony export */ });
/* harmony import */ var _chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chakra-ui/theme-tools */ "./node_modules/@chakra-ui/theme-tools/dist/chakra-ui-theme-tools.esm.js");


/**
 * **Accordion anatomy**
 * - Item: the accordion item contains the button and panel
 * - Button: the button is the trigger for the panel
 * - Panel: the panel is the content of the accordion item
 * - Icon: the expanded/collapsed icon
 */

var accordionAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("accordion").parts("container", "item", "button", "panel").extend("icon");
/**
 * **Alert anatomy**
 * - Title: the alert's title
 * - Description: the alert's description
 * - Icon: the alert's icon
 */

var alertAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("alert").parts("title", "description", "container").extend("icon");
/**
 * **Avatar anatomy**
 * - Container: the container for the avatar
 * - Label: the avatar initials text
 * - Excess Label: the label or text that represents excess avatar count.
 * Typically used in avatar groups.
 * - Group: the container for the avatar group
 */

var avatarAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("avatar").parts("label", "badge", "container").extend("excessLabel", "group");
/**
 * **Breadcrumb anatomy**
 * - Item: the container for a breadcrumb item
 * - Link: the element that represents the breadcrumb link
 * - Container: the container for the breadcrumb items
 * - Separator: the separator between breadcrumb items
 */

var breadcrumbAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("breadcrumb").parts("link", "item", "container").extend("separator");
var buttonAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("button").parts();
var checkboxAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("checkbox").parts("control", "icon", "container").extend("label");
var circularProgressAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("progress").parts("track", "filledTrack").extend("label");
var drawerAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("drawer").parts("overlay", "dialogContainer", "dialog").extend("header", "closeButton", "body", "footer");
var editableAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("editable").parts("preview", "input");
var formAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("form").parts("container", "requiredIndicator", "helperText");
var formErrorAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("formError").parts("text", "icon");
var inputAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("input").parts("addon", "field", "element");
var listAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("list").parts("container", "item", "icon");
var menuAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("menu").parts("button", "list", "item").extend("groupTitle", "command", "divider");
var modalAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("modal").parts("overlay", "dialogContainer", "dialog").extend("header", "closeButton", "body", "footer");
var numberInputAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("numberinput").parts("root", "field", "stepperGroup", "stepper");
var pinInputAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("pininput").parts("field");
var popoverAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("popover").parts("content", "header", "body", "footer").extend("popper", "arrow", "closeButton");
var progressAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("progress").parts("label", "filledTrack", "track");
var radioAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("radio").parts("container", "control", "label");
var selectAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("select").parts("field", "icon");
var sliderAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("slider").parts("container", "track", "thumb", "filledTrack");
var statAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("stat").parts("container", "label", "helpText", "number", "icon");
var switchAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("switch").parts("container", "track", "thumb");
var tableAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("table").parts("table", "thead", "tbody", "tr", "th", "td", "tfoot", "caption");
var tabsAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("tabs").parts("root", "tab", "tablist", "tabpanel", "tabpanels", "indicator");
/**
 * **Tag anatomy**
 * - Container: the container for the tag
 * - Label: the text content of the tag
 * - closeButton: the close button for the tag
 */

var tagAnatomy = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_0__.anatomy)("tag").parts("container", "label", "closeButton");




/***/ }),

/***/ "./node_modules/@chakra-ui/avatar/dist/chakra-ui-avatar.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@chakra-ui/avatar/dist/chakra-ui-avatar.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Avatar": () => (/* binding */ Avatar),
/* harmony export */   "AvatarBadge": () => (/* binding */ AvatarBadge),
/* harmony export */   "AvatarGroup": () => (/* binding */ AvatarGroup),
/* harmony export */   "baseStyle": () => (/* binding */ baseStyle)
/* harmony export */ });
/* harmony import */ var _chakra_ui_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/image */ "./node_modules/@chakra-ui/image/dist/chakra-ui-image.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");






function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var _excluded$1 = ["name", "getInitials"],
    _excluded2 = ["src", "name", "showBorder", "borderRadius", "onError", "getInitials", "icon", "iconLabel", "loading", "children", "borderColor", "ignoreFallback"];

/**
 * AvatarBadge used to show extra badge to the top-right
 * or bottom-right corner of an avatar.
 */
var AvatarBadge = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();

  var badgeStyles = _extends({
    position: "absolute",
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    insetEnd: "0",
    bottom: "0"
  }, styles.badge);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.div, _extends({
    ref: ref
  }, props, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-avatar__badge", props.className),
    __css: badgeStyles
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  AvatarBadge.displayName = "AvatarBadge";
}

function initials(name) {
  var _name$split = name.split(" "),
      firstName = _name$split[0],
      lastName = _name$split[1];

  return firstName && lastName ? "" + firstName.charAt(0) + lastName.charAt(0) : firstName.charAt(0);
}

/**
 * The avatar name container
 */
var AvatarName = function AvatarName(props) {
  var name = props.name,
      getInitials = props.getInitials,
      rest = _objectWithoutPropertiesLoose(props, _excluded$1);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.div, _extends({
    role: "img",
    "aria-label": name
  }, rest, {
    __css: styles.label
  }), name ? getInitials == null ? void 0 : getInitials(name) : null);
};
/**
 * Fallback avatar react component.
 * This should be a generic svg used to represent an avatar
 */


var DefaultIcon = function DefaultIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.svg, _extends({
    viewBox: "0 0 128 128",
    color: "#fff",
    width: "100%",
    height: "100%",
    className: "chakra-avatar__svg"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"
  }));
};

var baseStyle = {
  display: "inline-flex",
  alignItems: "center",
  justifyContent: "center",
  textAlign: "center",
  textTransform: "uppercase",
  fontWeight: "medium",
  position: "relative",
  flexShrink: 0
};

/**
 * Avatar component that renders an user avatar with
 * support for fallback avatar and name-only avatars
 */
var Avatar = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useMultiStyleConfig)("Avatar", props);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.omitThemingProps)(props),
      src = _omitThemingProps.src,
      name = _omitThemingProps.name,
      showBorder = _omitThemingProps.showBorder,
      _omitThemingProps$bor = _omitThemingProps.borderRadius,
      borderRadius = _omitThemingProps$bor === void 0 ? "full" : _omitThemingProps$bor,
      onError = _omitThemingProps.onError,
      _omitThemingProps$get = _omitThemingProps.getInitials,
      getInitials = _omitThemingProps$get === void 0 ? initials : _omitThemingProps$get,
      _omitThemingProps$ico = _omitThemingProps.icon,
      icon = _omitThemingProps$ico === void 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefaultIcon, null) : _omitThemingProps$ico,
      _omitThemingProps$ico2 = _omitThemingProps.iconLabel,
      iconLabel = _omitThemingProps$ico2 === void 0 ? " avatar" : _omitThemingProps$ico2,
      loading = _omitThemingProps.loading,
      children = _omitThemingProps.children,
      borderColor = _omitThemingProps.borderColor,
      ignoreFallback = _omitThemingProps.ignoreFallback,
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded2);

  var avatarStyles = _extends({
    borderRadius: borderRadius,
    borderWidth: showBorder ? "2px" : undefined
  }, baseStyle, styles.container);

  if (borderColor) {
    avatarStyles.borderColor = borderColor;
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.span, _extends({
    ref: ref
  }, rest, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-avatar", props.className),
    __css: avatarStyles
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(AvatarImage, {
    src: src,
    loading: loading,
    onError: onError,
    getInitials: getInitials,
    name: name,
    borderRadius: borderRadius,
    icon: icon,
    iconLabel: iconLabel,
    ignoreFallback: ignoreFallback
  }), children));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Avatar.displayName = "Avatar";
}

var AvatarImage = function AvatarImage(props) {
  var src = props.src,
      onError = props.onError,
      getInitials = props.getInitials,
      name = props.name,
      borderRadius = props.borderRadius,
      loading = props.loading,
      iconLabel = props.iconLabel,
      _props$icon = props.icon,
      icon = _props$icon === void 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefaultIcon, null) : _props$icon,
      ignoreFallback = props.ignoreFallback;
  /**
   * use the image hook to only show the image when it has loaded
   */

  var status = (0,_chakra_ui_image__WEBPACK_IMPORTED_MODULE_3__.useImage)({
    src: src,
    onError: onError,
    ignoreFallback: ignoreFallback
  });
  var hasLoaded = status === "loaded";
  /**
   * Fallback avatar applies under 2 conditions:
   * - If `src` was passed and the image has not loaded or failed to load
   * - If `src` wasn't passed
   *
   * In this case, we'll show either the name avatar or default avatar
   */

  var showFallback = !src || !hasLoaded;

  if (showFallback) {
    return name ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(AvatarName, {
      className: "chakra-avatar__initials",
      getInitials: getInitials,
      name: name
    }) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(icon, {
      role: "img",
      "aria-label": iconLabel
    });
  }
  /**
   * If `src` was passed and the image has loaded, we'll show it
   */


  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.img, {
    src: src,
    alt: name,
    className: "chakra-avatar__img",
    loading: loading,
    __css: {
      width: "100%",
      height: "100%",
      objectFit: "cover",
      borderRadius: borderRadius
    }
  });
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  AvatarImage.displayName = "AvatarImage";
}

var _excluded = ["children", "borderColor", "max", "spacing", "borderRadius"];

/**
 * AvatarGroup displays a number of avatars grouped together in a stack.
 */
var AvatarGroup = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useMultiStyleConfig)("Avatar", props);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.omitThemingProps)(props),
      children = _omitThemingProps.children,
      borderColor = _omitThemingProps.borderColor,
      max = _omitThemingProps.max,
      _omitThemingProps$spa = _omitThemingProps.spacing,
      spacing = _omitThemingProps$spa === void 0 ? "-0.75rem" : _omitThemingProps$spa,
      _omitThemingProps$bor = _omitThemingProps.borderRadius,
      borderRadius = _omitThemingProps$bor === void 0 ? "full" : _omitThemingProps$bor,
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);

  var validChildren = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_4__.getValidChildren)(children);
  /**
   * get the avatars within the max
   */

  var childrenWithinMax = max ? validChildren.slice(0, max) : validChildren;
  /**
   * get the remaining avatar count
   */

  var excess = max != null && validChildren.length - max;
  /**
   * Reversing the children is a great way to avoid using zIndex
   * to overlap the avatars
   */

  var reversedChildren = childrenWithinMax.reverse();
  var clones = reversedChildren.map(function (child, index) {
    var _child$props$borderCo;

    var isFirstAvatar = index === 0;
    var childProps = {
      marginEnd: isFirstAvatar ? 0 : spacing,
      size: props.size,
      borderColor: (_child$props$borderCo = child.props.borderColor) != null ? _child$props$borderCo : borderColor,
      showBorder: true
    };
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.filterUndefined)(childProps));
  });
  var groupStyles = {
    display: "flex",
    alignItems: "center",
    justifyContent: "flex-end",
    flexDirection: "row-reverse"
  };

  var excessStyles = _extends({
    borderRadius: borderRadius,
    marginStart: spacing
  }, baseStyle, styles.excessLabel);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.div, _extends({
    ref: ref,
    role: "group",
    __css: groupStyles
  }, rest, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-avatar__group", props.className)
  }), excess > 0 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.span, {
    className: "chakra-avatar__excess",
    __css: excessStyles
  }, "+" + excess), clones);
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  AvatarGroup.displayName = "AvatarGroup";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/breadcrumb/dist/chakra-ui-breadcrumb.esm.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@chakra-ui/breadcrumb/dist/chakra-ui-breadcrumb.esm.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Breadcrumb": () => (/* binding */ Breadcrumb),
/* harmony export */   "BreadcrumbItem": () => (/* binding */ BreadcrumbItem),
/* harmony export */   "BreadcrumbLink": () => (/* binding */ BreadcrumbLink),
/* harmony export */   "BreadcrumbSeparator": () => (/* binding */ BreadcrumbSeparator)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");





function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded = ["spacing"],
    _excluded2 = ["isCurrentPage", "as", "className", "href"],
    _excluded3 = ["isCurrentPage", "separator", "isLastChild", "spacing", "children", "className"],
    _excluded4 = ["children", "spacing", "separator", "className"];

/**
 * React component that separates each breadcrumb link
 */
var BreadcrumbSeparator = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var spacing = props.spacing,
      rest = _objectWithoutPropertiesLoose(props, _excluded);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();

  var separatorStyles = _extends({
    mx: spacing
  }, styles.separator);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.span, _extends({
    ref: ref,
    role: "presentation"
  }, rest, {
    __css: separatorStyles
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  BreadcrumbSeparator.displayName = "BreadcrumbSeparator";
}

/**
 * Breadcrumb link.
 *
 * It renders a `span` when it matches the current link. Otherwise,
 * it renders an anchor tag.
 */
var BreadcrumbLink = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var isCurrentPage = props.isCurrentPage,
      as = props.as,
      className = props.className,
      href = props.href,
      rest = _objectWithoutPropertiesLoose(props, _excluded2);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();

  var sharedProps = _extends({
    ref: ref,
    as: as,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-breadcrumb__link", className)
  }, rest);

  if (isCurrentPage) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.span, _extends({
      "aria-current": "page",
      __css: styles.link
    }, sharedProps));
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.a, _extends({
    __css: styles.link,
    href: href
  }, sharedProps));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  BreadcrumbLink.displayName = "BreadcrumbLink";
}

/**
 * BreadcrumbItem is used to group a breadcrumb link.
 * It renders a `li` element to denote it belongs to an order list of links.
 *
 * @see Docs https://chakra-ui.com/breadcrumb
 */
var BreadcrumbItem = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var isCurrentPage = props.isCurrentPage,
      separator = props.separator,
      isLastChild = props.isLastChild,
      spacing = props.spacing,
      children = props.children,
      className = props.className,
      rest = _objectWithoutPropertiesLoose(props, _excluded3);

  var validChildren = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.getValidChildren)(children);
  var clones = validChildren.map(function (child) {
    if (child.type === BreadcrumbLink) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, {
        isCurrentPage: isCurrentPage
      });
    }

    if (child.type === BreadcrumbSeparator) {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, {
        spacing: spacing,
        children: child.props.children || separator
      });
    }

    return child;
  });
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();

  var itemStyles = _extends({
    display: "inline-flex",
    alignItems: "center"
  }, styles.item);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-breadcrumb__list-item", className);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.li, _extends({
    ref: ref,
    className: _className
  }, rest, {
    __css: itemStyles
  }), clones, !isLastChild && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(BreadcrumbSeparator, {
    spacing: spacing
  }, separator));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  BreadcrumbItem.displayName = "BreadcrumbItem";
}

/**
 * Breadcrumb is used to render a breadcrumb navigation landmark.
 * It renders a `nav` element with `aria-label` set to `Breadcrumb`
 *
 * @see Docs https://chakra-ui.com/breadcrumb
 */
var Breadcrumb = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useMultiStyleConfig)("Breadcrumb", props);
  var ownProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.omitThemingProps)(props);

  var children = ownProps.children,
      _ownProps$spacing = ownProps.spacing,
      spacing = _ownProps$spacing === void 0 ? "0.5rem" : _ownProps$spacing,
      _ownProps$separator = ownProps.separator,
      separator = _ownProps$separator === void 0 ? "/" : _ownProps$separator,
      className = ownProps.className,
      rest = _objectWithoutPropertiesLoose(ownProps, _excluded4);

  var validChildren = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.getValidChildren)(children);
  var count = validChildren.length;
  var clones = validChildren.map(function (child, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, {
      separator: separator,
      spacing: spacing,
      isLastChild: count === index + 1
    });
  });

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-breadcrumb", className);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.nav, _extends({
    ref: ref,
    "aria-label": "breadcrumb",
    className: _className,
    __css: styles.container
  }, rest), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.ol, {
    className: "chakra-breadcrumb__list"
  }, clones)));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Breadcrumb.displayName = "Breadcrumb";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/checkbox/dist/chakra-ui-checkbox.esm.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@chakra-ui/checkbox/dist/chakra-ui-checkbox.esm.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Checkbox": () => (/* binding */ Checkbox),
/* harmony export */   "CheckboxGroup": () => (/* binding */ CheckboxGroup),
/* harmony export */   "useCheckbox": () => (/* binding */ useCheckbox),
/* harmony export */   "useCheckboxGroup": () => (/* binding */ useCheckboxGroup),
/* harmony export */   "useCheckboxGroupContext": () => (/* binding */ useCheckboxGroupContext)
/* harmony export */ });
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* harmony import */ var _chakra_ui_visually_hidden__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/visually-hidden */ "./node_modules/@chakra-ui/visually-hidden/dist/chakra-ui-visually-hidden.esm.js");









function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

/**
 * React hook that provides all the state management logic
 * for a group of checkboxes.
 *
 * It is consumed by the `CheckboxGroup` component
 */
function useCheckboxGroup(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      defaultValue = _props.defaultValue,
      valueProp = _props.value,
      onChange = _props.onChange,
      isDisabled = _props.isDisabled,
      isNative = _props.isNative;
  var onChangeProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallbackRef)(onChange);

  var _useControllableState = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useControllableState)({
    value: valueProp,
    defaultValue: defaultValue || [],
    onChange: onChangeProp
  }),
      value = _useControllableState[0],
      setValue = _useControllableState[1];

  var handleChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (eventOrValue) {
    if (!value) return;
    var isChecked = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.isInputEvent)(eventOrValue) ? eventOrValue.target.checked : !value.includes(eventOrValue);
    var selectedValue = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.isInputEvent)(eventOrValue) ? eventOrValue.target.value : eventOrValue;
    var nextValue = isChecked ? (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.addItem)(value, selectedValue) : (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.removeItem)(value, selectedValue);
    setValue(nextValue);
  }, [setValue, value]);
  var getCheckboxProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props) {
    var _extends2;

    if (props === void 0) {
      props = {};
    }

    var checkedKey = isNative ? "checked" : "isChecked";
    return _extends({}, props, (_extends2 = {}, _extends2[checkedKey] = value.includes(props.value), _extends2.onChange = handleChange, _extends2));
  }, [handleChange, isNative, value]);
  return {
    value: value,
    isDisabled: isDisabled,
    onChange: handleChange,
    setValue: setValue,
    getCheckboxProps: getCheckboxProps
  };
}

var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.createContext)({
  name: "CheckboxGroupContext",
  strict: false
}),
    CheckboxGroupProvider = _createContext[0],
    useCheckboxGroupContext = _createContext[1];
/**
 * Used for multiple checkboxes which are bound in one group,
 * and it indicates whether one or more options are selected.
 *
 * @see Docs https://chakra-ui.com/checkbox
 */

var CheckboxGroup = function CheckboxGroup(props) {
  var colorScheme = props.colorScheme,
      size = props.size,
      variant = props.variant,
      children = props.children,
      isDisabled = props.isDisabled;

  var _useCheckboxGroup = useCheckboxGroup(props),
      value = _useCheckboxGroup.value,
      onChange = _useCheckboxGroup.onChange;

  var group = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return {
      size: size,
      onChange: onChange,
      colorScheme: colorScheme,
      value: value,
      variant: variant,
      isDisabled: isDisabled
    };
  }, [size, onChange, colorScheme, value, variant, isDisabled]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(CheckboxGroupProvider, {
    value: group
  }, children);
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  CheckboxGroup.displayName = "CheckboxGroup";
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded$2 = ["isIndeterminate", "isChecked"];

var MotionSvg = "custom" in framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion ? framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.custom(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.chakra.svg) : (0,framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion)(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.chakra.svg);

var CheckIcon = function CheckIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MotionSvg, _extends({
    width: "1.2em",
    viewBox: "0 0 12 10",
    variants: {
      unchecked: {
        opacity: 0,
        strokeDashoffset: 16
      },
      checked: {
        opacity: 1,
        strokeDashoffset: 0,
        transition: {
          duration: 0.2
        }
      }
    },
    style: {
      fill: "none",
      strokeWidth: 2,
      stroke: "currentColor",
      strokeDasharray: 16
    }
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("polyline", {
    points: "1.5 6 4.5 9 10.5 1"
  }));
};

var IndeterminateIcon = function IndeterminateIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MotionSvg, _extends({
    width: "1.2em",
    viewBox: "0 0 24 24",
    variants: {
      unchecked: {
        scaleX: 0.65,
        opacity: 0
      },
      checked: {
        scaleX: 1,
        opacity: 1,
        transition: {
          scaleX: {
            duration: 0
          },
          opacity: {
            duration: 0.02
          }
        }
      }
    },
    style: {
      stroke: "currentColor",
      strokeWidth: 4
    }
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("line", {
    x1: "21",
    x2: "3",
    y1: "12",
    y2: "12"
  }));
};

var CheckboxTransition = function CheckboxTransition(_ref) {
  var open = _ref.open,
      children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_6__.AnimatePresence, {
    initial: false
  }, open && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, {
    variants: {
      unchecked: {
        scale: 0.5
      },
      checked: {
        scale: 1
      }
    },
    initial: "unchecked",
    animate: "checked",
    exit: "unchecked",
    style: {
      display: "flex",
      alignItems: "center",
      justifyContent: "center",
      height: "100%"
    }
  }, children));
};

/**
 * CheckboxIcon is used to visually indicate the checked or indeterminate
 * state of a checkbox.
 *
 * @todo allow users pass their own icon svgs
 */
var CheckboxIcon = function CheckboxIcon(props) {
  var isIndeterminate = props.isIndeterminate,
      isChecked = props.isChecked,
      rest = _objectWithoutPropertiesLoose(props, _excluded$2);

  var IconEl = isIndeterminate ? IndeterminateIcon : CheckIcon;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(CheckboxTransition, {
    open: isChecked || isIndeterminate
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconEl, rest));
};

var _excluded$1 = ["defaultIsChecked", "defaultChecked", "isChecked", "isFocusable", "isDisabled", "isReadOnly", "isRequired", "onChange", "isIndeterminate", "isInvalid", "name", "value", "id", "onBlur", "onFocus", "tabIndex", "aria-label", "aria-labelledby", "aria-invalid", "aria-describedby"];

/**
 * useCheckbox that provides all the state and focus management logic
 * for a checkbox. It is consumed by the `Checkbox` component
 *
 * @see Docs https://chakra-ui.com/checkbox#hooks
 */
function useCheckbox(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      defaultIsChecked = _props.defaultIsChecked,
      _props$defaultChecked = _props.defaultChecked,
      defaultChecked = _props$defaultChecked === void 0 ? defaultIsChecked : _props$defaultChecked,
      checkedProp = _props.isChecked,
      isFocusable = _props.isFocusable,
      isDisabled = _props.isDisabled,
      isReadOnly = _props.isReadOnly,
      isRequired = _props.isRequired,
      onChange = _props.onChange,
      isIndeterminate = _props.isIndeterminate,
      isInvalid = _props.isInvalid,
      name = _props.name,
      value = _props.value,
      id = _props.id,
      onBlur = _props.onBlur,
      onFocus = _props.onFocus,
      _props$tabIndex = _props.tabIndex,
      tabIndex = _props$tabIndex === void 0 ? undefined : _props$tabIndex,
      ariaLabel = _props["aria-label"],
      ariaLabelledBy = _props["aria-labelledby"],
      ariaInvalid = _props["aria-invalid"],
      ariaDescribedBy = _props["aria-describedby"],
      htmlProps = _objectWithoutPropertiesLoose(_props, _excluded$1);

  var onChangeProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallbackRef)(onChange);
  var onBlurProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallbackRef)(onBlur);
  var onFocusProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallbackRef)(onFocus);

  var _useBoolean = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useBoolean)(),
      isFocused = _useBoolean[0],
      setFocused = _useBoolean[1];

  var _useBoolean2 = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useBoolean)(),
      isHovered = _useBoolean2[0],
      setHovered = _useBoolean2[1];

  var _useBoolean3 = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useBoolean)(),
      isActive = _useBoolean3[0],
      setActive = _useBoolean3[1];

  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);

  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),
      rootIsLabelElement = _useState[0],
      setRootIsLabelElement = _useState[1];

  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!!defaultChecked),
      checkedState = _useState2[0],
      setCheckedState = _useState2[1];

  var _useControllableProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useControllableProp)(checkedProp, checkedState),
      isControlled = _useControllableProp[0],
      isChecked = _useControllableProp[1];

  (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.warn)({
    condition: !!defaultIsChecked,
    message: 'The "defaultIsChecked" prop has been deprecated and will be removed in a future version. ' + 'Please use the "defaultChecked" prop instead, which mirrors default React checkbox behavior.'
  });
  var handleChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    if (isReadOnly || isDisabled) {
      event.preventDefault();
      return;
    }

    if (!isControlled) {
      if (isChecked) {
        setCheckedState(event.target.checked);
      } else {
        setCheckedState(isIndeterminate ? true : event.target.checked);
      }
    }

    onChangeProp == null ? void 0 : onChangeProp(event);
  }, [isReadOnly, isDisabled, isChecked, isControlled, isIndeterminate, onChangeProp]);
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useSafeLayoutEffect)(function () {
    if (inputRef.current) {
      inputRef.current.indeterminate = Boolean(isIndeterminate);
    }
  }, [isIndeterminate]);
  var trulyDisabled = isDisabled && !isFocusable;
  var onKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    if (event.key === " ") {
      setActive.on();
    }
  }, [setActive]);
  var onKeyUp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    if (event.key === " ") {
      setActive.off();
    }
  }, [setActive]);
  /**
   * Sync state with uncontrolled form libraries like `react-hook-form`.
   *
   * These libraries set the checked value for input fields
   * using their refs. For the checkbox, it sets `ref.current.checked = true | false` directly.
   *
   * This means the `isChecked` state will get out of sync with `ref.current.checked`,
   * even though the input validation with work, the UI will not be up to date.
   *
   * Let's correct that by checking and syncing the state accordingly.
   */

  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useSafeLayoutEffect)(function () {
    if (!inputRef.current) return;
    var notInSync = inputRef.current.checked !== isChecked;

    if (notInSync) {
      setCheckedState(inputRef.current.checked);
    }
  }, [inputRef.current]);
  var getCheckboxProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, forwardedRef) {
    if (props === void 0) {
      props = {};
    }

    if (forwardedRef === void 0) {
      forwardedRef = null;
    }

    var onPressDown = function onPressDown(event) {
      // On mousedown, the input blurs and returns focus to the `body`,
      // we need to prevent this. Native checkboxes keeps focus on `input`
      event.preventDefault();
      setActive.on();
    };

    return _extends({}, props, {
      ref: forwardedRef,
      "data-active": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isActive),
      "data-hover": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isHovered),
      "data-checked": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isChecked),
      "data-focus": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused),
      "data-indeterminate": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isIndeterminate),
      "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),
      "data-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid),
      "data-readonly": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isReadOnly),
      "aria-hidden": true,
      onMouseDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onMouseDown, onPressDown),
      onMouseUp: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onMouseUp, setActive.off),
      onMouseEnter: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onMouseEnter, setHovered.on),
      onMouseLeave: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onMouseLeave, setHovered.off)
    });
  }, [isActive, isChecked, isDisabled, isFocused, isHovered, isIndeterminate, isInvalid, isReadOnly, setActive, setHovered.off, setHovered.on]);
  var getRootProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, forwardedRef) {
    if (props === void 0) {
      props = {};
    }

    if (forwardedRef === void 0) {
      forwardedRef = null;
    }

    return _extends({}, htmlProps, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(forwardedRef, function (node) {
        if (!node) return;
        setRootIsLabelElement(node.tagName === "LABEL");
      }),
      onClick: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onClick, function () {
        /**
         * Accessibility:
         *
         * Ideally, `getRootProps` should be spread unto a `label` element.
         *
         * If the element was changed using the `as` prop or changing
         * the dom node `getRootProps` is spread unto (to a `div` or `span`), we'll trigger
         * click on the input when the element is clicked.
         * @see Issue https://github.com/chakra-ui/chakra-ui/issues/3480
         */
        if (!rootIsLabelElement) {
          var _inputRef$current;

          (_inputRef$current = inputRef.current) == null ? void 0 : _inputRef$current.click();
          (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.focus)(inputRef.current, {
            nextTick: true
          });
        }
      }),
      "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),
      "data-checked": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isChecked),
      "data-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid)
    });
  }, [htmlProps, isDisabled, isChecked, isInvalid, rootIsLabelElement]);
  var getInputProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, forwardedRef) {
    if (props === void 0) {
      props = {};
    }

    if (forwardedRef === void 0) {
      forwardedRef = null;
    }

    return _extends({}, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(inputRef, forwardedRef),
      type: "checkbox",
      name: name,
      value: value,
      id: id,
      tabIndex: tabIndex,
      onChange: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onChange, handleChange),
      onBlur: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onBlur, onBlurProp, setFocused.off),
      onFocus: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onFocus, onFocusProp, setFocused.on),
      onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onKeyDown, onKeyDown),
      onKeyUp: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onKeyUp, onKeyUp),
      required: isRequired,
      checked: isChecked,
      disabled: trulyDisabled,
      readOnly: isReadOnly,
      "aria-label": ariaLabel,
      "aria-labelledby": ariaLabelledBy,
      "aria-invalid": ariaInvalid ? Boolean(ariaInvalid) : isInvalid,
      "aria-describedby": ariaDescribedBy,
      "aria-disabled": isDisabled,
      style: _chakra_ui_visually_hidden__WEBPACK_IMPORTED_MODULE_7__.visuallyHiddenStyle
    });
  }, [name, value, id, handleChange, setFocused.off, setFocused.on, onBlurProp, onFocusProp, onKeyDown, onKeyUp, isRequired, isChecked, trulyDisabled, isReadOnly, ariaLabel, ariaLabelledBy, ariaInvalid, isInvalid, ariaDescribedBy, isDisabled, tabIndex]);
  var getLabelProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, forwardedRef) {
    if (props === void 0) {
      props = {};
    }

    if (forwardedRef === void 0) {
      forwardedRef = null;
    }

    return _extends({}, props, {
      ref: forwardedRef,
      onMouseDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onMouseDown, stopEvent),
      onTouchStart: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onTouchStart, stopEvent),
      "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),
      "data-checked": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isChecked),
      "data-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid)
    });
  }, [isChecked, isDisabled, isInvalid]);
  return {
    state: {
      isInvalid: isInvalid,
      isFocused: isFocused,
      isChecked: isChecked,
      isActive: isActive,
      isHovered: isHovered,
      isIndeterminate: isIndeterminate,
      isDisabled: isDisabled,
      isReadOnly: isReadOnly,
      isRequired: isRequired
    },
    getRootProps: getRootProps,
    getCheckboxProps: getCheckboxProps,
    getInputProps: getInputProps,
    getLabelProps: getLabelProps,
    htmlProps: htmlProps
  };
}
/**
 * Prevent `onBlur` being fired when the checkbox label is touched
 */

function stopEvent(event) {
  event.preventDefault();
  event.stopPropagation();
}

var _excluded = ["spacing", "className", "children", "iconColor", "iconSize", "icon", "isChecked", "isDisabled", "onChange"];
var CheckboxControl = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.chakra)("span", {
  baseStyle: {
    display: "inline-flex",
    alignItems: "center",
    justifyContent: "center",
    verticalAlign: "top",
    userSelect: "none",
    flexShrink: 0
  }
});
var Label = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.chakra)("label", {
  baseStyle: {
    cursor: "pointer",
    display: "inline-flex",
    alignItems: "center",
    verticalAlign: "top",
    position: "relative",
    _disabled: {
      cursor: "not-allowed"
    }
  }
});

/**
 * Checkbox
 *
 * React component used in forms when a user needs to select
 * multiple values from several options.
 *
 * @see Docs https://chakra-ui.com/checkbox
 */
var Checkbox = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.forwardRef)(function (props, ref) {
  var group = useCheckboxGroupContext();

  var mergedProps = _extends({}, group, props);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.useMultiStyleConfig)("Checkbox", mergedProps);
  var ownProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.omitThemingProps)(props);

  var _ownProps$spacing = ownProps.spacing,
      spacing = _ownProps$spacing === void 0 ? "0.5rem" : _ownProps$spacing,
      className = ownProps.className,
      children = ownProps.children,
      iconColor = ownProps.iconColor,
      iconSize = ownProps.iconSize,
      _ownProps$icon = ownProps.icon,
      icon = _ownProps$icon === void 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(CheckboxIcon, null) : _ownProps$icon,
      isCheckedProp = ownProps.isChecked,
      _ownProps$isDisabled = ownProps.isDisabled,
      isDisabled = _ownProps$isDisabled === void 0 ? group == null ? void 0 : group.isDisabled : _ownProps$isDisabled,
      onChangeProp = ownProps.onChange,
      rest = _objectWithoutPropertiesLoose(ownProps, _excluded);

  var isChecked = isCheckedProp;

  if (group != null && group.value && ownProps.value) {
    isChecked = group.value.includes(ownProps.value);
  }

  var onChange = onChangeProp;

  if (group != null && group.onChange && ownProps.value) {
    onChange = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAll)(group.onChange, onChangeProp);
  }

  var _useCheckbox = useCheckbox(_extends({}, rest, {
    isDisabled: isDisabled,
    isChecked: isChecked,
    onChange: onChange
  })),
      state = _useCheckbox.state,
      getInputProps = _useCheckbox.getInputProps,
      getCheckboxProps = _useCheckbox.getCheckboxProps,
      getLabelProps = _useCheckbox.getLabelProps,
      getRootProps = _useCheckbox.getRootProps;

  var iconStyles = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return _extends({
      opacity: state.isChecked || state.isIndeterminate ? 1 : 0,
      transform: state.isChecked || state.isIndeterminate ? "scale(1)" : "scale(0.95)",
      fontSize: iconSize,
      color: iconColor
    }, styles.icon);
  }, [iconColor, iconSize, state.isChecked, state.isIndeterminate, styles.icon]);
  var clonedIcon = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(icon, {
    __css: iconStyles,
    isIndeterminate: state.isIndeterminate,
    isChecked: state.isChecked
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Label, _extends({
    __css: styles.container,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-checkbox", className)
  }, getRootProps()), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", _extends({
    className: "chakra-checkbox__input"
  }, getInputProps({}, ref))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(CheckboxControl, _extends({
    __css: styles.control,
    className: "chakra-checkbox__control"
  }, getCheckboxProps()), clonedIcon), children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.chakra.span, _extends({
    className: "chakra-checkbox__label"
  }, getLabelProps(), {
    __css: _extends({
      marginStart: spacing
    }, styles.label)
  }), children));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Checkbox.displayName = "Checkbox";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/clickable/dist/chakra-ui-clickable.esm.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@chakra-ui/clickable/dist/chakra-ui-clickable.esm.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useClickable": () => (/* binding */ useClickable)
/* harmony export */ });
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");




function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function useEventListeners() {
  var listeners = react__WEBPACK_IMPORTED_MODULE_0__.useRef(new Map());
  var currentListeners = listeners.current;
  var add = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (el, type, listener, options) {
    listeners.current.set(listener, {
      type: type,
      el: el,
      options: options
    });
    el.addEventListener(type, listener, options);
  }, []);
  var remove = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (el, type, listener, options) {
    el.removeEventListener(type, listener, options);
    listeners.current["delete"](listener);
  }, []);
  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    return function () {
      currentListeners.forEach(function (value, key) {
        remove(value.el, value.type, key, value.options);
      });
    };
  }, [remove, currentListeners]);
  return {
    add: add,
    remove: remove
  };
}

var _excluded = ["ref", "isDisabled", "isFocusable", "clickOnEnter", "clickOnSpace", "onMouseDown", "onMouseUp", "onClick", "onKeyDown", "onKeyUp", "tabIndex", "onMouseOver", "onMouseLeave"];

function isValidElement(event) {
  var element = event.target;
  var tagName = element.tagName,
      isContentEditable = element.isContentEditable;
  return tagName !== "INPUT" && tagName !== "TEXTAREA" && isContentEditable !== true;
}
/**
 * useClickable implements all the interactions of a native `button`
 * component with support for making it focusable even if it is disabled.
 *
 * It can be used with both native button elements or other elements (like `div`).
 */


function useClickable(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      htmlRef = _props.ref,
      isDisabled = _props.isDisabled,
      isFocusable = _props.isFocusable,
      _props$clickOnEnter = _props.clickOnEnter,
      clickOnEnter = _props$clickOnEnter === void 0 ? true : _props$clickOnEnter,
      _props$clickOnSpace = _props.clickOnSpace,
      clickOnSpace = _props$clickOnSpace === void 0 ? true : _props$clickOnSpace,
      onMouseDown = _props.onMouseDown,
      onMouseUp = _props.onMouseUp,
      onClick = _props.onClick,
      onKeyDown = _props.onKeyDown,
      onKeyUp = _props.onKeyUp,
      tabIndexProp = _props.tabIndex,
      onMouseOver = _props.onMouseOver,
      onMouseLeave = _props.onMouseLeave,
      htmlProps = _objectWithoutPropertiesLoose(_props, _excluded);
  /**
   * We'll use this to track if the element is a button element
   */


  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(true),
      isButton = _React$useState[0],
      setIsButton = _React$useState[1];
  /**
   * For custom button implementation, we'll use this to track when
   * we mouse down on the button, to enable use style its ":active" style
   */


  var _React$useState2 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),
      isPressed = _React$useState2[0],
      setIsPressed = _React$useState2[1];

  var listeners = useEventListeners();
  /**
   * The ref callback that fires as soon as the dom node is ready
   */

  var refCallback = function refCallback(node) {
    if (!node) return;

    if (node.tagName !== "BUTTON") {
      setIsButton(false);
    }
  };

  var tabIndex = isButton ? tabIndexProp : tabIndexProp || 0;
  var trulyDisabled = isDisabled && !isFocusable;
  var handleClick = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    if (isDisabled) {
      event.stopPropagation();
      event.preventDefault();
      return;
    }

    var self = event.currentTarget;
    self.focus();
    onClick == null ? void 0 : onClick(event);
  }, [isDisabled, onClick]);
  var onDocumentKeyUp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (e) {
    if (isPressed && isValidElement(e)) {
      e.preventDefault();
      e.stopPropagation();
      setIsPressed(false); // eslint-disable-next-line @typescript-eslint/no-unused-vars

      listeners.remove(document, "keyup", onDocumentKeyUp, false);
    }
  }, [isPressed, listeners]);
  var handleKeyDown = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    onKeyDown == null ? void 0 : onKeyDown(event);

    if (isDisabled || event.defaultPrevented || event.metaKey) {
      return;
    }

    if (!isValidElement(event.nativeEvent) || isButton) return;
    var shouldClickOnEnter = clickOnEnter && event.key === "Enter";
    var shouldClickOnSpace = clickOnSpace && event.key === " ";

    if (shouldClickOnSpace) {
      event.preventDefault();
      setIsPressed(true);
    }

    if (shouldClickOnEnter) {
      event.preventDefault();
      var self = event.currentTarget;
      self.click();
    }

    listeners.add(document, "keyup", onDocumentKeyUp, false);
  }, [isDisabled, isButton, onKeyDown, clickOnEnter, clickOnSpace, listeners, onDocumentKeyUp]);
  var handleKeyUp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    onKeyUp == null ? void 0 : onKeyUp(event);
    if (isDisabled || event.defaultPrevented || event.metaKey) return;
    if (!isValidElement(event.nativeEvent) || isButton) return;
    var shouldClickOnSpace = clickOnSpace && event.key === " ";

    if (shouldClickOnSpace) {
      event.preventDefault();
      setIsPressed(false);
      var self = event.currentTarget;
      self.click();
    }
  }, [clickOnSpace, isButton, isDisabled, onKeyUp]);
  var onDocumentMouseUp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    if (event.button !== 0) return;
    setIsPressed(false);
    listeners.remove(document, "mouseup", onDocumentMouseUp, false);
  }, [listeners]);
  var handleMouseDown = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    if ((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.isRightClick)(event)) return;

    if (isDisabled) {
      event.stopPropagation();
      event.preventDefault();
      return;
    }

    if (!isButton) {
      setIsPressed(true);
    }

    var target = event.currentTarget;
    target.focus({
      preventScroll: true
    });
    listeners.add(document, "mouseup", onDocumentMouseUp, false);
    onMouseDown == null ? void 0 : onMouseDown(event);
  }, [isDisabled, isButton, onMouseDown, listeners, onDocumentMouseUp]);
  var handleMouseUp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    if ((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.isRightClick)(event)) return;

    if (!isButton) {
      setIsPressed(false);
    }

    onMouseUp == null ? void 0 : onMouseUp(event);
  }, [onMouseUp, isButton]);
  var handleMouseOver = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    if (isDisabled) {
      event.preventDefault();
      return;
    }

    onMouseOver == null ? void 0 : onMouseOver(event);
  }, [isDisabled, onMouseOver]);
  var handleMouseLeave = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    if (isPressed) {
      event.preventDefault();
      setIsPressed(false);
    }

    onMouseLeave == null ? void 0 : onMouseLeave(event);
  }, [isPressed, onMouseLeave]);
  var ref = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__.mergeRefs)(htmlRef, refCallback);

  if (isButton) {
    return _extends({}, htmlProps, {
      ref: ref,
      type: "button",
      "aria-disabled": trulyDisabled ? undefined : isDisabled,
      disabled: trulyDisabled,
      onClick: handleClick,
      onMouseDown: onMouseDown,
      onMouseUp: onMouseUp,
      onKeyUp: onKeyUp,
      onKeyDown: onKeyDown,
      onMouseOver: onMouseOver,
      onMouseLeave: onMouseLeave
    });
  }

  return _extends({}, htmlProps, {
    ref: ref,
    role: "button",
    "data-active": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.dataAttr)(isPressed),
    "aria-disabled": isDisabled ? "true" : undefined,
    tabIndex: trulyDisabled ? undefined : tabIndex,
    onClick: handleClick,
    onMouseDown: handleMouseDown,
    onMouseUp: handleMouseUp,
    onKeyUp: handleKeyUp,
    onKeyDown: handleKeyDown,
    onMouseOver: handleMouseOver,
    onMouseLeave: handleMouseLeave
  });
}




/***/ }),

/***/ "./node_modules/@chakra-ui/close-button/dist/chakra-ui-close-button.esm.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@chakra-ui/close-button/dist/chakra-ui-close-button.esm.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CloseButton": () => (/* binding */ CloseButton)
/* harmony export */ });
/* harmony import */ var _chakra_ui_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/icon */ "./node_modules/@chakra-ui/icon/dist/chakra-ui-icon.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");





function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var _excluded = ["children", "isDisabled", "__css"];

var CloseIcon = function CloseIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_1__.Icon, _extends({
    focusable: "false",
    "aria-hidden": true
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M.439,21.44a1.5,1.5,0,0,0,2.122,2.121L11.823,14.3a.25.25,0,0,1,.354,0l9.262,9.263a1.5,1.5,0,1,0,2.122-2.121L14.3,12.177a.25.25,0,0,1,0-.354l9.263-9.262A1.5,1.5,0,0,0,21.439.44L12.177,9.7a.25.25,0,0,1-.354,0L2.561.44A1.5,1.5,0,0,0,.439,2.561L9.7,11.823a.25.25,0,0,1,0,.354Z"
  }));
};

/**
 * A button with a close icon.
 *
 * It is used to handle the close functionality in feedback and overlay components
 * like Alerts, Toasts, Drawers and Modals.
 */
var CloseButton = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__.useStyleConfig)("CloseButton", props);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__.omitThemingProps)(props),
      children = _omitThemingProps.children,
      isDisabled = _omitThemingProps.isDisabled,
      __css = _omitThemingProps.__css,
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);

  var baseStyle = {
    outline: 0,
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    flexShrink: 0
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__.chakra.button, _extends({
    type: "button",
    "aria-label": "Close",
    ref: ref,
    disabled: isDisabled,
    __css: _extends({}, baseStyle, styles, __css)
  }, rest), children || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(CloseIcon, {
    width: "1em",
    height: "1em"
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  CloseButton.displayName = "CloseButton";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/control-box/dist/chakra-ui-control-box.esm.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@chakra-ui/control-box/dist/chakra-ui-control-box.esm.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ControlBox": () => (/* binding */ ControlBox)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");




function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded = ["type", "_hover", "_invalid", "_disabled", "_focus", "_checked", "_child", "_checkedAndChild", "_checkedAndDisabled", "_checkedAndFocus", "_checkedAndHover", "children"];
var ControlBox = function ControlBox(props) {
  var _extends2, _ref;

  var _props$type = props.type,
      type = _props$type === void 0 ? "checkbox" : _props$type,
      _hover = props._hover,
      _invalid = props._invalid,
      _disabled = props._disabled,
      _focus = props._focus,
      _checked = props._checked,
      _props$_child = props._child,
      _child = _props$_child === void 0 ? {
    opacity: 0
  } : _props$_child,
      _props$_checkedAndChi = props._checkedAndChild,
      _checkedAndChild = _props$_checkedAndChi === void 0 ? {
    opacity: 1
  } : _props$_checkedAndChi,
      _checkedAndDisabled = props._checkedAndDisabled,
      _checkedAndFocus = props._checkedAndFocus,
      _checkedAndHover = props._checkedAndHover,
      children = props.children,
      rest = _objectWithoutPropertiesLoose(props, _excluded);

  var checkedAndDisabled = "input[type=" + type + "]:checked:disabled + &";
  var checkedAndHover = "input[type=" + type + "]:checked:hover:not(:disabled) + &";
  var checkedAndFocus = "input[type=" + type + "]:checked:focus + &";
  var disabled = "input[type=" + type + "]:disabled + &";
  var focus = "input[type=" + type + "]:focus + &";
  var hover = "input[type=" + type + "]:hover:not(:disabled):not(:checked) + &";
  var checked = "input[type=" + type + "]:checked + &, input[type=" + type + "][aria-checked=mixed] + &";
  var invalid = "input[type=" + type + "][aria-invalid=true] + &";
  var child = "& > *";
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.div, _extends({}, rest, {
    "aria-hidden": true,
    __css: (_ref = {
      display: "inline-flex",
      alignItems: "center",
      justifyContent: "center",
      transitionProperty: "common",
      transitionDuration: "fast",
      flexShrink: 0
    }, _ref[focus] = _focus, _ref[hover] = _hover, _ref[disabled] = _disabled, _ref[invalid] = _invalid, _ref[checkedAndDisabled] = _checkedAndDisabled, _ref[checkedAndFocus] = _checkedAndFocus, _ref[checkedAndHover] = _checkedAndHover, _ref[child] = _child, _ref[checked] = _extends({}, _checked, (_extends2 = {}, _extends2[child] = _checkedAndChild, _extends2)), _ref)
  }), children);
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  ControlBox.displayName = "ControlBox";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/counter/dist/chakra-ui-counter.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@chakra-ui/counter/dist/chakra-ui-counter.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useCounter": () => (/* binding */ useCounter)
/* harmony export */ });
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");




function useCounter(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      onChange = _props.onChange,
      precisionProp = _props.precision,
      defaultValue = _props.defaultValue,
      valueProp = _props.value,
      _props$step = _props.step,
      stepProp = _props$step === void 0 ? 1 : _props$step,
      _props$min = _props.min,
      min = _props$min === void 0 ? _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.minSafeInteger : _props$min,
      _props$max = _props.max,
      max = _props$max === void 0 ? _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.maxSafeInteger : _props$max,
      _props$keepWithinRang = _props.keepWithinRange,
      keepWithinRange = _props$keepWithinRang === void 0 ? true : _props$keepWithinRang;
  var onChangeProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useCallbackRef)(onChange);

  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(function () {
    var _cast;

    if (defaultValue == null) return "";
    return (_cast = cast(defaultValue, stepProp, precisionProp)) != null ? _cast : "";
  }),
      valueState = _useState[0],
      setValue = _useState[1];
  /**
   * Because the component that consumes this hook can be controlled or uncontrolled
   * we'll keep track of that
   */


  var _useControllableProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useControllableProp)(valueProp, valueState),
      isControlled = _useControllableProp[0],
      value = _useControllableProp[1];

  var decimalPlaces = getDecimalPlaces(parse(value), stepProp);
  var precision = precisionProp != null ? precisionProp : decimalPlaces;
  var update = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (next) {
    if (next === value) return;

    if (!isControlled) {
      setValue(next.toString());
    }

    onChangeProp == null ? void 0 : onChangeProp(next.toString(), parse(next));
  }, [onChangeProp, isControlled, value]); // Function to clamp the value and round it to the precision

  var clamp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (value) {
    var nextValue = value;

    if (keepWithinRange) {
      nextValue = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.clampValue)(nextValue, min, max);
    }

    return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.toPrecision)(nextValue, precision);
  }, [precision, keepWithinRange, max, min]);
  var increment = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (step) {
    if (step === void 0) {
      step = stepProp;
    }

    var next;
    /**
     * Let's follow the native browser behavior for
     * scenarios where the input starts empty ("")
     */

    if (value === "") {
      /**
       * If `min` is set, native input, starts at the `min`.
       * Else, it starts at `step`
       */
      next = parse(step);
    } else {
      next = parse(value) + step;
    }

    next = clamp(next);
    update(next);
  }, [clamp, stepProp, update, value]);
  var decrement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (step) {
    if (step === void 0) {
      step = stepProp;
    }

    var next; // Same thing here. We'll follow native implementation

    if (value === "") {
      next = parse(-step);
    } else {
      next = parse(value) - step;
    }

    next = clamp(next);
    update(next);
  }, [clamp, stepProp, update, value]);
  var reset = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    var next;

    if (defaultValue == null) {
      next = "";
    } else {
      var _cast2;

      next = (_cast2 = cast(defaultValue, stepProp, precisionProp)) != null ? _cast2 : min;
    }

    update(next);
  }, [defaultValue, precisionProp, stepProp, update, min]);
  var castValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (value) {
    var _cast3;

    var nextValue = (_cast3 = cast(value, stepProp, precision)) != null ? _cast3 : min;
    update(nextValue);
  }, [precision, stepProp, update, min]);
  var valueAsNumber = parse(value);
  /**
   * Common range checks
   */

  var isOutOfRange = valueAsNumber > max || valueAsNumber < min;
  var isAtMax = valueAsNumber === max;
  var isAtMin = valueAsNumber === min;
  return {
    isOutOfRange: isOutOfRange,
    isAtMax: isAtMax,
    isAtMin: isAtMin,
    precision: precision,
    value: value,
    valueAsNumber: valueAsNumber,
    update: update,
    reset: reset,
    increment: increment,
    decrement: decrement,
    clamp: clamp,
    cast: castValue,
    setValue: setValue
  };
}

function parse(value) {
  return parseFloat(value.toString().replace(/[^\w.-]+/g, ""));
}

function getDecimalPlaces(value, step) {
  return Math.max((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.countDecimalPlaces)(step), (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.countDecimalPlaces)(value));
}

function cast(value, step, precision) {
  var parsedValue = parse(value);
  if (Number.isNaN(parsedValue)) return undefined;
  var decimalPlaces = getDecimalPlaces(parsedValue, step);
  return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.toPrecision)(parsedValue, precision != null ? precision : decimalPlaces);
}




/***/ }),

/***/ "./node_modules/@chakra-ui/css-reset/dist/chakra-ui-css-reset.esm.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@chakra-ui/css-reset/dist/chakra-ui-css-reset.esm.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CSSReset": () => (/* binding */ CSSReset),
/* harmony export */   "default": () => (/* binding */ CSSReset$1)
/* harmony export */ });
/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @emotion/react */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");



var CSSReset = function CSSReset() {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_emotion_react__WEBPACK_IMPORTED_MODULE_1__.Global, {
    styles: "\n      html {\n        line-height: 1.5;\n        -webkit-text-size-adjust: 100%;\n        font-family: system-ui, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        text-rendering: optimizeLegibility;\n        -moz-osx-font-smoothing: grayscale;\n        touch-action: manipulation;\n      }\n\n      body {\n        position: relative;\n        min-height: 100%;\n        font-feature-settings: 'kern';\n      }\n\n      *,\n      *::before,\n      *::after {\n        border-width: 0;\n        border-style: solid;\n        box-sizing: border-box;\n      }\n\n      main {\n        display: block;\n      }\n\n      hr {\n        border-top-width: 1px;\n        box-sizing: content-box;\n        height: 0;\n        overflow: visible;\n      }\n\n      pre,\n      code,\n      kbd,\n      samp {\n        font-family: SFMono-Regular,  Menlo, Monaco, Consolas, monospace;\n        font-size: 1em;\n      }\n\n      a {\n        background-color: transparent;\n        color: inherit;\n        text-decoration: inherit;\n      }\n\n      abbr[title] {\n        border-bottom: none;\n        text-decoration: underline;\n        -webkit-text-decoration: underline dotted;\n        text-decoration: underline dotted;\n      }\n\n      b,\n      strong {\n        font-weight: bold;\n      }\n\n      small {\n        font-size: 80%;\n      }\n\n      sub,\n      sup {\n        font-size: 75%;\n        line-height: 0;\n        position: relative;\n        vertical-align: baseline;\n      }\n\n      sub {\n        bottom: -0.25em;\n      }\n\n      sup {\n        top: -0.5em;\n      }\n\n      img {\n        border-style: none;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        font-family: inherit;\n        font-size: 100%;\n        line-height: 1.15;\n        margin: 0;\n      }\n\n      button,\n      input {\n        overflow: visible;\n      }\n\n      button,\n      select {\n        text-transform: none;\n      }\n\n      button::-moz-focus-inner,\n      [type=\"button\"]::-moz-focus-inner,\n      [type=\"reset\"]::-moz-focus-inner,\n      [type=\"submit\"]::-moz-focus-inner {\n        border-style: none;\n        padding: 0;\n      }\n\n      fieldset {\n        padding: 0.35em 0.75em 0.625em;\n      }\n\n      legend {\n        box-sizing: border-box;\n        color: inherit;\n        display: table;\n        max-width: 100%;\n        padding: 0;\n        white-space: normal;\n      }\n\n      progress {\n        vertical-align: baseline;\n      }\n\n      textarea {\n        overflow: auto;\n      }\n\n      [type=\"checkbox\"],\n      [type=\"radio\"] {\n        box-sizing: border-box;\n        padding: 0;\n      }\n\n      [type=\"number\"]::-webkit-inner-spin-button,\n      [type=\"number\"]::-webkit-outer-spin-button {\n        -webkit-appearance: none !important;\n      }\n\n      input[type=\"number\"] {\n        -moz-appearance: textfield;\n      }\n\n      [type=\"search\"] {\n        -webkit-appearance: textfield;\n        outline-offset: -2px;\n      }\n\n      [type=\"search\"]::-webkit-search-decoration {\n        -webkit-appearance: none !important;\n      }\n\n      ::-webkit-file-upload-button {\n        -webkit-appearance: button;\n        font: inherit;\n      }\n\n      details {\n        display: block;\n      }\n\n      summary {\n        display: list-item;\n      }\n\n      template {\n        display: none;\n      }\n\n      [hidden] {\n        display: none !important;\n      }\n\n      body,\n      blockquote,\n      dl,\n      dd,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6,\n      hr,\n      figure,\n      p,\n      pre {\n        margin: 0;\n      }\n\n      button {\n        background: transparent;\n        padding: 0;\n      }\n\n      fieldset {\n        margin: 0;\n        padding: 0;\n      }\n\n      ol,\n      ul {\n        margin: 0;\n        padding: 0;\n      }\n\n      textarea {\n        resize: vertical;\n      }\n\n      button,\n      [role=\"button\"] {\n        cursor: pointer;\n      }\n\n      button::-moz-focus-inner {\n        border: 0 !important;\n      }\n\n      table {\n        border-collapse: collapse;\n      }\n\n      h1,\n      h2,\n      h3,\n      h4,\n      h5,\n      h6 {\n        font-size: inherit;\n        font-weight: inherit;\n      }\n\n      button,\n      input,\n      optgroup,\n      select,\n      textarea {\n        padding: 0;\n        line-height: inherit;\n        color: inherit;\n      }\n\n      img,\n      svg,\n      video,\n      canvas,\n      audio,\n      iframe,\n      embed,\n      object {\n        display: block;\n      }\n\n      img,\n      video {\n        max-width: 100%;\n        height: auto;\n      }\n\n      [data-js-focus-visible] :focus:not([data-focus-visible-added]) {\n        outline: none;\n        box-shadow: none;\n      }\n\n      select::-ms-expand {\n        display: none;\n      }\n    "
  });
};
var CSSReset$1 = CSSReset;




/***/ }),

/***/ "./node_modules/@chakra-ui/descendant/dist/chakra-ui-descendant.esm.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@chakra-ui/descendant/dist/chakra-ui-descendant.esm.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createDescendantContext": () => (/* binding */ createDescendantContext),
/* harmony export */   "default": () => (/* binding */ createDescendantContext)
/* harmony export */ });
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");



function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

/**
 * Sort an array of DOM nodes according to the HTML tree order
 * @see http://www.w3.org/TR/html5/infrastructure.html#tree-order
 */

function sortNodes(nodes) {
  return nodes.sort(function (a, b) {
    var compare = a.compareDocumentPosition(b);

    if (compare & Node.DOCUMENT_POSITION_FOLLOWING || compare & Node.DOCUMENT_POSITION_CONTAINED_BY) {
      // a < b
      return -1;
    }

    if (compare & Node.DOCUMENT_POSITION_PRECEDING || compare & Node.DOCUMENT_POSITION_CONTAINS) {
      // a > b
      return 1;
    }

    if (compare & Node.DOCUMENT_POSITION_DISCONNECTED || compare & Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC) {
      throw Error("Cannot sort the given nodes.");
    } else {
      return 0;
    }
  });
}
var isElement = function isElement(el) {
  return typeof el == "object" && "nodeType" in el && el.nodeType === Node.ELEMENT_NODE;
};
function getNextIndex(current, max, loop) {
  var next = current + 1;
  if (loop && next >= max) next = 0;
  return next;
}
function getPrevIndex(current, max, loop) {
  var next = current - 1;
  if (loop && next < 0) next = max;
  return next;
}
var useSafeLayoutEffect = typeof window !== "undefined" ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;
var cast = function cast(value) {
  return value;
};

/**
 * @internal
 *
 * Class to manage descendants and their relative indices in the DOM.
 * It uses `node.compareDocumentPosition(...)` under the hood
 */
var DescendantsManager = function DescendantsManager() {
  var _this = this;

  this.descendants = new Map();

  this.register = function (nodeOrOptions) {
    if (nodeOrOptions == null) return;

    if (isElement(nodeOrOptions)) {
      return _this.registerNode(nodeOrOptions);
    }

    return function (node) {
      _this.registerNode(node, nodeOrOptions);
    };
  };

  this.unregister = function (node) {
    _this.descendants["delete"](node);

    var sorted = sortNodes(Array.from(_this.descendants.keys()));

    _this.assignIndex(sorted);
  };

  this.destroy = function () {
    _this.descendants.clear();
  };

  this.assignIndex = function (descendants) {
    _this.descendants.forEach(function (descendant) {
      var index = descendants.indexOf(descendant.node);
      descendant.index = index;
      descendant.node.dataset.index = descendant.index.toString();
    });
  };

  this.count = function () {
    return _this.descendants.size;
  };

  this.enabledCount = function () {
    return _this.enabledValues().length;
  };

  this.values = function () {
    var values = Array.from(_this.descendants.values());
    return values.sort(function (a, b) {
      return a.index - b.index;
    });
  };

  this.enabledValues = function () {
    return _this.values().filter(function (descendant) {
      return !descendant.disabled;
    });
  };

  this.item = function (index) {
    if (_this.count() === 0) return undefined;
    return _this.values()[index];
  };

  this.enabledItem = function (index) {
    if (_this.enabledCount() === 0) return undefined;
    return _this.enabledValues()[index];
  };

  this.first = function () {
    return _this.item(0);
  };

  this.firstEnabled = function () {
    return _this.enabledItem(0);
  };

  this.last = function () {
    return _this.item(_this.descendants.size - 1);
  };

  this.lastEnabled = function () {
    var lastIndex = _this.enabledValues().length - 1;
    return _this.enabledItem(lastIndex);
  };

  this.indexOf = function (node) {
    var _this$descendants$get, _this$descendants$get2;

    if (!node) return -1;
    return (_this$descendants$get = (_this$descendants$get2 = _this.descendants.get(node)) == null ? void 0 : _this$descendants$get2.index) != null ? _this$descendants$get : -1;
  };

  this.enabledIndexOf = function (node) {
    if (node == null) return -1;
    return _this.enabledValues().findIndex(function (i) {
      return i.node.isSameNode(node);
    });
  };

  this.next = function (index, loop) {
    if (loop === void 0) {
      loop = true;
    }

    var next = getNextIndex(index, _this.count(), loop);
    return _this.item(next);
  };

  this.nextEnabled = function (index, loop) {
    if (loop === void 0) {
      loop = true;
    }

    var item = _this.item(index);

    if (!item) return;

    var enabledIndex = _this.enabledIndexOf(item.node);

    var nextEnabledIndex = getNextIndex(enabledIndex, _this.enabledCount(), loop);
    return _this.enabledItem(nextEnabledIndex);
  };

  this.prev = function (index, loop) {
    if (loop === void 0) {
      loop = true;
    }

    var prev = getPrevIndex(index, _this.count() - 1, loop);
    return _this.item(prev);
  };

  this.prevEnabled = function (index, loop) {
    if (loop === void 0) {
      loop = true;
    }

    var item = _this.item(index);

    if (!item) return;

    var enabledIndex = _this.enabledIndexOf(item.node);

    var prevEnabledIndex = getPrevIndex(enabledIndex, _this.enabledCount() - 1, loop);
    return _this.enabledItem(prevEnabledIndex);
  };

  this.registerNode = function (node, options) {
    if (!node || _this.descendants.has(node)) return;
    var keys = Array.from(_this.descendants.keys()).concat(node);
    var sorted = sortNodes(keys);

    if (options != null && options.disabled) {
      options.disabled = !!options.disabled;
    }

    var descendant = _extends({
      node: node,
      index: -1
    }, options);

    _this.descendants.set(node, descendant);

    _this.assignIndex(sorted);
  };
};

/**
 * @internal
 * React hook that initializes the DescendantsManager
 */

function useDescendants() {
  var descendants = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(new DescendantsManager());
  useSafeLayoutEffect(function () {
    return function () {
      return descendants.current.destroy();
    };
  });
  return descendants.current;
}

/* -------------------------------------------------------------------------------------------------
 * Descendants context to be used in component-land.
  - Mount the `DescendantsContextProvider` at the root of the component
  - Call `useDescendantsContext` anywhere you need access to the descendants information

  NB:  I recommend using `createDescendantContext` below
 * -----------------------------------------------------------------------------------------------*/
var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_1__.createContext)({
  name: "DescendantsProvider",
  errorMessage: "useDescendantsContext must be used within DescendantsProvider"
}),
    DescendantsContextProvider = _createContext[0],
    useDescendantsContext = _createContext[1];
/**
 * @internal
 * This hook provides information a descendant such as:
 * - Its index compared to other descendants
 * - ref callback to register the descendant
 * - Its enabled index compared to other enabled descendants
 */


function useDescendant(options) {
  var descendants = useDescendantsContext();

  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1),
      index = _useState[0],
      setIndex = _useState[1];

  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  useSafeLayoutEffect(function () {
    return function () {
      if (!ref.current) return;
      descendants.unregister(ref.current);
    };
  }, []);
  useSafeLayoutEffect(function () {
    if (!ref.current) return;
    var dataIndex = Number(ref.current.dataset.index);

    if (index != dataIndex && !Number.isNaN(dataIndex)) {
      setIndex(dataIndex);
    }
  });
  var refCallback = options ? cast(descendants.register(options)) : cast(descendants.register);
  return {
    descendants: descendants,
    index: index,
    enabledIndex: descendants.enabledIndexOf(ref.current),
    register: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_1__.mergeRefs)(refCallback, ref)
  };
}
/* -------------------------------------------------------------------------------------------------
 * Function that provides strongly typed versions of the context provider and hooks above.
   To be used in component-land
 * -----------------------------------------------------------------------------------------------*/


function createDescendantContext() {
  var ContextProvider = cast(DescendantsContextProvider);

  var _useDescendantsContext = function _useDescendantsContext() {
    return cast(useDescendantsContext());
  };

  var _useDescendant = function _useDescendant(options) {
    return useDescendant(options);
  };

  var _useDescendants = function _useDescendants() {
    return useDescendants();
  };

  return [// context provider
  ContextProvider, // call this when you need to read from context
  _useDescendantsContext, // descendants state information, to be called and passed to `ContextProvider`
  _useDescendants, // descendant index information
  _useDescendant];
}




/***/ }),

/***/ "./node_modules/@chakra-ui/editable/dist/chakra-ui-editable.esm.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@chakra-ui/editable/dist/chakra-ui-editable.esm.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Editable": () => (/* binding */ Editable),
/* harmony export */   "EditableInput": () => (/* binding */ EditableInput),
/* harmony export */   "EditablePreview": () => (/* binding */ EditablePreview),
/* harmony export */   "useEditable": () => (/* binding */ useEditable),
/* harmony export */   "useEditableControls": () => (/* binding */ useEditableControls),
/* harmony export */   "useEditableState": () => (/* binding */ useEditableState)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");







function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded$1 = ["onChange", "onCancel", "onSubmit", "value", "isDisabled", "defaultValue", "startWithEditView", "isPreviewFocusable", "submitOnBlur", "selectAllOnFocus", "placeholder", "onEdit"];

/**
 * React hook for managing the inline renaming of some text.
 *
 * @see Docs https://chakra-ui.com/editable
 */
function useEditable(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      onChangeProp = _props.onChange,
      onCancelProp = _props.onCancel,
      onSubmitProp = _props.onSubmit,
      valueProp = _props.value,
      isDisabled = _props.isDisabled,
      defaultValue = _props.defaultValue,
      startWithEditView = _props.startWithEditView,
      _props$isPreviewFocus = _props.isPreviewFocusable,
      isPreviewFocusable = _props$isPreviewFocus === void 0 ? true : _props$isPreviewFocus,
      _props$submitOnBlur = _props.submitOnBlur,
      submitOnBlur = _props$submitOnBlur === void 0 ? true : _props$submitOnBlur,
      _props$selectAllOnFoc = _props.selectAllOnFocus,
      selectAllOnFocus = _props$selectAllOnFoc === void 0 ? true : _props$selectAllOnFoc,
      placeholder = _props.placeholder,
      onEditProp = _props.onEdit,
      htmlProps = _objectWithoutPropertiesLoose(_props, _excluded$1);

  var defaultIsEditing = Boolean(startWithEditView && !isDisabled);

  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultIsEditing),
      isEditing = _useState[0],
      setIsEditing = _useState[1];

  var _useControllableState = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useControllableState)({
    defaultValue: defaultValue || "",
    value: valueProp,
    onChange: onChangeProp
  }),
      value = _useControllableState[0],
      setValue = _useControllableState[1];
  /**
   * Keep track of the previous value, so if users
   * presses `cancel`, we can revert to it.
   */


  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(value),
      prevValue = _useState2[0],
      setPrevValue = _useState2[1];
  /**
   * Ref to help focus the input in edit mode
   */


  var inputRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var previewRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var editButtonRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var cancelButtonRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var submitButtonRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useFocusOnPointerDown)({
    ref: inputRef,
    enabled: isEditing,
    elements: [cancelButtonRef, submitButtonRef]
  });
  var isInteractive = !isEditing || !isDisabled;
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {
    if (!isEditing) {
      (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.focus)(editButtonRef.current);
      return;
    }

    (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.focus)(inputRef.current, {
      selectTextIfInput: selectAllOnFocus
    });
    onEditProp == null ? void 0 : onEditProp();
  }, [isEditing, onEditProp, selectAllOnFocus]);
  var onEdit = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    if (isInteractive) {
      setIsEditing(true);
    }
  }, [isInteractive]);
  var onCancel = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    setIsEditing(false);
    setValue(prevValue);
    onCancelProp == null ? void 0 : onCancelProp(prevValue);
  }, [onCancelProp, setValue, prevValue]);
  var onSubmit = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    setIsEditing(false);
    setPrevValue(value);
    onSubmitProp == null ? void 0 : onSubmitProp(value);
  }, [value, onSubmitProp]);
  var onChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    setValue(event.target.value);
  }, [setValue]);
  var onKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    var eventKey = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.normalizeEventKey)(event);
    var keyMap = {
      Escape: onCancel,
      Enter: function Enter(event) {
        if (!event.shiftKey && !event.metaKey) {
          onSubmit();
        }
      }
    };
    var action = keyMap[eventKey];

    if (action) {
      event.preventDefault();
      action(event);
    }
  }, [onCancel, onSubmit]);
  var isValueEmpty = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.isEmpty)(value);
  var onBlur = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    var relatedTarget = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.getRelatedTarget)(event);
    var targetIsCancel = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.contains)(cancelButtonRef.current, relatedTarget);
    var targetIsSubmit = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.contains)(submitButtonRef.current, relatedTarget);
    var isValidBlur = !targetIsCancel && !targetIsSubmit;

    if (isValidBlur && submitOnBlur) {
      onSubmit();
    }
  }, [submitOnBlur, onSubmit]);
  var getPreviewProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    var tabIndex = isInteractive && isPreviewFocusable ? 0 : undefined;
    return _extends({}, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(ref, previewRef),
      children: isValueEmpty ? placeholder : value,
      hidden: isEditing,
      "aria-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isDisabled),
      tabIndex: tabIndex,
      onFocus: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onFocus, onEdit)
    });
  }, [isDisabled, isEditing, isInteractive, isPreviewFocusable, isValueEmpty, onEdit, placeholder, value]);
  var getInputProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      hidden: !isEditing,
      placeholder: placeholder,
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(ref, inputRef),
      disabled: isDisabled,
      "aria-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isDisabled),
      value: value,
      onBlur: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onBlur, onBlur),
      onChange: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onChange, onChange),
      onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onKeyDown, onKeyDown)
    });
  }, [isDisabled, isEditing, onBlur, onChange, onKeyDown, placeholder, value]);
  var getEditButtonProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({
      "aria-label": "Edit"
    }, props, {
      type: "button",
      onClick: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onClick, onEdit),
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(ref, editButtonRef)
    });
  }, [onEdit]);
  var getSubmitButtonProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      "aria-label": "Submit",
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(submitButtonRef, ref),
      type: "button",
      onClick: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onClick, onSubmit)
    });
  }, [onSubmit]);
  var getCancelButtonProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({
      "aria-label": "Cancel",
      id: "cancel"
    }, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(cancelButtonRef, ref),
      type: "button",
      onClick: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onClick, onCancel)
    });
  }, [onCancel]);
  return {
    isEditing: isEditing,
    isDisabled: isDisabled,
    isValueEmpty: isValueEmpty,
    value: value,
    onEdit: onEdit,
    onCancel: onCancel,
    onSubmit: onSubmit,
    getPreviewProps: getPreviewProps,
    getInputProps: getInputProps,
    getEditButtonProps: getEditButtonProps,
    getSubmitButtonProps: getSubmitButtonProps,
    getCancelButtonProps: getCancelButtonProps,
    htmlProps: htmlProps
  };
}

var _excluded = ["htmlProps"];

var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.createContext)({
  name: "EditableContext",
  errorMessage: "useEditableContext: context is undefined. Seems you forgot to wrap the editable components in `<Editable />`"
}),
    EditableProvider = _createContext[0],
    useEditableContext = _createContext[1];

/**
 * Editable
 *
 * The wrapper that provides context and logic for all editable
 * components. It renders a `div`
 */
var Editable = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useMultiStyleConfig)("Editable", props);
  var ownProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.omitThemingProps)(props);

  var _useEditable = useEditable(ownProps),
      htmlProps = _useEditable.htmlProps,
      context = _objectWithoutPropertiesLoose(_useEditable, _excluded);

  var isEditing = context.isEditing,
      onSubmit = context.onSubmit,
      onCancel = context.onCancel,
      onEdit = context.onEdit;

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-editable", props.className);

  var children = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.runIfFn)(props.children, {
    isEditing: isEditing,
    onSubmit: onSubmit,
    onCancel: onCancel,
    onEdit: onEdit
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(EditableProvider, {
    value: context
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({
    ref: ref
  }, htmlProps, {
    className: _className
  }), children)));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Editable.displayName = "Editable";
}

var commonStyles = {
  fontSize: "inherit",
  fontWeight: "inherit",
  textAlign: "inherit",
  bg: "transparent"
};

/**
 * EditablePreview
 *
 * The `span` used to display the final value, in the `preview` mode
 */
var EditablePreview = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _useEditableContext = useEditableContext(),
      getPreviewProps = _useEditableContext.getPreviewProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  var previewProps = getPreviewProps(props, ref);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-editable__preview", props.className);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.span, _extends({}, previewProps, {
    __css: _extends({
      cursor: "text",
      display: "inline-block"
    }, commonStyles, styles.preview),
    className: _className
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  EditablePreview.displayName = "EditablePreview";
}

/**
 * EditableInput
 *
 * The input used in the `edit` mode
 */
var EditableInput = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _useEditableContext2 = useEditableContext(),
      getInputProps = _useEditableContext2.getInputProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  var inputProps = getInputProps(props, ref);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-editable__input", props.className);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.input, _extends({}, inputProps, {
    __css: _extends({
      outline: 0
    }, commonStyles, styles.input),
    className: _className
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  EditableInput.displayName = "EditableInput";
}
/**
 * React hook use to gain access to the editable state and actions.
 */


function useEditableState() {
  var _useEditableContext3 = useEditableContext(),
      isEditing = _useEditableContext3.isEditing,
      onSubmit = _useEditableContext3.onSubmit,
      onCancel = _useEditableContext3.onCancel,
      onEdit = _useEditableContext3.onEdit,
      isDisabled = _useEditableContext3.isDisabled;

  return {
    isEditing: isEditing,
    onSubmit: onSubmit,
    onCancel: onCancel,
    onEdit: onEdit,
    isDisabled: isDisabled
  };
}
/**
 * React hook use to create controls for the editable component
 */

function useEditableControls() {
  var _useEditableContext4 = useEditableContext(),
      isEditing = _useEditableContext4.isEditing,
      getEditButtonProps = _useEditableContext4.getEditButtonProps,
      getCancelButtonProps = _useEditableContext4.getCancelButtonProps,
      getSubmitButtonProps = _useEditableContext4.getSubmitButtonProps;

  return {
    isEditing: isEditing,
    getEditButtonProps: getEditButtonProps,
    getCancelButtonProps: getCancelButtonProps,
    getSubmitButtonProps: getSubmitButtonProps
  };
}




/***/ }),

/***/ "./node_modules/@chakra-ui/focus-lock/dist/chakra-ui-focus-lock.esm.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@chakra-ui/focus-lock/dist/chakra-ui-focus-lock.esm.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FocusLock": () => (/* binding */ FocusLock),
/* harmony export */   "default": () => (/* binding */ FocusLock)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_focus_lock__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-focus-lock */ "./node_modules/react-focus-lock/dist/es2015/index.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");




var FocusLock = function FocusLock(props) {
  var initialFocusRef = props.initialFocusRef,
      finalFocusRef = props.finalFocusRef,
      contentRef = props.contentRef,
      restoreFocus = props.restoreFocus,
      children = props.children,
      isDisabled = props.isDisabled,
      autoFocus = props.autoFocus,
      persistentFocus = props.persistentFocus,
      lockFocusAcrossFrames = props.lockFocusAcrossFrames;
  var onActivation = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    if (initialFocusRef != null && initialFocusRef.current) {
      initialFocusRef.current.focus();
    } else if (contentRef != null && contentRef.current) {
      var focusables = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.getAllFocusable)(contentRef.current);

      if (focusables.length === 0) {
        (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.focus)(contentRef.current, {
          nextTick: true
        });
      }
    }
  }, [initialFocusRef, contentRef]);
  var onDeactivation = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    var _finalFocusRef$curren;

    finalFocusRef == null ? void 0 : (_finalFocusRef$curren = finalFocusRef.current) == null ? void 0 : _finalFocusRef$curren.focus();
  }, [finalFocusRef]);
  var returnFocus = restoreFocus && !finalFocusRef;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_focus_lock__WEBPACK_IMPORTED_MODULE_2__["default"], {
    crossFrame: lockFocusAcrossFrames,
    persistentFocus: persistentFocus,
    autoFocus: autoFocus,
    disabled: isDisabled,
    onActivation: onActivation,
    onDeactivation: onDeactivation,
    returnFocus: returnFocus
  }, children);
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.__DEV__) {
  FocusLock.displayName = "FocusLock";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/media-query/dist/chakra-ui-media-query.esm.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@chakra-ui/media-query/dist/chakra-ui-media-query.esm.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Hide": () => (/* binding */ Hide),
/* harmony export */   "Show": () => (/* binding */ Show),
/* harmony export */   "useBreakpoint": () => (/* binding */ useBreakpoint),
/* harmony export */   "useBreakpointValue": () => (/* binding */ useBreakpointValue),
/* harmony export */   "useColorModePreference": () => (/* binding */ useColorModePreference),
/* harmony export */   "useMediaQuery": () => (/* binding */ useMediaQuery),
/* harmony export */   "usePrefersReducedMotion": () => (/* binding */ usePrefersReducedMotion),
/* harmony export */   "useQuery": () => (/* binding */ useQuery)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_react_env__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/react-env */ "./node_modules/@chakra-ui/react-env/dist/chakra-ui-react-env.esm.js");






var useSafeLayoutEffect = _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.isBrowser ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;
/**
 * React hook that tracks state of a CSS media query
 *
 * @param query the media query to match
 */

function useMediaQuery(query) {
  var env = (0,_chakra_ui_react_env__WEBPACK_IMPORTED_MODULE_2__.useEnvironment)();
  var queries = Array.isArray(query) ? query : [query];
  var isSupported = _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.isBrowser && "matchMedia" in env.window;

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(queries.map(function (query) {
    return isSupported ? !!env.window.matchMedia(query).matches : false;
  })),
      matches = _React$useState[0],
      setMatches = _React$useState[1]; // Specifying matches in the dependency list will cause the event listeners
  // to unload and then load each time the dependency changes. This causes
  // Media Query Events to be missed. The event listeners should only be unloaded
  // when the component unloads.


  useSafeLayoutEffect(function () {
    if (!isSupported) return undefined;
    var mediaQueryList = queries.map(function (query) {
      return env.window.matchMedia(query);
    });
    var listenerList = mediaQueryList.map(function (_, index) {
      var listener = function listener(mqlEvent) {
        var queryIndex = mediaQueryList.findIndex(function (mediaQuery) {
          return mediaQuery.media === mqlEvent.media;
        }); // As the event listener is on the media query list, any time the
        // listener is called, we know there is a change. There's no need
        // to compare the previous matches with current. Using
        // setMatches(matches => {...}) provides access to the current matches
        // state.  Trying to access matches outside the setMatches function
        // would provide data from the the time of instantiation (stale).

        setMatches(function (matches) {
          var currentMatches = matches.map(function (x) {
            return x;
          });
          currentMatches[queryIndex] = mqlEvent.matches;
          return currentMatches;
        });
      }; // Listening to the 'change' event on the Media Query List Object
      // is more performant as the callback is only invoked when a specified
      // media query is matched. Using addEventListener on the window object
      // to listen for the resize event will call the callback on every
      // viewport resize.


      mediaQueryList[index].addEventListener("change", listener);
      return listener;
    });
    return function () {
      mediaQueryList.forEach(function (_, index) {
        mediaQueryList[index].removeEventListener("change", listenerList[index]);
      });
    };
  }, []);
  return matches;
}

/**
 * Visibility
 *
 * React component to control the visibility of its
 * children based on the current breakpoint
 */
var Visibility = function Visibility(props) {
  var breakpoint = props.breakpoint,
      hide = props.hide,
      children = props.children;

  var _useMediaQuery = useMediaQuery(breakpoint),
      show = _useMediaQuery[0];

  var isVisible = hide ? !show : show;
  var rendered = isVisible ? children : null;
  return rendered;
};

var Hide = function Hide(props) {
  var children = props.children;
  var query = useQuery(props);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Visibility, {
    breakpoint: query,
    hide: true
  }, children);
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.__DEV__) {
  Hide.displayName = "Hide";
}

var Show = function Show(props) {
  var children = props.children;
  var query = useQuery(props);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Visibility, {
    breakpoint: query
  }, children);
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.__DEV__) {
  Show.displayName = "Show";
}

var getBreakpoint = function getBreakpoint(theme, value) {
  return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.memoizedGet)(theme, "breakpoints." + value, value);
};

function useQuery(props) {
  var _props$breakpoint = props.breakpoint,
      breakpoint = _props$breakpoint === void 0 ? "" : _props$breakpoint,
      below = props.below,
      above = props.above;
  var theme = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useTheme)();
  var bpBelow = getBreakpoint(theme, below);
  var bpAbove = getBreakpoint(theme, above);
  var query = breakpoint;

  if (bpBelow) {
    query = "(max-width: " + bpBelow + ")";
  } else if (bpAbove) {
    query = "(min-width: " + bpAbove + ")";
  }

  return query;
}

/**
 * React hook used to get the user's animation preference.
 */

function usePrefersReducedMotion() {
  var _useMediaQuery = useMediaQuery("(prefers-reduced-motion: reduce)"),
      prefersReducedMotion = _useMediaQuery[0];

  return prefersReducedMotion;
}
/**
 * React hook for getting the user's color mode preference.
 */

function useColorModePreference() {
  var _useMediaQuery2 = useMediaQuery(["(prefers-color-scheme: light)", "(prefers-color-scheme: dark)"]),
      isLight = _useMediaQuery2[0],
      isDark = _useMediaQuery2[1];

  if (isLight) return "light";
  if (isDark) return "dark";
  return undefined;
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function createMediaQueries(breakpoints) {
  return Object.entries(breakpoints) // sort css units in ascending order to ensure media queries are generated
  // in the correct order and reference to each other correctly aswell
  .sort(function (a, b) {
    return Number.parseInt(a[1], 10) > Number.parseInt(b[1], 10) ? 1 : -1;
  }).map(function (_ref, index, arr) {
    var breakpoint = _ref[0],
        minWidth = _ref[1];
    // given a following breakpoint
    var next = arr[index + 1]; // this breakpoint must end prior the threshold of the next

    var maxWidth = next ? next[1] : undefined;
    var query = createMediaQueryString(minWidth, maxWidth);
    return {
      minWidth: minWidth,
      maxWidth: maxWidth,
      breakpoint: breakpoint,
      query: query
    };
  });
}
/**
 * Create a media query string from the breakpoints,
 * using a combination of `min-width` and `max-width`.
 */

function createMediaQueryString(minWidth, maxWidth) {
  var hasMinWidth = parseInt(minWidth, 10) >= 0;

  if (!hasMinWidth && !maxWidth) {
    return "";
  }

  var query = "(min-width: " + toMediaString(minWidth) + ")";

  if (!maxWidth) {
    return query;
  }

  if (query) {
    query += " and ";
  }

  query += "(max-width: " + toMediaString(subtract(maxWidth)) + ")";
  return query;
}

var measurementRegex = /([0-9]+\.?[0-9]*)/;

var calculateMeasurement = function calculateMeasurement(value, modifier) {
  if (typeof value === "number") {
    return "" + (value + modifier);
  }

  return value.replace(measurementRegex, function (match) {
    return "" + (parseFloat(match) + modifier);
  });
};
/**
 * 0.01 and 0.1 are too small of a difference for `px` breakpoint values
 *
 * @see https://github.com/chakra-ui/chakra-ui/issues/2188#issuecomment-712774785
 */


function subtract(value) {
  return calculateMeasurement(value, value.endsWith("px") ? -1 : -0.01);
}
/**
 * Convert media query value to string
 */


function toMediaString(value) {
  return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.isNumber)(value) ? value + "px" : value;
}

var _excluded = ["query"],
    _excluded2 = ["query"];

/**
 * React hook used to get the current responsive media breakpoint.
 *
 * @param defaultBreakpoint default breakpoint name
 * (in non-window environments like SSR)
 *
 * For SSR, you can use a package like [is-mobile](https://github.com/kaimallea/isMobile)
 * to get the default breakpoint value from the user-agent
 */
function useBreakpoint(defaultBreakpoint) {
  var _useTheme = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useTheme)(),
      breakpoints = _useTheme.breakpoints;

  var env = (0,_chakra_ui_react_env__WEBPACK_IMPORTED_MODULE_2__.useEnvironment)();
  var mediaQueries = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return createMediaQueries(_extends({
      base: "0px"
    }, breakpoints));
  }, [breakpoints]);

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(function () {
    if (!defaultBreakpoint) {
      return undefined;
    }

    var mediaQuery = mediaQueries.find(function (_ref) {
      var breakpoint = _ref.breakpoint;
      return breakpoint === defaultBreakpoint;
    });

    if (mediaQuery) {
      mediaQuery.query;
          var breakpoint = _objectWithoutPropertiesLoose(mediaQuery, _excluded);

      return breakpoint;
    }

    return undefined;
  }),
      currentBreakpoint = _React$useState[0],
      setCurrentBreakpoint = _React$useState[1];

  var current = currentBreakpoint == null ? void 0 : currentBreakpoint.breakpoint;
  var update = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (query, breakpoint) {
    if (query.matches && current !== breakpoint.breakpoint) {
      setCurrentBreakpoint(breakpoint);
    }
  }, [current]);
  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    var listeners = new Set();
    mediaQueries.forEach(function (_ref2) {
      var query = _ref2.query,
          breakpoint = _objectWithoutPropertiesLoose(_ref2, _excluded2);

      var mediaQuery = env.window.matchMedia(query); // trigger an initial update to determine media query

      update(mediaQuery, breakpoint);

      var handleChange = function handleChange() {
        update(mediaQuery, breakpoint);
      }; // add media query-listener


      mediaQuery.addListener(handleChange); // push the media query list handleChange
      // so we can use it to remove Listener

      listeners.add({
        mediaQuery: mediaQuery,
        handleChange: handleChange
      });
      return function () {
        // clean up 1
        mediaQuery.removeListener(handleChange);
      };
    });
    return function () {
      // clean up 2: for safety
      listeners.forEach(function (_ref3) {
        var mediaQuery = _ref3.mediaQuery,
            handleChange = _ref3.handleChange;
        mediaQuery.removeListener(handleChange);
      });
      listeners.clear();
    };
  }, [mediaQueries, breakpoints, update, env.window]);
  return current;
}

function getClosestValue(values, breakpoint, breakpoints$1) {
  if (breakpoints$1 === void 0) {
    breakpoints$1 = _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.breakpoints;
  }

  var index = Object.keys(values).indexOf(breakpoint);

  if (index !== -1) {
    return values[breakpoint];
  }

  var stopIndex = breakpoints$1.indexOf(breakpoint);

  while (stopIndex >= 0) {
    var key = breakpoints$1[stopIndex];

    if (values[key] != null) {
      index = stopIndex;
      break;
    }

    stopIndex -= 1;
  }

  if (index !== -1) {
    var _key = breakpoints$1[index];
    return values[_key];
  }

  return undefined;
}

/**
 * React hook for getting the value for the current breakpoint from the
 * provided responsive values object.
 *
 * @param values
 * @param defaultBreakpoint default breakpoint name
 * (in non-window environments like SSR)
 *
 * For SSR, you can use a package like [is-mobile](https://github.com/kaimallea/isMobile)
 * to get the default breakpoint value from the user-agent
 *
 * @example
 * const width = useBreakpointValue({ base: '150px', md: '250px' })
 */

function useBreakpointValue(values, defaultBreakpoint) {
  var breakpoint = useBreakpoint(defaultBreakpoint);
  var theme = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useTheme)();
  if (!breakpoint) return undefined;
  /**
   * Get the non-number breakpoint keys from the provided breakpoints
   */

  var breakpoints = Object.keys(theme.breakpoints);
  var obj = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.isArray)(values) ? (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.fromEntries)(Object.entries((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.arrayToObjectNotation)(values, breakpoints)).map(function (_ref) {
    var key = _ref[0],
        value = _ref[1];
    return [key, value];
  })) : values;
  return getClosestValue(obj, breakpoint, breakpoints);
}




/***/ }),

/***/ "./node_modules/@chakra-ui/menu/dist/chakra-ui-menu.esm.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@chakra-ui/menu/dist/chakra-ui-menu.esm.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Menu": () => (/* binding */ Menu),
/* harmony export */   "MenuButton": () => (/* binding */ MenuButton),
/* harmony export */   "MenuCommand": () => (/* binding */ MenuCommand),
/* harmony export */   "MenuDescendantsProvider": () => (/* binding */ MenuDescendantsProvider),
/* harmony export */   "MenuDivider": () => (/* binding */ MenuDivider),
/* harmony export */   "MenuGroup": () => (/* binding */ MenuGroup),
/* harmony export */   "MenuIcon": () => (/* binding */ MenuIcon),
/* harmony export */   "MenuItem": () => (/* binding */ MenuItem),
/* harmony export */   "MenuItemOption": () => (/* binding */ MenuItemOption),
/* harmony export */   "MenuList": () => (/* binding */ MenuList),
/* harmony export */   "MenuOptionGroup": () => (/* binding */ MenuOptionGroup),
/* harmony export */   "MenuProvider": () => (/* binding */ MenuProvider),
/* harmony export */   "useMenu": () => (/* binding */ useMenu),
/* harmony export */   "useMenuButton": () => (/* binding */ useMenuButton),
/* harmony export */   "useMenuContext": () => (/* binding */ useMenuContext),
/* harmony export */   "useMenuDescendant": () => (/* binding */ useMenuDescendant),
/* harmony export */   "useMenuDescendants": () => (/* binding */ useMenuDescendants),
/* harmony export */   "useMenuDescendantsContext": () => (/* binding */ useMenuDescendantsContext),
/* harmony export */   "useMenuItem": () => (/* binding */ useMenuItem),
/* harmony export */   "useMenuList": () => (/* binding */ useMenuList),
/* harmony export */   "useMenuOption": () => (/* binding */ useMenuOption),
/* harmony export */   "useMenuOptionGroup": () => (/* binding */ useMenuOptionGroup),
/* harmony export */   "useMenuPositioner": () => (/* binding */ useMenuPositioner),
/* harmony export */   "useMenuState": () => (/* binding */ useMenuState)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_clickable__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/clickable */ "./node_modules/@chakra-ui/clickable/dist/chakra-ui-clickable.esm.js");
/* harmony import */ var _chakra_ui_descendant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/descendant */ "./node_modules/@chakra-ui/descendant/dist/chakra-ui-descendant.esm.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");
/* harmony import */ var _chakra_ui_popper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/popper */ "./node_modules/@chakra-ui/popper/dist/chakra-ui-popper.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");










function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded$1 = ["id", "closeOnSelect", "closeOnBlur", "autoSelect", "isLazy", "isOpen", "defaultIsOpen", "onClose", "onOpen", "placement", "lazyBehavior", "direction", "computePositionOnMount"],
    _excluded2$1 = ["onMouseEnter", "onMouseMove", "onMouseLeave", "onClick", "isDisabled", "isFocusable", "closeOnSelect"],
    _excluded3$1 = ["type", "isChecked"],
    _excluded4$1 = ["children", "type", "value", "defaultValue", "onChange"];
/* -------------------------------------------------------------------------------------------------
 * Create context to track descendants and their indices
 * -----------------------------------------------------------------------------------------------*/

var _createDescendantCont = (0,_chakra_ui_descendant__WEBPACK_IMPORTED_MODULE_1__.createDescendantContext)(),
    MenuDescendantsProvider = _createDescendantCont[0],
    useMenuDescendantsContext = _createDescendantCont[1],
    useMenuDescendants = _createDescendantCont[2],
    useMenuDescendant = _createDescendantCont[3];

var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__.createContext)({
  strict: false,
  name: "MenuContext"
}),
    MenuProvider = _createContext[0],
    useMenuContext = _createContext[1];

/**
 * React Hook to manage a menu
 *
 * It provides the logic and will be used with react context
 * to propagate its return value to all children
 */
function useMenu(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      id = _props.id,
      _props$closeOnSelect = _props.closeOnSelect,
      closeOnSelect = _props$closeOnSelect === void 0 ? true : _props$closeOnSelect,
      _props$closeOnBlur = _props.closeOnBlur,
      closeOnBlur = _props$closeOnBlur === void 0 ? true : _props$closeOnBlur,
      _props$autoSelect = _props.autoSelect,
      autoSelect = _props$autoSelect === void 0 ? true : _props$autoSelect,
      isLazy = _props.isLazy,
      isOpenProp = _props.isOpen,
      defaultIsOpen = _props.defaultIsOpen,
      onCloseProp = _props.onClose,
      onOpenProp = _props.onOpen,
      _props$placement = _props.placement,
      placement = _props$placement === void 0 ? "bottom-start" : _props$placement,
      _props$lazyBehavior = _props.lazyBehavior,
      lazyBehavior = _props$lazyBehavior === void 0 ? "unmount" : _props$lazyBehavior,
      direction = _props.direction,
      _props$computePositio = _props.computePositionOnMount,
      computePositionOnMount = _props$computePositio === void 0 ? false : _props$computePositio,
      popperProps = _objectWithoutPropertiesLoose(_props, _excluded$1);
  /**
   * Prepare the reference to the menu and disclosure
   */


  var menuRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);
  var buttonRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);
  /**
   * Context to register all menu item nodes
   */

  var descendants = useMenuDescendants();
  var focusMenu = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.focus)(menuRef.current, {
      nextTick: true,
      selectTextIfInput: false
    });
  }, []);
  var focusFirstItem = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    var id = setTimeout(function () {
      var first = descendants.firstEnabled();
      if (first) setFocusedIndex(first.index);
    });
    timeoutIds.current.add(id);
  }, [descendants]);
  var focusLastItem = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    var id = setTimeout(function () {
      var last = descendants.lastEnabled();
      if (last) setFocusedIndex(last.index);
    });
    timeoutIds.current.add(id);
  }, [descendants]);
  var onOpenInternal = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    onOpenProp == null ? void 0 : onOpenProp();

    if (autoSelect) {
      focusFirstItem();
    } else {
      focusMenu();
    }
  }, [autoSelect, focusFirstItem, focusMenu, onOpenProp]);

  var _useDisclosure = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useDisclosure)({
    isOpen: isOpenProp,
    defaultIsOpen: defaultIsOpen,
    onClose: onCloseProp,
    onOpen: onOpenInternal
  }),
      isOpen = _useDisclosure.isOpen,
      onOpen = _useDisclosure.onOpen,
      onClose = _useDisclosure.onClose,
      onToggle = _useDisclosure.onToggle;

  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useOutsideClick)({
    enabled: isOpen && closeOnBlur,
    ref: menuRef,
    handler: function handler(event) {
      var _buttonRef$current;

      if (!((_buttonRef$current = buttonRef.current) != null && _buttonRef$current.contains(event.target))) {
        onClose();
      }
    }
  });
  /**
   * Add some popper.js for dynamic positioning
   */

  var popper = (0,_chakra_ui_popper__WEBPACK_IMPORTED_MODULE_5__.usePopper)(_extends({}, popperProps, {
    enabled: isOpen || computePositionOnMount,
    placement: placement,
    direction: direction
  }));

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(-1),
      focusedIndex = _React$useState[0],
      setFocusedIndex = _React$useState[1];
  /**
   * Focus the button when we close the menu
   */


  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useUpdateEffect)(function () {
    if (!isOpen) {
      setFocusedIndex(-1);
    }
  }, [isOpen]);
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useFocusOnHide)(menuRef, {
    focusRef: buttonRef,
    visible: isOpen,
    shouldFocus: true
  });
  /**
   * Generate unique ids for menu's list and button
   */

  var _useIds = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useIds)(id, "menu-button", "menu-list"),
      buttonId = _useIds[0],
      menuId = _useIds[1];

  var openAndFocusMenu = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    onOpen();
    focusMenu();
  }, [onOpen, focusMenu]);
  var timeoutIds = react__WEBPACK_IMPORTED_MODULE_0__.useRef(new Set([]));
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useUnmountEffect)(function () {
    timeoutIds.current.forEach(function (id) {
      return clearTimeout(id);
    });
    timeoutIds.current.clear();
  });
  var openAndFocusFirstItem = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    onOpen();
    focusFirstItem();
  }, [focusFirstItem, onOpen]);
  var openAndFocusLastItem = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    onOpen();
    focusLastItem();
  }, [onOpen, focusLastItem]);
  var refocus = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    var _menuRef$current, _descendants$item;

    var doc = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.getOwnerDocument)(menuRef.current);
    var hasFocusWithin = (_menuRef$current = menuRef.current) == null ? void 0 : _menuRef$current.contains(doc.activeElement);
    var shouldRefocus = isOpen && !hasFocusWithin;
    if (!shouldRefocus) return;
    var node = (_descendants$item = descendants.item(focusedIndex)) == null ? void 0 : _descendants$item.node;

    if (node) {
      (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.focus)(node, {
        selectTextIfInput: false,
        preventScroll: false
      });
    }
  }, [isOpen, focusedIndex, descendants]);
  return {
    openAndFocusMenu: openAndFocusMenu,
    openAndFocusFirstItem: openAndFocusFirstItem,
    openAndFocusLastItem: openAndFocusLastItem,
    onTransitionEnd: refocus,
    descendants: descendants,
    popper: popper,
    buttonId: buttonId,
    menuId: menuId,
    forceUpdate: popper.forceUpdate,
    orientation: "vertical",
    isOpen: isOpen,
    onToggle: onToggle,
    onOpen: onOpen,
    onClose: onClose,
    menuRef: menuRef,
    buttonRef: buttonRef,
    focusedIndex: focusedIndex,
    closeOnSelect: closeOnSelect,
    closeOnBlur: closeOnBlur,
    autoSelect: autoSelect,
    setFocusedIndex: setFocusedIndex,
    isLazy: isLazy,
    lazyBehavior: lazyBehavior
  };
}

/**
 * React Hook to manage a menu button.
 *
 * The assumption here is that the `useMenu` hook is used
 * in a component higher up the tree, and its return value
 * is passed as `context` to this hook.
 */
function useMenuButton(props, externalRef) {
  if (props === void 0) {
    props = {};
  }

  if (externalRef === void 0) {
    externalRef = null;
  }

  var menu = useMenuContext();
  var onToggle = menu.onToggle,
      popper = menu.popper,
      openAndFocusFirstItem = menu.openAndFocusFirstItem,
      openAndFocusLastItem = menu.openAndFocusLastItem;
  var onKeyDown = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    var eventKey = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeEventKey)(event);
    var keyMap = {
      Enter: openAndFocusFirstItem,
      ArrowDown: openAndFocusFirstItem,
      ArrowUp: openAndFocusLastItem
    };
    var action = keyMap[eventKey];

    if (action) {
      event.preventDefault();
      event.stopPropagation();
      action(event);
    }
  }, [openAndFocusFirstItem, openAndFocusLastItem]);
  return _extends({}, props, {
    ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__.mergeRefs)(menu.buttonRef, externalRef, popper.referenceRef),
    id: menu.buttonId,
    "data-active": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(menu.isOpen),
    "aria-expanded": menu.isOpen,
    "aria-haspopup": "menu",
    "aria-controls": menu.menuId,
    onClick: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onClick, onToggle),
    onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onKeyDown, onKeyDown)
  });
}

function isTargetMenuItem(target) {
  var _target$getAttribute;

  // this will catch `menuitem`, `menuitemradio`, `menuitemcheckbox`
  return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isHTMLElement)(target) && !!((_target$getAttribute = target.getAttribute("role")) != null && _target$getAttribute.startsWith("menuitem"));
}
/* -------------------------------------------------------------------------------------------------
 * useMenuList
 * -----------------------------------------------------------------------------------------------*/


/**
 * React Hook to manage a menu list.
 *
 * The assumption here is that the `useMenu` hook is used
 * in a component higher up the tree, and its return value
 * is passed as `context` to this hook.
 */
function useMenuList(props, ref) {
  if (props === void 0) {
    props = {};
  }

  if (ref === void 0) {
    ref = null;
  }

  var menu = useMenuContext();

  if (!menu) {
    throw new Error("useMenuContext: context is undefined. Seems you forgot to wrap component within <Menu>");
  }

  var focusedIndex = menu.focusedIndex,
      setFocusedIndex = menu.setFocusedIndex,
      menuRef = menu.menuRef,
      isOpen = menu.isOpen,
      onClose = menu.onClose,
      menuId = menu.menuId,
      isLazy = menu.isLazy,
      lazyBehavior = menu.lazyBehavior;
  var descendants = useMenuDescendantsContext();
  /**
   * Hook that creates a keydown event handler that listens
   * to printable keyboard character press
   */

  var createTypeaheadHandler = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useShortcut)({
    preventDefault: function preventDefault(event) {
      return event.key !== " " && isTargetMenuItem(event.target);
    }
  });
  var onKeyDown = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    var eventKey = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeEventKey)(event);
    var keyMap = {
      Tab: function Tab(event) {
        return event.preventDefault();
      },
      Escape: onClose,
      ArrowDown: function ArrowDown() {
        var next = descendants.nextEnabled(focusedIndex);
        if (next) setFocusedIndex(next.index);
      },
      ArrowUp: function ArrowUp() {
        var prev = descendants.prevEnabled(focusedIndex);
        if (prev) setFocusedIndex(prev.index);
      }
    };
    var fn = keyMap[eventKey];

    if (fn) {
      event.preventDefault();
      fn(event);
      return;
    }
    /**
     * Typeahead: Based on current character pressed,
     * find the next item to be selected
     */


    var onTypeahead = createTypeaheadHandler(function (character) {
      var nextItem = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.getNextItemFromSearch)(descendants.values(), character, function (item) {
        var _item$node$textConten, _item$node;

        return (_item$node$textConten = item == null ? void 0 : (_item$node = item.node) == null ? void 0 : _item$node.textContent) != null ? _item$node$textConten : "";
      }, descendants.item(focusedIndex));

      if (nextItem) {
        var index = descendants.indexOf(nextItem.node);
        setFocusedIndex(index);
      }
    });

    if (isTargetMenuItem(event.target)) {
      onTypeahead(event);
    }
  }, [descendants, focusedIndex, createTypeaheadHandler, onClose, setFocusedIndex]);
  var hasBeenOpened = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);

  if (isOpen) {
    hasBeenOpened.current = true;
  }

  var shouldRenderChildren = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.determineLazyBehavior)({
    hasBeenSelected: hasBeenOpened.current,
    isLazy: isLazy,
    lazyBehavior: lazyBehavior,
    isSelected: isOpen
  });
  return _extends({}, props, {
    ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__.mergeRefs)(menuRef, ref),
    children: shouldRenderChildren ? props.children : null,
    tabIndex: -1,
    role: "menu",
    id: menuId,
    style: _extends({}, props.style, {
      transformOrigin: "var(--popper-transform-origin)"
    }),
    "aria-orientation": "vertical",
    onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onKeyDown, onKeyDown)
  });
}
/* -------------------------------------------------------------------------------------------------
 * useMenuPosition: Composes usePopper to position the menu
 * -----------------------------------------------------------------------------------------------*/

function useMenuPositioner(props) {
  if (props === void 0) {
    props = {};
  }

  var _useMenuContext = useMenuContext(),
      popper = _useMenuContext.popper,
      isOpen = _useMenuContext.isOpen;

  return popper.getPopperProps(_extends({}, props, {
    style: _extends({
      visibility: isOpen ? "visible" : "hidden"
    }, props.style)
  }));
}
/* -------------------------------------------------------------------------------------------------
 * useMenuItem: Hook for each menu item within the menu list.
   We also use it in `useMenuItemOption`
 * -----------------------------------------------------------------------------------------------*/

function useMenuItem(props, externalRef) {
  if (props === void 0) {
    props = {};
  }

  if (externalRef === void 0) {
    externalRef = null;
  }

  var _props2 = props,
      onMouseEnterProp = _props2.onMouseEnter,
      onMouseMoveProp = _props2.onMouseMove,
      onMouseLeaveProp = _props2.onMouseLeave,
      onClickProp = _props2.onClick,
      isDisabled = _props2.isDisabled,
      isFocusable = _props2.isFocusable,
      closeOnSelect = _props2.closeOnSelect,
      htmlProps = _objectWithoutPropertiesLoose(_props2, _excluded2$1);

  var menu = useMenuContext();
  var setFocusedIndex = menu.setFocusedIndex,
      focusedIndex = menu.focusedIndex,
      menuCloseOnSelect = menu.closeOnSelect,
      onClose = menu.onClose,
      menuRef = menu.menuRef,
      isOpen = menu.isOpen,
      menuId = menu.menuId;
  var ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);
  var id = menuId + "-menuitem-" + (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useId)();
  /**
   * Register the menuitem's node into the domContext
   */

  var _useMenuDescendant = useMenuDescendant({
    disabled: isDisabled && !isFocusable
  }),
      index = _useMenuDescendant.index,
      register = _useMenuDescendant.register;

  var onMouseEnter = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    onMouseEnterProp == null ? void 0 : onMouseEnterProp(event);
    if (isDisabled) return;
    setFocusedIndex(index);
  }, [setFocusedIndex, index, isDisabled, onMouseEnterProp]);
  var onMouseMove = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    onMouseMoveProp == null ? void 0 : onMouseMoveProp(event);

    if (ref.current && !(0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isActiveElement)(ref.current)) {
      onMouseEnter(event);
    }
  }, [onMouseEnter, onMouseMoveProp]);
  var onMouseLeave = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    onMouseLeaveProp == null ? void 0 : onMouseLeaveProp(event);
    if (isDisabled) return;
    setFocusedIndex(-1);
  }, [setFocusedIndex, isDisabled, onMouseLeaveProp]);
  var onClick = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    onClickProp == null ? void 0 : onClickProp(event);
    if (!isTargetMenuItem(event.currentTarget)) return;
    /**
     * Close menu and parent menus, allowing the MenuItem
     * to override its parent menu's `closeOnSelect` prop.
     */

    if (closeOnSelect != null ? closeOnSelect : menuCloseOnSelect) {
      onClose();
    }
  }, [onClose, onClickProp, menuCloseOnSelect, closeOnSelect]);
  var isFocused = index === focusedIndex;
  var trulyDisabled = isDisabled && !isFocusable;
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useUpdateEffect)(function () {
    if (!isOpen) return;

    if (isFocused && !trulyDisabled && ref.current) {
      (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.focus)(ref.current, {
        nextTick: true,
        selectTextIfInput: false,
        preventScroll: false
      });
    } else if (menuRef.current && !(0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isActiveElement)(menuRef.current)) {
      (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.focus)(menuRef.current, {
        preventScroll: false
      });
    }
  }, [isFocused, trulyDisabled, menuRef, isOpen]);
  var clickableProps = (0,_chakra_ui_clickable__WEBPACK_IMPORTED_MODULE_6__.useClickable)({
    onClick: onClick,
    onMouseEnter: onMouseEnter,
    onMouseMove: onMouseMove,
    onMouseLeave: onMouseLeave,
    ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__.mergeRefs)(register, ref, externalRef),
    isDisabled: isDisabled,
    isFocusable: isFocusable
  });
  return _extends({}, htmlProps, clickableProps, {
    id: id,
    role: "menuitem",
    tabIndex: isFocused ? 0 : -1
  });
}
/* -------------------------------------------------------------------------------------------------
 * useMenuOption: Composes useMenuItem to provide a selectable/checkable menu item
 * -----------------------------------------------------------------------------------------------*/

function useMenuOption(props, ref) {
  if (props === void 0) {
    props = {};
  }

  if (ref === void 0) {
    ref = null;
  }

  var _props3 = props,
      _props3$type = _props3.type,
      type = _props3$type === void 0 ? "radio" : _props3$type,
      isChecked = _props3.isChecked,
      rest = _objectWithoutPropertiesLoose(_props3, _excluded3$1);

  var ownProps = useMenuItem(rest, ref);
  return _extends({}, ownProps, {
    role: "menuitem" + type,
    "aria-checked": isChecked
  });
}
/* -------------------------------------------------------------------------------------------------
 * useMenuOptionGroup: Manages the state of multiple selectable menuitem or menu option
 * -----------------------------------------------------------------------------------------------*/

function useMenuOptionGroup(props) {
  if (props === void 0) {
    props = {};
  }

  var _props4 = props,
      children = _props4.children,
      _props4$type = _props4.type,
      type = _props4$type === void 0 ? "radio" : _props4$type,
      valueProp = _props4.value,
      defaultValue = _props4.defaultValue,
      onChangeProp = _props4.onChange,
      htmlProps = _objectWithoutPropertiesLoose(_props4, _excluded4$1);

  var isRadio = type === "radio";
  var fallback = isRadio ? "" : [];

  var _useControllableState = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useControllableState)({
    defaultValue: defaultValue != null ? defaultValue : fallback,
    value: valueProp,
    onChange: onChangeProp
  }),
      value = _useControllableState[0],
      setValue = _useControllableState[1];

  var onChange = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (selectedValue) {
    if (type === "radio" && (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isString)(value)) {
      setValue(selectedValue);
    }

    if (type === "checkbox" && (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isArray)(value)) {
      var nextValue = value.includes(selectedValue) ? (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.removeItem)(value, selectedValue) : (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.addItem)(value, selectedValue);
      setValue(nextValue);
    }
  }, [value, setValue, type]);
  var validChildren = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__.getValidChildren)(children);
  var clones = validChildren.map(function (child) {
    /**
     * We've added an internal `id` to each `MenuItemOption`,
     * let's use that for type-checking.
     *
     * We can't rely on displayName or the element's type since
     * they can be changed by the user.
     */
    if (child.type.id !== "MenuItemOption") return child;

    var onClick = function onClick(event) {
      onChange(child.props.value);
      child.props.onClick == null ? void 0 : child.props.onClick(event);
    };

    var isChecked = type === "radio" ? child.props.value === value : value.includes(child.props.value);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, {
      type: type,
      onClick: onClick,
      isChecked: isChecked
    });
  });
  return _extends({}, htmlProps, {
    children: clones
  });
}
function useMenuState() {
  var _useMenuContext2 = useMenuContext(),
      isOpen = _useMenuContext2.isOpen,
      onClose = _useMenuContext2.onClose;

  return {
    isOpen: isOpen,
    onClose: onClose
  };
}

var _excluded = ["descendants"],
    _excluded2 = ["children", "as"],
    _excluded3 = ["rootProps"],
    _excluded4 = ["type"],
    _excluded5 = ["icon", "iconSpacing", "command", "commandSpacing", "children"],
    _excluded6 = ["icon", "iconSpacing"],
    _excluded7 = ["className", "title"],
    _excluded8 = ["title", "children", "className"],
    _excluded9 = ["className", "children"],
    _excluded10 = ["className"];

/**
 * Menu provides context, state, and focus management
 * to its sub-components. It doesn't render any DOM node.
 */
var Menu = function Menu(props) {
  var children = props.children;
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.useMultiStyleConfig)("Menu", props);
  var ownProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.omitThemingProps)(props);

  var _useTheme = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.useTheme)(),
      direction = _useTheme.direction;

  var _useMenu = useMenu(_extends({}, ownProps, {
    direction: direction
  })),
      descendants = _useMenu.descendants,
      ctx = _objectWithoutPropertiesLoose(_useMenu, _excluded);

  var context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return ctx;
  }, [ctx]);
  var isOpen = context.isOpen,
      onClose = context.onClose,
      forceUpdate = context.forceUpdate;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MenuDescendantsProvider, {
    value: descendants
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MenuProvider, {
    value: context
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.StylesProvider, {
    value: styles
  }, (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.runIfFn)(children, {
    isOpen: isOpen,
    onClose: onClose,
    forceUpdate: forceUpdate
  }))));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  Menu.displayName = "Menu";
}

var StyledMenuButton = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.chakra.button, _extends({
    ref: ref
  }, props, {
    __css: _extends({
      display: "inline-flex",
      appearance: "none",
      alignItems: "center",
      outline: 0
    }, styles.button)
  }));
});
/**
 * The trigger for the menu list. Must be a direct child of `Menu`.
 */

var MenuButton = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.forwardRef)(function (props, ref) {
  props.children;
      var As = props.as,
      rest = _objectWithoutPropertiesLoose(props, _excluded2);

  var buttonProps = useMenuButton(rest, ref);
  var Element = As || StyledMenuButton;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Element, _extends({}, buttonProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-menu__menu-button", props.className)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.chakra.span, {
    __css: {
      pointerEvents: "none",
      flex: "1 1 auto",
      minW: 0
    }
  }, props.children));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  MenuButton.displayName = "MenuButton";
}

var motionVariants = {
  enter: {
    visibility: "visible",
    opacity: 1,
    scale: 1,
    transition: {
      duration: 0.2,
      ease: [0.4, 0, 0.2, 1]
    }
  },
  exit: {
    transitionEnd: {
      visibility: "hidden"
    },
    opacity: 0,
    scale: 0.8,
    transition: {
      duration: 0.1,
      easings: "easeOut"
    }
  }
}; // @future: only call `motion(chakra.div)` when we drop framer-motion v3 support

var MotionDiv = "custom" in framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion ? framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion.custom(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.chakra.div) : (0,framer_motion__WEBPACK_IMPORTED_MODULE_8__.motion)(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.chakra.div);
var MenuList = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.forwardRef)(function (props, ref) {
  var _props$zIndex, _styles$list;

  var rootProps = props.rootProps,
      rest = _objectWithoutPropertiesLoose(props, _excluded3);

  var _useMenuContext = useMenuContext(),
      isOpen = _useMenuContext.isOpen,
      onTransitionEnd = _useMenuContext.onTransitionEnd;

  var menulistProps = useMenuList(rest, ref);
  var positionerProps = useMenuPositioner(rootProps);
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.chakra.div, _extends({}, positionerProps, {
    __css: {
      zIndex: (_props$zIndex = props.zIndex) != null ? _props$zIndex : (_styles$list = styles.list) == null ? void 0 : _styles$list.zIndex
    }
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MotionDiv, _extends({}, menulistProps, {
    /**
     * We could call this on either `onAnimationComplete` or `onUpdate`.
     * It seems the re-focusing works better with the `onUpdate`
     */
    onUpdate: onTransitionEnd,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-menu__menu-list", menulistProps.className),
    variants: motionVariants,
    initial: false,
    animate: isOpen ? "enter" : "exit",
    __css: _extends({
      outline: 0
    }, styles.list)
  })));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  MenuList.displayName = "MenuList";
}

var StyledMenuItem = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.forwardRef)(function (props, ref) {
  var type = props.type,
      rest = _objectWithoutPropertiesLoose(props, _excluded4);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.useStyles)();
  /**
   * Given another component, use its type if present
   * Else, use no type to avoid invalid html, e.g. <a type="button" />
   * Else, fall back to "button"
   */

  var btnType = rest.as ? type != null ? type : undefined : "button";

  var buttonStyles = _extends({
    textDecoration: "none",
    color: "inherit",
    userSelect: "none",
    display: "flex",
    width: "100%",
    alignItems: "center",
    textAlign: "start",
    flex: "0 0 auto",
    outline: 0
  }, styles.item);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.chakra.button, _extends({
    ref: ref,
    type: btnType
  }, rest, {
    __css: buttonStyles
  }));
});
var MenuItem = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.forwardRef)(function (props, ref) {
  var icon = props.icon,
      _props$iconSpacing = props.iconSpacing,
      iconSpacing = _props$iconSpacing === void 0 ? "0.75rem" : _props$iconSpacing,
      command = props.command,
      _props$commandSpacing = props.commandSpacing,
      commandSpacing = _props$commandSpacing === void 0 ? "0.75rem" : _props$commandSpacing,
      children = props.children,
      rest = _objectWithoutPropertiesLoose(props, _excluded5);

  var menuitemProps = useMenuItem(rest, ref);
  var shouldWrap = icon || command;

  var _children = shouldWrap ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    style: {
      pointerEvents: "none",
      flex: 1
    }
  }, children) : children;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledMenuItem, _extends({}, menuitemProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-menu__menuitem", menuitemProps.className)
  }), icon && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MenuIcon, {
    fontSize: "0.8em",
    marginEnd: iconSpacing
  }, icon), _children, command && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MenuCommand, {
    marginStart: commandSpacing
  }, command));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  MenuItem.displayName = "MenuItem";
}

var CheckIcon = function CheckIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    viewBox: "0 0 14 14",
    width: "1em",
    height: "1em"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("polygon", {
    fill: "currentColor",
    points: "5.5 11.9993304 14 3.49933039 12.5 2 5.5 8.99933039 1.5 4.9968652 0 6.49933039"
  }));
};

var MenuItemOption = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.forwardRef)(function (props, ref) {
  var icon = props.icon,
      _props$iconSpacing2 = props.iconSpacing,
      iconSpacing = _props$iconSpacing2 === void 0 ? "0.75rem" : _props$iconSpacing2,
      rest = _objectWithoutPropertiesLoose(props, _excluded6);

  var optionProps = useMenuOption(rest, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledMenuItem, _extends({}, optionProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-menu__menuitem-option", rest.className)
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MenuIcon, {
    fontSize: "0.8em",
    marginEnd: iconSpacing,
    opacity: props.isChecked ? 1 : 0
  }, icon || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(CheckIcon, null)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", {
    style: {
      flex: 1
    }
  }, optionProps.children));
});
MenuItemOption.id = "MenuItemOption";

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  MenuItemOption.displayName = "MenuItemOption";
}

var MenuOptionGroup = function MenuOptionGroup(props) {
  var className = props.className,
      title = props.title,
      rest = _objectWithoutPropertiesLoose(props, _excluded7);

  var ownProps = useMenuOptionGroup(rest);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MenuGroup, _extends({
    title: title,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-menu__option-group", className)
  }, ownProps));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  MenuOptionGroup.displayName = "MenuOptionGroup";
}

var MenuGroup = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.forwardRef)(function (props, ref) {
  var title = props.title,
      children = props.children,
      className = props.className,
      rest = _objectWithoutPropertiesLoose(props, _excluded8);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-menu__group__title", className);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    ref: ref,
    className: "chakra-menu__group",
    role: "group"
  }, title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.chakra.p, _extends({
    className: _className
  }, rest, {
    __css: styles.groupTitle
  }), title), children);
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  MenuGroup.displayName = "MenuGroup";
}

var MenuCommand = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.chakra.span, _extends({
    ref: ref
  }, props, {
    __css: styles.command,
    className: "chakra-menu__command"
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  MenuCommand.displayName = "MenuCommand";
}

var MenuIcon = function MenuIcon(props) {
  var className = props.className,
      children = props.children,
      rest = _objectWithoutPropertiesLoose(props, _excluded9);

  var child = react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children);
  var clone = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(child) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, {
    focusable: "false",
    "aria-hidden": true,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-menu__icon", child.props.className)
  }) : null;

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-menu__icon-wrapper", className);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.chakra.span, _extends({
    className: _className
  }, rest, {
    __css: {
      flexShrink: 0
    }
  }), clone);
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  MenuIcon.displayName = "MenuIcon";
}

var MenuDivider = function MenuDivider(props) {
  var className = props.className,
      rest = _objectWithoutPropertiesLoose(props, _excluded10);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.chakra.hr, _extends({
    role: "separator",
    "aria-orientation": "horizontal",
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-menu__divider", className)
  }, rest, {
    __css: styles.divider
  }));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  MenuDivider.displayName = "MenuDivider";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/modal/dist/chakra-ui-modal.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@chakra-ui/modal/dist/chakra-ui-modal.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AlertDialog": () => (/* binding */ AlertDialog),
/* harmony export */   "AlertDialogBody": () => (/* binding */ ModalBody),
/* harmony export */   "AlertDialogCloseButton": () => (/* binding */ ModalCloseButton),
/* harmony export */   "AlertDialogContent": () => (/* binding */ AlertDialogContent),
/* harmony export */   "AlertDialogFooter": () => (/* binding */ ModalFooter),
/* harmony export */   "AlertDialogHeader": () => (/* binding */ ModalHeader),
/* harmony export */   "AlertDialogOverlay": () => (/* binding */ ModalOverlay),
/* harmony export */   "Drawer": () => (/* binding */ Drawer),
/* harmony export */   "DrawerBody": () => (/* binding */ ModalBody),
/* harmony export */   "DrawerCloseButton": () => (/* binding */ ModalCloseButton),
/* harmony export */   "DrawerContent": () => (/* binding */ DrawerContent),
/* harmony export */   "DrawerFooter": () => (/* binding */ ModalFooter),
/* harmony export */   "DrawerHeader": () => (/* binding */ ModalHeader),
/* harmony export */   "DrawerOverlay": () => (/* binding */ ModalOverlay),
/* harmony export */   "Modal": () => (/* binding */ Modal),
/* harmony export */   "ModalBody": () => (/* binding */ ModalBody),
/* harmony export */   "ModalCloseButton": () => (/* binding */ ModalCloseButton),
/* harmony export */   "ModalContent": () => (/* binding */ ModalContent),
/* harmony export */   "ModalContextProvider": () => (/* binding */ ModalContextProvider),
/* harmony export */   "ModalFocusScope": () => (/* binding */ ModalFocusScope),
/* harmony export */   "ModalFooter": () => (/* binding */ ModalFooter),
/* harmony export */   "ModalHeader": () => (/* binding */ ModalHeader),
/* harmony export */   "ModalOverlay": () => (/* binding */ ModalOverlay),
/* harmony export */   "useAriaHidden": () => (/* binding */ useAriaHidden),
/* harmony export */   "useModal": () => (/* binding */ useModal),
/* harmony export */   "useModalContext": () => (/* binding */ useModalContext)
/* harmony export */ });
/* harmony import */ var _chakra_ui_close_button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @chakra-ui/close-button */ "./node_modules/@chakra-ui/close-button/dist/chakra-ui-close-button.esm.js");
/* harmony import */ var _chakra_ui_focus_lock__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @chakra-ui/focus-lock */ "./node_modules/@chakra-ui/focus-lock/dist/chakra-ui-focus-lock.esm.js");
/* harmony import */ var _chakra_ui_portal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @chakra-ui/portal */ "./node_modules/@chakra-ui/portal/dist/chakra-ui-portal.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/transition */ "./node_modules/@chakra-ui/transition/dist/chakra-ui-transition.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_remove_scroll__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-remove-scroll */ "./node_modules/react-remove-scroll/dist/es2015/Combination.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");
/* harmony import */ var aria_hidden__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! aria-hidden */ "./node_modules/aria-hidden/dist/es2015/index.js");














function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var _excluded$3 = ["preset"];
var transitions = {
  slideInBottom: _extends({}, _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_2__.slideFadeConfig, {
    custom: {
      offsetY: 16,
      reverse: true
    }
  }),
  slideInRight: _extends({}, _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_2__.slideFadeConfig, {
    custom: {
      offsetX: 16,
      reverse: true
    }
  }),
  scale: _extends({}, _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_2__.scaleFadeConfig, {
    custom: {
      initialScale: 0.95,
      reverse: true
    }
  }),
  none: {}
};
var Motion = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.section);
var ModalTransition = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var preset = props.preset,
      rest = _objectWithoutPropertiesLoose(props, _excluded$3);

  var motionProps = transitions[preset];
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Motion, _extends({
    ref: ref
  }, motionProps, rest));
});

/**
 * Proper state management for nested modals.
 * Simplified, but inspired by material-ui's ModalManager class.
 */

var ModalManager = /*#__PURE__*/function () {
  function ModalManager() {
    this.modals = void 0;
    this.modals = [];
  }

  var _proto = ModalManager.prototype;

  _proto.add = function add(modal) {
    this.modals.push(modal);
  };

  _proto.remove = function remove(modal) {
    this.modals = this.modals.filter(function (_modal) {
      return _modal !== modal;
    });
  };

  _proto.isTopModal = function isTopModal(modal) {
    var topmostModal = this.modals[this.modals.length - 1];
    return topmostModal === modal;
  };

  return ModalManager;
}();

var manager = new ModalManager();
function useModalManager(ref, isOpen) {
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (isOpen) {
      manager.add(ref);
    }

    return function () {
      manager.remove(ref);
    };
  }, [isOpen, ref]);
}

/**
 * Modal hook that manages all the logic for the modal dialog widget
 * and returns prop getters, state and actions.
 *
 * @param props
 */
function useModal(props) {
  var isOpen = props.isOpen,
      onClose = props.onClose,
      id = props.id,
      _props$closeOnOverlay = props.closeOnOverlayClick,
      closeOnOverlayClick = _props$closeOnOverlay === void 0 ? true : _props$closeOnOverlay,
      _props$closeOnEsc = props.closeOnEsc,
      closeOnEsc = _props$closeOnEsc === void 0 ? true : _props$closeOnEsc,
      _props$useInert = props.useInert,
      useInert = _props$useInert === void 0 ? true : _props$useInert,
      onOverlayClickProp = props.onOverlayClick,
      onEsc = props.onEsc;
  var dialogRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var overlayRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);

  var _useIds = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_5__.useIds)(id, "chakra-modal", "chakra-modal--header", "chakra-modal--body"),
      dialogId = _useIds[0],
      headerId = _useIds[1],
      bodyId = _useIds[2];
  /**
   * Hook used to polyfill `aria-modal` for older browsers.
   * It uses `aria-hidden` to all other nodes.
   *
   * @see https://developer.paciellogroup.com/blog/2018/06/the-current-state-of-modal-dialog-accessibility/
   */


  useAriaHidden(dialogRef, isOpen && useInert);
  /**
   * Hook use to manage multiple or nested modals
   */

  useModalManager(dialogRef, isOpen);
  var mouseDownTarget = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var onMouseDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    mouseDownTarget.current = event.target;
  }, []);
  var onKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    if (event.key === "Escape") {
      event.stopPropagation();

      if (closeOnEsc) {
        onClose == null ? void 0 : onClose();
      }

      onEsc == null ? void 0 : onEsc();
    }
  }, [closeOnEsc, onClose, onEsc]);

  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
      headerMounted = _useState[0],
      setHeaderMounted = _useState[1];

  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
      bodyMounted = _useState2[0],
      setBodyMounted = _useState2[1];

  var getDialogProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({
      role: "dialog"
    }, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_6__.mergeRefs)(ref, dialogRef),
      id: dialogId,
      tabIndex: -1,
      "aria-modal": true,
      "aria-labelledby": headerMounted ? headerId : undefined,
      "aria-describedby": bodyMounted ? bodyId : undefined,
      onClick: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onClick, function (event) {
        return event.stopPropagation();
      })
    });
  }, [bodyId, bodyMounted, dialogId, headerId, headerMounted]);
  var onOverlayClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    event.stopPropagation();
    /**
     * Make sure the event starts and ends on the same DOM element.
     *
     * This is used to prevent the modal from closing when you
     * start dragging from the content, and release drag outside the content.
     *
     * We prevent this because it is technically not a considered "click outside"
     */

    if (mouseDownTarget.current !== event.target) return;
    /**
     * When you click on the overlay, we want to remove only the topmost modal
     */

    if (!manager.isTopModal(dialogRef)) return;

    if (closeOnOverlayClick) {
      onClose == null ? void 0 : onClose();
    }

    onOverlayClickProp == null ? void 0 : onOverlayClickProp();
  }, [onClose, closeOnOverlayClick, onOverlayClickProp]);
  var getDialogContainerProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_6__.mergeRefs)(ref, overlayRef),
      onClick: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onClick, onOverlayClick),
      onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onKeyDown, onKeyDown),
      onMouseDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onMouseDown, onMouseDown)
    });
  }, [onKeyDown, onMouseDown, onOverlayClick]);
  return {
    isOpen: isOpen,
    onClose: onClose,
    headerId: headerId,
    bodyId: bodyId,
    setBodyMounted: setBodyMounted,
    setHeaderMounted: setHeaderMounted,
    dialogRef: dialogRef,
    overlayRef: overlayRef,
    getDialogProps: getDialogProps,
    getDialogContainerProps: getDialogContainerProps
  };
}

/**
 * Modal hook to polyfill `aria-modal`.
 *
 * It applies `aria-hidden` to elements behind the modal
 * to indicate that they're `inert`.
 *
 * @param ref React ref of the node
 * @param shouldHide whether `aria-hidden` should be applied
 */
function useAriaHidden(ref, shouldHide) {
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (!ref.current) return undefined;
    var undo = null;

    if (shouldHide && ref.current) {
      undo = (0,aria_hidden__WEBPACK_IMPORTED_MODULE_1__.hideOthers)(ref.current);
    }

    return function () {
      if (shouldHide) {
        undo == null ? void 0 : undo();
      }
    };
  }, [shouldHide, ref]);
}

var _excluded$2 = ["className", "children", "containerProps"],
    _excluded2$1 = ["className", "transition"],
    _excluded3 = ["className"],
    _excluded4 = ["className"],
    _excluded5 = ["className"],
    _excluded6 = ["onClick", "className"];

var _createContext$1 = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_6__.createContext)({
  strict: true,
  name: "ModalContext",
  errorMessage: "useModalContext: `context` is undefined. Seems you forgot to wrap modal components in `<Modal />`"
}),
    ModalContextProvider = _createContext$1[0],
    useModalContext = _createContext$1[1];
/**
 * Modal provides context, theming, and accessibility properties
 * to all other modal components.
 *
 * It doesn't render any DOM node.
 */

var Modal = function Modal(props) {
  var portalProps = props.portalProps,
      children = props.children,
      autoFocus = props.autoFocus,
      trapFocus = props.trapFocus,
      initialFocusRef = props.initialFocusRef,
      finalFocusRef = props.finalFocusRef,
      returnFocusOnClose = props.returnFocusOnClose,
      blockScrollOnMount = props.blockScrollOnMount,
      allowPinchZoom = props.allowPinchZoom,
      preserveScrollBarGap = props.preserveScrollBarGap,
      motionPreset = props.motionPreset,
      lockFocusAcrossFrames = props.lockFocusAcrossFrames;
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useMultiStyleConfig)("Modal", props);
  var modal = useModal(props);

  var context = _extends({}, modal, {
    autoFocus: autoFocus,
    trapFocus: trapFocus,
    initialFocusRef: initialFocusRef,
    finalFocusRef: finalFocusRef,
    returnFocusOnClose: returnFocusOnClose,
    blockScrollOnMount: blockScrollOnMount,
    allowPinchZoom: allowPinchZoom,
    preserveScrollBarGap: preserveScrollBarGap,
    motionPreset: motionPreset,
    lockFocusAcrossFrames: lockFocusAcrossFrames
  });

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalContextProvider, {
    value: context
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_8__.AnimatePresence, null, context.isOpen && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_portal__WEBPACK_IMPORTED_MODULE_9__.Portal, portalProps, children))));
};
Modal.defaultProps = {
  lockFocusAcrossFrames: true,
  returnFocusOnClose: true,
  scrollBehavior: "outside",
  trapFocus: true,
  autoFocus: true,
  blockScrollOnMount: true,
  allowPinchZoom: false,
  motionPreset: "scale"
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  Modal.displayName = "Modal";
}

var MotionDiv = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div);
/**
 * ModalContent is used to group modal's content. It has all the
 * necessary `aria-*` properties to indicate that it is a modal
 */

var ModalContent = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  var className = props.className,
      children = props.children,
      rootProps = props.containerProps,
      rest = _objectWithoutPropertiesLoose(props, _excluded$2);

  var _useModalContext = useModalContext(),
      getDialogProps = _useModalContext.getDialogProps,
      getDialogContainerProps = _useModalContext.getDialogContainerProps;

  var dialogProps = getDialogProps(rest, ref);
  var containerProps = getDialogContainerProps(rootProps);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-modal__content", className);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();

  var dialogStyles = _extends({
    display: "flex",
    flexDirection: "column",
    position: "relative",
    width: "100%",
    outline: 0
  }, styles.dialog);

  var dialogContainerStyles = _extends({
    display: "flex",
    width: "100vw",
    height: "100vh",
    "@supports(height: -webkit-fill-available)": {
      height: "-webkit-fill-available"
    },
    position: "fixed",
    left: 0,
    top: 0
  }, styles.dialogContainer);

  var _useModalContext2 = useModalContext(),
      motionPreset = _useModalContext2.motionPreset;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalFocusScope, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.div, _extends({}, containerProps, {
    className: "chakra-modal__content-container" // tabindex="-1" means that the element is not reachable via sequential keyboard navigation, @see #4686
    ,
    tabIndex: -1,
    __css: dialogContainerStyles
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalTransition, _extends({
    preset: motionPreset,
    className: _className
  }, dialogProps, {
    __css: dialogStyles
  }), children)));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  ModalContent.displayName = "ModalContent";
}

function ModalFocusScope(props) {
  var _useModalContext3 = useModalContext(),
      autoFocus = _useModalContext3.autoFocus,
      trapFocus = _useModalContext3.trapFocus,
      dialogRef = _useModalContext3.dialogRef,
      initialFocusRef = _useModalContext3.initialFocusRef,
      blockScrollOnMount = _useModalContext3.blockScrollOnMount,
      allowPinchZoom = _useModalContext3.allowPinchZoom,
      finalFocusRef = _useModalContext3.finalFocusRef,
      returnFocusOnClose = _useModalContext3.returnFocusOnClose,
      preserveScrollBarGap = _useModalContext3.preserveScrollBarGap,
      lockFocusAcrossFrames = _useModalContext3.lockFocusAcrossFrames;

  var _usePresence = (0,framer_motion__WEBPACK_IMPORTED_MODULE_10__.usePresence)(),
      isPresent = _usePresence[0],
      safeToRemove = _usePresence[1];

  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    if (!isPresent && safeToRemove) {
      setTimeout(safeToRemove);
    }
  }, [isPresent, safeToRemove]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_focus_lock__WEBPACK_IMPORTED_MODULE_11__.FocusLock, {
    autoFocus: autoFocus,
    isDisabled: !trapFocus,
    initialFocusRef: initialFocusRef,
    finalFocusRef: finalFocusRef,
    restoreFocus: returnFocusOnClose,
    contentRef: dialogRef,
    lockFocusAcrossFrames: lockFocusAcrossFrames
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_remove_scroll__WEBPACK_IMPORTED_MODULE_12__["default"], {
    removeScrollBar: !preserveScrollBarGap,
    allowPinchZoom: allowPinchZoom,
    enabled: blockScrollOnMount,
    forwardProps: true
  }, props.children));
}

/**
 * ModalOverlay renders a backdrop behind the modal. It is
 * also used as a wrapper for the modal content for better positioning.
 *
 * @see Docs https://chakra-ui.com/modal
 */
var ModalOverlay = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  var className = props.className;
      props.transition;
      var rest = _objectWithoutPropertiesLoose(props, _excluded2$1);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-modal__overlay", className);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();

  var overlayStyle = _extends({
    pos: "fixed",
    left: "0",
    top: "0",
    w: "100vw",
    h: "100vh"
  }, styles.overlay);

  var _useModalContext4 = useModalContext(),
      motionPreset = _useModalContext4.motionPreset;

  var motionProps = motionPreset === "none" ? {} : _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_2__.fadeConfig;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(MotionDiv, _extends({}, motionProps, {
    __css: overlayStyle,
    ref: ref,
    className: _className
  }, rest));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  ModalOverlay.displayName = "ModalOverlay";
}

/**
 * ModalHeader
 *
 * React component that houses the title of the modal.
 *
 * @see Docs https://chakra-ui.com/modal
 */
var ModalHeader = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  var className = props.className,
      rest = _objectWithoutPropertiesLoose(props, _excluded3);

  var _useModalContext5 = useModalContext(),
      headerId = _useModalContext5.headerId,
      setHeaderMounted = _useModalContext5.setHeaderMounted;
  /**
   * Notify us if this component was rendered or used
   * so we can append `aria-labelledby` automatically
   */


  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    setHeaderMounted(true);
    return function () {
      return setHeaderMounted(false);
    };
  }, [setHeaderMounted]);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-modal__header", className);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();

  var headerStyles = _extends({
    flex: 0
  }, styles.header);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.header, _extends({
    ref: ref,
    className: _className,
    id: headerId
  }, rest, {
    __css: headerStyles
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  ModalHeader.displayName = "ModalHeader";
}

/**
 * ModalBody
 *
 * React component that houses the main content of the modal.
 *
 * @see Docs https://chakra-ui.com/modal
 */
var ModalBody = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  var className = props.className,
      rest = _objectWithoutPropertiesLoose(props, _excluded4);

  var _useModalContext6 = useModalContext(),
      bodyId = _useModalContext6.bodyId,
      setBodyMounted = _useModalContext6.setBodyMounted;
  /**
   * Notify us if this component was rendered or used
   * so we can append `aria-describedby` automatically
   */


  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    setBodyMounted(true);
    return function () {
      return setBodyMounted(false);
    };
  }, [setBodyMounted]);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-modal__body", className);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.div, _extends({
    ref: ref,
    className: _className,
    id: bodyId
  }, rest, {
    __css: styles.body
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  ModalBody.displayName = "ModalBody";
}

/**
 * ModalFooter houses the action buttons of the modal.
 * @see Docs https://chakra-ui.com/modal
 */
var ModalFooter = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  var className = props.className,
      rest = _objectWithoutPropertiesLoose(props, _excluded5);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-modal__footer", className);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();

  var footerStyles = _extends({
    display: "flex",
    alignItems: "center",
    justifyContent: "flex-end"
  }, styles.footer);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.footer, _extends({
    ref: ref
  }, rest, {
    __css: footerStyles,
    className: _className
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  ModalFooter.displayName = "ModalFooter";
}
/**
 * ModalCloseButton is used closes the modal.
 *
 * You don't need to pass the `onClick` to it, it reads the
 * `onClose` action from the modal context.
 */


var ModalCloseButton = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  var onClick = props.onClick,
      className = props.className,
      rest = _objectWithoutPropertiesLoose(props, _excluded6);

  var _useModalContext7 = useModalContext(),
      onClose = _useModalContext7.onClose;

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-modal__close-btn", className);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_close_button__WEBPACK_IMPORTED_MODULE_13__.CloseButton, _extends({
    ref: ref,
    __css: styles.closeButton,
    className: _className,
    onClick: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(onClick, function (event) {
      event.stopPropagation();
      onClose();
    })
  }, rest));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  ModalCloseButton.displayName = "ModalCloseButton";
}

var _excluded$1 = ["leastDestructiveRef"];
function AlertDialog(props) {
  var leastDestructiveRef = props.leastDestructiveRef,
      rest = _objectWithoutPropertiesLoose(props, _excluded$1);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Modal, _extends({}, rest, {
    initialFocusRef: leastDestructiveRef
  }));
}
var AlertDialogContent = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalContent, _extends({
    ref: ref,
    role: "alertdialog"
  }, props));
});

var _excluded = ["isOpen", "onClose", "placement", "children"],
    _excluded2 = ["className", "children"];

var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_6__.createContext)(),
    DrawerContextProvider = _createContext[0],
    useDrawerContext = _createContext[1];

var placementMap = {
  start: {
    ltr: "left",
    rtl: "right"
  },
  end: {
    ltr: "right",
    rtl: "left"
  }
};

function getDrawerPlacement(placement, dir) {
  var _placementMap$placeme, _placementMap$placeme2;

  if (!placement) return;
  return (_placementMap$placeme = (_placementMap$placeme2 = placementMap[placement]) == null ? void 0 : _placementMap$placeme2[dir]) != null ? _placementMap$placeme : placement;
}

function Drawer(props) {
  var _theme$components;

  var isOpen = props.isOpen,
      onClose = props.onClose,
      _props$placement = props.placement,
      placementProp = _props$placement === void 0 ? "right" : _props$placement,
      children = props.children,
      rest = _objectWithoutPropertiesLoose(props, _excluded);

  var theme = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useTheme)();
  var drawerStyleConfig = (_theme$components = theme.components) == null ? void 0 : _theme$components.Drawer;
  var placement = getDrawerPlacement(placementProp, theme.direction);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DrawerContextProvider, {
    value: {
      placement: placement
    }
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Modal, _extends({
    isOpen: isOpen,
    onClose: onClose,
    styleConfig: drawerStyleConfig
  }, rest), children));
}
var StyledSlide = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra)(_chakra_ui_transition__WEBPACK_IMPORTED_MODULE_2__.Slide);

/**
 * ModalContent is used to group modal's content. It has all the
 * necessary `aria-*` properties to indicate that it is a modal
 */
var DrawerContent = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function (props, ref) {
  var className = props.className,
      children = props.children,
      rest = _objectWithoutPropertiesLoose(props, _excluded2);

  var _useModalContext = useModalContext(),
      getDialogProps = _useModalContext.getDialogProps,
      getDialogContainerProps = _useModalContext.getDialogContainerProps,
      isOpen = _useModalContext.isOpen;

  var dialogProps = getDialogProps(rest, ref);
  var containerProps = getDialogContainerProps();

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-modal__content", className);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();

  var dialogStyles = _extends({
    display: "flex",
    flexDirection: "column",
    position: "relative",
    width: "100%",
    outline: 0
  }, styles.dialog);

  var dialogContainerStyles = _extends({
    display: "flex",
    width: "100vw",
    height: "100vh",
    position: "fixed",
    left: 0,
    top: 0
  }, styles.dialogContainer);

  var _useDrawerContext = useDrawerContext(),
      placement = _useDrawerContext.placement;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.div, _extends({}, containerProps, {
    className: "chakra-modal__content-container",
    __css: dialogContainerStyles
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalFocusScope, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledSlide, _extends({
    direction: placement,
    "in": isOpen,
    className: _className
  }, dialogProps, {
    __css: dialogStyles
  }), children)));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  DrawerContent.displayName = "DrawerContent";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/number-input/dist/chakra-ui-number-input.esm.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@chakra-ui/number-input/dist/chakra-ui-number-input.esm.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NumberDecrementStepper": () => (/* binding */ NumberDecrementStepper),
/* harmony export */   "NumberIncrementStepper": () => (/* binding */ NumberIncrementStepper),
/* harmony export */   "NumberInput": () => (/* binding */ NumberInput),
/* harmony export */   "NumberInputField": () => (/* binding */ NumberInputField),
/* harmony export */   "NumberInputStepper": () => (/* binding */ NumberInputStepper),
/* harmony export */   "StyledStepper": () => (/* binding */ StyledStepper),
/* harmony export */   "useNumberInput": () => (/* binding */ useNumberInput)
/* harmony export */ });
/* harmony import */ var _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/form-control */ "./node_modules/@chakra-ui/form-control/dist/chakra-ui-form-control.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/icon */ "./node_modules/@chakra-ui/icon/dist/chakra-ui-icon.esm.js");
/* harmony import */ var _chakra_ui_counter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/counter */ "./node_modules/@chakra-ui/counter/dist/chakra-ui-counter.esm.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");










function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var TriangleDownIcon = function TriangleDownIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_1__.Icon, _extends({
    viewBox: "0 0 24 24"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"
  }));
};
var TriangleUpIcon = function TriangleUpIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_1__.Icon, _extends({
    viewBox: "0 0 24 24"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"
  }));
};

/**
 * When click and hold on a button - the speed of auto changing the value.
 */

var CONTINUOUS_CHANGE_INTERVAL = 50;
/**
 * When click and hold on a button - the delay before auto changing the value.
 */

var CONTINUOUS_CHANGE_DELAY = 300;

/**
 * React hook used in the number input to spin its
 * value on long press of the spin buttons
 *
 * @param increment the function to increment
 * @param decrement the function to decrement
 */
function useSpinner(increment, decrement) {
  /**
   * To keep incrementing/decrementing on press, we call that `spinning`
   */
  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
      isSpinning = _useState[0],
      setIsSpinning = _useState[1]; // This state keeps track of the action ("increment" or "decrement")


  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),
      action = _useState2[0],
      setAction = _useState2[1]; // To increment the value the first time you mousedown, we call that `runOnce`


  var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true),
      runOnce = _useState3[0],
      setRunOnce = _useState3[1]; // Store the timeout instance id in a ref, so we can clear the timeout later


  var timeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null); // Clears the timeout from memory

  var removeTimeout = function removeTimeout() {
    return clearTimeout(timeoutRef.current);
  };
  /**
   * useInterval hook provides a performant way to
   * update the state value at specific interval
   */


  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useInterval)(function () {
    if (action === "increment") {
      increment();
    }

    if (action === "decrement") {
      decrement();
    }
  }, isSpinning ? CONTINUOUS_CHANGE_INTERVAL : null); // Function to activate the spinning and increment the value

  var up = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    // increment the first fime
    if (runOnce) {
      increment();
    } // after a delay, keep incrementing at interval ("spinning up")


    timeoutRef.current = setTimeout(function () {
      setRunOnce(false);
      setIsSpinning(true);
      setAction("increment");
    }, CONTINUOUS_CHANGE_DELAY);
  }, [increment, runOnce]); // Function to activate the spinning and increment the value

  var down = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    // decrement the first fime
    if (runOnce) {
      decrement();
    } // after a delay, keep decrementing at interval ("spinning down")


    timeoutRef.current = setTimeout(function () {
      setRunOnce(false);
      setIsSpinning(true);
      setAction("decrement");
    }, CONTINUOUS_CHANGE_DELAY);
  }, [decrement, runOnce]); // Function to stop spinng (useful for mouseup, keyup handlers)

  var stop = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    setRunOnce(true);
    setIsSpinning(false);
    removeTimeout();
  }, []);
  /**
   * If the component unmounts while spinning,
   * let's clear the timeout as well
   */

  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useUnmountEffect)(removeTimeout);
  return {
    up: up,
    down: down,
    stop: stop
  };
}

var FLOATING_POINT_REGEX = /^[Ee0-9+\-.]$/;
/**
 * Determine if a character is a DOM floating point character
 * @see https://www.w3.org/TR/2012/WD-html-markup-20120329/datatypes.html#common.data.float
 */

function isFloatingPointNumericCharacter(character) {
  return FLOATING_POINT_REGEX.test(character);
}
/**
 * Determine if the event is a valid numeric keyboard event.
 * We use this so we can prevent non-number characters in the input
 */

function isValidNumericKeyboardEvent(event) {
  if (event.key == null) return true;
  var isModifierKey = event.ctrlKey || event.altKey || event.metaKey;

  if (isModifierKey) {
    return true;
  }

  var isSingleCharacterKey = event.key.length === 1;

  if (!isSingleCharacterKey) {
    return true;
  }

  return isFloatingPointNumericCharacter(event.key);
}

var _excluded$1 = ["focusInputOnChange", "clampValueOnBlur", "keepWithinRange", "min", "max", "step", "isReadOnly", "isDisabled", "isRequired", "getAriaValueText", "isInvalid", "pattern", "inputMode", "allowMouseWheel", "id", "onChange", "precision", "name", "aria-describedby", "aria-label", "aria-labelledby", "onFocus", "onBlur"];

var sanitize = function sanitize(value) {
  return value.split("").filter(isFloatingPointNumericCharacter).join("");
};
/**
 * React hook that implements the WAI-ARIA Spin Button widget
 * and used to create numeric input fields.
 *
 * It returns prop getters you can use to build your own
 * custom number inputs.
 *
 * @see WAI-ARIA https://www.w3.org/TR/wai-aria-practices-1.1/#spinbutton
 * @see Docs     https://www.chakra-ui.com/useNumberInput
 * @see WHATWG   https://html.spec.whatwg.org/multipage/input.html#number-state-(type=number)
 */


function useNumberInput(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      _props$focusInputOnCh = _props.focusInputOnChange,
      focusInputOnChange = _props$focusInputOnCh === void 0 ? true : _props$focusInputOnCh,
      _props$clampValueOnBl = _props.clampValueOnBlur,
      clampValueOnBlur = _props$clampValueOnBl === void 0 ? true : _props$clampValueOnBl,
      _props$keepWithinRang = _props.keepWithinRange,
      keepWithinRange = _props$keepWithinRang === void 0 ? true : _props$keepWithinRang,
      _props$min = _props.min,
      min = _props$min === void 0 ? _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.minSafeInteger : _props$min,
      _props$max = _props.max,
      max = _props$max === void 0 ? _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.maxSafeInteger : _props$max,
      _props$step = _props.step,
      stepProp = _props$step === void 0 ? 1 : _props$step,
      isReadOnly = _props.isReadOnly,
      isDisabled = _props.isDisabled,
      isRequired = _props.isRequired,
      getAriaValueText = _props.getAriaValueText,
      isInvalid = _props.isInvalid,
      _props$pattern = _props.pattern,
      pattern = _props$pattern === void 0 ? "[0-9]*(.[0-9]+)?" : _props$pattern,
      _props$inputMode = _props.inputMode,
      inputMode = _props$inputMode === void 0 ? "decimal" : _props$inputMode,
      allowMouseWheel = _props.allowMouseWheel,
      id = _props.id;
      _props.onChange;
      _props.precision;
      var name = _props.name,
      ariaDescBy = _props["aria-describedby"],
      ariaLabel = _props["aria-label"],
      ariaLabelledBy = _props["aria-labelledby"],
      onFocus = _props.onFocus,
      onBlur = _props.onBlur,
      htmlProps = _objectWithoutPropertiesLoose(_props, _excluded$1);

  var onFocusProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useCallbackRef)(onFocus);
  var onBlurProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useCallbackRef)(onBlur);
  var getAriaValueTextProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useCallbackRef)(getAriaValueText);
  /**
   * Leverage the `useCounter` hook since it provides
   * the functionality to `increment`, `decrement` and `update`
   * counter values
   */

  var counter = (0,_chakra_ui_counter__WEBPACK_IMPORTED_MODULE_4__.useCounter)(props);
  var updateFn = counter.update,
      incrementFn = counter.increment,
      decrementFn = counter.decrement;
  /**
   * Keep track of the focused state of the input,
   * so user can this to change the styles of the
   * `spinners`, maybe :)
   */

  var _useBoolean = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useBoolean)(),
      isFocused = _useBoolean[0],
      setFocused = _useBoolean[1];

  var inputRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);
  /**
   * Sync state with uncontrolled form libraries like `react-hook-form`.
   */

  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useSafeLayoutEffect)(function () {
    if (!inputRef.current) return;
    var notInSync = inputRef.current.value != counter.value;

    if (notInSync) {
      counter.setValue(sanitize(inputRef.current.value));
    }
  }, []);
  var isInteractive = !(isReadOnly || isDisabled);
  var increment = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (step) {
    if (step === void 0) {
      step = stepProp;
    }

    if (isInteractive) {
      incrementFn(step);
    }
  }, [incrementFn, isInteractive, stepProp]);
  var decrement = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (step) {
    if (step === void 0) {
      step = stepProp;
    }

    if (isInteractive) {
      decrementFn(step);
    }
  }, [decrementFn, isInteractive, stepProp]);
  /**
   * Leverage the `useSpinner` hook to spin the input's value
   * when long press on the up and down buttons.
   *
   * This leverages `setInterval` internally
   */

  var spinner = useSpinner(increment, decrement);
  /**
   * The `onChange` handler filters out any character typed
   * that isn't floating point compatible.
   */

  var onChange = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    updateFn(sanitize(event.target.value));
  }, [updateFn]);
  var onKeyDown = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    /**
     * only allow valid numeric keys
     */
    if (!isValidNumericKeyboardEvent(event)) {
      event.preventDefault();
    }
    /**
     * Keyboard Accessibility
     *
     * We want to increase or decrease the input's value
     * based on if the user the arrow keys.
     *
     * @see https://www.w3.org/TR/wai-aria-practices-1.1/#keyboard-interaction-17
     */


    var stepFactor = getStepFactor(event) * stepProp;
    var eventKey = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.normalizeEventKey)(event);
    var keyMap = {
      ArrowUp: function ArrowUp() {
        return increment(stepFactor);
      },
      ArrowDown: function ArrowDown() {
        return decrement(stepFactor);
      },
      Home: function Home() {
        return updateFn(min);
      },
      End: function End() {
        return updateFn(max);
      }
    };
    var action = keyMap[eventKey];

    if (action) {
      event.preventDefault();
      action(event);
    }
  }, [updateFn, decrement, increment, max, min, stepProp]);

  var getStepFactor = function getStepFactor(event) {
    var ratio = 1;

    if (event.metaKey || event.ctrlKey) {
      ratio = 0.1;
    }

    if (event.shiftKey) {
      ratio = 10;
    }

    return ratio;
  };
  /**
   * If user would like to use a human-readable representation
   * of the value, rather than the value itself they can pass `getAriaValueText`
   *
   * @see https://www.w3.org/TR/wai-aria-practices-1.1/#wai-aria-roles-states-and-properties-18
   * @see https://www.w3.org/TR/wai-aria-1.1/#aria-valuetext
   */


  var ariaValueText = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    var text = getAriaValueTextProp == null ? void 0 : getAriaValueTextProp(counter.value);

    if (!(0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isNull)(text)) {
      return text;
    }

    var defaultText = counter.value.toString(); // empty string is an invalid ARIA attribute value

    return !defaultText ? undefined : defaultText;
  }, [counter.value, getAriaValueTextProp]);
  /**
   * Function that clamps the input's value on blur
   */

  var validateAndClamp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    var next = counter.value;
    if (next === "") return;

    if (counter.valueAsNumber < min) {
      next = min;
    }

    if (counter.valueAsNumber > max) {
      next = max;
    }
    /**
     * `counter.cast` does 2 things:
     *
     * - sanitize the value by using parseFloat and some Regex
     * - used to round value to computed precision or decimal points
     */


    counter.cast(next);
  }, [counter, max, min]);
  var onInputBlur = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    setFocused.off();

    if (clampValueOnBlur) {
      validateAndClamp();
    }
  }, [clampValueOnBlur, setFocused, validateAndClamp]);
  var focusInput = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    if (focusInputOnChange) {
      (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.focus)(inputRef.current, {
        nextTick: true
      });
    }
  }, [focusInputOnChange]);
  var spinUp = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    event.preventDefault();
    spinner.up();
    focusInput();
  }, [focusInput, spinner]);
  var spinDown = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    event.preventDefault();
    spinner.down();
    focusInput();
  }, [focusInput, spinner]);
  var pointerDown = _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.isBrowser && !!document.documentElement.ontouchstart ? "onTouchStart" : "onMouseDown";
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useEventListener)("wheel", function (event) {
    var isInputFocused = document.activeElement === inputRef.current;
    if (!allowMouseWheel || !isInputFocused) return;
    event.preventDefault();
    var stepFactor = getStepFactor(event) * stepProp;
    var direction = Math.sign(event.deltaY);

    if (direction === -1) {
      increment(stepFactor);
    } else if (direction === 1) {
      decrement(stepFactor);
    }
  }, inputRef.current, {
    passive: false
  });
  var getIncrementButtonProps = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (props, ref) {
    var _extends2;

    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    var disabled = isDisabled || keepWithinRange && counter.isAtMax;
    return _extends({}, props, (_extends2 = {
      ref: ref,
      role: "button",
      tabIndex: -1
    }, _extends2[pointerDown] = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props[pointerDown], spinUp), _extends2.onMouseUp = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onMouseUp, spinner.stop), _extends2.onMouseLeave = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onMouseUp, spinner.stop), _extends2.onTouchEnd = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onTouchEnd, spinner.stop), _extends2.disabled = disabled, _extends2["aria-disabled"] = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.ariaAttr)(disabled), _extends2));
  }, [pointerDown, counter.isAtMax, keepWithinRange, spinUp, spinner.stop, isDisabled]);
  var getDecrementButtonProps = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (props, ref) {
    var _extends3;

    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    var disabled = isDisabled || keepWithinRange && counter.isAtMin;
    return _extends({}, props, (_extends3 = {
      ref: ref,
      role: "button",
      tabIndex: -1
    }, _extends3[pointerDown] = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props[pointerDown], spinDown), _extends3.onMouseLeave = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onMouseLeave, spinner.stop), _extends3.onMouseUp = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onMouseUp, spinner.stop), _extends3.onTouchEnd = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onTouchEnd, spinner.stop), _extends3.disabled = disabled, _extends3["aria-disabled"] = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.ariaAttr)(disabled), _extends3));
  }, [pointerDown, counter.isAtMin, keepWithinRange, spinDown, spinner.stop, isDisabled]);
  var getInputProps = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (props, ref) {
    var _props$readOnly, _props$readOnly2, _props$required, _props$required2;

    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({
      name: name,
      inputMode: inputMode,
      type: "text",
      pattern: pattern,
      "aria-labelledby": ariaLabelledBy,
      "aria-label": ariaLabel,
      "aria-describedby": ariaDescBy,
      id: id,
      disabled: isDisabled
    }, props, {
      readOnly: (_props$readOnly = props.readOnly) != null ? _props$readOnly : isReadOnly,
      "aria-readonly": (_props$readOnly2 = props.readOnly) != null ? _props$readOnly2 : isReadOnly,
      "aria-required": (_props$required = props.required) != null ? _props$required : isRequired,
      required: (_props$required2 = props.required) != null ? _props$required2 : isRequired,
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_5__.mergeRefs)(inputRef, ref),
      value: counter.value,
      role: "spinbutton",
      "aria-valuemin": min,
      "aria-valuemax": max,
      "aria-valuenow": Number.isNaN(counter.valueAsNumber) ? undefined : counter.valueAsNumber,
      "aria-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.ariaAttr)(isInvalid != null ? isInvalid : counter.isOutOfRange),
      "aria-valuetext": ariaValueText,
      autoComplete: "off",
      autoCorrect: "off",
      onChange: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onChange, onChange),
      onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onKeyDown, onKeyDown),
      onFocus: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onFocus, onFocusProp, setFocused.on),
      onBlur: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.callAllHandlers)(props.onBlur, onBlurProp, onInputBlur)
    });
  }, [name, inputMode, pattern, ariaLabelledBy, ariaLabel, ariaDescBy, id, isDisabled, isRequired, isReadOnly, isInvalid, counter.value, counter.valueAsNumber, counter.isOutOfRange, min, max, ariaValueText, onChange, onKeyDown, onFocusProp, setFocused.on, onBlurProp, onInputBlur]);
  return {
    value: counter.value,
    valueAsNumber: counter.valueAsNumber,
    isFocused: isFocused,
    isDisabled: isDisabled,
    isReadOnly: isReadOnly,
    getIncrementButtonProps: getIncrementButtonProps,
    getDecrementButtonProps: getDecrementButtonProps,
    getInputProps: getInputProps,
    htmlProps: htmlProps
  };
}

var _excluded = ["htmlProps"];

/**
 * React context used to communicate between components
 */
var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_5__.createContext)({
  name: "NumberInputContext",
  errorMessage: "useNumberInputContext: `context` is undefined. Seems you forgot to wrap number-input's components within <NumberInput />"
}),
    NumberInputProvider = _createContext[0],
    useNumberInputContext = _createContext[1];

/**
 * NumberInput
 *
 * React component that provides context and logic to all
 * number input sub-components.
 *
 * It renders a `div` by default.
 *
 * @see Docs http://chakra-ui.com/numberinput
 */
var NumberInput = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useMultiStyleConfig)("NumberInput", props);
  var ownProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.omitThemingProps)(props);
  var controlProps = (0,_chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_7__.useFormControlProps)(ownProps);

  var _useNumberInput = useNumberInput(controlProps),
      htmlProps = _useNumberInput.htmlProps,
      context = _objectWithoutPropertiesLoose(_useNumberInput, _excluded);

  var ctx = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return context;
  }, [context]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(NumberInputProvider, {
    value: ctx
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.chakra.div, _extends({}, htmlProps, {
    ref: ref,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-numberinput", props.className),
    __css: _extends({
      position: "relative",
      zIndex: 0
    }, styles.root)
  }))));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  NumberInput.displayName = "NumberInput";
}

/**
 * NumberInputStepper
 *
 * React component used to group the increment and decrement
 * button spinners.
 *
 * It renders a `div` by default.
 *
 * @see Docs http://chakra-ui.com/components/number-input
 */
var NumberInputStepper = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.chakra.div, _extends({
    "aria-hidden": true,
    ref: ref
  }, props, {
    __css: _extends({
      display: "flex",
      flexDirection: "column",
      position: "absolute",
      top: "0",
      insetEnd: "0px",
      margin: "1px",
      height: "calc(100% - 2px)",
      zIndex: 1
    }, styles.stepperGroup)
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  NumberInputStepper.displayName = "NumberInputStepper";
}

/**
 * NumberInputField
 *
 * React component that represents the actual `input` field
 * where users can type to edit numeric values.
 *
 * It renders an `input` by default and ensures only numeric
 * values can be typed.
 *
 * @see Docs http://chakra-ui.com/numberinput
 */
var NumberInputField = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var _useNumberInputContex = useNumberInputContext(),
      getInputProps = _useNumberInputContex.getInputProps;

  var input = getInputProps(props, ref);
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.chakra.input, _extends({}, input, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-numberinput__field", props.className),
    __css: _extends({
      width: "100%"
    }, styles.field)
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  NumberInputField.displayName = "NumberInputField";
}

var StyledStepper = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.chakra)("div", {
  baseStyle: {
    display: "flex",
    justifyContent: "center",
    alignItems: "center",
    flex: 1,
    transitionProperty: "common",
    transitionDuration: "normal",
    userSelect: "none",
    cursor: "pointer",
    lineHeight: "normal"
  }
});

/**
 * NumberDecrementStepper
 *
 * React component used to decrement the number input's value
 *
 * It renders a `div` with `role=button` by default
 */
var NumberDecrementStepper = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var _props$children;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useStyles)();

  var _useNumberInputContex2 = useNumberInputContext(),
      getDecrementButtonProps = _useNumberInputContex2.getDecrementButtonProps;

  var decrement = getDecrementButtonProps(props, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledStepper, _extends({}, decrement, {
    __css: styles.stepper
  }), (_props$children = props.children) != null ? _props$children : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TriangleDownIcon, null));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  NumberDecrementStepper.displayName = "NumberDecrementStepper";
}

/**
 * NumberIncrementStepper
 *
 * React component used to increment the number input's value
 *
 * It renders a `div` with `role=button` by default
 */
var NumberIncrementStepper = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var _props$children2;

  var _useNumberInputContex3 = useNumberInputContext(),
      getIncrementButtonProps = _useNumberInputContex3.getIncrementButtonProps;

  var increment = getIncrementButtonProps(props, ref);
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledStepper, _extends({}, increment, {
    __css: styles.stepper
  }), (_props$children2 = props.children) != null ? _props$children2 : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TriangleUpIcon, null));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  NumberIncrementStepper.displayName = "NumberIncrementStepper";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/pin-input/dist/chakra-ui-pin-input.esm.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@chakra-ui/pin-input/dist/chakra-ui-pin-input.esm.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PinInput": () => (/* binding */ PinInput),
/* harmony export */   "PinInputDescendantsProvider": () => (/* binding */ PinInputDescendantsProvider),
/* harmony export */   "PinInputField": () => (/* binding */ PinInputField),
/* harmony export */   "PinInputProvider": () => (/* binding */ PinInputProvider),
/* harmony export */   "usePinInput": () => (/* binding */ usePinInput),
/* harmony export */   "usePinInputContext": () => (/* binding */ usePinInputContext),
/* harmony export */   "usePinInputDescendant": () => (/* binding */ usePinInputDescendant),
/* harmony export */   "usePinInputDescendants": () => (/* binding */ usePinInputDescendants),
/* harmony export */   "usePinInputDescendantsContext": () => (/* binding */ usePinInputDescendantsContext),
/* harmony export */   "usePinInputField": () => (/* binding */ usePinInputField)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_descendant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/descendant */ "./node_modules/@chakra-ui/descendant/dist/chakra-ui-descendant.esm.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");







function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded$1 = ["index"];
/* -------------------------------------------------------------------------------------------------
 * Create context to track descendants and their indices
 * -----------------------------------------------------------------------------------------------*/

var _createDescendantCont = (0,_chakra_ui_descendant__WEBPACK_IMPORTED_MODULE_1__.createDescendantContext)(),
    PinInputDescendantsProvider = _createDescendantCont[0],
    usePinInputDescendantsContext = _createDescendantCont[1],
    usePinInputDescendants = _createDescendantCont[2],
    usePinInputDescendant = _createDescendantCont[3];

var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__.createContext)({
  name: "PinInputContext",
  errorMessage: "usePinInputContext: `context` is undefined. Seems you forgot to all pin input fields within `<PinInput />`"
}),
    PinInputProvider = _createContext[0],
    usePinInputContext = _createContext[1];

var toArray = function toArray(value) {
  return value == null ? void 0 : value.split("");
};

function validate(value, type) {
  var NUMERIC_REGEX = /^[0-9]+$/;
  var ALPHA_NUMERIC_REGEX = /^[a-zA-Z0-9]+$/i;
  var regex = type === "alphanumeric" ? ALPHA_NUMERIC_REGEX : NUMERIC_REGEX;
  return regex.test(value);
}
/* -------------------------------------------------------------------------------------------------
 * usePinInput - handles the general pin input logic
 * -----------------------------------------------------------------------------------------------*/

/**
 * @internal
 */


function usePinInput(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      autoFocus = _props.autoFocus,
      value = _props.value,
      defaultValue = _props.defaultValue,
      _onChange = _props.onChange,
      onComplete = _props.onComplete,
      _props$placeholder = _props.placeholder,
      placeholder = _props$placeholder === void 0 ? "○" : _props$placeholder,
      _props$manageFocus = _props.manageFocus,
      manageFocus = _props$manageFocus === void 0 ? true : _props$manageFocus,
      _props$otp = _props.otp,
      otp = _props$otp === void 0 ? false : _props$otp,
      idProp = _props.id,
      isDisabled = _props.isDisabled,
      isInvalid = _props.isInvalid,
      _props$type = _props.type,
      type = _props$type === void 0 ? "number" : _props$type,
      mask = _props.mask;
  var uuid = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_3__.useId)();
  var id = idProp != null ? idProp : "pin-input-" + uuid;
  var descendants = usePinInputDescendants();

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(true),
      moveFocus = _React$useState[0],
      setMoveFocus = _React$useState[1];

  var _React$useState2 = react__WEBPACK_IMPORTED_MODULE_0__.useState(-1),
      focusedIndex = _React$useState2[0],
      setFocusedIndex = _React$useState2[1];

  var _useControllableState = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_3__.useControllableState)({
    defaultValue: toArray(defaultValue) || [],
    value: toArray(value),
    onChange: function onChange(values) {
      return _onChange == null ? void 0 : _onChange(values.join(""));
    }
  }),
      values = _useControllableState[0],
      setValues = _useControllableState[1];

  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    if (autoFocus) {
      var first = descendants.first();
      if (first) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.focus)(first.node, {
        nextTick: true
      });
    } // We don't want to listen for updates to `autoFocus` since it only runs initially
    // eslint-disable-next-line

  }, [descendants]);
  var focusNext = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (index) {
    if (!moveFocus || !manageFocus) return;
    var next = descendants.next(index, false);
    if (next) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.focus)(next.node, {
      nextTick: true
    });
  }, [descendants, moveFocus, manageFocus]);
  var setValue = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (value, index) {
    var nextValues = [].concat(values);
    nextValues[index] = value;
    setValues(nextValues);
    var isComplete = value !== "" && nextValues.length === descendants.count() && nextValues.every(function (inputValue) {
      return inputValue != null && inputValue !== "";
    });

    if (isComplete) {
      onComplete == null ? void 0 : onComplete(nextValues.join(""));
    } else {
      focusNext(index);
    }
  }, [values, setValues, focusNext, onComplete, descendants]);
  var clear = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    var values = Array(descendants.count()).fill("");
    setValues(values);
    var first = descendants.first();
    if (first) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.focus)(first.node);
  }, [descendants, setValues]);
  var getNextValue = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (value, eventValue) {
    var nextValue = eventValue;

    if ((value == null ? void 0 : value.length) > 0) {
      if (value[0] === eventValue.charAt(0)) {
        nextValue = eventValue.charAt(1);
      } else if (value[0] === eventValue.charAt(1)) {
        nextValue = eventValue.charAt(0);
      }
    }

    return nextValue;
  }, []);
  var getInputProps = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (props) {
    var index = props.index,
        rest = _objectWithoutPropertiesLoose(props, _excluded$1);
    /**
     * Improved from: https://github.com/uber/baseweb/blob/master/src/pin-code/pin-code.js
     */


    var onChange = function onChange(event) {
      var eventValue = event.target.value;
      var currentValue = values[index];
      var nextValue = getNextValue(currentValue, eventValue); // if the value was removed using backspace

      if (nextValue === "") {
        setValue("", index);
        return;
      } // in the case of an autocomplete or copy and paste


      if (eventValue.length > 2) {
        // see if we can use the string to fill out our values
        if (validate(eventValue, type)) {
          // Ensure the value matches the number of inputs
          var _nextValue = eventValue.split("").filter(function (_, index) {
            return index < descendants.count();
          });

          setValues(_nextValue); // if pasting fills the entire input fields, trigger `onComplete`

          if (_nextValue.length === descendants.count()) {
            onComplete == null ? void 0 : onComplete(_nextValue.join(""));
          }
        }
      } else {
        // only set if the new value is a number
        if (validate(nextValue, type)) {
          setValue(nextValue, index);
        }

        setMoveFocus(true);
      }
    };

    var onKeyDown = function onKeyDown(event) {
      if (event.key === "Backspace" && manageFocus) {
        if (event.target.value === "") {
          var prevInput = descendants.prev(index, false);

          if (prevInput) {
            setValue("", index - 1);
            (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.focus)(prevInput.node);
            setMoveFocus(true);
          }
        } else {
          setMoveFocus(false);
        }
      }
    };

    var onFocus = function onFocus() {
      setFocusedIndex(index);
    };

    var onBlur = function onBlur() {
      setFocusedIndex(-1);
    };

    var hasFocus = focusedIndex === index;
    var inputType = type === "number" ? "tel" : "text";
    return _extends({
      "aria-label": "Please enter your pin code",
      inputMode: type === "number" ? "numeric" : "text",
      type: mask ? "password" : inputType
    }, rest, {
      id: id + "-" + index,
      disabled: isDisabled,
      "aria-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.ariaAttr)(isInvalid),
      onChange: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.callAllHandlers)(rest.onChange, onChange),
      onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.callAllHandlers)(rest.onKeyDown, onKeyDown),
      onFocus: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.callAllHandlers)(rest.onFocus, onFocus),
      onBlur: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.callAllHandlers)(rest.onBlur, onBlur),
      value: values[index] || "",
      autoComplete: otp ? "one-time-code" : "off",
      placeholder: hasFocus ? "" : placeholder
    });
  }, [descendants, focusedIndex, getNextValue, id, isDisabled, mask, isInvalid, manageFocus, onComplete, otp, placeholder, setValue, setValues, type, values]);
  return {
    // prop getter
    getInputProps: getInputProps,
    // state
    id: id,
    descendants: descendants,
    values: values,
    // actions
    setValue: setValue,
    setValues: setValues,
    clear: clear
  };
}

/**
 * @internal
 */
function usePinInputField(props, ref) {
  if (props === void 0) {
    props = {};
  }

  if (ref === void 0) {
    ref = null;
  }

  var _usePinInputContext = usePinInputContext(),
      getInputProps = _usePinInputContext.getInputProps;

  var _usePinInputDescendan = usePinInputDescendant(),
      index = _usePinInputDescendan.index,
      register = _usePinInputDescendan.register;

  return getInputProps(_extends({}, props, {
    ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__.mergeRefs)(register, ref),
    index: index
  }));
}

var _excluded = ["children"],
    _excluded2 = ["descendants"];
var PinInput = function PinInput(props) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.useStyleConfig)("PinInput", props);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.omitThemingProps)(props),
      children = _omitThemingProps.children,
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);

  var _usePinInput = usePinInput(rest),
      descendants = _usePinInput.descendants,
      context = _objectWithoutPropertiesLoose(_usePinInput, _excluded2);

  var clones = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_2__.getValidChildren)(children).map(function (child) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, {
      __css: styles
    });
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(PinInputDescendantsProvider, {
    value: descendants
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(PinInputProvider, {
    value: context
  }, clones));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  PinInput.displayName = "PinInput";
}

var PinInputField = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.forwardRef)(function (props, ref) {
  var inputProps = usePinInputField(props, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_5__.chakra.input, _extends({}, inputProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-pin-input", props.className)
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  PinInputField.displayName = "PinInputField";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/popover/dist/chakra-ui-popover.esm.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@chakra-ui/popover/dist/chakra-ui-popover.esm.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Popover": () => (/* binding */ Popover),
/* harmony export */   "PopoverAnchor": () => (/* binding */ PopoverAnchor),
/* harmony export */   "PopoverArrow": () => (/* binding */ PopoverArrow),
/* harmony export */   "PopoverBody": () => (/* binding */ PopoverBody),
/* harmony export */   "PopoverCloseButton": () => (/* binding */ PopoverCloseButton),
/* harmony export */   "PopoverContent": () => (/* binding */ PopoverContent),
/* harmony export */   "PopoverFooter": () => (/* binding */ PopoverFooter),
/* harmony export */   "PopoverHeader": () => (/* binding */ PopoverHeader),
/* harmony export */   "PopoverTrigger": () => (/* binding */ PopoverTrigger),
/* harmony export */   "usePopover": () => (/* binding */ usePopover),
/* harmony export */   "usePopoverContext": () => (/* binding */ usePopoverContext)
/* harmony export */ });
/* harmony import */ var _chakra_ui_close_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @chakra-ui/close-button */ "./node_modules/@chakra-ui/close-button/dist/chakra-ui-close-button.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/lodash.mergewith/index.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");
/* harmony import */ var _chakra_ui_popper__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/popper */ "./node_modules/@chakra-ui/popper/dist/chakra-ui-popper.esm.js");










function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_1__.createContext)({
  name: "PopoverContext",
  errorMessage: "usePopoverContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Popover />`"
}),
    PopoverProvider = _createContext[0],
    usePopoverContext = _createContext[1];

var mergeVariants = function mergeVariants(variants) {
  if (!variants) return;
  return _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2___default()(variants, {
    enter: {
      visibility: "visible"
    },
    exit: {
      transitionEnd: {
        visibility: "hidden"
      }
    }
  });
};

var scaleFade = {
  exit: {
    opacity: 0,
    scale: 0.95,
    transition: {
      duration: 0.1,
      ease: [0.4, 0, 1, 1]
    }
  },
  enter: {
    scale: 1,
    opacity: 1,
    transition: {
      duration: 0.15,
      ease: [0, 0, 0.2, 1]
    }
  }
};
var Section = (0,framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion)(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.section);
var PopoverTransition = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var _usePopoverContext = usePopoverContext(),
      isOpen = _usePopoverContext.isOpen;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Section, _extends({
    ref: ref,
    variants: mergeVariants(props.variants)
  }, props, {
    initial: false,
    animate: isOpen ? "enter" : "exit"
  }));
});
PopoverTransition.defaultProps = {
  variants: scaleFade
};

var _excluded$1 = ["closeOnBlur", "closeOnEsc", "initialFocusRef", "id", "returnFocusOnClose", "autoFocus", "arrowSize", "arrowShadowColor", "trigger", "openDelay", "closeDelay", "isLazy", "lazyBehavior", "computePositionOnMount"];
var TRIGGER = {
  click: "click",
  hover: "hover"
};

/**
 * @internal
 */
function usePopover(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      _props$closeOnBlur = _props.closeOnBlur,
      closeOnBlur = _props$closeOnBlur === void 0 ? true : _props$closeOnBlur,
      _props$closeOnEsc = _props.closeOnEsc,
      closeOnEsc = _props$closeOnEsc === void 0 ? true : _props$closeOnEsc,
      initialFocusRef = _props.initialFocusRef,
      id = _props.id,
      _props$returnFocusOnC = _props.returnFocusOnClose,
      returnFocusOnClose = _props$returnFocusOnC === void 0 ? true : _props$returnFocusOnC,
      _props$autoFocus = _props.autoFocus,
      autoFocus = _props$autoFocus === void 0 ? true : _props$autoFocus,
      arrowSize = _props.arrowSize,
      arrowShadowColor = _props.arrowShadowColor,
      _props$trigger = _props.trigger,
      trigger = _props$trigger === void 0 ? TRIGGER.click : _props$trigger,
      _props$openDelay = _props.openDelay,
      openDelay = _props$openDelay === void 0 ? 200 : _props$openDelay,
      _props$closeDelay = _props.closeDelay,
      closeDelay = _props$closeDelay === void 0 ? 200 : _props$closeDelay,
      isLazy = _props.isLazy,
      _props$lazyBehavior = _props.lazyBehavior,
      lazyBehavior = _props$lazyBehavior === void 0 ? "unmount" : _props$lazyBehavior,
      computePositionOnMount = _props.computePositionOnMount,
      popperProps = _objectWithoutPropertiesLoose(_props, _excluded$1);

  var _useDisclosure = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_5__.useDisclosure)(props),
      isOpen = _useDisclosure.isOpen,
      onClose = _useDisclosure.onClose,
      onOpen = _useDisclosure.onOpen,
      onToggle = _useDisclosure.onToggle;

  var anchorRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var triggerRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var popoverRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var isHoveringRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  var hasBeenOpened = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);

  if (isOpen) {
    hasBeenOpened.current = true;
  }

  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
      hasHeader = _useState[0],
      setHasHeader = _useState[1];

  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false),
      hasBody = _useState2[0],
      setHasBody = _useState2[1];

  var _useIds = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_5__.useIds)(id, "popover-trigger", "popover-content", "popover-header", "popover-body"),
      triggerId = _useIds[0],
      popoverId = _useIds[1],
      headerId = _useIds[2],
      bodyId = _useIds[3];

  var _usePopper = (0,_chakra_ui_popper__WEBPACK_IMPORTED_MODULE_6__.usePopper)(_extends({}, popperProps, {
    enabled: isOpen || !!computePositionOnMount
  })),
      referenceRef = _usePopper.referenceRef,
      getArrowProps = _usePopper.getArrowProps,
      getPopperProps = _usePopper.getPopperProps,
      getArrowInnerProps = _usePopper.getArrowInnerProps,
      forceUpdate = _usePopper.forceUpdate;

  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_5__.useFocusOnPointerDown)({
    enabled: isOpen,
    ref: triggerRef
  });
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_5__.useFocusOnHide)(popoverRef, {
    focusRef: triggerRef,
    visible: isOpen,
    shouldFocus: returnFocusOnClose && trigger === TRIGGER.click
  });
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_5__.useFocusOnShow)(popoverRef, {
    focusRef: initialFocusRef,
    visible: isOpen,
    shouldFocus: autoFocus && trigger === TRIGGER.click
  });
  var shouldRenderChildren = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.determineLazyBehavior)({
    hasBeenSelected: hasBeenOpened.current,
    isLazy: isLazy,
    lazyBehavior: lazyBehavior,
    isSelected: isOpen
  });
  var getPopoverProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, _ref) {
    var _extends2;

    if (props === void 0) {
      props = {};
    }

    if (_ref === void 0) {
      _ref = null;
    }

    var popoverProps = _extends({}, props, {
      style: _extends({}, props.style, (_extends2 = {
        transformOrigin: _chakra_ui_popper__WEBPACK_IMPORTED_MODULE_6__.popperCSSVars.transformOrigin.varRef
      }, _extends2[_chakra_ui_popper__WEBPACK_IMPORTED_MODULE_6__.popperCSSVars.arrowSize["var"]] = arrowSize ? (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.px)(arrowSize) : undefined, _extends2[_chakra_ui_popper__WEBPACK_IMPORTED_MODULE_6__.popperCSSVars.arrowShadowColor["var"]] = arrowShadowColor, _extends2)),
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_1__.mergeRefs)(popoverRef, _ref),
      children: shouldRenderChildren ? props.children : null,
      id: popoverId,
      tabIndex: -1,
      role: "dialog",
      onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onKeyDown, function (event) {
        if (closeOnEsc && event.key === "Escape") {
          onClose();
        }
      }),
      onBlur: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onBlur, function (event) {
        var relatedTarget = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.getRelatedTarget)(event);
        var targetIsPopover = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.contains)(popoverRef.current, relatedTarget);
        var targetIsTrigger = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.contains)(triggerRef.current, relatedTarget);
        var isValidBlur = !targetIsPopover && !targetIsTrigger;

        if (isOpen && closeOnBlur && isValidBlur) {
          onClose();
        }
      }),
      "aria-labelledby": hasHeader ? headerId : undefined,
      "aria-describedby": hasBody ? bodyId : undefined
    });

    if (trigger === TRIGGER.hover) {
      popoverProps.role = "tooltip";
      popoverProps.onMouseEnter = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onMouseEnter, function () {
        isHoveringRef.current = true;
      });
      popoverProps.onMouseLeave = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onMouseLeave, function () {
        isHoveringRef.current = false;
        setTimeout(onClose, closeDelay);
      });
    }

    return popoverProps;
  }, [shouldRenderChildren, popoverId, hasHeader, headerId, hasBody, bodyId, trigger, closeOnEsc, onClose, isOpen, closeOnBlur, closeDelay, arrowShadowColor, arrowSize]);
  var getPopoverPositionerProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, forwardedRef) {
    if (props === void 0) {
      props = {};
    }

    if (forwardedRef === void 0) {
      forwardedRef = null;
    }

    return getPopperProps(_extends({}, props, {
      style: _extends({
        visibility: isOpen ? "visible" : "hidden"
      }, props.style)
    }), forwardedRef);
  }, [isOpen, getPopperProps]);
  var getAnchorProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, _ref) {
    if (_ref === void 0) {
      _ref = null;
    }

    var anchorProps = _extends({}, props, {
      // If anchor is rendered, it is used as reference.
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_1__.mergeRefs)(_ref, anchorRef, referenceRef)
    });

    return anchorProps;
  }, [anchorRef, referenceRef]);
  var openTimeout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  var closeTimeout = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();
  var maybeReferenceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (node) {
    // Don't override referenceRef in case the PopoverAnchor is rendered.
    if (anchorRef.current == null) {
      referenceRef(node);
    }
  }, [referenceRef]);
  var getTriggerProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, _ref) {
    if (props === void 0) {
      props = {};
    }

    if (_ref === void 0) {
      _ref = null;
    }

    var triggerProps = _extends({}, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_1__.mergeRefs)(triggerRef, _ref, maybeReferenceRef),
      id: triggerId,
      "aria-haspopup": "dialog",
      "aria-expanded": isOpen,
      "aria-controls": popoverId
    });

    if (trigger === TRIGGER.click) {
      triggerProps.onClick = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onClick, onToggle);
    }

    if (trigger === TRIGGER.hover) {
      /**
       * Any content that shows on pointer hover should also show on keyboard focus.
       * Consider focus and blur to be the `hover` for keyboard users.
       *
       * @see https://www.w3.org/WAI/WCAG21/Understanding/content-on-hover-or-focus.html
       */
      triggerProps.onFocus = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onFocus, onOpen);
      triggerProps.onBlur = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onBlur, function (event) {
        var relatedTarget = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.getRelatedTarget)(event);
        var isValidBlur = !(0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.contains)(popoverRef.current, relatedTarget);

        if (isOpen && closeOnBlur && isValidBlur) {
          onClose();
        }
      });
      /**
       * Any content that shows on hover or focus must be dismissible.
       * This case pressing `Escape` will dismiss the popover
       */

      triggerProps.onKeyDown = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onKeyDown, function (event) {
        if (event.key === "Escape") {
          onClose();
        }
      });
      triggerProps.onMouseEnter = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onMouseEnter, function () {
        isHoveringRef.current = true;
        openTimeout.current = window.setTimeout(onOpen, openDelay);
      });
      triggerProps.onMouseLeave = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.callAllHandlers)(props.onMouseLeave, function () {
        isHoveringRef.current = false;

        if (openTimeout.current) {
          clearTimeout(openTimeout.current);
          openTimeout.current = undefined;
        }

        closeTimeout.current = window.setTimeout(function () {
          if (isHoveringRef.current === false) {
            onClose();
          }
        }, closeDelay);
      });
    }

    return triggerProps;
  }, [triggerId, isOpen, popoverId, trigger, maybeReferenceRef, onToggle, onOpen, closeOnBlur, onClose, openDelay, closeDelay]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    return function () {
      if (openTimeout.current) {
        clearTimeout(openTimeout.current);
      }

      if (closeTimeout.current) {
        clearTimeout(closeTimeout.current);
      }
    };
  }, []);
  var getHeaderProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      id: headerId,
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_1__.mergeRefs)(ref, function (node) {
        setHasHeader(!!node);
      })
    });
  }, [headerId]);
  var getBodyProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      id: bodyId,
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_1__.mergeRefs)(ref, function (node) {
        setHasBody(!!node);
      })
    });
  }, [bodyId]);
  return {
    forceUpdate: forceUpdate,
    isOpen: isOpen,
    onClose: onClose,
    getAnchorProps: getAnchorProps,
    getArrowProps: getArrowProps,
    getArrowInnerProps: getArrowInnerProps,
    getPopoverPositionerProps: getPopoverPositionerProps,
    getPopoverProps: getPopoverProps,
    getTriggerProps: getTriggerProps,
    getHeaderProps: getHeaderProps,
    getBodyProps: getBodyProps
  };
}

var _excluded = ["children"],
    _excluded2 = ["rootProps"];

/**
 * Popover is used to bring attention to specific user interface elements,
 * typically to suggest an action or to guide users through a new experience.
 */
var Popover = function Popover(props) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useMultiStyleConfig)("Popover", props);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.omitThemingProps)(props),
      children = _omitThemingProps.children,
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);

  var theme = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useTheme)();
  var context = usePopover(_extends({}, rest, {
    direction: theme.direction
  }));
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(PopoverProvider, {
    value: context
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.StylesProvider, {
    value: styles
  }, (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.runIfFn)(children, {
    isOpen: context.isOpen,
    onClose: context.onClose,
    forceUpdate: context.forceUpdate
  })));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  Popover.displayName = "Popover";
}
/**
 * PopoverAnchor is element that is used as the positioning reference
 * for the popover.
 */


var PopoverAnchor = function PopoverAnchor(props) {
  // enforce a single child
  var child = react__WEBPACK_IMPORTED_MODULE_0__.Children.only(props.children);

  var _usePopoverContext = usePopoverContext(),
      getAnchorProps = _usePopoverContext.getAnchorProps;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, getAnchorProps(child.props, child.ref));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  PopoverAnchor.displayName = "PopoverAnchor";
}
/**
 * PopoverTrigger opens the popover's content. It must be an interactive element
 * such as `button` or `a`.
 */


var PopoverTrigger = function PopoverTrigger(props) {
  // enforce a single child
  var child = react__WEBPACK_IMPORTED_MODULE_0__.Children.only(props.children);

  var _usePopoverContext2 = usePopoverContext(),
      getTriggerProps = _usePopoverContext2.getTriggerProps;

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, getTriggerProps(child.props, child.ref));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  PopoverTrigger.displayName = "PopoverTrigger";
}

var PopoverContent = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var rootProps = props.rootProps,
      contentProps = _objectWithoutPropertiesLoose(props, _excluded2);

  var _usePopoverContext3 = usePopoverContext(),
      getPopoverProps = _usePopoverContext3.getPopoverProps,
      getPopoverPositionerProps = _usePopoverContext3.getPopoverPositionerProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();

  var contentStyles = _extends({
    position: "relative",
    display: "flex",
    flexDirection: "column"
  }, styles.content);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, getPopoverPositionerProps(rootProps), {
    __css: styles.popper,
    className: "chakra-popover__popper"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(PopoverTransition, _extends({}, getPopoverProps(contentProps, ref), {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-popover__content", props.className),
    __css: contentStyles
  })));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  PopoverContent.displayName = "PopoverContent";
}

/**
 * PopoverHeader is the accessible header or label
 * for the popover's content and it is first announced by screenreaders.
 */
var PopoverHeader = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _usePopoverContext4 = usePopoverContext(),
      getHeaderProps = _usePopoverContext4.getHeaderProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.header, _extends({}, getHeaderProps(props, ref), {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-popover__header", props.className),
    __css: styles.header
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  PopoverHeader.displayName = "PopoverHeader";
}

/**
 * PopoverBody is the main content area for the popover. Should contain
 * at least one interactive element.
 */
var PopoverBody = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _usePopoverContext5 = usePopoverContext(),
      getBodyProps = _usePopoverContext5.getBodyProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, getBodyProps(props, ref), {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-popover__body", props.className),
    __css: styles.body
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  PopoverBody.displayName = "PopoverBody";
}

var PopoverFooter = function PopoverFooter(props) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.footer, _extends({}, props, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-popover__footer", props.className),
    __css: styles.footer
  }));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  PopoverFooter.displayName = "PopoverFooter";
}

var PopoverCloseButton = function PopoverCloseButton(props) {
  var _usePopoverContext6 = usePopoverContext(),
      onClose = _usePopoverContext6.onClose;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_close_button__WEBPACK_IMPORTED_MODULE_8__.CloseButton, _extends({
    size: "sm",
    onClick: onClose,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-popover__close-btn", props.className),
    __css: styles.closeButton
  }, props));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  PopoverCloseButton.displayName = "PopoverCloseButton";
}

var PopoverArrow = function PopoverArrow(props) {
  var _ref;

  var bg = props.bg,
      bgColor = props.bgColor,
      backgroundColor = props.backgroundColor;

  var _usePopoverContext7 = usePopoverContext(),
      getArrowProps = _usePopoverContext7.getArrowProps,
      getArrowInnerProps = _usePopoverContext7.getArrowInnerProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  var arrowBg = (_ref = bg != null ? bg : bgColor) != null ? _ref : backgroundColor;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, getArrowProps(), {
    className: "chakra-popover__arrow-positioner"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.cx)("chakra-popover__arrow", props.className)
  }, getArrowInnerProps(props), {
    __css: _extends({}, styles.arrow, {
      "--popper-arrow-bg": arrowBg ? "colors." + arrowBg + ", " + arrowBg : undefined
    })
  })));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_7__.__DEV__) {
  PopoverArrow.displayName = "PopoverArrow";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/progress/dist/chakra-ui-progress.esm.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@chakra-ui/progress/dist/chakra-ui-progress.esm.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CircularProgress": () => (/* binding */ CircularProgress),
/* harmony export */   "CircularProgressLabel": () => (/* binding */ CircularProgressLabel),
/* harmony export */   "Progress": () => (/* binding */ Progress),
/* harmony export */   "ProgressLabel": () => (/* binding */ ProgressLabel)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");




function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var spin = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.keyframes)({
  "0%": {
    strokeDasharray: "1, 400",
    strokeDashoffset: "0"
  },
  "50%": {
    strokeDasharray: "400, 400",
    strokeDashoffset: "-100"
  },
  "100%": {
    strokeDasharray: "400, 400",
    strokeDashoffset: "-260"
  }
});
var rotate = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.keyframes)({
  "0%": {
    transform: "rotate(0deg)"
  },
  "100%": {
    transform: "rotate(360deg)"
  }
});
var progress = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.keyframes)({
  "0%": {
    left: "-40%"
  },
  "100%": {
    left: "100%"
  }
});
var stripe = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.keyframes)({
  from: {
    backgroundPosition: "1rem 0"
  },
  to: {
    backgroundPosition: "0 0"
  }
});

/**
 * Get the common `aria-*` attributes for both the linear and circular
 * progress components.
 */
function getProgressProps(options) {
  var _options$value = options.value,
      value = _options$value === void 0 ? 0 : _options$value,
      min = options.min,
      max = options.max,
      valueText = options.valueText,
      getValueText = options.getValueText,
      isIndeterminate = options.isIndeterminate;
  var percent = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.valueToPercent)(value, min, max);

  var getAriaValueText = function getAriaValueText() {
    if (value == null) return undefined;
    return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.isFunction)(getValueText) ? getValueText(value, percent) : valueText;
  };

  return {
    bind: {
      "data-indeterminate": isIndeterminate ? "" : undefined,
      "aria-valuemax": max,
      "aria-valuemin": min,
      "aria-valuenow": isIndeterminate ? undefined : value,
      "aria-valuetext": getAriaValueText(),
      role: "progressbar"
    },
    percent: percent,
    value: value
  };
}

var _excluded$1 = ["size", "isIndeterminate"],
    _excluded2$1 = ["size", "max", "min", "valueText", "getValueText", "value", "capIsRound", "children", "thickness", "color", "trackColor", "isIndeterminate"];

var Circle = function Circle(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.circle, _extends({
    cx: 50,
    cy: 50,
    r: 42,
    fill: "transparent"
  }, props));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Circle.displayName = "Circle";
}

var Shape = function Shape(props) {
  var size = props.size,
      isIndeterminate = props.isIndeterminate,
      rest = _objectWithoutPropertiesLoose(props, _excluded$1);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.svg, _extends({
    viewBox: "0 0 100 100",
    __css: {
      width: size,
      height: size,
      animation: isIndeterminate ? rotate + " 2s linear infinite" : undefined
    }
  }, rest));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Shape.displayName = "Shape";
}

/**
 * CircularProgress is used to indicate the progress of an activity.
 * It is built using `svg` and `circle` components with support for
 * theming and `indeterminate` state
 *
 * @see Docs https://chakra-ui.com/circularprogress
 * @todo add theming support for circular progress
 */
var CircularProgress = function CircularProgress(props) {
  var _progress$percent;

  var _props$size = props.size,
      size = _props$size === void 0 ? "48px" : _props$size,
      _props$max = props.max,
      max = _props$max === void 0 ? 100 : _props$max,
      _props$min = props.min,
      min = _props$min === void 0 ? 0 : _props$min,
      valueText = props.valueText,
      getValueText = props.getValueText,
      value = props.value,
      capIsRound = props.capIsRound,
      children = props.children,
      _props$thickness = props.thickness,
      thickness = _props$thickness === void 0 ? "10px" : _props$thickness,
      _props$color = props.color,
      color = _props$color === void 0 ? "#0078d4" : _props$color,
      _props$trackColor = props.trackColor,
      trackColor = _props$trackColor === void 0 ? "#edebe9" : _props$trackColor,
      isIndeterminate = props.isIndeterminate,
      rest = _objectWithoutPropertiesLoose(props, _excluded2$1);

  var progress = getProgressProps({
    min: min,
    max: max,
    value: value,
    valueText: valueText,
    getValueText: getValueText,
    isIndeterminate: isIndeterminate
  });
  var determinant = isIndeterminate ? undefined : ((_progress$percent = progress.percent) != null ? _progress$percent : 0) * 2.64;
  var strokeDasharray = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.isUndefined)(determinant) ? undefined : determinant + " " + (264 - determinant);
  var indicatorProps = isIndeterminate ? {
    css: {
      animation: spin + " 1.5s linear infinite"
    }
  } : {
    strokeDashoffset: 66,
    strokeDasharray: strokeDasharray,
    transitionProperty: "stroke-dasharray, stroke",
    transitionDuration: "0.6s",
    transitionTimingFunction: "ease"
  };
  var rootStyles = {
    display: "inline-block",
    position: "relative",
    verticalAlign: "middle",
    fontSize: size
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.div, _extends({
    className: "chakra-progress"
  }, progress.bind, rest, {
    __css: rootStyles
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Shape, {
    size: size,
    isIndeterminate: isIndeterminate
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Circle, {
    stroke: trackColor,
    strokeWidth: thickness,
    className: "chakra-progress__track"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Circle, _extends({
    stroke: color,
    strokeWidth: thickness,
    className: "chakra-progress__indicator",
    strokeLinecap: capIsRound ? "round" : undefined
    /**
     * fix issue in Safari where indictor still shows when value is 0
     * @see Issue https://github.com/chakra-ui/chakra-ui/issues/3754
     */
    ,
    opacity: progress.value === 0 && !isIndeterminate ? 0 : undefined
  }, indicatorProps))), children);
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  CircularProgress.displayName = "CircularProgress";
}
/**
 * CircularProgress component label. In most cases it is a numeric indicator
 * of the circular progress component's value
 */


var CircularProgressLabel = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra)("div", {
  baseStyle: {
    fontSize: "0.24em",
    top: "50%",
    left: "50%",
    width: "100%",
    textAlign: "center",
    position: "absolute",
    transform: "translate(-50%, -50%)"
  }
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  CircularProgressLabel.displayName = "CircularProgressLabel";
}

var _excluded = ["min", "max", "value", "isIndeterminate"],
    _excluded2 = ["value", "min", "max", "hasStripe", "isAnimated", "children", "borderRadius", "isIndeterminate", "aria-label", "aria-labelledby"];

/**
 * ProgressLabel is used to show the numeric value of the progress.
 * @see Docs https://chakra-ui.com/progress
 */
var ProgressLabel = function ProgressLabel(props) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();

  var labelStyles = _extends({
    top: "50%",
    left: "50%",
    width: "100%",
    textAlign: "center",
    position: "absolute",
    transform: "translate(-50%, -50%)"
  }, styles.label);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.div, _extends({}, props, {
    __css: labelStyles
  }));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  ProgressLabel.displayName = "ProgressLabel";
}

/**
 * ProgressFilledTrack (Linear)
 *
 * The progress component that visually indicates the current level of the progress bar.
 * It applies `background-color` and changes its width.
 *
 * @see Docs https://chakra-ui.com/progress
 */
var ProgressFilledTrack = function ProgressFilledTrack(props) {
  var min = props.min,
      max = props.max,
      value = props.value,
      isIndeterminate = props.isIndeterminate,
      rest = _objectWithoutPropertiesLoose(props, _excluded);

  var progress = getProgressProps({
    value: value,
    min: min,
    max: max,
    isIndeterminate: isIndeterminate
  });
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useStyles)();

  var trackStyles = _extends({
    height: "100%"
  }, styles.filledTrack);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.div, _extends({
    style: _extends({
      width: progress.percent + "%"
    }, rest.style)
  }, progress.bind, rest, {
    __css: trackStyles
  }));
};

/**
 * Progress (Linear)
 *
 * Progress is used to display the progress status for a task that takes a long
 * time or consists of several steps.
 *
 * It includes accessible attributes to help assistive technologies understand
 * and speak the progress values.
 *
 * @see Docs https://chakra-ui.com/progress
 */
var Progress = function Progress(props) {
  var _styles$track;

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.omitThemingProps)(props),
      value = _omitThemingProps.value,
      _omitThemingProps$min = _omitThemingProps.min,
      min = _omitThemingProps$min === void 0 ? 0 : _omitThemingProps$min,
      _omitThemingProps$max = _omitThemingProps.max,
      max = _omitThemingProps$max === void 0 ? 100 : _omitThemingProps$max,
      hasStripe = _omitThemingProps.hasStripe,
      isAnimated = _omitThemingProps.isAnimated,
      children = _omitThemingProps.children,
      propBorderRadius = _omitThemingProps.borderRadius,
      isIndeterminate = _omitThemingProps.isIndeterminate,
      ariaLabel = _omitThemingProps["aria-label"],
      ariaLabelledBy = _omitThemingProps["aria-labelledby"],
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded2);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.useMultiStyleConfig)("Progress", props);
  var borderRadius = propBorderRadius != null ? propBorderRadius : (_styles$track = styles.track) == null ? void 0 : _styles$track.borderRadius;
  var stripeAnimation = {
    animation: stripe + " 1s linear infinite"
  };
  /**
   * We should not use stripe if it is `indeterminate`
   */

  var shouldAddStripe = !isIndeterminate && hasStripe;
  var shouldAnimateStripe = shouldAddStripe && isAnimated;
  /**
   * Generate styles for stripe and stripe animation
   */

  var css = _extends({}, shouldAnimateStripe && stripeAnimation, isIndeterminate && {
    position: "absolute",
    willChange: "left",
    minWidth: "50%",
    animation: progress + " 1s ease infinite normal none running"
  });

  var trackStyles = _extends({
    overflow: "hidden",
    position: "relative"
  }, styles.track);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.chakra.div, _extends({
    borderRadius: borderRadius,
    __css: trackStyles
  }, rest), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ProgressFilledTrack, {
    "aria-label": ariaLabel,
    "aria-labelledby": ariaLabelledBy,
    min: min,
    max: max,
    value: value,
    isIndeterminate: isIndeterminate,
    css: css,
    borderRadius: borderRadius
  }), children));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Progress.displayName = "Progress";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/provider/dist/chakra-ui-provider.esm.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@chakra-ui/provider/dist/chakra-ui-provider.esm.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ChakraProvider": () => (/* binding */ ChakraProvider)
/* harmony export */ });
/* harmony import */ var _chakra_ui_css_reset__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/css-reset */ "./node_modules/@chakra-ui/css-reset/dist/chakra-ui-css-reset.esm.js");
/* harmony import */ var _chakra_ui_portal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/portal */ "./node_modules/@chakra-ui/portal/dist/chakra-ui-portal.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/color-mode/dist/chakra-ui-color-mode.esm.js");
/* harmony import */ var _chakra_ui_react_env__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/react-env */ "./node_modules/@chakra-ui/react-env/dist/chakra-ui-react-env.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");







/**
 * The global provider that must be added to make all Chakra components
 * work correctly
 */
var ChakraProvider = function ChakraProvider(props) {
  var children = props.children,
      colorModeManager = props.colorModeManager,
      portalZIndex = props.portalZIndex,
      _props$resetCSS = props.resetCSS,
      resetCSS = _props$resetCSS === void 0 ? true : _props$resetCSS,
      _props$theme = props.theme,
      theme = _props$theme === void 0 ? {} : _props$theme,
      environment = props.environment,
      cssVarsRoot = props.cssVarsRoot;

  var _children = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_react_env__WEBPACK_IMPORTED_MODULE_1__.EnvironmentProvider, {
    environment: environment
  }, children);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.IdProvider, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.ThemeProvider, {
    theme: theme,
    cssVarsRoot: cssVarsRoot
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.ColorModeProvider, {
    colorModeManager: colorModeManager,
    options: theme.config
  }, resetCSS && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_css_reset__WEBPACK_IMPORTED_MODULE_5__["default"], null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.GlobalStyle, null), portalZIndex ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_portal__WEBPACK_IMPORTED_MODULE_6__.PortalManager, {
    zIndex: portalZIndex
  }, _children) : _children)));
};




/***/ }),

/***/ "./node_modules/@chakra-ui/radio/dist/chakra-ui-radio.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@chakra-ui/radio/dist/chakra-ui-radio.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Radio": () => (/* binding */ Radio),
/* harmony export */   "RadioGroup": () => (/* binding */ RadioGroup),
/* harmony export */   "useRadio": () => (/* binding */ useRadio),
/* harmony export */   "useRadioGroup": () => (/* binding */ useRadioGroup),
/* harmony export */   "useRadioGroupContext": () => (/* binding */ useRadioGroupContext)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/styled-system/dist/chakra-ui-styled-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");
/* harmony import */ var _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/form-control */ "./node_modules/@chakra-ui/form-control/dist/chakra-ui-form-control.esm.js");
/* harmony import */ var _chakra_ui_visually_hidden__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/visually-hidden */ "./node_modules/@chakra-ui/visually-hidden/dist/chakra-ui-visually-hidden.esm.js");









function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var _excluded$3 = ["onChange", "value", "defaultValue", "name", "isDisabled", "isFocusable", "isNative"];

/**
 * React hook to manage a group of radio inputs
 */
function useRadioGroup(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      onChangeProp = _props.onChange,
      valueProp = _props.value,
      defaultValue = _props.defaultValue,
      nameProp = _props.name,
      isDisabled = _props.isDisabled,
      isFocusable = _props.isFocusable,
      isNative = _props.isNative,
      htmlProps = _objectWithoutPropertiesLoose(_props, _excluded$3);

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultValue || ""),
      valueState = _React$useState[0],
      setValue = _React$useState[1];

  var _useControllableProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useControllableProp)(valueProp, valueState),
      isControlled = _useControllableProp[0],
      value = _useControllableProp[1];

  var ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);
  var focus = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function () {
    var rootNode = ref.current;
    if (!rootNode) return;
    var query = "input:not(:disabled):checked";
    var firstEnabledAndCheckedInput = rootNode.querySelector(query);

    if (firstEnabledAndCheckedInput) {
      firstEnabledAndCheckedInput.focus();
      return;
    }

    query = "input:not(:disabled)";
    var firstEnabledInput = rootNode.querySelector(query);
    firstEnabledInput == null ? void 0 : firstEnabledInput.focus();
  }, []);
  /**
   * All radio options must use the same name
   */

  var fallbackName = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useId)(undefined, "radio");
  var name = nameProp || fallbackName;
  var onChange = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (eventOrValue) {
    var nextValue = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.isInputEvent)(eventOrValue) ? eventOrValue.target.value : eventOrValue;

    if (!isControlled) {
      setValue(nextValue);
    }

    onChangeProp == null ? void 0 : onChangeProp(String(nextValue));
  }, [onChangeProp, isControlled]);
  var getRootProps = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (props, forwardedRef) {
    if (props === void 0) {
      props = {};
    }

    if (forwardedRef === void 0) {
      forwardedRef = null;
    }

    return _extends({}, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(forwardedRef, ref),
      role: "radiogroup"
    });
  }, []);
  var getRadioProps = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (props, ref) {
    var _extends2;

    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    var checkedKey = isNative ? "checked" : "isChecked";
    return _extends({}, props, (_extends2 = {
      ref: ref,
      name: name
    }, _extends2[checkedKey] = value != null ? props.value === value : undefined, _extends2.onChange = onChange, _extends2["data-radiogroup"] = true, _extends2));
  }, [isNative, name, onChange, value]);
  return {
    getRootProps: getRootProps,
    getRadioProps: getRadioProps,
    name: name,
    ref: ref,
    focus: focus,
    setValue: setValue,
    value: value,
    onChange: onChange,
    isDisabled: isDisabled,
    isFocusable: isFocusable,
    htmlProps: htmlProps
  };
}

var _excluded$2 = ["colorScheme", "size", "variant", "children", "className", "isDisabled", "isFocusable"];

var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.createContext)({
  name: "RadioGroupContext",
  strict: false
}),
    RadioGroupProvider = _createContext[0],
    useRadioGroupContext = _createContext[1];

/**
 * Used for multiple radios which are bound in one group,
 * and it indicates which option is selected.
 *
 * @see Docs https://chakra-ui.com/radio
 */
var RadioGroup = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var colorScheme = props.colorScheme,
      size = props.size,
      variant = props.variant,
      children = props.children,
      className = props.className,
      isDisabled = props.isDisabled,
      isFocusable = props.isFocusable,
      rest = _objectWithoutPropertiesLoose(props, _excluded$2);

  var _useRadioGroup = useRadioGroup(rest),
      value = _useRadioGroup.value,
      onChange = _useRadioGroup.onChange,
      getRootProps = _useRadioGroup.getRootProps,
      name = _useRadioGroup.name,
      htmlProps = _useRadioGroup.htmlProps;

  var group = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return {
      name: name,
      size: size,
      onChange: onChange,
      colorScheme: colorScheme,
      value: value,
      variant: variant,
      isDisabled: isDisabled,
      isFocusable: isFocusable
    };
  }, [name, size, onChange, colorScheme, value, variant, isDisabled, isFocusable]);
  var groupProps = getRootProps(htmlProps, ref);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-radio-group", className);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(RadioGroupProvider, {
    value: group
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, groupProps, {
    className: _className
  }), children));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  RadioGroup.displayName = "RadioGroup";
}

var _excluded$1 = ["defaultIsChecked", "defaultChecked", "isChecked", "isFocusable", "isDisabled", "isReadOnly", "isRequired", "onChange", "isInvalid", "name", "value", "id", "data-radiogroup"];
/**
 * @todo use the `useClickable` hook here
 * to manage the isFocusable & isDisabled props
 */

function useRadio(props) {
  if (props === void 0) {
    props = {};
  }

  var _props = props,
      defaultIsChecked = _props.defaultIsChecked,
      _props$defaultChecked = _props.defaultChecked,
      defaultChecked = _props$defaultChecked === void 0 ? defaultIsChecked : _props$defaultChecked,
      isCheckedProp = _props.isChecked,
      isFocusable = _props.isFocusable,
      isDisabledProp = _props.isDisabled,
      isReadOnlyProp = _props.isReadOnly,
      isRequiredProp = _props.isRequired,
      onChange = _props.onChange,
      isInvalidProp = _props.isInvalid,
      name = _props.name,
      value = _props.value,
      idProp = _props.id,
      dataRadioGroup = _props["data-radiogroup"],
      htmlProps = _objectWithoutPropertiesLoose(_props, _excluded$1);

  var uuid = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useId)(undefined, "radio");
  var formControl = (0,_chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_5__.useFormControlContext)();
  var group = useRadioGroupContext();
  var isWithinRadioGroup = !!group || !!dataRadioGroup;
  var isWithinFormControl = !!formControl;
  var id = isWithinFormControl && !isWithinRadioGroup ? formControl.id : uuid;
  id = idProp != null ? idProp : id;
  var isDisabled = isDisabledProp != null ? isDisabledProp : formControl == null ? void 0 : formControl.isDisabled;
  var isReadOnly = isReadOnlyProp != null ? isReadOnlyProp : formControl == null ? void 0 : formControl.isReadOnly;
  var isRequired = isRequiredProp != null ? isRequiredProp : formControl == null ? void 0 : formControl.isRequired;
  var isInvalid = isInvalidProp != null ? isInvalidProp : formControl == null ? void 0 : formControl.isInvalid;

  var _useBoolean = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useBoolean)(),
      isFocused = _useBoolean[0],
      setFocused = _useBoolean[1];

  var _useBoolean2 = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useBoolean)(),
      isHovered = _useBoolean2[0],
      setHovering = _useBoolean2[1];

  var _useBoolean3 = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useBoolean)(),
      isActive = _useBoolean3[0],
      setActive = _useBoolean3[1];

  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Boolean(defaultChecked)),
      isCheckedState = _useState[0],
      setChecked = _useState[1];

  var _useControllableProp = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useControllableProp)(isCheckedProp, isCheckedState),
      isControlled = _useControllableProp[0],
      isChecked = _useControllableProp[1];

  (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.warn)({
    condition: !!defaultIsChecked,
    message: 'The "defaultIsChecked" prop has been deprecated and will be removed in a future version. ' + 'Please use the "defaultChecked" prop instead, which mirrors default React checkbox behavior.'
  });
  var handleChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    if (isReadOnly || isDisabled) {
      event.preventDefault();
      return;
    }

    if (!isControlled) {
      setChecked(event.target.checked);
    }

    onChange == null ? void 0 : onChange(event);
  }, [isControlled, isDisabled, isReadOnly, onChange]);
  var onKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    if (event.key === " ") {
      setActive.on();
    }
  }, [setActive]);
  var onKeyUp = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    if (event.key === " ") {
      setActive.off();
    }
  }, [setActive]);
  var getCheckboxProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: ref,
      "data-active": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isActive),
      "data-hover": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isHovered),
      "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),
      "data-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid),
      "data-checked": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isChecked),
      "data-focus": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused),
      "data-readonly": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isReadOnly),
      "aria-hidden": true,
      onMouseDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onMouseDown, setActive.on),
      onMouseUp: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onMouseUp, setActive.off),
      onMouseEnter: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onMouseEnter, setHovering.on),
      onMouseLeave: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onMouseLeave, setHovering.off)
    });
  }, [isActive, isHovered, isDisabled, isInvalid, isChecked, isFocused, isReadOnly, setActive.on, setActive.off, setHovering.on, setHovering.off]);

  var _ref = formControl != null ? formControl : {},
      onFocus = _ref.onFocus,
      onBlur = _ref.onBlur;

  var getInputProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    var trulyDisabled = isDisabled && !isFocusable;
    return _extends({}, props, {
      id: id,
      ref: ref,
      type: "radio",
      name: name,
      value: value,
      onChange: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onChange, handleChange),
      onBlur: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(onBlur, props.onBlur, setFocused.off),
      onFocus: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(onFocus, props.onFocus, setFocused.on),
      onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onKeyDown, onKeyDown),
      onKeyUp: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onKeyUp, onKeyUp),
      checked: isChecked,
      disabled: trulyDisabled,
      readOnly: isReadOnly,
      required: isRequired,
      "aria-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isInvalid),
      "aria-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(trulyDisabled),
      "aria-required": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isRequired),
      "data-readonly": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isReadOnly),
      style: _chakra_ui_visually_hidden__WEBPACK_IMPORTED_MODULE_6__.visuallyHiddenStyle
    });
  }, [isDisabled, isFocusable, id, name, value, handleChange, onBlur, setFocused, onFocus, onKeyDown, onKeyUp, isChecked, isReadOnly, isRequired, isInvalid]);

  var getLabelProps = function getLabelProps(props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: ref,
      onMouseDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onMouseDown, stop),
      onTouchStart: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onTouchStart, stop),
      "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),
      "data-checked": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isChecked),
      "data-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid)
    });
  };

  var getRootProps = function getRootProps(props, ref) {
    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: ref,
      "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),
      "data-checked": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isChecked),
      "data-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isInvalid)
    });
  };

  return {
    state: {
      isInvalid: isInvalid,
      isFocused: isFocused,
      isChecked: isChecked,
      isActive: isActive,
      isHovered: isHovered,
      isDisabled: isDisabled,
      isReadOnly: isReadOnly,
      isRequired: isRequired
    },
    getCheckboxProps: getCheckboxProps,
    getInputProps: getInputProps,
    getLabelProps: getLabelProps,
    getRootProps: getRootProps,
    htmlProps: htmlProps
  };
}
/**
 * Prevent `onBlur` being fired when the checkbox label is touched
 */

function stop(event) {
  event.preventDefault();
  event.stopPropagation();
}

var _excluded = ["spacing", "children", "isFullWidth", "isDisabled", "isFocusable"];

/**
 * Radio component is used in forms when a user needs to select a single value from
 * several options.
 *
 * @see Docs https://chakra-ui.com/radio
 */
var Radio = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _props$name;

  var group = useRadioGroupContext();
  var onChangeProp = props.onChange,
      valueProp = props.value;
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useMultiStyleConfig)("Radio", _extends({}, group, props));
  var ownProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.omitThemingProps)(props);

  var _ownProps$spacing = ownProps.spacing,
      spacing = _ownProps$spacing === void 0 ? "0.5rem" : _ownProps$spacing,
      children = ownProps.children,
      isFullWidth = ownProps.isFullWidth,
      _ownProps$isDisabled = ownProps.isDisabled,
      isDisabled = _ownProps$isDisabled === void 0 ? group == null ? void 0 : group.isDisabled : _ownProps$isDisabled,
      _ownProps$isFocusable = ownProps.isFocusable,
      isFocusable = _ownProps$isFocusable === void 0 ? group == null ? void 0 : group.isFocusable : _ownProps$isFocusable,
      rest = _objectWithoutPropertiesLoose(ownProps, _excluded);

  var isChecked = props.isChecked;

  if ((group == null ? void 0 : group.value) != null && valueProp != null) {
    isChecked = group.value === valueProp;
  }

  var onChange = onChangeProp;

  if (group != null && group.onChange && valueProp != null) {
    onChange = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAll)(group.onChange, onChangeProp);
  }

  var name = (_props$name = props == null ? void 0 : props.name) != null ? _props$name : group == null ? void 0 : group.name;

  var _useRadio = useRadio(_extends({}, rest, {
    isChecked: isChecked,
    isFocusable: isFocusable,
    isDisabled: isDisabled,
    onChange: onChange,
    name: name
  })),
      getInputProps = _useRadio.getInputProps,
      getCheckboxProps = _useRadio.getCheckboxProps,
      getLabelProps = _useRadio.getLabelProps,
      getRootProps = _useRadio.getRootProps,
      htmlProps = _useRadio.htmlProps;

  var _split = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.split)(htmlProps, _chakra_ui_system__WEBPACK_IMPORTED_MODULE_7__.layoutPropNames),
      layoutProps = _split[0],
      otherProps = _split[1];

  var checkboxProps = getCheckboxProps(otherProps);
  var inputProps = getInputProps({}, ref);
  var labelProps = getLabelProps();
  var rootProps = Object.assign({}, layoutProps, getRootProps());

  var rootStyles = _extends({
    width: isFullWidth ? "full" : undefined,
    display: "inline-flex",
    alignItems: "center",
    verticalAlign: "top",
    cursor: "pointer"
  }, styles.container);

  var checkboxStyles = _extends({
    display: "inline-flex",
    alignItems: "center",
    justifyContent: "center",
    flexShrink: 0
  }, styles.control);

  var labelStyles = _extends({
    userSelect: "none",
    marginStart: spacing
  }, styles.label);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.label, _extends({
    className: "chakra-radio"
  }, rootProps, {
    __css: rootStyles
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", _extends({
    className: "chakra-radio__input"
  }, inputProps)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.span, _extends({
    className: "chakra-radio__control"
  }, checkboxProps, {
    __css: checkboxStyles
  })), children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.span, _extends({
    className: "chakra-radio__label"
  }, labelProps, {
    __css: labelStyles
  }), children));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Radio.displayName = "Radio";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isChakraTheme": () => (/* reexport safe */ _chakra_ui_theme__WEBPACK_IMPORTED_MODULE_0__.isChakraTheme),
/* harmony export */   "requiredChakraThemeKeys": () => (/* reexport safe */ _chakra_ui_theme__WEBPACK_IMPORTED_MODULE_0__.requiredChakraThemeKeys),
/* harmony export */   "theme": () => (/* reexport safe */ _chakra_ui_theme__WEBPACK_IMPORTED_MODULE_0__.theme),
/* harmony export */   "Accordion": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.Accordion),
/* harmony export */   "AccordionButton": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.AccordionButton),
/* harmony export */   "AccordionDescendantsProvider": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.AccordionDescendantsProvider),
/* harmony export */   "AccordionIcon": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.AccordionIcon),
/* harmony export */   "AccordionItem": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.AccordionItem),
/* harmony export */   "AccordionPanel": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.AccordionPanel),
/* harmony export */   "AccordionProvider": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.AccordionProvider),
/* harmony export */   "useAccordion": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.useAccordion),
/* harmony export */   "useAccordionContext": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.useAccordionContext),
/* harmony export */   "useAccordionDescendant": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.useAccordionDescendant),
/* harmony export */   "useAccordionDescendants": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.useAccordionDescendants),
/* harmony export */   "useAccordionDescendantsContext": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.useAccordionDescendantsContext),
/* harmony export */   "useAccordionItem": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.useAccordionItem),
/* harmony export */   "useAccordionItemState": () => (/* reexport safe */ _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__.useAccordionItemState),
/* harmony export */   "Alert": () => (/* reexport safe */ _chakra_ui_alert__WEBPACK_IMPORTED_MODULE_2__.Alert),
/* harmony export */   "AlertDescription": () => (/* reexport safe */ _chakra_ui_alert__WEBPACK_IMPORTED_MODULE_2__.AlertDescription),
/* harmony export */   "AlertIcon": () => (/* reexport safe */ _chakra_ui_alert__WEBPACK_IMPORTED_MODULE_2__.AlertIcon),
/* harmony export */   "AlertTitle": () => (/* reexport safe */ _chakra_ui_alert__WEBPACK_IMPORTED_MODULE_2__.AlertTitle),
/* harmony export */   "Avatar": () => (/* reexport safe */ _chakra_ui_avatar__WEBPACK_IMPORTED_MODULE_3__.Avatar),
/* harmony export */   "AvatarBadge": () => (/* reexport safe */ _chakra_ui_avatar__WEBPACK_IMPORTED_MODULE_3__.AvatarBadge),
/* harmony export */   "AvatarGroup": () => (/* reexport safe */ _chakra_ui_avatar__WEBPACK_IMPORTED_MODULE_3__.AvatarGroup),
/* harmony export */   "baseStyle": () => (/* reexport safe */ _chakra_ui_avatar__WEBPACK_IMPORTED_MODULE_3__.baseStyle),
/* harmony export */   "Breadcrumb": () => (/* reexport safe */ _chakra_ui_breadcrumb__WEBPACK_IMPORTED_MODULE_4__.Breadcrumb),
/* harmony export */   "BreadcrumbItem": () => (/* reexport safe */ _chakra_ui_breadcrumb__WEBPACK_IMPORTED_MODULE_4__.BreadcrumbItem),
/* harmony export */   "BreadcrumbLink": () => (/* reexport safe */ _chakra_ui_breadcrumb__WEBPACK_IMPORTED_MODULE_4__.BreadcrumbLink),
/* harmony export */   "BreadcrumbSeparator": () => (/* reexport safe */ _chakra_ui_breadcrumb__WEBPACK_IMPORTED_MODULE_4__.BreadcrumbSeparator),
/* harmony export */   "Button": () => (/* reexport safe */ _chakra_ui_button__WEBPACK_IMPORTED_MODULE_5__.Button),
/* harmony export */   "ButtonGroup": () => (/* reexport safe */ _chakra_ui_button__WEBPACK_IMPORTED_MODULE_5__.ButtonGroup),
/* harmony export */   "ButtonSpinner": () => (/* reexport safe */ _chakra_ui_button__WEBPACK_IMPORTED_MODULE_5__.ButtonSpinner),
/* harmony export */   "IconButton": () => (/* reexport safe */ _chakra_ui_button__WEBPACK_IMPORTED_MODULE_5__.IconButton),
/* harmony export */   "useButtonGroup": () => (/* reexport safe */ _chakra_ui_button__WEBPACK_IMPORTED_MODULE_5__.useButtonGroup),
/* harmony export */   "Checkbox": () => (/* reexport safe */ _chakra_ui_checkbox__WEBPACK_IMPORTED_MODULE_6__.Checkbox),
/* harmony export */   "CheckboxGroup": () => (/* reexport safe */ _chakra_ui_checkbox__WEBPACK_IMPORTED_MODULE_6__.CheckboxGroup),
/* harmony export */   "useCheckbox": () => (/* reexport safe */ _chakra_ui_checkbox__WEBPACK_IMPORTED_MODULE_6__.useCheckbox),
/* harmony export */   "useCheckboxGroup": () => (/* reexport safe */ _chakra_ui_checkbox__WEBPACK_IMPORTED_MODULE_6__.useCheckboxGroup),
/* harmony export */   "useCheckboxGroupContext": () => (/* reexport safe */ _chakra_ui_checkbox__WEBPACK_IMPORTED_MODULE_6__.useCheckboxGroupContext),
/* harmony export */   "CloseButton": () => (/* reexport safe */ _chakra_ui_close_button__WEBPACK_IMPORTED_MODULE_7__.CloseButton),
/* harmony export */   "useCounter": () => (/* reexport safe */ _chakra_ui_counter__WEBPACK_IMPORTED_MODULE_8__.useCounter),
/* harmony export */   "CSSReset": () => (/* reexport safe */ _chakra_ui_css_reset__WEBPACK_IMPORTED_MODULE_9__.CSSReset),
/* harmony export */   "Editable": () => (/* reexport safe */ _chakra_ui_editable__WEBPACK_IMPORTED_MODULE_10__.Editable),
/* harmony export */   "EditableInput": () => (/* reexport safe */ _chakra_ui_editable__WEBPACK_IMPORTED_MODULE_10__.EditableInput),
/* harmony export */   "EditablePreview": () => (/* reexport safe */ _chakra_ui_editable__WEBPACK_IMPORTED_MODULE_10__.EditablePreview),
/* harmony export */   "useEditable": () => (/* reexport safe */ _chakra_ui_editable__WEBPACK_IMPORTED_MODULE_10__.useEditable),
/* harmony export */   "useEditableControls": () => (/* reexport safe */ _chakra_ui_editable__WEBPACK_IMPORTED_MODULE_10__.useEditableControls),
/* harmony export */   "useEditableState": () => (/* reexport safe */ _chakra_ui_editable__WEBPACK_IMPORTED_MODULE_10__.useEditableState),
/* harmony export */   "FormControl": () => (/* reexport safe */ _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_11__.FormControl),
/* harmony export */   "FormErrorIcon": () => (/* reexport safe */ _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_11__.FormErrorIcon),
/* harmony export */   "FormErrorMessage": () => (/* reexport safe */ _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_11__.FormErrorMessage),
/* harmony export */   "FormHelperText": () => (/* reexport safe */ _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_11__.FormHelperText),
/* harmony export */   "FormLabel": () => (/* reexport safe */ _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_11__.FormLabel),
/* harmony export */   "RequiredIndicator": () => (/* reexport safe */ _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_11__.RequiredIndicator),
/* harmony export */   "useFormControl": () => (/* reexport safe */ _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_11__.useFormControl),
/* harmony export */   "useFormControlContext": () => (/* reexport safe */ _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_11__.useFormControlContext),
/* harmony export */   "useFormControlProps": () => (/* reexport safe */ _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_11__.useFormControlProps),
/* harmony export */   "ControlBox": () => (/* reexport safe */ _chakra_ui_control_box__WEBPACK_IMPORTED_MODULE_12__.ControlBox),
/* harmony export */   "IdProvider": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.IdProvider),
/* harmony export */   "assignRef": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.assignRef),
/* harmony export */   "useBoolean": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useBoolean),
/* harmony export */   "useCallbackRef": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useCallbackRef),
/* harmony export */   "useClipboard": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useClipboard),
/* harmony export */   "useConst": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useConst),
/* harmony export */   "useControllableProp": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useControllableProp),
/* harmony export */   "useControllableState": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useControllableState),
/* harmony export */   "useDimensions": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useDimensions),
/* harmony export */   "useDisclosure": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useDisclosure),
/* harmony export */   "useEventCallback": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useEventCallback),
/* harmony export */   "useEventListener": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useEventListener),
/* harmony export */   "useEventListenerMap": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useEventListenerMap),
/* harmony export */   "useFocusEffect": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useFocusEffect),
/* harmony export */   "useFocusOnHide": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useFocusOnHide),
/* harmony export */   "useFocusOnPointerDown": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useFocusOnPointerDown),
/* harmony export */   "useFocusOnShow": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useFocusOnShow),
/* harmony export */   "useForceUpdate": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useForceUpdate),
/* harmony export */   "useId": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useId),
/* harmony export */   "useIds": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useIds),
/* harmony export */   "useInterval": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useInterval),
/* harmony export */   "useLatestRef": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useLatestRef),
/* harmony export */   "useMergeRefs": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useMergeRefs),
/* harmony export */   "useMouseDownRef": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useMouseDownRef),
/* harmony export */   "useOptionalPart": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useOptionalPart),
/* harmony export */   "useOutsideClick": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useOutsideClick),
/* harmony export */   "usePanGesture": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.usePanGesture),
/* harmony export */   "usePointerEvent": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.usePointerEvent),
/* harmony export */   "usePrevious": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.usePrevious),
/* harmony export */   "useSafeLayoutEffect": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useSafeLayoutEffect),
/* harmony export */   "useShortcut": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useShortcut),
/* harmony export */   "useTimeout": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useTimeout),
/* harmony export */   "useUnmountEffect": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useUnmountEffect),
/* harmony export */   "useUpdateEffect": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useUpdateEffect),
/* harmony export */   "useWhyDidYouUpdate": () => (/* reexport safe */ _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__.useWhyDidYouUpdate),
/* harmony export */   "Icon": () => (/* reexport safe */ _chakra_ui_icon__WEBPACK_IMPORTED_MODULE_14__.Icon),
/* harmony export */   "createIcon": () => (/* reexport safe */ _chakra_ui_icon__WEBPACK_IMPORTED_MODULE_14__.createIcon),
/* harmony export */   "Image": () => (/* reexport safe */ _chakra_ui_image__WEBPACK_IMPORTED_MODULE_15__.Image),
/* harmony export */   "Img": () => (/* reexport safe */ _chakra_ui_image__WEBPACK_IMPORTED_MODULE_15__.Img),
/* harmony export */   "useImage": () => (/* reexport safe */ _chakra_ui_image__WEBPACK_IMPORTED_MODULE_15__.useImage),
/* harmony export */   "Input": () => (/* reexport safe */ _chakra_ui_input__WEBPACK_IMPORTED_MODULE_16__.Input),
/* harmony export */   "InputAddon": () => (/* reexport safe */ _chakra_ui_input__WEBPACK_IMPORTED_MODULE_16__.InputAddon),
/* harmony export */   "InputGroup": () => (/* reexport safe */ _chakra_ui_input__WEBPACK_IMPORTED_MODULE_16__.InputGroup),
/* harmony export */   "InputLeftAddon": () => (/* reexport safe */ _chakra_ui_input__WEBPACK_IMPORTED_MODULE_16__.InputLeftAddon),
/* harmony export */   "InputLeftElement": () => (/* reexport safe */ _chakra_ui_input__WEBPACK_IMPORTED_MODULE_16__.InputLeftElement),
/* harmony export */   "InputRightAddon": () => (/* reexport safe */ _chakra_ui_input__WEBPACK_IMPORTED_MODULE_16__.InputRightAddon),
/* harmony export */   "InputRightElement": () => (/* reexport safe */ _chakra_ui_input__WEBPACK_IMPORTED_MODULE_16__.InputRightElement),
/* harmony export */   "AbsoluteCenter": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.AbsoluteCenter),
/* harmony export */   "AspectRatio": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.AspectRatio),
/* harmony export */   "Badge": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Badge),
/* harmony export */   "Box": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Box),
/* harmony export */   "Center": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Center),
/* harmony export */   "Circle": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Circle),
/* harmony export */   "Code": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Code),
/* harmony export */   "Container": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Container),
/* harmony export */   "Divider": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Divider),
/* harmony export */   "Flex": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Flex),
/* harmony export */   "Grid": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Grid),
/* harmony export */   "GridItem": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.GridItem),
/* harmony export */   "HStack": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.HStack),
/* harmony export */   "Heading": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Heading),
/* harmony export */   "Kbd": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Kbd),
/* harmony export */   "Link": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Link),
/* harmony export */   "LinkBox": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.LinkBox),
/* harmony export */   "LinkOverlay": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.LinkOverlay),
/* harmony export */   "List": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.List),
/* harmony export */   "ListIcon": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.ListIcon),
/* harmony export */   "ListItem": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.ListItem),
/* harmony export */   "OrderedList": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.OrderedList),
/* harmony export */   "SimpleGrid": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.SimpleGrid),
/* harmony export */   "Spacer": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Spacer),
/* harmony export */   "Square": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Square),
/* harmony export */   "Stack": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Stack),
/* harmony export */   "StackDivider": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.StackDivider),
/* harmony export */   "StackItem": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.StackItem),
/* harmony export */   "Text": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Text),
/* harmony export */   "UnorderedList": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.UnorderedList),
/* harmony export */   "VStack": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.VStack),
/* harmony export */   "Wrap": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.Wrap),
/* harmony export */   "WrapItem": () => (/* reexport safe */ _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__.WrapItem),
/* harmony export */   "Hide": () => (/* reexport safe */ _chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_18__.Hide),
/* harmony export */   "Show": () => (/* reexport safe */ _chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_18__.Show),
/* harmony export */   "useBreakpoint": () => (/* reexport safe */ _chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_18__.useBreakpoint),
/* harmony export */   "useBreakpointValue": () => (/* reexport safe */ _chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_18__.useBreakpointValue),
/* harmony export */   "useColorModePreference": () => (/* reexport safe */ _chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_18__.useColorModePreference),
/* harmony export */   "useMediaQuery": () => (/* reexport safe */ _chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_18__.useMediaQuery),
/* harmony export */   "usePrefersReducedMotion": () => (/* reexport safe */ _chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_18__.usePrefersReducedMotion),
/* harmony export */   "useQuery": () => (/* reexport safe */ _chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_18__.useQuery),
/* harmony export */   "Table": () => (/* reexport safe */ _chakra_ui_table__WEBPACK_IMPORTED_MODULE_19__.Table),
/* harmony export */   "TableCaption": () => (/* reexport safe */ _chakra_ui_table__WEBPACK_IMPORTED_MODULE_19__.TableCaption),
/* harmony export */   "TableContainer": () => (/* reexport safe */ _chakra_ui_table__WEBPACK_IMPORTED_MODULE_19__.TableContainer),
/* harmony export */   "Tbody": () => (/* reexport safe */ _chakra_ui_table__WEBPACK_IMPORTED_MODULE_19__.Tbody),
/* harmony export */   "Td": () => (/* reexport safe */ _chakra_ui_table__WEBPACK_IMPORTED_MODULE_19__.Td),
/* harmony export */   "Tfoot": () => (/* reexport safe */ _chakra_ui_table__WEBPACK_IMPORTED_MODULE_19__.Tfoot),
/* harmony export */   "Th": () => (/* reexport safe */ _chakra_ui_table__WEBPACK_IMPORTED_MODULE_19__.Th),
/* harmony export */   "Thead": () => (/* reexport safe */ _chakra_ui_table__WEBPACK_IMPORTED_MODULE_19__.Thead),
/* harmony export */   "Tr": () => (/* reexport safe */ _chakra_ui_table__WEBPACK_IMPORTED_MODULE_19__.Tr),
/* harmony export */   "Menu": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.Menu),
/* harmony export */   "MenuButton": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuButton),
/* harmony export */   "MenuCommand": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuCommand),
/* harmony export */   "MenuDescendantsProvider": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuDescendantsProvider),
/* harmony export */   "MenuDivider": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuDivider),
/* harmony export */   "MenuGroup": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuGroup),
/* harmony export */   "MenuIcon": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuIcon),
/* harmony export */   "MenuItem": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuItem),
/* harmony export */   "MenuItemOption": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuItemOption),
/* harmony export */   "MenuList": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuList),
/* harmony export */   "MenuOptionGroup": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuOptionGroup),
/* harmony export */   "MenuProvider": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.MenuProvider),
/* harmony export */   "useMenu": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenu),
/* harmony export */   "useMenuButton": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuButton),
/* harmony export */   "useMenuContext": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuContext),
/* harmony export */   "useMenuDescendant": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuDescendant),
/* harmony export */   "useMenuDescendants": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuDescendants),
/* harmony export */   "useMenuDescendantsContext": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuDescendantsContext),
/* harmony export */   "useMenuItem": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuItem),
/* harmony export */   "useMenuList": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuList),
/* harmony export */   "useMenuOption": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuOption),
/* harmony export */   "useMenuOptionGroup": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuOptionGroup),
/* harmony export */   "useMenuPositioner": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuPositioner),
/* harmony export */   "useMenuState": () => (/* reexport safe */ _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__.useMenuState),
/* harmony export */   "AlertDialog": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.AlertDialog),
/* harmony export */   "AlertDialogBody": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.AlertDialogBody),
/* harmony export */   "AlertDialogCloseButton": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.AlertDialogCloseButton),
/* harmony export */   "AlertDialogContent": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.AlertDialogContent),
/* harmony export */   "AlertDialogFooter": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.AlertDialogFooter),
/* harmony export */   "AlertDialogHeader": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.AlertDialogHeader),
/* harmony export */   "AlertDialogOverlay": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.AlertDialogOverlay),
/* harmony export */   "Drawer": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.Drawer),
/* harmony export */   "DrawerBody": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.DrawerBody),
/* harmony export */   "DrawerCloseButton": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.DrawerCloseButton),
/* harmony export */   "DrawerContent": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.DrawerContent),
/* harmony export */   "DrawerFooter": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.DrawerFooter),
/* harmony export */   "DrawerHeader": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.DrawerHeader),
/* harmony export */   "DrawerOverlay": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.DrawerOverlay),
/* harmony export */   "Modal": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.Modal),
/* harmony export */   "ModalBody": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.ModalBody),
/* harmony export */   "ModalCloseButton": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.ModalCloseButton),
/* harmony export */   "ModalContent": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.ModalContent),
/* harmony export */   "ModalContextProvider": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.ModalContextProvider),
/* harmony export */   "ModalFocusScope": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.ModalFocusScope),
/* harmony export */   "ModalFooter": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.ModalFooter),
/* harmony export */   "ModalHeader": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.ModalHeader),
/* harmony export */   "ModalOverlay": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.ModalOverlay),
/* harmony export */   "useAriaHidden": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.useAriaHidden),
/* harmony export */   "useModal": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.useModal),
/* harmony export */   "useModalContext": () => (/* reexport safe */ _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__.useModalContext),
/* harmony export */   "NumberDecrementStepper": () => (/* reexport safe */ _chakra_ui_number_input__WEBPACK_IMPORTED_MODULE_22__.NumberDecrementStepper),
/* harmony export */   "NumberIncrementStepper": () => (/* reexport safe */ _chakra_ui_number_input__WEBPACK_IMPORTED_MODULE_22__.NumberIncrementStepper),
/* harmony export */   "NumberInput": () => (/* reexport safe */ _chakra_ui_number_input__WEBPACK_IMPORTED_MODULE_22__.NumberInput),
/* harmony export */   "NumberInputField": () => (/* reexport safe */ _chakra_ui_number_input__WEBPACK_IMPORTED_MODULE_22__.NumberInputField),
/* harmony export */   "NumberInputStepper": () => (/* reexport safe */ _chakra_ui_number_input__WEBPACK_IMPORTED_MODULE_22__.NumberInputStepper),
/* harmony export */   "StyledStepper": () => (/* reexport safe */ _chakra_ui_number_input__WEBPACK_IMPORTED_MODULE_22__.StyledStepper),
/* harmony export */   "useNumberInput": () => (/* reexport safe */ _chakra_ui_number_input__WEBPACK_IMPORTED_MODULE_22__.useNumberInput),
/* harmony export */   "PinInput": () => (/* reexport safe */ _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__.PinInput),
/* harmony export */   "PinInputDescendantsProvider": () => (/* reexport safe */ _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__.PinInputDescendantsProvider),
/* harmony export */   "PinInputField": () => (/* reexport safe */ _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__.PinInputField),
/* harmony export */   "PinInputProvider": () => (/* reexport safe */ _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__.PinInputProvider),
/* harmony export */   "usePinInput": () => (/* reexport safe */ _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__.usePinInput),
/* harmony export */   "usePinInputContext": () => (/* reexport safe */ _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__.usePinInputContext),
/* harmony export */   "usePinInputDescendant": () => (/* reexport safe */ _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__.usePinInputDescendant),
/* harmony export */   "usePinInputDescendants": () => (/* reexport safe */ _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__.usePinInputDescendants),
/* harmony export */   "usePinInputDescendantsContext": () => (/* reexport safe */ _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__.usePinInputDescendantsContext),
/* harmony export */   "usePinInputField": () => (/* reexport safe */ _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__.usePinInputField),
/* harmony export */   "Popover": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.Popover),
/* harmony export */   "PopoverAnchor": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.PopoverAnchor),
/* harmony export */   "PopoverArrow": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.PopoverArrow),
/* harmony export */   "PopoverBody": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.PopoverBody),
/* harmony export */   "PopoverCloseButton": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.PopoverCloseButton),
/* harmony export */   "PopoverContent": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.PopoverContent),
/* harmony export */   "PopoverFooter": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.PopoverFooter),
/* harmony export */   "PopoverHeader": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.PopoverHeader),
/* harmony export */   "PopoverTrigger": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.PopoverTrigger),
/* harmony export */   "usePopover": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.usePopover),
/* harmony export */   "usePopoverContext": () => (/* reexport safe */ _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__.usePopoverContext),
/* harmony export */   "popperCSSVars": () => (/* reexport safe */ _chakra_ui_popper__WEBPACK_IMPORTED_MODULE_25__.popperCSSVars),
/* harmony export */   "usePopper": () => (/* reexport safe */ _chakra_ui_popper__WEBPACK_IMPORTED_MODULE_25__.usePopper),
/* harmony export */   "Portal": () => (/* reexport safe */ _chakra_ui_portal__WEBPACK_IMPORTED_MODULE_26__.Portal),
/* harmony export */   "PortalManager": () => (/* reexport safe */ _chakra_ui_portal__WEBPACK_IMPORTED_MODULE_26__.PortalManager),
/* harmony export */   "usePortalManager": () => (/* reexport safe */ _chakra_ui_portal__WEBPACK_IMPORTED_MODULE_26__.usePortalManager),
/* harmony export */   "CircularProgress": () => (/* reexport safe */ _chakra_ui_progress__WEBPACK_IMPORTED_MODULE_27__.CircularProgress),
/* harmony export */   "CircularProgressLabel": () => (/* reexport safe */ _chakra_ui_progress__WEBPACK_IMPORTED_MODULE_27__.CircularProgressLabel),
/* harmony export */   "Progress": () => (/* reexport safe */ _chakra_ui_progress__WEBPACK_IMPORTED_MODULE_27__.Progress),
/* harmony export */   "ProgressLabel": () => (/* reexport safe */ _chakra_ui_progress__WEBPACK_IMPORTED_MODULE_27__.ProgressLabel),
/* harmony export */   "Radio": () => (/* reexport safe */ _chakra_ui_radio__WEBPACK_IMPORTED_MODULE_28__.Radio),
/* harmony export */   "RadioGroup": () => (/* reexport safe */ _chakra_ui_radio__WEBPACK_IMPORTED_MODULE_28__.RadioGroup),
/* harmony export */   "useRadio": () => (/* reexport safe */ _chakra_ui_radio__WEBPACK_IMPORTED_MODULE_28__.useRadio),
/* harmony export */   "useRadioGroup": () => (/* reexport safe */ _chakra_ui_radio__WEBPACK_IMPORTED_MODULE_28__.useRadioGroup),
/* harmony export */   "useRadioGroupContext": () => (/* reexport safe */ _chakra_ui_radio__WEBPACK_IMPORTED_MODULE_28__.useRadioGroupContext),
/* harmony export */   "DefaultIcon": () => (/* reexport safe */ _chakra_ui_select__WEBPACK_IMPORTED_MODULE_29__.DefaultIcon),
/* harmony export */   "Select": () => (/* reexport safe */ _chakra_ui_select__WEBPACK_IMPORTED_MODULE_29__.Select),
/* harmony export */   "SelectField": () => (/* reexport safe */ _chakra_ui_select__WEBPACK_IMPORTED_MODULE_29__.SelectField),
/* harmony export */   "Skeleton": () => (/* reexport safe */ _chakra_ui_skeleton__WEBPACK_IMPORTED_MODULE_30__.Skeleton),
/* harmony export */   "SkeletonCircle": () => (/* reexport safe */ _chakra_ui_skeleton__WEBPACK_IMPORTED_MODULE_30__.SkeletonCircle),
/* harmony export */   "SkeletonText": () => (/* reexport safe */ _chakra_ui_skeleton__WEBPACK_IMPORTED_MODULE_30__.SkeletonText),
/* harmony export */   "RangeSlider": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.RangeSlider),
/* harmony export */   "RangeSliderFilledTrack": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.RangeSliderFilledTrack),
/* harmony export */   "RangeSliderMark": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.RangeSliderMark),
/* harmony export */   "RangeSliderProvider": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.RangeSliderProvider),
/* harmony export */   "RangeSliderThumb": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.RangeSliderThumb),
/* harmony export */   "RangeSliderTrack": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.RangeSliderTrack),
/* harmony export */   "Slider": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.Slider),
/* harmony export */   "SliderFilledTrack": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.SliderFilledTrack),
/* harmony export */   "SliderMark": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.SliderMark),
/* harmony export */   "SliderProvider": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.SliderProvider),
/* harmony export */   "SliderThumb": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.SliderThumb),
/* harmony export */   "SliderTrack": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.SliderTrack),
/* harmony export */   "useRangeSlider": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.useRangeSlider),
/* harmony export */   "useRangeSliderContext": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.useRangeSliderContext),
/* harmony export */   "useSlider": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.useSlider),
/* harmony export */   "useSliderContext": () => (/* reexport safe */ _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__.useSliderContext),
/* harmony export */   "Spinner": () => (/* reexport safe */ _chakra_ui_spinner__WEBPACK_IMPORTED_MODULE_32__.Spinner),
/* harmony export */   "Stat": () => (/* reexport safe */ _chakra_ui_stat__WEBPACK_IMPORTED_MODULE_33__.Stat),
/* harmony export */   "StatArrow": () => (/* reexport safe */ _chakra_ui_stat__WEBPACK_IMPORTED_MODULE_33__.StatArrow),
/* harmony export */   "StatDownArrow": () => (/* reexport safe */ _chakra_ui_stat__WEBPACK_IMPORTED_MODULE_33__.StatDownArrow),
/* harmony export */   "StatGroup": () => (/* reexport safe */ _chakra_ui_stat__WEBPACK_IMPORTED_MODULE_33__.StatGroup),
/* harmony export */   "StatHelpText": () => (/* reexport safe */ _chakra_ui_stat__WEBPACK_IMPORTED_MODULE_33__.StatHelpText),
/* harmony export */   "StatLabel": () => (/* reexport safe */ _chakra_ui_stat__WEBPACK_IMPORTED_MODULE_33__.StatLabel),
/* harmony export */   "StatNumber": () => (/* reexport safe */ _chakra_ui_stat__WEBPACK_IMPORTED_MODULE_33__.StatNumber),
/* harmony export */   "StatUpArrow": () => (/* reexport safe */ _chakra_ui_stat__WEBPACK_IMPORTED_MODULE_33__.StatUpArrow),
/* harmony export */   "Switch": () => (/* reexport safe */ _chakra_ui_switch__WEBPACK_IMPORTED_MODULE_34__.Switch),
/* harmony export */   "ColorModeContext": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.ColorModeContext),
/* harmony export */   "ColorModeProvider": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.ColorModeProvider),
/* harmony export */   "ColorModeScript": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.ColorModeScript),
/* harmony export */   "DarkMode": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.DarkMode),
/* harmony export */   "GlobalStyle": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.GlobalStyle),
/* harmony export */   "LightMode": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.LightMode),
/* harmony export */   "StylesProvider": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.StylesProvider),
/* harmony export */   "ThemeProvider": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.ThemeProvider),
/* harmony export */   "addPrefix": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.addPrefix),
/* harmony export */   "background": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.background),
/* harmony export */   "border": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.border),
/* harmony export */   "calc": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.calc),
/* harmony export */   "chakra": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.chakra),
/* harmony export */   "color": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.color),
/* harmony export */   "cookieStorageManager": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.cookieStorageManager),
/* harmony export */   "css": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.css),
/* harmony export */   "cssVar": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.cssVar),
/* harmony export */   "effect": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.effect),
/* harmony export */   "filter": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.filter),
/* harmony export */   "flexbox": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.flexbox),
/* harmony export */   "forwardRef": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.forwardRef),
/* harmony export */   "getCss": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.getCss),
/* harmony export */   "grid": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.grid),
/* harmony export */   "interactivity": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.interactivity),
/* harmony export */   "isStyleProp": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.isStyleProp),
/* harmony export */   "keyframes": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.keyframes),
/* harmony export */   "layout": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.layout),
/* harmony export */   "layoutPropNames": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.layoutPropNames),
/* harmony export */   "list": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.list),
/* harmony export */   "localStorageManager": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.localStorageManager),
/* harmony export */   "omitThemingProps": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.omitThemingProps),
/* harmony export */   "others": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.others),
/* harmony export */   "position": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.position),
/* harmony export */   "propNames": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.propNames),
/* harmony export */   "ring": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.ring),
/* harmony export */   "setScript": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.setScript),
/* harmony export */   "shouldForwardProp": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.shouldForwardProp),
/* harmony export */   "space": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.space),
/* harmony export */   "storageKey": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.storageKey),
/* harmony export */   "styled": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.styled),
/* harmony export */   "systemProps": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.systemProps),
/* harmony export */   "textDecoration": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.textDecoration),
/* harmony export */   "toCSSObject": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.toCSSObject),
/* harmony export */   "toCSSVar": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.toCSSVar),
/* harmony export */   "toVarDefinition": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.toVarDefinition),
/* harmony export */   "toVarReference": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.toVarReference),
/* harmony export */   "tokenToCSSVar": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.tokenToCSSVar),
/* harmony export */   "transform": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.transform),
/* harmony export */   "transition": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.transition),
/* harmony export */   "typography": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.typography),
/* harmony export */   "useChakra": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.useChakra),
/* harmony export */   "useColorMode": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.useColorMode),
/* harmony export */   "useColorModeValue": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.useColorModeValue),
/* harmony export */   "useMultiStyleConfig": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.useMultiStyleConfig),
/* harmony export */   "useProps": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.useProps),
/* harmony export */   "useStyleConfig": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.useStyleConfig),
/* harmony export */   "useStyles": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.useStyles),
/* harmony export */   "useTheme": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.useTheme),
/* harmony export */   "useToken": () => (/* reexport safe */ _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__.useToken),
/* harmony export */   "Tab": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.Tab),
/* harmony export */   "TabIndicator": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.TabIndicator),
/* harmony export */   "TabList": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.TabList),
/* harmony export */   "TabPanel": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.TabPanel),
/* harmony export */   "TabPanels": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.TabPanels),
/* harmony export */   "Tabs": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.Tabs),
/* harmony export */   "TabsDescendantsProvider": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.TabsDescendantsProvider),
/* harmony export */   "TabsProvider": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.TabsProvider),
/* harmony export */   "useTab": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.useTab),
/* harmony export */   "useTabIndicator": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.useTabIndicator),
/* harmony export */   "useTabList": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.useTabList),
/* harmony export */   "useTabPanel": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.useTabPanel),
/* harmony export */   "useTabPanels": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.useTabPanels),
/* harmony export */   "useTabs": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.useTabs),
/* harmony export */   "useTabsContext": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.useTabsContext),
/* harmony export */   "useTabsDescendant": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.useTabsDescendant),
/* harmony export */   "useTabsDescendants": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.useTabsDescendants),
/* harmony export */   "useTabsDescendantsContext": () => (/* reexport safe */ _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__.useTabsDescendantsContext),
/* harmony export */   "Tag": () => (/* reexport safe */ _chakra_ui_tag__WEBPACK_IMPORTED_MODULE_37__.Tag),
/* harmony export */   "TagCloseButton": () => (/* reexport safe */ _chakra_ui_tag__WEBPACK_IMPORTED_MODULE_37__.TagCloseButton),
/* harmony export */   "TagLabel": () => (/* reexport safe */ _chakra_ui_tag__WEBPACK_IMPORTED_MODULE_37__.TagLabel),
/* harmony export */   "TagLeftIcon": () => (/* reexport safe */ _chakra_ui_tag__WEBPACK_IMPORTED_MODULE_37__.TagLeftIcon),
/* harmony export */   "TagRightIcon": () => (/* reexport safe */ _chakra_ui_tag__WEBPACK_IMPORTED_MODULE_37__.TagRightIcon),
/* harmony export */   "Textarea": () => (/* reexport safe */ _chakra_ui_textarea__WEBPACK_IMPORTED_MODULE_38__.Textarea),
/* harmony export */   "createStandaloneToast": () => (/* reexport safe */ _chakra_ui_toast__WEBPACK_IMPORTED_MODULE_39__.createStandaloneToast),
/* harmony export */   "defaultStandaloneParam": () => (/* reexport safe */ _chakra_ui_toast__WEBPACK_IMPORTED_MODULE_39__.defaultStandaloneParam),
/* harmony export */   "toast": () => (/* reexport safe */ _chakra_ui_toast__WEBPACK_IMPORTED_MODULE_39__.toast),
/* harmony export */   "useToast": () => (/* reexport safe */ _chakra_ui_toast__WEBPACK_IMPORTED_MODULE_39__.useToast),
/* harmony export */   "Tooltip": () => (/* reexport safe */ _chakra_ui_tooltip__WEBPACK_IMPORTED_MODULE_40__.Tooltip),
/* harmony export */   "useTooltip": () => (/* reexport safe */ _chakra_ui_tooltip__WEBPACK_IMPORTED_MODULE_40__.useTooltip),
/* harmony export */   "Collapse": () => (/* reexport safe */ _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_41__.Collapse),
/* harmony export */   "EASINGS": () => (/* reexport safe */ _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_41__.EASINGS),
/* harmony export */   "Fade": () => (/* reexport safe */ _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_41__.Fade),
/* harmony export */   "ScaleFade": () => (/* reexport safe */ _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_41__.ScaleFade),
/* harmony export */   "Slide": () => (/* reexport safe */ _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_41__.Slide),
/* harmony export */   "SlideFade": () => (/* reexport safe */ _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_41__.SlideFade),
/* harmony export */   "fadeConfig": () => (/* reexport safe */ _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_41__.fadeConfig),
/* harmony export */   "scaleFadeConfig": () => (/* reexport safe */ _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_41__.scaleFadeConfig),
/* harmony export */   "slideFadeConfig": () => (/* reexport safe */ _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_41__.slideFadeConfig),
/* harmony export */   "VisuallyHidden": () => (/* reexport safe */ _chakra_ui_visually_hidden__WEBPACK_IMPORTED_MODULE_42__.VisuallyHidden),
/* harmony export */   "VisuallyHiddenInput": () => (/* reexport safe */ _chakra_ui_visually_hidden__WEBPACK_IMPORTED_MODULE_42__.VisuallyHiddenInput),
/* harmony export */   "visuallyHiddenStyle": () => (/* reexport safe */ _chakra_ui_visually_hidden__WEBPACK_IMPORTED_MODULE_42__.visuallyHiddenStyle),
/* harmony export */   "ChakraProvider": () => (/* binding */ ChakraProvider),
/* harmony export */   "extendTheme": () => (/* binding */ extendTheme),
/* harmony export */   "mergeThemeOverride": () => (/* binding */ mergeThemeOverride),
/* harmony export */   "withDefaultColorScheme": () => (/* binding */ withDefaultColorScheme),
/* harmony export */   "withDefaultProps": () => (/* binding */ withDefaultProps),
/* harmony export */   "withDefaultSize": () => (/* binding */ withDefaultSize),
/* harmony export */   "withDefaultVariant": () => (/* binding */ withDefaultVariant)
/* harmony export */ });
/* harmony import */ var _chakra_ui_provider__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! @chakra-ui/provider */ "./node_modules/@chakra-ui/provider/dist/chakra-ui-provider.esm.js");
/* harmony import */ var _chakra_ui_theme__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chakra-ui/theme */ "./node_modules/@chakra-ui/theme/dist/chakra-ui-theme.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/lodash.mergewith/index.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_45___default = /*#__PURE__*/__webpack_require__.n(_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_45__);
/* harmony import */ var _chakra_ui_accordion__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/accordion */ "./node_modules/@chakra-ui/accordion/dist/chakra-ui-accordion.esm.js");
/* harmony import */ var _chakra_ui_alert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/alert */ "./node_modules/@chakra-ui/alert/dist/chakra-ui-alert.esm.js");
/* harmony import */ var _chakra_ui_avatar__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/avatar */ "./node_modules/@chakra-ui/avatar/dist/chakra-ui-avatar.esm.js");
/* harmony import */ var _chakra_ui_breadcrumb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/breadcrumb */ "./node_modules/@chakra-ui/breadcrumb/dist/chakra-ui-breadcrumb.esm.js");
/* harmony import */ var _chakra_ui_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/button */ "./node_modules/@chakra-ui/button/dist/chakra-ui-button.esm.js");
/* harmony import */ var _chakra_ui_checkbox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/checkbox */ "./node_modules/@chakra-ui/checkbox/dist/chakra-ui-checkbox.esm.js");
/* harmony import */ var _chakra_ui_close_button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @chakra-ui/close-button */ "./node_modules/@chakra-ui/close-button/dist/chakra-ui-close-button.esm.js");
/* harmony import */ var _chakra_ui_counter__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @chakra-ui/counter */ "./node_modules/@chakra-ui/counter/dist/chakra-ui-counter.esm.js");
/* harmony import */ var _chakra_ui_css_reset__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @chakra-ui/css-reset */ "./node_modules/@chakra-ui/css-reset/dist/chakra-ui-css-reset.esm.js");
/* harmony import */ var _chakra_ui_editable__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @chakra-ui/editable */ "./node_modules/@chakra-ui/editable/dist/chakra-ui-editable.esm.js");
/* harmony import */ var _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @chakra-ui/form-control */ "./node_modules/@chakra-ui/form-control/dist/chakra-ui-form-control.esm.js");
/* harmony import */ var _chakra_ui_control_box__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @chakra-ui/control-box */ "./node_modules/@chakra-ui/control-box/dist/chakra-ui-control-box.esm.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");
/* harmony import */ var _chakra_ui_icon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @chakra-ui/icon */ "./node_modules/@chakra-ui/icon/dist/chakra-ui-icon.esm.js");
/* harmony import */ var _chakra_ui_image__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @chakra-ui/image */ "./node_modules/@chakra-ui/image/dist/chakra-ui-image.esm.js");
/* harmony import */ var _chakra_ui_input__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @chakra-ui/input */ "./node_modules/@chakra-ui/input/dist/chakra-ui-input.esm.js");
/* harmony import */ var _chakra_ui_layout__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @chakra-ui/layout */ "./node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js");
/* harmony import */ var _chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @chakra-ui/media-query */ "./node_modules/@chakra-ui/media-query/dist/chakra-ui-media-query.esm.js");
/* harmony import */ var _chakra_ui_table__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @chakra-ui/table */ "./node_modules/@chakra-ui/table/dist/chakra-ui-table.esm.js");
/* harmony import */ var _chakra_ui_menu__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @chakra-ui/menu */ "./node_modules/@chakra-ui/menu/dist/chakra-ui-menu.esm.js");
/* harmony import */ var _chakra_ui_modal__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @chakra-ui/modal */ "./node_modules/@chakra-ui/modal/dist/chakra-ui-modal.esm.js");
/* harmony import */ var _chakra_ui_number_input__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @chakra-ui/number-input */ "./node_modules/@chakra-ui/number-input/dist/chakra-ui-number-input.esm.js");
/* harmony import */ var _chakra_ui_pin_input__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @chakra-ui/pin-input */ "./node_modules/@chakra-ui/pin-input/dist/chakra-ui-pin-input.esm.js");
/* harmony import */ var _chakra_ui_popover__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @chakra-ui/popover */ "./node_modules/@chakra-ui/popover/dist/chakra-ui-popover.esm.js");
/* harmony import */ var _chakra_ui_popper__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @chakra-ui/popper */ "./node_modules/@chakra-ui/popper/dist/chakra-ui-popper.esm.js");
/* harmony import */ var _chakra_ui_portal__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @chakra-ui/portal */ "./node_modules/@chakra-ui/portal/dist/chakra-ui-portal.esm.js");
/* harmony import */ var _chakra_ui_progress__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @chakra-ui/progress */ "./node_modules/@chakra-ui/progress/dist/chakra-ui-progress.esm.js");
/* harmony import */ var _chakra_ui_radio__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @chakra-ui/radio */ "./node_modules/@chakra-ui/radio/dist/chakra-ui-radio.esm.js");
/* harmony import */ var _chakra_ui_select__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @chakra-ui/select */ "./node_modules/@chakra-ui/select/dist/chakra-ui-select.esm.js");
/* harmony import */ var _chakra_ui_skeleton__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @chakra-ui/skeleton */ "./node_modules/@chakra-ui/skeleton/dist/chakra-ui-skeleton.esm.js");
/* harmony import */ var _chakra_ui_slider__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @chakra-ui/slider */ "./node_modules/@chakra-ui/slider/dist/chakra-ui-slider.esm.js");
/* harmony import */ var _chakra_ui_spinner__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! @chakra-ui/spinner */ "./node_modules/@chakra-ui/spinner/dist/chakra-ui-spinner.esm.js");
/* harmony import */ var _chakra_ui_stat__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! @chakra-ui/stat */ "./node_modules/@chakra-ui/stat/dist/chakra-ui-stat.esm.js");
/* harmony import */ var _chakra_ui_switch__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! @chakra-ui/switch */ "./node_modules/@chakra-ui/switch/dist/chakra-ui-switch.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_tabs__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! @chakra-ui/tabs */ "./node_modules/@chakra-ui/tabs/dist/chakra-ui-tabs.esm.js");
/* harmony import */ var _chakra_ui_tag__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! @chakra-ui/tag */ "./node_modules/@chakra-ui/tag/dist/chakra-ui-tag.esm.js");
/* harmony import */ var _chakra_ui_textarea__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! @chakra-ui/textarea */ "./node_modules/@chakra-ui/textarea/dist/chakra-ui-textarea.esm.js");
/* harmony import */ var _chakra_ui_toast__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! @chakra-ui/toast */ "./node_modules/@chakra-ui/toast/dist/chakra-ui-toast.esm.js");
/* harmony import */ var _chakra_ui_tooltip__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! @chakra-ui/tooltip */ "./node_modules/@chakra-ui/tooltip/dist/chakra-ui-tooltip.esm.js");
/* harmony import */ var _chakra_ui_transition__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! @chakra-ui/transition */ "./node_modules/@chakra-ui/transition/dist/chakra-ui-transition.esm.js");
/* harmony import */ var _chakra_ui_visually_hidden__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! @chakra-ui/visually-hidden */ "./node_modules/@chakra-ui/visually-hidden/dist/chakra-ui-visually-hidden.esm.js");















































var ChakraProvider = _chakra_ui_provider__WEBPACK_IMPORTED_MODULE_43__.ChakraProvider;
ChakraProvider.defaultProps = {
  theme: _chakra_ui_theme__WEBPACK_IMPORTED_MODULE_0__.theme
};

/**
 * NOTE: This got too complex to manage and it's not worth the extra complexity.
 * We'll re-evaluate this API in the future releases.
 *
 * Function to override or customize the Chakra UI theme conveniently.
 * First extension overrides the baseTheme and following extensions override the preceding extensions.
 *
 * @example:
 * import { theme as baseTheme, extendTheme, withDefaultColorScheme } from '@chakra-ui/react'
 *
 * const customTheme = extendTheme(
 *   {
 *     colors: {
 *       brand: {
 *         500: "#b4d455",
 *       },
 *     },
 *   },
 *   withDefaultColorScheme({ colorScheme: "red" }),
 *   baseTheme // optional
 * )
 */
function extendTheme() {
  for (var _len = arguments.length, extensions = new Array(_len), _key = 0; _key < _len; _key++) {
    extensions[_key] = arguments[_key];
  }

  var overrides = [].concat(extensions);
  var baseTheme = extensions[extensions.length - 1];

  if ((0,_chakra_ui_theme__WEBPACK_IMPORTED_MODULE_0__.isChakraTheme)(baseTheme) && // this ensures backward compatibility
  // previously only `extendTheme(override, baseTheme?)` was allowed
  overrides.length > 1) {
    overrides = overrides.slice(0, overrides.length - 1);
  } else {
    baseTheme = _chakra_ui_theme__WEBPACK_IMPORTED_MODULE_0__.theme;
  }

  return _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.pipe.apply(void 0, overrides.map(function (extension) {
    return function (prevTheme) {
      return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.isFunction)(extension) ? extension(prevTheme) : mergeThemeOverride(prevTheme, extension);
    };
  }))(baseTheme);
}
function mergeThemeOverride() {
  for (var _len2 = arguments.length, overrides = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    overrides[_key2] = arguments[_key2];
  }

  return _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_45___default().apply(void 0, [{}].concat(overrides, [mergeThemeCustomizer]));
}

function mergeThemeCustomizer(source, override, key, object) {
  if (((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.isFunction)(source) || (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.isFunction)(override)) && Object.prototype.hasOwnProperty.call(object, key)) {
    return function () {
      var sourceValue = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.isFunction)(source) ? source.apply(void 0, arguments) : source;
      var overrideValue = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.isFunction)(override) ? override.apply(void 0, arguments) : override;
      return _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_45___default()({}, sourceValue, overrideValue, mergeThemeCustomizer);
    };
  } // fallback to default behaviour


  return undefined;
}

function withDefaultColorScheme(_ref) {
  var colorScheme = _ref.colorScheme,
      components = _ref.components;
  return function (theme) {
    var names = Object.keys(theme.components || {});

    if (Array.isArray(components)) {
      names = components;
    } else if ((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.isObject)(components)) {
      names = Object.keys(components);
    }

    return mergeThemeOverride(theme, {
      components: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.fromEntries)(names.map(function (componentName) {
        var withColorScheme = {
          defaultProps: {
            colorScheme: colorScheme
          }
        };
        return [componentName, withColorScheme];
      }))
    });
  };
}

function withDefaultSize(_ref) {
  var size = _ref.size,
      components = _ref.components;
  return function (theme) {
    var names = Object.keys(theme.components || {});

    if (Array.isArray(components)) {
      names = components;
    } else if ((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.isObject)(components)) {
      names = Object.keys(components);
    }

    return mergeThemeOverride(theme, {
      components: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.fromEntries)(names.map(function (componentName) {
        var withSize = {
          defaultProps: {
            size: size
          }
        };
        return [componentName, withSize];
      }))
    });
  };
}

function withDefaultVariant(_ref) {
  var variant = _ref.variant,
      components = _ref.components;
  return function (theme) {
    var names = Object.keys(theme.components || {});

    if (Array.isArray(components)) {
      names = components;
    } else if ((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.isObject)(components)) {
      names = Object.keys(components);
    }

    return mergeThemeOverride(theme, {
      components: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.fromEntries)(names.map(function (componentName) {
        var withVariant = {
          defaultProps: {
            variant: variant
          }
        };
        return [componentName, withVariant];
      }))
    });
  };
}

function withDefaultProps(_ref) {
  var _ref$defaultProps = _ref.defaultProps,
      colorScheme = _ref$defaultProps.colorScheme,
      variant = _ref$defaultProps.variant,
      size = _ref$defaultProps.size,
      components = _ref.components;

  var identity = function identity(t) {
    return t;
  };

  var fns = [colorScheme ? withDefaultColorScheme({
    colorScheme: colorScheme,
    components: components
  }) : identity, size ? withDefaultSize({
    size: size,
    components: components
  }) : identity, variant ? withDefaultVariant({
    variant: variant,
    components: components
  }) : identity];
  return function (theme) {
    return mergeThemeOverride(_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_44__.pipe.apply(void 0, fns)(theme));
  };
}




/***/ }),

/***/ "./node_modules/@chakra-ui/select/dist/chakra-ui-select.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@chakra-ui/select/dist/chakra-ui-select.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DefaultIcon": () => (/* binding */ DefaultIcon),
/* harmony export */   "Select": () => (/* binding */ Select),
/* harmony export */   "SelectField": () => (/* binding */ SelectField)
/* harmony export */ });
/* harmony import */ var _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/form-control */ "./node_modules/@chakra-ui/form-control/dist/chakra-ui-form-control.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/styled-system/dist/chakra-ui-styled-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/lodash.mergewith/index.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");





function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded = ["children", "placeholder", "className"],
    _excluded2 = ["rootProps", "placeholder", "icon", "color", "height", "h", "minH", "minHeight", "iconColor", "iconSize", "isFullWidth"],
    _excluded3 = ["children"];
var SelectField = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var children = props.children,
      placeholder = props.placeholder,
      className = props.className,
      rest = _objectWithoutPropertiesLoose(props, _excluded);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.select, _extends({}, rest, {
    ref: ref,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-select", className)
  }), placeholder && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("option", {
    value: ""
  }, placeholder), children);
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  SelectField.displayName = "SelectField";
}

/**
 * React component used to select one item from a list of options.
 */
var Select = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useMultiStyleConfig)("Select", props);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.omitThemingProps)(props),
      rootProps = _omitThemingProps.rootProps,
      placeholder = _omitThemingProps.placeholder,
      icon = _omitThemingProps.icon,
      color = _omitThemingProps.color,
      height = _omitThemingProps.height,
      h = _omitThemingProps.h,
      minH = _omitThemingProps.minH,
      minHeight = _omitThemingProps.minHeight,
      iconColor = _omitThemingProps.iconColor,
      iconSize = _omitThemingProps.iconSize;
      _omitThemingProps.isFullWidth;
      var rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded2);

  var _split = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.split)(rest, _chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.layoutPropNames),
      layoutProps = _split[0],
      otherProps = _split[1];

  var ownProps = (0,_chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_4__.useFormControl)(otherProps);
  var rootStyles = {
    width: "100%",
    height: "fit-content",
    position: "relative",
    color: color
  };
  var fieldStyles = _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_5___default()({
    paddingEnd: "2rem"
  }, styles.field, {
    _focus: {
      zIndex: "unset"
    }
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.div, _extends({
    className: "chakra-select__wrapper",
    __css: rootStyles
  }, layoutProps, rootProps), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(SelectField, _extends({
    ref: ref,
    height: h != null ? h : height,
    minH: minH != null ? minH : minHeight,
    placeholder: placeholder
  }, ownProps, {
    __css: fieldStyles
  }), props.children), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(SelectIcon, _extends({
    "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(ownProps.disabled)
  }, (iconColor || color) && {
    color: iconColor || color
  }, {
    __css: styles.icon
  }, iconSize && {
    fontSize: iconSize
  }), icon));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Select.displayName = "Select";
}

var DefaultIcon = function DefaultIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg", _extends({
    viewBox: "0 0 24 24"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"
  }));
};
var IconWrapper = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra)("div", {
  baseStyle: {
    position: "absolute",
    display: "inline-flex",
    alignItems: "center",
    justifyContent: "center",
    pointerEvents: "none",
    top: "50%",
    transform: "translateY(-50%)"
  }
});

var SelectIcon = function SelectIcon(props) {
  var _props$children = props.children,
      children = _props$children === void 0 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefaultIcon, null) : _props$children,
      rest = _objectWithoutPropertiesLoose(props, _excluded3);

  var clone = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(children, {
    role: "presentation",
    className: "chakra-select__icon",
    focusable: false,
    "aria-hidden": true,
    // force icon to adhere to `IconWrapper` styles
    style: {
      width: "1em",
      height: "1em",
      color: "currentColor"
    }
  });
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconWrapper, _extends({}, rest, {
    className: "chakra-select__icon-wrapper"
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(children) ? clone : null);
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  SelectIcon.displayName = "SelectIcon";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/skeleton/dist/chakra-ui-skeleton.esm.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@chakra-ui/skeleton/dist/chakra-ui-skeleton.esm.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Skeleton": () => (/* binding */ Skeleton),
/* harmony export */   "SkeletonCircle": () => (/* binding */ SkeletonCircle),
/* harmony export */   "SkeletonText": () => (/* binding */ SkeletonText)
/* harmony export */ });
/* harmony import */ var _chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/media-query */ "./node_modules/@chakra-ui/media-query/dist/chakra-ui-media-query.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");






function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded = ["startColor", "endColor", "isLoaded", "fadeDuration", "speed", "className"],
    _excluded2 = ["noOfLines", "spacing", "skeletonHeight", "className", "startColor", "endColor", "isLoaded", "fadeDuration", "speed", "children"],
    _excluded3 = ["size"];
var StyledSkeleton = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra)("div", {
  baseStyle: {
    boxShadow: "none",
    backgroundClip: "padding-box",
    cursor: "default",
    color: "transparent",
    pointerEvents: "none",
    userSelect: "none",
    "&::before, &::after, *": {
      visibility: "hidden"
    }
  }
});
var fade = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_2__.keyframes)({
  from: {
    opacity: 0
  },
  to: {
    opacity: 1
  }
});

var useIsFirstRender = function useIsFirstRender() {
  var isFirstRender = react__WEBPACK_IMPORTED_MODULE_0__.useRef(true);
  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    isFirstRender.current = false;
  }, []);
  return isFirstRender.current;
};

var Skeleton = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyleConfig)("Skeleton", props);
  var isFirstRender = useIsFirstRender();

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.omitThemingProps)(props);
      _omitThemingProps.startColor;
      _omitThemingProps.endColor;
      var isLoaded = _omitThemingProps.isLoaded,
      fadeDuration = _omitThemingProps.fadeDuration;
      _omitThemingProps.speed;
      var className = _omitThemingProps.className,
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);

  var wasPreviouslyLoaded = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_3__.usePrevious)(isLoaded);

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-skeleton", className);

  if (isLoaded) {
    var animation = isFirstRender || wasPreviouslyLoaded ? "none" : fade + " " + fadeDuration + "s";
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.div, _extends({
      ref: ref,
      className: _className,
      __css: {
        animation: animation
      }
    }, rest));
  }

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(StyledSkeleton, _extends({
    ref: ref,
    className: _className
  }, rest, {
    __css: styles
  }));
});
Skeleton.defaultProps = {
  fadeDuration: 0.4,
  speed: 0.8
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  Skeleton.displayName = "Skeleton";
}

function range(count) {
  return Array(count).fill(1).map(function (_, index) {
    return index + 1;
  });
}

var defaultNoOfLines = 3;
var SkeletonText = function SkeletonText(props) {
  var _props$noOfLines = props.noOfLines,
      noOfLines = _props$noOfLines === void 0 ? defaultNoOfLines : _props$noOfLines,
      _props$spacing = props.spacing,
      spacing = _props$spacing === void 0 ? "0.5rem" : _props$spacing,
      _props$skeletonHeight = props.skeletonHeight,
      skeletonHeight = _props$skeletonHeight === void 0 ? "0.5rem" : _props$skeletonHeight,
      className = props.className,
      startColor = props.startColor,
      endColor = props.endColor,
      isLoaded = props.isLoaded,
      fadeDuration = props.fadeDuration,
      speed = props.speed,
      children = props.children,
      rest = _objectWithoutPropertiesLoose(props, _excluded2);

  var noOfLinesValue = (0,_chakra_ui_media_query__WEBPACK_IMPORTED_MODULE_5__.useBreakpointValue)(typeof noOfLines === "number" ? [noOfLines] : noOfLines) || defaultNoOfLines;
  var numbers = range(noOfLinesValue);

  var getWidth = function getWidth(index) {
    if (noOfLinesValue > 1) {
      return index === numbers.length ? "80%" : "100%";
    }

    return "100%";
  };

  var _className = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-skeleton__group", className);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.div, _extends({
    className: _className
  }, rest), numbers.map(function (number, index) {
    if (isLoaded && index > 0) {
      // skip other lines
      return null;
    }

    var sizeProps = isLoaded ? null : {
      mb: number === numbers.length ? "0" : spacing,
      width: getWidth(number),
      height: skeletonHeight
    };
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Skeleton, _extends({
      key: numbers.length.toString() + number,
      startColor: startColor,
      endColor: endColor,
      isLoaded: isLoaded,
      fadeDuration: fadeDuration,
      speed: speed
    }, sizeProps), // allows animating the children
    index === 0 ? children : undefined);
  }));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  SkeletonText.displayName = "SkeletonText";
}

var SkeletonCircle = function SkeletonCircle(_ref) {
  var _ref$size = _ref.size,
      size = _ref$size === void 0 ? "2rem" : _ref$size,
      rest = _objectWithoutPropertiesLoose(_ref, _excluded3);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Skeleton, _extends({
    borderRadius: "full",
    boxSize: size
  }, rest));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  SkeletonCircle.displayName = "SkeletonCircle";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/slider/dist/chakra-ui-slider.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@chakra-ui/slider/dist/chakra-ui-slider.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RangeSlider": () => (/* binding */ RangeSlider),
/* harmony export */   "RangeSliderFilledTrack": () => (/* binding */ RangeSliderFilledTrack),
/* harmony export */   "RangeSliderMark": () => (/* binding */ RangeSliderMark),
/* harmony export */   "RangeSliderProvider": () => (/* binding */ RangeSliderProvider),
/* harmony export */   "RangeSliderThumb": () => (/* binding */ RangeSliderThumb),
/* harmony export */   "RangeSliderTrack": () => (/* binding */ RangeSliderTrack),
/* harmony export */   "Slider": () => (/* binding */ Slider),
/* harmony export */   "SliderFilledTrack": () => (/* binding */ SliderFilledTrack),
/* harmony export */   "SliderMark": () => (/* binding */ SliderMark),
/* harmony export */   "SliderProvider": () => (/* binding */ SliderProvider),
/* harmony export */   "SliderThumb": () => (/* binding */ SliderThumb),
/* harmony export */   "SliderTrack": () => (/* binding */ SliderTrack),
/* harmony export */   "useRangeSlider": () => (/* binding */ useRangeSlider),
/* harmony export */   "useRangeSliderContext": () => (/* binding */ useRangeSliderContext),
/* harmony export */   "useSlider": () => (/* binding */ useSlider),
/* harmony export */   "useSliderContext": () => (/* binding */ useSliderContext)
/* harmony export */ });
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/css-box-model/dist/css-box-model.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");







function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function getIds(id) {
  return {
    root: "slider-root-" + id,
    getThumb: function getThumb(i) {
      return "slider-thumb-" + id + "-" + i;
    },
    getInput: function getInput(i) {
      return "slider-input-" + id + "-" + i;
    },
    track: "slider-track-" + id,
    innerTrack: "slider-filled-track-" + id,
    getMarker: function getMarker(i) {
      return "slider-marker-" + id + "-" + i;
    },
    output: "slider-output-" + id
  };
}
function orient$1(options) {
  var orientation = options.orientation,
      vertical = options.vertical,
      horizontal = options.horizontal;
  return orientation === "vertical" ? vertical : horizontal;
}
var zeroRect = {
  width: 0,
  height: 0
};
function getStyles(options) {
  var orientation = options.orientation,
      thumbPercents = options.thumbPercents,
      thumbRects = options.thumbRects,
      isReversed = options.isReversed;

  var getThumbStyle = function getThumbStyle(i) {
    return _extends({
      position: "absolute",
      userSelect: "none",
      WebkitUserSelect: "none",
      MozUserSelect: "none",
      msUserSelect: "none",
      touchAction: "none"
    }, orient$1({
      orientation: orientation,
      vertical: {
        bottom: "calc(" + thumbPercents[i] + "% - " + thumbRects[i].height / 2 + "px)"
      },
      horizontal: {
        left: "calc(" + thumbPercents[i] + "% - " + thumbRects[i].width / 2 + "px)"
      }
    }));
  };

  var size = orientation === "vertical" ? thumbRects.reduce(function (a, b) {
    return a.height > b.height ? a : b;
  }, zeroRect) : thumbRects.reduce(function (a, b) {
    return a.width > b.width ? a : b;
  }, zeroRect);

  var rootStyle = _extends({
    position: "relative",
    touchAction: "none",
    WebkitTapHighlightColor: "rgba(0,0,0,0)",
    userSelect: "none",
    outline: 0
  }, orient$1({
    orientation: orientation,
    vertical: {
      paddingLeft: size.width / 2,
      paddingRight: size.width / 2
    },
    horizontal: {
      paddingTop: size.height / 2,
      paddingBottom: size.height / 2
    }
  }));

  var trackStyle = _extends({
    position: "absolute"
  }, orient$1({
    orientation: orientation,
    vertical: {
      left: "50%",
      transform: "translateX(-50%)",
      height: "100%"
    },
    horizontal: {
      top: "50%",
      transform: "translateY(-50%)",
      width: "100%"
    }
  }));

  var isSingleThumb = thumbPercents.length === 1;
  var fallback = [0, isReversed ? 100 - thumbPercents[0] : thumbPercents[0]];
  var range = isSingleThumb ? fallback : thumbPercents;
  var start = range[0];

  if (!isSingleThumb && isReversed) {
    start = 100 - start;
  }

  var percent = Math.abs(range[range.length - 1] - range[0]);

  var innerTrackStyle = _extends({}, trackStyle, orient$1({
    orientation: orientation,
    vertical: isReversed ? {
      height: percent + "%",
      top: start + "%"
    } : {
      height: percent + "%",
      bottom: start + "%"
    },
    horizontal: isReversed ? {
      width: percent + "%",
      right: start + "%"
    } : {
      width: percent + "%",
      left: start + "%"
    }
  }));

  return {
    trackStyle: trackStyle,
    innerTrackStyle: innerTrackStyle,
    rootStyle: rootStyle,
    getThumbStyle: getThumbStyle
  };
}
function getIsReversed(options) {
  var isReversed = options.isReversed,
      direction = options.direction,
      orientation = options.orientation;

  if (direction === "ltr" || orientation === "vertical") {
    return isReversed;
  } // only flip for horizontal RTL
  // if isReserved 🔜  otherwise  🔚


  return !isReversed;
}

var _excluded$3 = ["min", "max", "onChange", "value", "defaultValue", "isReversed", "direction", "orientation", "id", "isDisabled", "isReadOnly", "onChangeStart", "onChangeEnd", "step", "getAriaValueText", "aria-valuetext", "aria-label", "aria-labelledby", "name", "focusThumbOnChange", "minStepsBetweenThumbs"],
    _excluded2 = ["index"],
    _excluded3 = ["value"],
    _excluded4 = ["index"];

/**
 * React hook that implements an accessible range slider.
 *
 * It is an alternative to `<input type="range" />`, and returns
 * prop getters for the component parts
 *
 * @see Docs     https://chakra-ui.com/docs/form/slider
 * @see WAI-ARIA https://www.w3.org/TR/wai-aria-practices-1.1/#slider
 */
function useRangeSlider(props) {
  var _props$min = props.min,
      min = _props$min === void 0 ? 0 : _props$min,
      _props$max = props.max,
      max = _props$max === void 0 ? 100 : _props$max,
      onChange = props.onChange,
      valueProp = props.value,
      defaultValue = props.defaultValue,
      isReversedProp = props.isReversed,
      _props$direction = props.direction,
      direction = _props$direction === void 0 ? "ltr" : _props$direction,
      _props$orientation = props.orientation,
      orientation = _props$orientation === void 0 ? "horizontal" : _props$orientation,
      idProp = props.id,
      isDisabled = props.isDisabled,
      isReadOnly = props.isReadOnly,
      onChangeStartProp = props.onChangeStart,
      onChangeEndProp = props.onChangeEnd,
      _props$step = props.step,
      step = _props$step === void 0 ? 1 : _props$step,
      getAriaValueTextProp = props.getAriaValueText,
      ariaValueText = props["aria-valuetext"],
      ariaLabel = props["aria-label"],
      ariaLabelledBy = props["aria-labelledby"],
      name = props.name,
      _props$focusThumbOnCh = props.focusThumbOnChange,
      focusThumbOnChange = _props$focusThumbOnCh === void 0 ? true : _props$focusThumbOnCh,
      _props$minStepsBetwee = props.minStepsBetweenThumbs,
      minStepsBetweenThumbs = _props$minStepsBetwee === void 0 ? 0 : _props$minStepsBetwee,
      htmlProps = _objectWithoutPropertiesLoose(props, _excluded$3);

  var onChangeStart = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallbackRef)(onChangeStartProp);
  var onChangeEnd = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallbackRef)(onChangeEndProp);
  var getAriaValueText = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallbackRef)(getAriaValueTextProp);
  var isReversed = getIsReversed({
    isReversed: isReversedProp,
    direction: direction,
    orientation: orientation
  });

  var _useControllableState = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useControllableState)({
    value: valueProp,
    defaultValue: defaultValue != null ? defaultValue : [25, 75],
    onChange: onChange
  }),
      valueState = _useControllableState[0],
      setValue = _useControllableState[1];

  if (!Array.isArray(valueState)) {
    throw new TypeError("[range-slider] You passed an invalid value for `value` or `defaultValue`, expected `Array` but got `" + typeof valueState + "`");
  }

  var _useBoolean = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useBoolean)(),
      isDragging = _useBoolean[0],
      setDragging = _useBoolean[1];

  var _useBoolean2 = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useBoolean)(),
      isFocused = _useBoolean2[0],
      setFocused = _useBoolean2[1];

  var _useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1),
      activeIndex = _useState[0],
      setActiveIndex = _useState[1];

  var eventSourceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var isInteractive = !(isDisabled || isReadOnly);
  var initialValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(valueState);
  var value = valueState.map(function (val) {
    return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(val, min, max);
  });
  var valueRef = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useLatestRef)(value);
  var spacing = minStepsBetweenThumbs * step;
  var valueBounds = getValueBounds(value, min, max, spacing);
  var reversedValue = value.map(function (val) {
    return max - val + min;
  });
  var thumbValues = isReversed ? reversedValue : value;
  var thumbPercents = thumbValues.map(function (val) {
    return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.valueToPercent)(val, min, max);
  });
  var isVertical = orientation === "vertical";

  var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Array.from({
    length: value.length
  }).map(function () {
    return {
      width: 0,
      height: 0
    };
  })),
      thumbRects = _useState2[0],
      setThumbRects = _useState2[1];

  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    var _rootRef$current;

    if (!rootRef.current) return;
    var thumbs = Array.from((_rootRef$current = rootRef.current) == null ? void 0 : _rootRef$current.querySelectorAll("[role=slider]"));
    var rects = thumbs.map(function (el) {
      return {
        width: el.offsetWidth,
        height: el.offsetHeight
      };
    });
    if (rects.length) setThumbRects(rects);
  }, []);
  /**
   * Let's keep a reference to the slider track and thumb
   */

  var trackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var rootRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var uuid = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useId)(idProp);
  var ids = getIds(uuid);
  var getValueFromPointer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    var _event$touches$, _event$touches;

    if (!trackRef.current) return;
    eventSourceRef.current = "pointer";
    var rect = trackRef.current.getBoundingClientRect();

    var _ref = (_event$touches$ = (_event$touches = event.touches) == null ? void 0 : _event$touches[0]) != null ? _event$touches$ : event,
        clientX = _ref.clientX,
        clientY = _ref.clientY;

    var diff = isVertical ? rect.bottom - clientY : clientX - rect.left;
    var length = isVertical ? rect.height : rect.width;
    var percent = diff / length;
    if (isReversed) percent = 1 - percent;
    return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.percentToValue)(percent, min, max);
  }, [isVertical, isReversed, max, min]);
  var tenSteps = (max - min) / 10;
  var oneStep = step || (max - min) / 100;
  var actions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return {
      setValueAtIndex: function setValueAtIndex(index, val) {
        if (!isInteractive) return;
        var bounds = valueBounds[index];
        val = parseFloat((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.roundValueToStep)(val, bounds.min, oneStep));
        val = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(val, bounds.min, bounds.max);
        var next = [].concat(value);
        next[index] = val;
        setValue(next);
      },
      setActiveIndex: setActiveIndex,
      stepUp: function stepUp(index, step) {
        if (step === void 0) {
          step = oneStep;
        }

        var valueAtIndex = value[index];
        var next = isReversed ? valueAtIndex - step : valueAtIndex + step;
        actions.setValueAtIndex(index, next);
      },
      stepDown: function stepDown(index, step) {
        if (step === void 0) {
          step = oneStep;
        }

        var valueAtIndex = value[index];
        var next = isReversed ? valueAtIndex + step : valueAtIndex - step;
        actions.setValueAtIndex(index, next);
      },
      reset: function reset() {
        return setValue(initialValue.current);
      }
    };
  }, [oneStep, value, isReversed, setValue, isInteractive, valueBounds]);
  /**
   * Keyboard interaction to ensure users can operate
   * the slider using only their keyboard.
   */

  var onKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    var eventKey = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.normalizeEventKey)(event);
    var keyMap = {
      ArrowRight: function ArrowRight() {
        return actions.stepUp(activeIndex);
      },
      ArrowUp: function ArrowUp() {
        return actions.stepUp(activeIndex);
      },
      ArrowLeft: function ArrowLeft() {
        return actions.stepDown(activeIndex);
      },
      ArrowDown: function ArrowDown() {
        return actions.stepDown(activeIndex);
      },
      PageUp: function PageUp() {
        return actions.stepUp(activeIndex, tenSteps);
      },
      PageDown: function PageDown() {
        return actions.stepDown(activeIndex, tenSteps);
      },
      Home: function Home() {
        var value = valueBounds[activeIndex].min;
        actions.setValueAtIndex(activeIndex, value);
      },
      End: function End() {
        var value = valueBounds[activeIndex].max;
        actions.setValueAtIndex(activeIndex, value);
      }
    };
    var action = keyMap[eventKey];

    if (action) {
      event.preventDefault();
      event.stopPropagation();
      action(event);
      eventSourceRef.current = "keyboard";
    }
  }, [actions, activeIndex, tenSteps, valueBounds]);
  /**
   * Compute styles for all component parts.
   */

  var _useMemo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return getStyles({
      isReversed: isReversed,
      orientation: orientation,
      thumbRects: thumbRects,
      thumbPercents: thumbPercents
    });
  }, [isReversed, orientation, thumbPercents, thumbRects]),
      getThumbStyle = _useMemo.getThumbStyle,
      rootStyle = _useMemo.rootStyle,
      trackStyle = _useMemo.trackStyle,
      innerTrackStyle = _useMemo.innerTrackStyle;

  var focusThumb = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (index) {
    var idx = index != null ? index : activeIndex;

    if (idx !== -1 && focusThumbOnChange) {
      var _rootRef$current2;

      var id = ids.getThumb(idx);
      var thumb = (_rootRef$current2 = rootRef.current) == null ? void 0 : _rootRef$current2.ownerDocument.getElementById(id);

      if (thumb) {
        setTimeout(function () {
          return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.focus)(thumb);
        });
      }
    }
  }, [focusThumbOnChange, activeIndex, ids]);
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {
    if (eventSourceRef.current === "keyboard") {
      onChangeEnd == null ? void 0 : onChangeEnd(valueRef.current);
    }
  }, [value, onChangeEnd]);

  var _onPanSessionStart = function onPanSessionStart(event) {
    var pointValue = getValueFromPointer(event) || 0;
    var distances = value.map(function (val) {
      return Math.abs(val - pointValue);
    });
    var closest = Math.min.apply(Math, distances);
    var index = distances.indexOf(closest); // check if the clicked thumb is stacked by checking if there are multiple
    // thumbs at the same distance

    var thumbsAtPosition = distances.filter(function (distance) {
      return distance === closest;
    });
    var isThumbStacked = thumbsAtPosition.length > 1; // when two thumbs are stacked and the user clicks at a point larger than
    // their values, pick the last thumb with the greatest index

    if (isThumbStacked && pointValue > value[index]) {
      index = thumbsAtPosition.length - 1;
    }

    setActiveIndex(index);
    actions.setValueAtIndex(index, pointValue);
    focusThumb(index);
  };

  var _onPan = function onPan(event) {
    if (activeIndex == -1) return;
    var pointValue = getValueFromPointer(event) || 0;
    setActiveIndex(activeIndex);
    actions.setValueAtIndex(activeIndex, pointValue);
    focusThumb(activeIndex);
  };

  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.usePanGesture)(rootRef, {
    onPanSessionStart: function onPanSessionStart(event) {
      if (!isInteractive) return;
      setDragging.on();

      _onPanSessionStart(event);

      onChangeStart == null ? void 0 : onChangeStart(valueRef.current);
    },
    onPanSessionEnd: function onPanSessionEnd() {
      if (!isInteractive) return;
      setDragging.off();
      onChangeEnd == null ? void 0 : onChangeEnd(valueRef.current);
    },
    onPan: function onPan(event) {
      if (!isInteractive) return;

      _onPan(event);
    }
  });
  var getRootProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, htmlProps, {
      id: ids.root,
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(ref, rootRef),
      tabIndex: -1,
      "aria-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isDisabled),
      "data-focused": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused),
      style: _extends({}, props.style, rootStyle)
    });
  }, [htmlProps, isDisabled, isFocused, rootStyle, ids]);
  var getTrackProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(ref, trackRef),
      id: ids.track,
      "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),
      style: _extends({}, props.style, trackStyle)
    });
  }, [isDisabled, trackStyle, ids]);
  var getInnerTrackProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: ref,
      id: ids.innerTrack,
      style: _extends({}, props.style, innerTrackStyle)
    });
  }, [innerTrackStyle, ids]);
  var getThumbProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    var _getAriaValueText;

    if (ref === void 0) {
      ref = null;
    }

    var index = props.index,
        rest = _objectWithoutPropertiesLoose(props, _excluded2);

    var _value = value[index];

    if (_value == null) {
      throw new TypeError("[range-slider > thumb] Cannot find value at index `" + index + "`. The `value` or `defaultValue` length is : " + value.length);
    }

    var bounds = valueBounds[index];
    return _extends({}, rest, {
      ref: ref,
      role: "slider",
      tabIndex: isInteractive ? 0 : undefined,
      id: ids.getThumb(index),
      "data-active": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDragging && activeIndex === index),
      "aria-valuetext": (_getAriaValueText = getAriaValueText == null ? void 0 : getAriaValueText(_value)) != null ? _getAriaValueText : ariaValueText == null ? void 0 : ariaValueText[index],
      "aria-valuemin": bounds.min,
      "aria-valuemax": bounds.max,
      "aria-valuenow": _value,
      "aria-orientation": orientation,
      "aria-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isDisabled),
      "aria-readonly": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isReadOnly),
      "aria-label": ariaLabel == null ? void 0 : ariaLabel[index],
      "aria-labelledby": ariaLabel != null && ariaLabel[index] ? undefined : ariaLabelledBy == null ? void 0 : ariaLabelledBy[index],
      style: _extends({}, props.style, getThumbStyle(index)),
      onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onKeyDown, onKeyDown),
      onFocus: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onFocus, function () {
        setFocused.on();
        setActiveIndex(index);
      }),
      onBlur: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onBlur, function () {
        setFocused.off();
        setActiveIndex(-1);
      })
    });
  }, [ids, value, valueBounds, isInteractive, isDragging, activeIndex, getAriaValueText, ariaValueText, orientation, isDisabled, isReadOnly, ariaLabel, ariaLabelledBy, getThumbStyle, onKeyDown, setFocused]);
  var getOutputProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: ref,
      id: ids.output,
      htmlFor: value.map(function (v, i) {
        return ids.getThumb(i);
      }).join(" "),
      "aria-live": "off"
    });
  }, [ids, value]);
  var getMarkerProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    var _props = props,
        v = _props.value,
        rest = _objectWithoutPropertiesLoose(_props, _excluded3);

    var isInRange = !(v < min || v > max);
    var isHighlighted = v >= value[0] && v <= value[value.length - 1];
    var percent = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.valueToPercent)(v, min, max);
    percent = isReversed ? 100 - percent : percent;

    var markerStyle = _extends({
      position: "absolute",
      pointerEvents: "none"
    }, orient$1({
      orientation: orientation,
      vertical: {
        bottom: percent + "%"
      },
      horizontal: {
        left: percent + "%"
      }
    }));

    return _extends({}, rest, {
      ref: ref,
      id: ids.getMarker(props.value),
      role: "presentation",
      "aria-hidden": true,
      "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),
      "data-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(!isInRange),
      "data-highlighted": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isHighlighted),
      style: _extends({}, props.style, markerStyle)
    });
  }, [isDisabled, isReversed, max, min, orientation, value, ids]);
  var getInputProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (ref === void 0) {
      ref = null;
    }

    var index = props.index,
        rest = _objectWithoutPropertiesLoose(props, _excluded4);

    return _extends({}, rest, {
      ref: ref,
      id: ids.getInput(index),
      type: "hidden",
      value: value[index],
      name: Array.isArray(name) ? name[index] : name + "-" + index
    });
  }, [name, value, ids]);
  return {
    state: {
      value: value,
      isFocused: isFocused,
      isDragging: isDragging,
      getThumbPercent: function getThumbPercent(i) {
        return thumbPercents[i];
      },
      getThumbMinValue: function getThumbMinValue(i) {
        return valueBounds[i].min;
      },
      getThumbMaxValue: function getThumbMaxValue(i) {
        return valueBounds[i].max;
      }
    },
    actions: actions,
    getRootProps: getRootProps,
    getTrackProps: getTrackProps,
    getInnerTrackProps: getInnerTrackProps,
    getThumbProps: getThumbProps,
    getMarkerProps: getMarkerProps,
    getInputProps: getInputProps,
    getOutputProps: getOutputProps
  };
}

var getValueBounds = function getValueBounds(arr, min, max, spacing) {
  return arr.map(function (v, i) {
    var _min = i === 0 ? min : arr[i - 1] + spacing;

    var _max = i === arr.length - 1 ? max : arr[i + 1] - spacing;

    return {
      min: _min,
      max: _max
    };
  });
};

var _excluded$2 = ["getRootProps"];

var _createContext$1 = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.createContext)({
  name: "SliderContext",
  errorMessage: "useSliderContext: `context` is undefined. Seems you forgot to wrap all slider components within <RangeSlider />"
}),
    RangeSliderProvider = _createContext$1[0],
    useRangeSliderContext = _createContext$1[1];

/**
 * The Slider is used to allow users to make selections from a range of values.
 * It provides context and functionality for all slider components
 *
 * @see Docs     https://chakra-ui.com/docs/form/slider
 * @see WAI-ARIA https://www.w3.org/TR/wai-aria-practices/#slider
 */
var RangeSlider = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useMultiStyleConfig)("Slider", props);
  var ownProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.omitThemingProps)(props);

  var _useTheme = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useTheme)(),
      direction = _useTheme.direction;

  ownProps.direction = direction;

  var _useRangeSlider = useRangeSlider(ownProps),
      getRootProps = _useRangeSlider.getRootProps,
      context = _objectWithoutPropertiesLoose(_useRangeSlider, _excluded$2);

  var ctx = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return _extends({}, context, {
      name: props.name
    });
  }, [context, props.name]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(RangeSliderProvider, {
    value: ctx
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, getRootProps({}, ref), {
    className: "chakra-slider",
    __css: styles.container
  }), props.children)));
});
RangeSlider.defaultProps = {
  orientation: "horizontal"
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  RangeSlider.displayName = "RangeSlider";
}

/**
 * Slider component that acts as the handle used to select predefined
 * values by dragging its handle along the track
 */
var RangeSliderThumb = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _useRangeSliderContex = useRangeSliderContext(),
      getThumbProps = _useRangeSliderContex.getThumbProps,
      getInputProps = _useRangeSliderContex.getInputProps,
      name = _useRangeSliderContex.name;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  var thumbProps = getThumbProps(props, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, thumbProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-slider__thumb", props.className),
    __css: styles.thumb
  }), thumbProps.children, name && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", getInputProps({
    index: props.index
  })));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  RangeSliderThumb.displayName = "RangeSliderThumb";
}

var RangeSliderTrack = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _useRangeSliderContex2 = useRangeSliderContext(),
      getTrackProps = _useRangeSliderContex2.getTrackProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  var trackProps = getTrackProps(props, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, trackProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-slider__track", props.className),
    __css: styles.track,
    "data-testid": "chakra-range-slider-track"
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  RangeSliderTrack.displayName = "RangeSliderTrack";
}

var RangeSliderFilledTrack = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _useRangeSliderContex3 = useRangeSliderContext(),
      getInnerTrackProps = _useRangeSliderContex3.getInnerTrackProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  var trackProps = getInnerTrackProps(props, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, trackProps, {
    className: "chakra-slider__filled-track",
    __css: styles.filledTrack
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  RangeSliderFilledTrack.displayName = "RangeSliderFilledTrack";
}

/**
 * SliderMark is used to provide names for specific Slider
 * values by defining labels or markers along the track.
 *
 * @see Docs https://chakra-ui.com/slider
 */
var RangeSliderMark = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _useRangeSliderContex4 = useRangeSliderContext(),
      getMarkerProps = _useRangeSliderContex4.getMarkerProps;

  var markProps = getMarkerProps(props, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, markProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-slider__marker", props.className)
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  RangeSliderMark.displayName = "RangeSliderMark";
}

var _excluded$1 = ["min", "max", "onChange", "value", "defaultValue", "isReversed", "direction", "orientation", "id", "isDisabled", "isReadOnly", "onChangeStart", "onChangeEnd", "step", "getAriaValueText", "aria-valuetext", "aria-label", "aria-labelledby", "name", "focusThumbOnChange"];

/**
 * React hook that implements an accessible range slider.
 *
 * It is an alternative to `<input type="range" />`, and returns
 * prop getters for the component parts
 *
 * @see Docs     https://chakra-ui.com/docs/form/slider
 * @see WAI-ARIA https://www.w3.org/TR/wai-aria-practices-1.1/#slider
 */
function useSlider(props) {
  var _getAriaValueText;

  var _props$min = props.min,
      min = _props$min === void 0 ? 0 : _props$min,
      _props$max = props.max,
      max = _props$max === void 0 ? 100 : _props$max,
      onChange = props.onChange,
      valueProp = props.value,
      defaultValue = props.defaultValue,
      isReversedProp = props.isReversed,
      _props$direction = props.direction,
      direction = _props$direction === void 0 ? "ltr" : _props$direction,
      _props$orientation = props.orientation,
      orientation = _props$orientation === void 0 ? "horizontal" : _props$orientation,
      idProp = props.id,
      isDisabled = props.isDisabled,
      isReadOnly = props.isReadOnly,
      onChangeStartProp = props.onChangeStart,
      onChangeEndProp = props.onChangeEnd,
      _props$step = props.step,
      step = _props$step === void 0 ? 1 : _props$step,
      getAriaValueTextProp = props.getAriaValueText,
      ariaValueText = props["aria-valuetext"],
      ariaLabel = props["aria-label"],
      ariaLabelledBy = props["aria-labelledby"],
      name = props.name,
      _props$focusThumbOnCh = props.focusThumbOnChange,
      focusThumbOnChange = _props$focusThumbOnCh === void 0 ? true : _props$focusThumbOnCh,
      htmlProps = _objectWithoutPropertiesLoose(props, _excluded$1);

  var onChangeStart = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallbackRef)(onChangeStartProp);
  var onChangeEnd = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallbackRef)(onChangeEndProp);
  var getAriaValueText = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useCallbackRef)(getAriaValueTextProp);
  var isReversed = getIsReversed({
    isReversed: isReversedProp,
    direction: direction,
    orientation: orientation
  });
  /**
   * Enable the slider handle controlled and uncontrolled scenarios
   */

  var _useControllableState = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useControllableState)({
    value: valueProp,
    defaultValue: defaultValue != null ? defaultValue : getDefaultValue(min, max),
    onChange: onChange
  }),
      computedValue = _useControllableState[0],
      setValue = _useControllableState[1];

  var _useBoolean = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useBoolean)(),
      isDragging = _useBoolean[0],
      setDragging = _useBoolean[1];

  var _useBoolean2 = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useBoolean)(),
      isFocused = _useBoolean2[0],
      setFocused = _useBoolean2[1];

  var eventSourceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var isInteractive = !(isDisabled || isReadOnly);
  /**
   * Constrain the value because it can't be less than min
   * or greater than max
   */

  var value = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(computedValue, min, max);
  var valueRef = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useLatestRef)(value);
  var prevRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(valueRef.current);
  var reversedValue = max - value + min;
  var trackValue = isReversed ? reversedValue : value;
  var thumbPercent = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.valueToPercent)(trackValue, min, max);
  var isVertical = orientation === "vertical";
  /**
   * Let's keep a reference to the slider track and thumb
   */

  var trackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var thumbRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var rootRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  /**
   * Generate unique ids for component parts
   */

  var _useIds = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useIds)(idProp, "slider-thumb", "slider-track"),
      thumbId = _useIds[0],
      trackId = _useIds[1];
  /**
   * Get relative value of slider from the event by tracking
   * how far you clicked within the track to determine the value
   *
   * @todo - Refactor this later on to use info from pan session
   */


  var getValueFromPointer = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    var _event$touches$, _event$touches;

    if (!trackRef.current) return;
    eventSourceRef.current = "pointer";
    var trackRect = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_5__.getBox)(trackRef.current).borderBox;

    var _ref = (_event$touches$ = (_event$touches = event.touches) == null ? void 0 : _event$touches[0]) != null ? _event$touches$ : event,
        clientX = _ref.clientX,
        clientY = _ref.clientY;

    var diff = isVertical ? trackRect.bottom - clientY : clientX - trackRect.left;
    var length = isVertical ? trackRect.height : trackRect.width;
    var percent = diff / length;

    if (isReversed) {
      percent = 1 - percent;
    }

    var nextValue = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.percentToValue)(percent, min, max);

    if (step) {
      nextValue = parseFloat((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.roundValueToStep)(nextValue, min, step));
    }

    nextValue = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(nextValue, min, max);
    return nextValue;
  }, [isVertical, isReversed, max, min, step]);
  var tenSteps = (max - min) / 10;
  var oneStep = step || (max - min) / 100;
  var constrain = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (value) {
    if (!isInteractive) return;
    value = parseFloat((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.roundValueToStep)(value, min, oneStep));
    value = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.clampValue)(value, min, max);
    setValue(value);
  }, [oneStep, max, min, setValue, isInteractive]);
  var actions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return {
      stepUp: function stepUp(step) {
        if (step === void 0) {
          step = oneStep;
        }

        var next = isReversed ? value - step : value + step;
        constrain(next);
      },
      stepDown: function stepDown(step) {
        if (step === void 0) {
          step = oneStep;
        }

        var next = isReversed ? value + step : value - step;
        constrain(next);
      },
      reset: function reset() {
        return constrain(defaultValue || 0);
      },
      stepTo: function stepTo(value) {
        return constrain(value);
      }
    };
  }, [constrain, isReversed, value, oneStep, defaultValue]);
  /**
   * Keyboard interaction to ensure users can operate
   * the slider using only their keyboard.
   */

  var onKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    var eventKey = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.normalizeEventKey)(event);
    var keyMap = {
      ArrowRight: function ArrowRight() {
        return actions.stepUp();
      },
      ArrowUp: function ArrowUp() {
        return actions.stepUp();
      },
      ArrowLeft: function ArrowLeft() {
        return actions.stepDown();
      },
      ArrowDown: function ArrowDown() {
        return actions.stepDown();
      },
      PageUp: function PageUp() {
        return actions.stepUp(tenSteps);
      },
      PageDown: function PageDown() {
        return actions.stepDown(tenSteps);
      },
      Home: function Home() {
        return constrain(min);
      },
      End: function End() {
        return constrain(max);
      }
    };
    var action = keyMap[eventKey];

    if (action) {
      event.preventDefault();
      event.stopPropagation();
      action(event);
      eventSourceRef.current = "keyboard";
    }
  }, [actions, constrain, max, min, tenSteps]);
  /**
   * ARIA (Optional): To define a human readable representation of the value,
   * we allow users pass aria-valuetext.
   */

  var valueText = (_getAriaValueText = getAriaValueText == null ? void 0 : getAriaValueText(value)) != null ? _getAriaValueText : ariaValueText;
  /**
   * Measure the dimensions of the thumb so
   * we can center it within the track properly
   */

  var thumbBoxModel = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useDimensions)(thumbRef);
  /**
   * Compute styles for all component parts.
   */

  var _useMemo = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    var _thumbBoxModel$border;

    var thumbRect = (_thumbBoxModel$border = thumbBoxModel == null ? void 0 : thumbBoxModel.borderBox) != null ? _thumbBoxModel$border : {
      width: 0,
      height: 0
    };
    return getStyles({
      isReversed: isReversed,
      orientation: orientation,
      thumbRects: [thumbRect],
      thumbPercents: [thumbPercent]
    });
  }, [isReversed, orientation, thumbBoxModel == null ? void 0 : thumbBoxModel.borderBox, thumbPercent]),
      getThumbStyle = _useMemo.getThumbStyle,
      rootStyle = _useMemo.rootStyle,
      trackStyle = _useMemo.trackStyle,
      innerTrackStyle = _useMemo.innerTrackStyle;

  var focusThumb = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    if (thumbRef.current && focusThumbOnChange) {
      setTimeout(function () {
        return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.focus)(thumbRef.current);
      });
    }
  }, [focusThumbOnChange]);
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.useUpdateEffect)(function () {
    focusThumb();

    if (eventSourceRef.current === "keyboard") {
      onChangeEnd == null ? void 0 : onChangeEnd(valueRef.current);
    }
  }, [value, onChangeEnd]);

  var setValueFromPointer = function setValueFromPointer(event) {
    var nextValue = getValueFromPointer(event);

    if (nextValue != null && nextValue !== valueRef.current) {
      setValue(nextValue);
    }
  };

  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_1__.usePanGesture)(rootRef, {
    onPanSessionStart: function onPanSessionStart(event) {
      if (!isInteractive) return;
      setDragging.on();
      focusThumb();
      setValueFromPointer(event);
      onChangeStart == null ? void 0 : onChangeStart(valueRef.current);
    },
    onPanSessionEnd: function onPanSessionEnd() {
      if (!isInteractive) return;
      setDragging.off();
      onChangeEnd == null ? void 0 : onChangeEnd(valueRef.current);
      prevRef.current = valueRef.current;
    },
    onPan: function onPan(event) {
      if (!isInteractive) return;
      setValueFromPointer(event);
    }
  });
  var getRootProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, htmlProps, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(ref, rootRef),
      tabIndex: -1,
      "aria-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isDisabled),
      "data-focused": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isFocused),
      style: _extends({}, props.style, rootStyle)
    });
  }, [htmlProps, isDisabled, isFocused, rootStyle]);
  var getTrackProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(ref, trackRef),
      id: trackId,
      "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),
      style: _extends({}, props.style, trackStyle)
    });
  }, [isDisabled, trackId, trackStyle]);
  var getInnerTrackProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: ref,
      style: _extends({}, props.style, innerTrackStyle)
    });
  }, [innerTrackStyle]);
  var getThumbProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(ref, thumbRef),
      role: "slider",
      tabIndex: isInteractive ? 0 : undefined,
      id: thumbId,
      "data-active": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDragging),
      "aria-valuetext": valueText,
      "aria-valuemin": min,
      "aria-valuemax": max,
      "aria-valuenow": value,
      "aria-orientation": orientation,
      "aria-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isDisabled),
      "aria-readonly": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.ariaAttr)(isReadOnly),
      "aria-label": ariaLabel,
      "aria-labelledby": ariaLabel ? undefined : ariaLabelledBy,
      style: _extends({}, props.style, getThumbStyle(0)),
      onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onKeyDown, onKeyDown),
      onFocus: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onFocus, setFocused.on),
      onBlur: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.callAllHandlers)(props.onBlur, setFocused.off)
    });
  }, [isInteractive, thumbId, isDragging, valueText, min, max, value, orientation, isDisabled, isReadOnly, ariaLabel, ariaLabelledBy, getThumbStyle, onKeyDown, setFocused.on, setFocused.off]);
  var getMarkerProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    var isInRange = !(props.value < min || props.value > max);
    var isHighlighted = value >= props.value;
    var markerPercent = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.valueToPercent)(props.value, min, max);

    var markerStyle = _extends({
      position: "absolute",
      pointerEvents: "none"
    }, orient({
      orientation: orientation,
      vertical: {
        bottom: isReversed ? 100 - markerPercent + "%" : markerPercent + "%"
      },
      horizontal: {
        left: isReversed ? 100 - markerPercent + "%" : markerPercent + "%"
      }
    }));

    return _extends({}, props, {
      ref: ref,
      role: "presentation",
      "aria-hidden": true,
      "data-disabled": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isDisabled),
      "data-invalid": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(!isInRange),
      "data-highlighted": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.dataAttr)(isHighlighted),
      style: _extends({}, props.style, markerStyle)
    });
  }, [isDisabled, isReversed, max, min, orientation, value]);
  var getInputProps = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (props, ref) {
    if (props === void 0) {
      props = {};
    }

    if (ref === void 0) {
      ref = null;
    }

    return _extends({}, props, {
      ref: ref,
      type: "hidden",
      value: value,
      name: name
    });
  }, [name, value]);
  return {
    state: {
      value: value,
      isFocused: isFocused,
      isDragging: isDragging
    },
    actions: actions,
    getRootProps: getRootProps,
    getTrackProps: getTrackProps,
    getInnerTrackProps: getInnerTrackProps,
    getThumbProps: getThumbProps,
    getMarkerProps: getMarkerProps,
    getInputProps: getInputProps
  };
}

function orient(options) {
  var orientation = options.orientation,
      vertical = options.vertical,
      horizontal = options.horizontal;
  return orientation === "vertical" ? vertical : horizontal;
}
/**
 * The browser <input type="range" /> calculates
 * the default value of a slider by using mid-point
 * between the min and the max.
 *
 * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/range
 */


function getDefaultValue(min, max) {
  return max < min ? min : min + (max - min) / 2;
}

var _excluded = ["getInputProps", "getRootProps"];

var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.createContext)({
  name: "SliderContext",
  errorMessage: "useSliderContext: `context` is undefined. Seems you forgot to wrap all slider components within <Slider />"
}),
    SliderProvider = _createContext[0],
    useSliderContext = _createContext[1];

/**
 * The Slider is used to allow users to make selections from a range of values.
 * It provides context and functionality for all slider components
 *
 * @see Docs     https://chakra-ui.com/docs/form/slider
 * @see WAI-ARIA https://www.w3.org/TR/wai-aria-practices/#slider
 */
var Slider = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useMultiStyleConfig)("Slider", props);
  var ownProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.omitThemingProps)(props);

  var _useTheme = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useTheme)(),
      direction = _useTheme.direction;

  ownProps.direction = direction;

  var _useSlider = useSlider(ownProps),
      getInputProps = _useSlider.getInputProps,
      getRootProps = _useSlider.getRootProps,
      context = _objectWithoutPropertiesLoose(_useSlider, _excluded);

  var rootProps = getRootProps();
  var inputProps = getInputProps({}, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(SliderProvider, {
    value: context
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, rootProps, {
    className: "chakra-slider",
    __css: styles.container
  }), props.children, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", inputProps))));
});
Slider.defaultProps = {
  orientation: "horizontal"
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Slider.displayName = "Slider";
}

/**
 * Slider component that acts as the handle used to select predefined
 * values by dragging its handle along the track
 */
var SliderThumb = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _useSliderContext = useSliderContext(),
      getThumbProps = _useSliderContext.getThumbProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  var thumbProps = getThumbProps(props, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, thumbProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-slider__thumb", props.className),
    __css: styles.thumb
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  SliderThumb.displayName = "SliderThumb";
}

var SliderTrack = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _useSliderContext2 = useSliderContext(),
      getTrackProps = _useSliderContext2.getTrackProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  var trackProps = getTrackProps(props, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, trackProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-slider__track", props.className),
    __css: styles.track
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  SliderTrack.displayName = "SliderTrack";
}

var SliderFilledTrack = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _useSliderContext3 = useSliderContext(),
      getInnerTrackProps = _useSliderContext3.getInnerTrackProps;

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.useStyles)();
  var trackProps = getInnerTrackProps(props, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, trackProps, {
    className: "chakra-slider__filled-track",
    __css: styles.filledTrack
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  SliderFilledTrack.displayName = "SliderFilledTrack";
}

/**
 * SliderMark is used to provide names for specific Slider
 * values by defining labels or markers along the track.
 *
 * @see Docs https://chakra-ui.com/slider
 */
var SliderMark = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.forwardRef)(function (props, ref) {
  var _useSliderContext4 = useSliderContext(),
      getMarkerProps = _useSliderContext4.getMarkerProps;

  var markProps = getMarkerProps(props, ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_4__.chakra.div, _extends({}, markProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-slider__marker", props.className)
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  SliderMark.displayName = "SliderMark";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/stat/dist/chakra-ui-stat.esm.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@chakra-ui/stat/dist/chakra-ui-stat.esm.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Stat": () => (/* binding */ Stat),
/* harmony export */   "StatArrow": () => (/* binding */ StatArrow),
/* harmony export */   "StatDownArrow": () => (/* binding */ StatDownArrow),
/* harmony export */   "StatGroup": () => (/* binding */ StatGroup),
/* harmony export */   "StatHelpText": () => (/* binding */ StatHelpText),
/* harmony export */   "StatLabel": () => (/* binding */ StatLabel),
/* harmony export */   "StatNumber": () => (/* binding */ StatNumber),
/* harmony export */   "StatUpArrow": () => (/* binding */ StatUpArrow)
/* harmony export */ });
/* harmony import */ var _chakra_ui_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/icon */ "./node_modules/@chakra-ui/icon/dist/chakra-ui-icon.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_visually_hidden__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/visually-hidden */ "./node_modules/@chakra-ui/visually-hidden/dist/chakra-ui-visually-hidden.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");






function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var _excluded = ["type", "aria-label"],
    _excluded2 = ["className", "children"];
var StatLabel = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.dt, _extends({
    ref: ref
  }, props, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-stat__label", props.className),
    __css: styles.label
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  StatLabel.displayName = "StatLabel";
}

var StatHelpText = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.dd, _extends({
    ref: ref
  }, props, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-stat__help-text", props.className),
    __css: styles.helpText
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  StatHelpText.displayName = "StatHelpText";
}

var StatNumber = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.dd, _extends({
    ref: ref
  }, props, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-stat__number", props.className),
    __css: _extends({}, styles.number, {
      fontFeatureSettings: "pnum",
      fontVariantNumeric: "proportional-nums"
    })
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  StatNumber.displayName = "StatNumber";
}

var StatDownArrow = function StatDownArrow(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_3__.Icon, _extends({
    color: "red.400"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M21,5H3C2.621,5,2.275,5.214,2.105,5.553C1.937,5.892,1.973,6.297,2.2,6.6l9,12 c0.188,0.252,0.485,0.4,0.8,0.4s0.611-0.148,0.8-0.4l9-12c0.228-0.303,0.264-0.708,0.095-1.047C21.725,5.214,21.379,5,21,5z"
  }));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  StatDownArrow.displayName = "StatDownArrow";
}

var StatUpArrow = function StatUpArrow(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_3__.Icon, _extends({
    color: "green.400"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M12.8,5.4c-0.377-0.504-1.223-0.504-1.6,0l-9,12c-0.228,0.303-0.264,0.708-0.095,1.047 C2.275,18.786,2.621,19,3,19h18c0.379,0,0.725-0.214,0.895-0.553c0.169-0.339,0.133-0.744-0.095-1.047L12.8,5.4z"
  }));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  StatUpArrow.displayName = "StatUpArrow";
}

var StatArrow = function StatArrow(props) {
  var type = props.type,
      ariaLabel = props["aria-label"],
      rest = _objectWithoutPropertiesLoose(props, _excluded);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  var IconComponent = type === "increase" ? StatUpArrow : StatDownArrow;
  var defaultAriaLabel = type === "increase" ? "increased by" : "decreased by";
  var label = ariaLabel || defaultAriaLabel;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_visually_hidden__WEBPACK_IMPORTED_MODULE_4__.VisuallyHidden, null, label), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconComponent, _extends({
    "aria-hidden": true
  }, rest, {
    __css: styles.icon
  })));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  StatArrow.displayName = "StatArrow";
}

var Stat = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useMultiStyleConfig)("Stat", props);

  var statStyles = _extends({
    position: "relative",
    flex: "1 1 0%"
  }, styles.container);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.omitThemingProps)(props),
      className = _omitThemingProps.className,
      children = _omitThemingProps.children,
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded2);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.div, _extends({
    ref: ref
  }, rest, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-stat", className),
    __css: statStyles
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("dl", null, children)));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Stat.displayName = "Stat";
}

var StatGroup = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.div, _extends({}, props, {
    ref: ref,
    role: "group",
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-stat__group", props.className),
    __css: {
      display: "flex",
      flexWrap: "wrap",
      justifyContent: "space-around",
      alignItems: "flex-start"
    }
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  StatGroup.displayName = "StatGroup";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/switch/dist/chakra-ui-switch.esm.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@chakra-ui/switch/dist/chakra-ui-switch.esm.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Switch": () => (/* binding */ Switch)
/* harmony export */ });
/* harmony import */ var _chakra_ui_checkbox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/checkbox */ "./node_modules/@chakra-ui/checkbox/dist/chakra-ui-checkbox.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");





function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded = ["spacing", "children"];
var Switch = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useMultiStyleConfig)("Switch", props);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.omitThemingProps)(props),
      _omitThemingProps$spa = _omitThemingProps.spacing,
      spacing = _omitThemingProps$spa === void 0 ? "0.5rem" : _omitThemingProps$spa,
      children = _omitThemingProps.children,
      ownProps = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);

  var _useCheckbox = (0,_chakra_ui_checkbox__WEBPACK_IMPORTED_MODULE_2__.useCheckbox)(ownProps),
      state = _useCheckbox.state,
      getInputProps = _useCheckbox.getInputProps,
      getCheckboxProps = _useCheckbox.getCheckboxProps,
      getRootProps = _useCheckbox.getRootProps,
      getLabelProps = _useCheckbox.getLabelProps;

  var containerStyles = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return _extends({
      display: "inline-block",
      position: "relative",
      verticalAlign: "middle",
      lineHeight: "normal"
    }, styles.container);
  }, [styles.container]);
  var trackStyles = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return _extends({
      display: "inline-flex",
      flexShrink: 0,
      justifyContent: "flex-start",
      boxSizing: "content-box",
      cursor: "pointer"
    }, styles.track);
  }, [styles.track]);
  var labelStyles = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return _extends({
      userSelect: "none",
      marginStart: spacing
    }, styles.label);
  }, [spacing, styles.label]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.label, _extends({}, getRootProps(), {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-switch", props.className),
    __css: containerStyles
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("input", _extends({
    className: "chakra-switch__input"
  }, getInputProps({}, ref))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.span, _extends({}, getCheckboxProps(), {
    className: "chakra-switch__track",
    __css: trackStyles
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.span, {
    __css: styles.thumb,
    className: "chakra-switch__thumb",
    "data-checked": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(state.isChecked),
    "data-hover": (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.dataAttr)(state.isHovered)
  })), children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.span, _extends({
    className: "chakra-switch__label"
  }, getLabelProps(), {
    __css: labelStyles
  }), children));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  Switch.displayName = "Switch";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/table/dist/chakra-ui-table.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@chakra-ui/table/dist/chakra-ui-table.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Table": () => (/* binding */ Table),
/* harmony export */   "TableCaption": () => (/* binding */ TableCaption),
/* harmony export */   "TableContainer": () => (/* binding */ TableContainer),
/* harmony export */   "Tbody": () => (/* binding */ Tbody),
/* harmony export */   "Td": () => (/* binding */ Td),
/* harmony export */   "Tfoot": () => (/* binding */ Tfoot),
/* harmony export */   "Th": () => (/* binding */ Th),
/* harmony export */   "Thead": () => (/* binding */ Thead),
/* harmony export */   "Tr": () => (/* binding */ Tr)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");




function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded = ["overflow", "overflowX", "className"],
    _excluded2 = ["className"],
    _excluded3 = ["placement"],
    _excluded4 = ["isNumeric"],
    _excluded5 = ["isNumeric"];
var TableContainer = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var _ref;

  var overflow = props.overflow,
      overflowX = props.overflowX,
      className = props.className,
      rest = _objectWithoutPropertiesLoose(props, _excluded);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.div, _extends({
    ref: ref,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-table__container", className)
  }, rest, {
    __css: {
      display: "block",
      whiteSpace: "nowrap",
      WebkitOverflowScrolling: "touch",
      overflowX: (_ref = overflow != null ? overflow : overflowX) != null ? _ref : "auto",
      overflowY: "hidden",
      maxWidth: "100%"
    }
  }));
});
var Table = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useMultiStyleConfig)("Table", props);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.omitThemingProps)(props),
      className = _omitThemingProps.className,
      tableProps = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded2);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.table, _extends({
    role: "table",
    ref: ref,
    __css: styles.table,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.cx)("chakra-table", className)
  }, tableProps)));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Table.displayName = "Table";
}

var TableCaption = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var _props$placement = props.placement,
      placement = _props$placement === void 0 ? "bottom" : _props$placement,
      rest = _objectWithoutPropertiesLoose(props, _excluded3);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.caption, _extends({}, rest, {
    ref: ref,
    __css: _extends({}, styles.caption, {
      captionSide: placement
    })
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  TableCaption.displayName = "TableCaption";
}

var Thead = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.thead, _extends({}, props, {
    ref: ref,
    __css: styles.thead
  }));
});
var Tbody = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.tbody, _extends({}, props, {
    ref: ref,
    __css: styles.tbody
  }));
});
var Tfoot = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.tfoot, _extends({}, props, {
    ref: ref,
    __css: styles.tfoot
  }));
});
var Th = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (_ref2, ref) {
  var isNumeric = _ref2.isNumeric,
      rest = _objectWithoutPropertiesLoose(_ref2, _excluded4);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.th, _extends({}, rest, {
    ref: ref,
    __css: styles.th,
    "data-is-numeric": isNumeric
  }));
});
var Tr = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.tr, _extends({
    role: "row"
  }, props, {
    ref: ref,
    __css: styles.tr
  }));
});
var Td = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (_ref3, ref) {
  var isNumeric = _ref3.isNumeric,
      rest = _objectWithoutPropertiesLoose(_ref3, _excluded5);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.td, _extends({
    role: "gridcell"
  }, rest, {
    ref: ref,
    __css: styles.td,
    "data-is-numeric": isNumeric
  }));
});




/***/ }),

/***/ "./node_modules/@chakra-ui/tabs/dist/chakra-ui-tabs.esm.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@chakra-ui/tabs/dist/chakra-ui-tabs.esm.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tab": () => (/* binding */ Tab),
/* harmony export */   "TabIndicator": () => (/* binding */ TabIndicator),
/* harmony export */   "TabList": () => (/* binding */ TabList),
/* harmony export */   "TabPanel": () => (/* binding */ TabPanel),
/* harmony export */   "TabPanels": () => (/* binding */ TabPanels),
/* harmony export */   "Tabs": () => (/* binding */ Tabs),
/* harmony export */   "TabsDescendantsProvider": () => (/* binding */ TabsDescendantsProvider),
/* harmony export */   "TabsProvider": () => (/* binding */ TabsProvider),
/* harmony export */   "useTab": () => (/* binding */ useTab),
/* harmony export */   "useTabIndicator": () => (/* binding */ useTabIndicator),
/* harmony export */   "useTabList": () => (/* binding */ useTabList),
/* harmony export */   "useTabPanel": () => (/* binding */ useTabPanel),
/* harmony export */   "useTabPanels": () => (/* binding */ useTabPanels),
/* harmony export */   "useTabs": () => (/* binding */ useTabs),
/* harmony export */   "useTabsContext": () => (/* binding */ useTabsContext),
/* harmony export */   "useTabsDescendant": () => (/* binding */ useTabsDescendant),
/* harmony export */   "useTabsDescendants": () => (/* binding */ useTabsDescendants),
/* harmony export */   "useTabsDescendantsContext": () => (/* binding */ useTabsDescendantsContext)
/* harmony export */ });
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_clickable__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/clickable */ "./node_modules/@chakra-ui/clickable/dist/chakra-ui-clickable.esm.js");
/* harmony import */ var _chakra_ui_descendant__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/descendant */ "./node_modules/@chakra-ui/descendant/dist/chakra-ui-descendant.esm.js");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");
/* harmony import */ var _chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/react-utils */ "./node_modules/@chakra-ui/react-utils/dist/chakra-ui-react-utils.esm.js");








function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded$1 = ["defaultIndex", "onChange", "index", "isManual", "isLazy", "lazyBehavior", "orientation", "direction"],
    _excluded2$1 = ["isDisabled", "isFocusable"],
    _excluded3 = ["isSelected", "id", "children"];
/* -------------------------------------------------------------------------------------------------
 * Create context to track descendants and their indices
 * -----------------------------------------------------------------------------------------------*/

var _createDescendantCont = (0,_chakra_ui_descendant__WEBPACK_IMPORTED_MODULE_1__.createDescendantContext)(),
    TabsDescendantsProvider = _createDescendantCont[0],
    useTabsDescendantsContext = _createDescendantCont[1],
    useTabsDescendants = _createDescendantCont[2],
    useTabsDescendant = _createDescendantCont[3];

/**
 * Tabs hooks that provides all the states, and accessibility
 * helpers to keep all things working properly.
 *
 * Its returned object will be passed unto a Context Provider
 * so all child components can read from it.
 * There is no document link yet
 * @see Docs https://chakra-ui.com/docs/components/useTabs
 */
function useTabs(props) {
  var defaultIndex = props.defaultIndex,
      onChange = props.onChange,
      index = props.index,
      isManual = props.isManual,
      isLazy = props.isLazy,
      _props$lazyBehavior = props.lazyBehavior,
      lazyBehavior = _props$lazyBehavior === void 0 ? "unmount" : _props$lazyBehavior,
      _props$orientation = props.orientation,
      orientation = _props$orientation === void 0 ? "horizontal" : _props$orientation,
      _props$direction = props.direction,
      direction = _props$direction === void 0 ? "ltr" : _props$direction,
      htmlProps = _objectWithoutPropertiesLoose(props, _excluded$1);
  /**
   * We use this to keep track of the index of the focused tab.
   *
   * Tabs can be automatically activated, this means selection follows focus.
   * When we navigate with the arrow keys, we move focus and selection to next/prev tab
   *
   * Tabs can also be manually activated, this means selection does not follow focus.
   * When we navigate with the arrow keys, we only move focus NOT selection. The user
   * will need not manually activate the tab using `Enter` or `Space`.
   *
   * This is why we need to keep track of the `focusedIndex` and `selectedIndex`
   */


  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultIndex != null ? defaultIndex : 0),
      focusedIndex = _React$useState[0],
      setFocusedIndex = _React$useState[1];

  var _useControllableState = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useControllableState)({
    defaultValue: defaultIndex != null ? defaultIndex : 0,
    value: index,
    onChange: onChange
  }),
      selectedIndex = _useControllableState[0],
      setSelectedIndex = _useControllableState[1];
  /**
   * Sync focused `index` with controlled `selectedIndex` (which is the `props.index`)
   */


  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    if (index != null) {
      setFocusedIndex(index);
    }
  }, [index]);
  /**
   * Think of `useDescendants` as a register for the tab nodes.
   */

  var descendants = useTabsDescendants();
  /**
   * Generate a unique id or use user-provided id for the tabs widget
   */

  var id = (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useId)(props.id, "tabs");
  return {
    id: id,
    selectedIndex: selectedIndex,
    focusedIndex: focusedIndex,
    setSelectedIndex: setSelectedIndex,
    setFocusedIndex: setFocusedIndex,
    isManual: isManual,
    isLazy: isLazy,
    lazyBehavior: lazyBehavior,
    orientation: orientation,
    descendants: descendants,
    direction: direction,
    htmlProps: htmlProps
  };
}

var _createContext = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.createContext)({
  name: "TabsContext",
  errorMessage: "useTabsContext: `context` is undefined. Seems you forgot to wrap all tabs components within <Tabs />"
}),
    TabsProvider = _createContext[0],
    useTabsContext = _createContext[1];

/**
 * Tabs hook to manage multiple tab buttons,
 * and ensures only one tab is selected per time.
 *
 * @param props props object for the tablist
 */
function useTabList(props) {
  var _useTabsContext = useTabsContext(),
      focusedIndex = _useTabsContext.focusedIndex,
      orientation = _useTabsContext.orientation,
      direction = _useTabsContext.direction;

  var descendants = useTabsDescendantsContext();
  var onKeyDown = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
    var _keyMap;

    var nextTab = function nextTab() {
      var next = descendants.nextEnabled(focusedIndex);
      if (next) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.focus)(next.node);
    };

    var prevTab = function prevTab() {
      var prev = descendants.prevEnabled(focusedIndex);
      if (prev) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.focus)(prev.node);
    };

    var firstTab = function firstTab() {
      var first = descendants.firstEnabled();
      if (first) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.focus)(first.node);
    };

    var lastTab = function lastTab() {
      var last = descendants.lastEnabled();
      if (last) (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.focus)(last.node);
    };

    var isHorizontal = orientation === "horizontal";
    var isVertical = orientation === "vertical";
    var eventKey = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.normalizeEventKey)(event);
    var ArrowStart = direction === "ltr" ? "ArrowLeft" : "ArrowRight";
    var ArrowEnd = direction === "ltr" ? "ArrowRight" : "ArrowLeft";
    var keyMap = (_keyMap = {}, _keyMap[ArrowStart] = function () {
      return isHorizontal && prevTab();
    }, _keyMap[ArrowEnd] = function () {
      return isHorizontal && nextTab();
    }, _keyMap.ArrowDown = function ArrowDown() {
      return isVertical && nextTab();
    }, _keyMap.ArrowUp = function ArrowUp() {
      return isVertical && prevTab();
    }, _keyMap.Home = firstTab, _keyMap.End = lastTab, _keyMap);
    var action = keyMap[eventKey];

    if (action) {
      event.preventDefault();
      action(event);
    }
  }, [descendants, focusedIndex, orientation, direction]);
  return _extends({}, props, {
    role: "tablist",
    "aria-orientation": orientation,
    onKeyDown: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.callAllHandlers)(props.onKeyDown, onKeyDown)
  });
}

/**
 * Tabs hook to manage each tab button.
 *
 * A tab can be disabled and focusable, or both,
 * hence the use of `useClickable` to handle this scenario
 */
function useTab(props) {
  var isDisabled = props.isDisabled,
      isFocusable = props.isFocusable,
      htmlProps = _objectWithoutPropertiesLoose(props, _excluded2$1);

  var _useTabsContext2 = useTabsContext(),
      setSelectedIndex = _useTabsContext2.setSelectedIndex,
      isManual = _useTabsContext2.isManual,
      id = _useTabsContext2.id,
      setFocusedIndex = _useTabsContext2.setFocusedIndex,
      selectedIndex = _useTabsContext2.selectedIndex;

  var _useTabsDescendant = useTabsDescendant({
    disabled: isDisabled && !isFocusable
  }),
      index = _useTabsDescendant.index,
      register = _useTabsDescendant.register;

  var isSelected = index === selectedIndex;

  var onClick = function onClick() {
    setSelectedIndex(index);
  };

  var onFocus = function onFocus() {
    setFocusedIndex(index);
    var isDisabledButFocusable = isDisabled && isFocusable;
    var shouldSelect = !isManual && !isDisabledButFocusable;

    if (shouldSelect) {
      setSelectedIndex(index);
    }
  };

  var clickableProps = (0,_chakra_ui_clickable__WEBPACK_IMPORTED_MODULE_5__.useClickable)(_extends({}, htmlProps, {
    ref: (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.mergeRefs)(register, props.ref),
    isDisabled: isDisabled,
    isFocusable: isFocusable,
    onClick: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.callAllHandlers)(props.onClick, onClick)
  }));
  var type = "button";
  return _extends({}, clickableProps, {
    id: makeTabId(id, index),
    role: "tab",
    tabIndex: isSelected ? 0 : -1,
    type: type,
    "aria-selected": isSelected,
    "aria-controls": makeTabPanelId(id, index),
    onFocus: isDisabled ? undefined : (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.callAllHandlers)(props.onFocus, onFocus)
  });
}

/**
 * Tabs hook for managing the visibility of multiple tab panels.
 *
 * Since only one panel can be show at a time, we use `cloneElement`
 * to inject `selected` panel to each TabPanel.
 *
 * It returns a cloned version of its children with
 * all functionality included.
 */
function useTabPanels(props) {
  var context = useTabsContext();
  var id = context.id,
      selectedIndex = context.selectedIndex;
  var validChildren = (0,_chakra_ui_react_utils__WEBPACK_IMPORTED_MODULE_3__.getValidChildren)(props.children);
  var children = validChildren.map(function (child, index) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(child, {
      isSelected: index === selectedIndex,
      id: makeTabPanelId(id, index),
      // Refers to the associated tab element, and also provides an accessible name to the tab panel.
      "aria-labelledby": makeTabId(id, index)
    });
  });
  return _extends({}, props, {
    children: children
  });
}
/**
 * Tabs hook for managing the visible/hidden states
 * of the tab panel.
 *
 * @param props props object for the tab panel
 */

function useTabPanel(props) {
  var isSelected = props.isSelected,
      id = props.id,
      children = props.children,
      htmlProps = _objectWithoutPropertiesLoose(props, _excluded3);

  var _useTabsContext3 = useTabsContext(),
      isLazy = _useTabsContext3.isLazy,
      lazyBehavior = _useTabsContext3.lazyBehavior;

  var hasBeenSelected = react__WEBPACK_IMPORTED_MODULE_0__.useRef(false);

  if (isSelected) {
    hasBeenSelected.current = true;
  }

  var shouldRenderChildren = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.determineLazyBehavior)({
    hasBeenSelected: hasBeenSelected.current,
    isSelected: isSelected,
    isLazy: isLazy,
    lazyBehavior: lazyBehavior
  });
  return _extends({
    // Puts the tabpanel in the page `Tab` sequence.
    tabIndex: 0
  }, htmlProps, {
    children: shouldRenderChildren ? children : null,
    role: "tabpanel",
    hidden: !isSelected,
    id: id
  });
}
/**
 * Tabs hook to show an animated indicators that
 * follows the active tab.
 *
 * The way we do it is by measuring the DOM Rect (or dimensions)
 * of the active tab, and return that as CSS style for
 * the indicator.
 */

function useTabIndicator() {
  var context = useTabsContext();
  var descendants = useTabsDescendantsContext();
  var selectedIndex = context.selectedIndex,
      orientation = context.orientation;
  var isHorizontal = orientation === "horizontal";
  var isVertical = orientation === "vertical"; // Get the clientRect of the selected tab

  var _React$useState2 = react__WEBPACK_IMPORTED_MODULE_0__.useState(function () {
    if (isHorizontal) return {
      left: 0,
      width: 0
    };
    if (isVertical) return {
      top: 0,
      height: 0
    };
    return undefined;
  }),
      rect = _React$useState2[0],
      setRect = _React$useState2[1];

  var _React$useState3 = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),
      hasMeasured = _React$useState3[0],
      setHasMeasured = _React$useState3[1]; // Update the selected tab rect when the selectedIndex changes


  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_2__.useSafeLayoutEffect)(function () {
    if ((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.isUndefined)(selectedIndex)) return undefined;
    var tab = descendants.item(selectedIndex);
    if ((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.isUndefined)(tab)) return undefined; // Horizontal Tab: Calculate width and left distance

    if (isHorizontal) {
      setRect({
        left: tab.node.offsetLeft,
        width: tab.node.offsetWidth
      });
    } // Vertical Tab: Calculate height and top distance


    if (isVertical) {
      setRect({
        top: tab.node.offsetTop,
        height: tab.node.offsetHeight
      });
    } // Prevent unwanted transition from 0 to measured rect
    // by setting the measured state in the next tick


    var id = requestAnimationFrame(function () {
      setHasMeasured(true);
    });
    return function () {
      if (id) {
        cancelAnimationFrame(id);
      }
    };
  }, [selectedIndex, isHorizontal, isVertical, descendants]);
  return _extends({
    position: "absolute",
    transitionProperty: "left, right, top, bottom",
    transitionDuration: hasMeasured ? "200ms" : "0ms",
    transitionTimingFunction: "cubic-bezier(0, 0, 0.2, 1)"
  }, rect);
}

function makeTabId(id, index) {
  return id + "--tab-" + index;
}

function makeTabPanelId(id, index) {
  return id + "--tabpanel-" + index;
}

var _excluded = ["children", "className"],
    _excluded2 = ["htmlProps", "descendants"];

/**
 * Tabs
 *
 * Provides context and logic for all tabs components.
 */
var Tabs = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useMultiStyleConfig)("Tabs", props);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.omitThemingProps)(props),
      children = _omitThemingProps.children,
      className = _omitThemingProps.className,
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);

  var _useTabs = useTabs(rest),
      htmlProps = _useTabs.htmlProps,
      descendants = _useTabs.descendants,
      ctx = _objectWithoutPropertiesLoose(_useTabs, _excluded2);

  var context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return ctx;
  }, [ctx]);
  var rootProps = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.omit)(htmlProps, ["isFitted"]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TabsDescendantsProvider, {
    value: descendants
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TabsProvider, {
    value: context
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.chakra.div, _extends({
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-tabs", className),
    ref: ref
  }, rootProps, {
    __css: styles.root
  }), children))));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  Tabs.displayName = "Tabs";
}

/**
 * Tab button used to activate a specific tab panel. It renders a `button`,
 * and is responsible for automatic and manual selection modes.
 */
var Tab = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useStyles)();
  var tabProps = useTab(_extends({}, props, {
    ref: ref
  }));

  var tabStyles = _extends({
    outline: "0",
    display: "flex",
    alignItems: "center",
    justifyContent: "center"
  }, styles.tab);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.chakra.button, _extends({}, tabProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-tabs__tab", props.className),
    __css: tabStyles
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  Tab.displayName = "Tab";
}

/**
 * TabList is used to manage a list of tab buttons. It renders a `div` by default,
 * and is responsible the keyboard interaction between tabs.
 */
var TabList = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var tablistProps = useTabList(_extends({}, props, {
    ref: ref
  }));
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useStyles)();

  var tablistStyles = _extends({
    display: "flex"
  }, styles.tablist);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.chakra.div, _extends({}, tablistProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-tabs__tablist", props.className),
    __css: tablistStyles
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  TabList.displayName = "TabList";
}

/**
 * TabPanel
 * Used to render the content for a specific tab.
 */
var TabPanel = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var panelProps = useTabPanel(_extends({}, props, {
    ref: ref
  }));
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.chakra.div, _extends({
    outline: "0"
  }, panelProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-tabs__tab-panel", props.className),
    __css: styles.tabpanel
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  TabPanel.displayName = "TabPanel";
}

/**
 * TabPanel
 *
 * Used to manage the rendering of multiple tab panels. It uses
 * `cloneElement` to hide/show tab panels.
 *
 * It renders a `div` by default.
 */
var TabPanels = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var panelsProps = useTabPanels(props);
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.chakra.div, _extends({}, panelsProps, {
    width: "100%",
    ref: ref,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-tabs__tab-panels", props.className),
    __css: styles.tabpanels
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  TabPanels.displayName = "TabPanels";
}

/**
 * TabIndicator
 *
 * Used to render an active tab indicator that animates between
 * selected tabs.
 */
var TabIndicator = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.forwardRef)(function (props, ref) {
  var indicatorStyle = useTabIndicator();

  var style = _extends({}, props.style, indicatorStyle);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_6__.chakra.div, _extends({
    ref: ref
  }, props, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.cx)("chakra-tabs__tab-indicator", props.className),
    style: style,
    __css: styles.indicator
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.__DEV__) {
  TabIndicator.displayName = "TabIndicator";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/tag/dist/chakra-ui-tag.esm.js":
/*!***************************************************************!*\
  !*** ./node_modules/@chakra-ui/tag/dist/chakra-ui-tag.esm.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tag": () => (/* binding */ Tag),
/* harmony export */   "TagCloseButton": () => (/* binding */ TagCloseButton),
/* harmony export */   "TagLabel": () => (/* binding */ TagLabel),
/* harmony export */   "TagLeftIcon": () => (/* binding */ TagLeftIcon),
/* harmony export */   "TagRightIcon": () => (/* binding */ TagRightIcon)
/* harmony export */ });
/* harmony import */ var _chakra_ui_icon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/icon */ "./node_modules/@chakra-ui/icon/dist/chakra-ui-icon.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");





function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var _excluded = ["isDisabled", "children"];

/**
 * The tag component is used to label or categorize UI elements.
 * To style the tag globally, change the styles in `theme.components.Tag`
 * @see Docs https://chakra-ui.com/tag
 */
var Tag = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useMultiStyleConfig)("Tag", props);
  var ownProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.omitThemingProps)(props);

  var containerStyles = _extends({
    display: "inline-flex",
    verticalAlign: "top",
    alignItems: "center",
    maxWidth: "100%"
  }, styles.container);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.StylesProvider, {
    value: styles
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.span, _extends({
    ref: ref
  }, ownProps, {
    __css: containerStyles
  })));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  Tag.displayName = "Tag";
}

var TagLabel = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.span, _extends({
    ref: ref,
    isTruncated: true
  }, props, {
    __css: styles.label
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  TagLabel.displayName = "TagLabel";
}

var TagLeftIcon = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_3__.Icon, _extends({
    ref: ref,
    verticalAlign: "top",
    marginEnd: "0.5rem"
  }, props));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  TagLeftIcon.displayName = "TagLeftIcon";
}

var TagRightIcon = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_3__.Icon, _extends({
    ref: ref,
    verticalAlign: "top",
    marginStart: "0.5rem"
  }, props));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  TagRightIcon.displayName = "TagRightIcon";
}

var TagCloseIcon = function TagCloseIcon(props) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_icon__WEBPACK_IMPORTED_MODULE_3__.Icon, _extends({
    verticalAlign: "inherit",
    viewBox: "0 0 512 512"
  }, props), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("path", {
    fill: "currentColor",
    d: "M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"
  }));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  TagCloseIcon.displayName = "TagCloseIcon";
}

/**
 * TagCloseButton is used to close "remove" the tag
 * @see Docs https://chakra-ui.com/tag
 */
var TagCloseButton = function TagCloseButton(props) {
  var isDisabled = props.isDisabled,
      children = props.children,
      rest = _objectWithoutPropertiesLoose(props, _excluded);

  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyles)();

  var btnStyles = _extends({
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    outline: "0"
  }, styles.closeButton);

  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.button, _extends({}, rest, {
    type: "button",
    "aria-label": "close",
    disabled: isDisabled,
    __css: btnStyles
  }), children || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(TagCloseIcon, null));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__.__DEV__) {
  TagCloseButton.displayName = "TagCloseButton";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/textarea/dist/chakra-ui-textarea.esm.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@chakra-ui/textarea/dist/chakra-ui-textarea.esm.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Textarea": () => (/* binding */ Textarea)
/* harmony export */ });
/* harmony import */ var _chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/form-control */ "./node_modules/@chakra-ui/form-control/dist/chakra-ui-form-control.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");





function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

var _excluded = ["className", "rows"];

/**
 * Textarea is used to enter an amount of text that's longer than a single line
 * @see Docs https://chakra-ui.com/textarea
 */
var Textarea = /*#__PURE__*/(0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function (props, ref) {
  var styles = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.useStyleConfig)("Textarea", props);

  var _omitThemingProps = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.omitThemingProps)(props),
      className = _omitThemingProps.className,
      rows = _omitThemingProps.rows,
      rest = _objectWithoutPropertiesLoose(_omitThemingProps, _excluded);

  var textareaProps = (0,_chakra_ui_form_control__WEBPACK_IMPORTED_MODULE_2__.useFormControl)(rest);
  var omitted = ["h", "minH", "height", "minHeight"];
  var textareaStyles = rows ? (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.omit)(styles, omitted) : styles;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_1__.chakra.textarea, _extends({
    ref: ref,
    rows: rows
  }, textareaProps, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.cx)("chakra-textarea", className),
    __css: textareaStyles
  }));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_3__.__DEV__) {
  Textarea.displayName = "Textarea";
}




/***/ }),

/***/ "./node_modules/@chakra-ui/theme-tools/dist/chakra-ui-theme-tools.esm.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@chakra-ui/theme-tools/dist/chakra-ui-theme-tools.esm.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "runIfFn": () => (/* reexport safe */ _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_0__.runIfFn),
/* harmony export */   "Anatomy": () => (/* binding */ Anatomy),
/* harmony export */   "addPrefix": () => (/* binding */ addPrefix),
/* harmony export */   "anatomy": () => (/* binding */ anatomy),
/* harmony export */   "blacken": () => (/* binding */ blacken),
/* harmony export */   "calc": () => (/* binding */ calc),
/* harmony export */   "complementary": () => (/* binding */ complementary),
/* harmony export */   "contrast": () => (/* binding */ contrast),
/* harmony export */   "createBreakpoints": () => (/* binding */ createBreakpoints),
/* harmony export */   "cssVar": () => (/* binding */ cssVar),
/* harmony export */   "darken": () => (/* binding */ darken),
/* harmony export */   "generateStripe": () => (/* binding */ generateStripe),
/* harmony export */   "getColor": () => (/* binding */ getColor),
/* harmony export */   "isAccessible": () => (/* binding */ isAccessible),
/* harmony export */   "isDark": () => (/* binding */ isDark),
/* harmony export */   "isDecimal": () => (/* binding */ isDecimal),
/* harmony export */   "isLight": () => (/* binding */ isLight),
/* harmony export */   "lighten": () => (/* binding */ lighten),
/* harmony export */   "mode": () => (/* binding */ mode),
/* harmony export */   "orient": () => (/* binding */ orient),
/* harmony export */   "randomColor": () => (/* binding */ randomColor),
/* harmony export */   "toVar": () => (/* binding */ toVar),
/* harmony export */   "toVarRef": () => (/* binding */ toVarRef),
/* harmony export */   "tone": () => (/* binding */ tone),
/* harmony export */   "transparentize": () => (/* binding */ transparentize),
/* harmony export */   "whiten": () => (/* binding */ whiten)
/* harmony export */ });
/* harmony import */ var _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @ctrl/tinycolor */ "./node_modules/@ctrl/tinycolor/dist/module/index.js");
/* harmony import */ var _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @ctrl/tinycolor */ "./node_modules/@ctrl/tinycolor/dist/module/readability.js");
/* harmony import */ var _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @ctrl/tinycolor */ "./node_modules/@ctrl/tinycolor/dist/module/random.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");




/**
 * Get the color raw value from theme
 * @param theme - the theme object
 * @param color - the color path ("green.200")
 * @param fallback - the fallback color
 */

var getColor = function getColor(theme, color, fallback) {
  var hex = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_0__.memoizedGet)(theme, "colors." + color, color);

  var _TinyColor = new _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_1__.TinyColor(hex),
      isValid = _TinyColor.isValid;

  return isValid ? hex : fallback;
};
/**
 * Determines if the tone of given color is "light" or "dark"
 * @param color - the color in hex, rgb, or hsl
 */

var tone = function tone(color) {
  return function (theme) {
    var hex = getColor(theme, color);
    var isDark = new _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_1__.TinyColor(hex).isDark();
    return isDark ? "dark" : "light";
  };
};
/**
 * Determines if a color tone is "dark"
 * @param color - the color in hex, rgb, or hsl
 */

var isDark = function isDark(color) {
  return function (theme) {
    return tone(color)(theme) === "dark";
  };
};
/**
 * Determines if a color tone is "light"
 * @param color - the color in hex, rgb, or hsl
 */

var isLight = function isLight(color) {
  return function (theme) {
    return tone(color)(theme) === "light";
  };
};
/**
 * Make a color transparent
 * @param color - the color in hex, rgb, or hsl
 * @param opacity - the amount of opacity the color should have (0-1)
 */

var transparentize = function transparentize(color, opacity) {
  return function (theme) {
    var raw = getColor(theme, color);
    return new _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_1__.TinyColor(raw).setAlpha(opacity).toRgbString();
  };
};
/**
 * Add white to a color
 * @param color - the color in hex, rgb, or hsl
 * @param amount - the amount white to add (0-100)
 */

var whiten = function whiten(color, amount) {
  return function (theme) {
    var raw = getColor(theme, color);
    return new _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_1__.TinyColor(raw).mix("#fff", amount).toHexString();
  };
};
/**
 * Add black to a color
 * @param color - the color in hex, rgb, or hsl
 * @param amount - the amount black to add (0-100)
 */

var blacken = function blacken(color, amount) {
  return function (theme) {
    var raw = getColor(theme, color);
    return new _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_1__.TinyColor(raw).mix("#000", amount).toHexString();
  };
};
/**
 * Darken a specified color
 * @param color - the color in hex, rgb, or hsl
 * @param amount - the amount to darken (0-100)
 */

var darken = function darken(color, amount) {
  return function (theme) {
    var raw = getColor(theme, color);
    return new _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_1__.TinyColor(raw).darken(amount).toHexString();
  };
};
/**
 * Lighten a specified color
 * @param color - the color in hex, rgb, or hsl
 * @param amount - the amount to lighten (0-100)
 */

var lighten = function lighten(color, amount) {
  return function (theme) {
    return new _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_1__.TinyColor(getColor(theme, color)).lighten(amount).toHexString();
  };
};
/**
 * Checks the contract ratio of between 2 colors,
 * based on the Web Content Accessibility Guidelines (Version 2.0).
 *
 * @param fg - the foreground or text color
 * @param bg - the background color
 */

var contrast = function contrast(fg, bg) {
  return function (theme) {
    return (0,_ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_2__.readability)(getColor(theme, bg), getColor(theme, fg));
  };
};
/**
 * Checks if a color meets the Web Content Accessibility
 * Guidelines (Version 2.0) for constract ratio.
 *
 * @param fg - the foreground or text color
 * @param bg - the background color
 */

var isAccessible = function isAccessible(textColor, bgColor, options) {
  return function (theme) {
    return (0,_ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_2__.isReadable)(getColor(theme, bgColor), getColor(theme, textColor), options);
  };
};
var complementary = function complementary(color) {
  return function (theme) {
    return new _ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_1__.TinyColor(getColor(theme, color)).complement().toHexString();
  };
};
function generateStripe(size, color) {
  if (size === void 0) {
    size = "1rem";
  }

  if (color === void 0) {
    color = "rgba(255, 255, 255, 0.15)";
  }

  return {
    backgroundImage: "linear-gradient(\n    45deg,\n    " + color + " 25%,\n    transparent 25%,\n    transparent 50%,\n    " + color + " 50%,\n    " + color + " 75%,\n    transparent 75%,\n    transparent\n  )",
    backgroundSize: size + " " + size
  };
}
function randomColor(opts) {
  var fallback = (0,_ctrl_tinycolor__WEBPACK_IMPORTED_MODULE_3__.random)().toHexString();

  if (!opts || (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_0__.isEmptyObject)(opts)) {
    return fallback;
  }

  if (opts.string && opts.colors) {
    return randomColorFromList(opts.string, opts.colors);
  }

  if (opts.string && !opts.colors) {
    return randomColorFromString(opts.string);
  }

  if (opts.colors && !opts.string) {
    return randomFromList(opts.colors);
  }

  return fallback;
}

function randomColorFromString(str) {
  var hash = 0;
  if (str.length === 0) return hash.toString();

  for (var i = 0; i < str.length; i += 1) {
    hash = str.charCodeAt(i) + ((hash << 5) - hash);
    hash = hash & hash;
  }

  var color = "#";

  for (var j = 0; j < 3; j += 1) {
    var value = hash >> j * 8 & 255;
    color += ("00" + value.toString(16)).substr(-2);
  }

  return color;
}

function randomColorFromList(str, list) {
  var index = 0;
  if (str.length === 0) return list[0];

  for (var i = 0; i < str.length; i += 1) {
    index = str.charCodeAt(i) + ((index << 5) - index);
    index = index & index;
  }

  index = (index % list.length + list.length) % list.length;
  return list[index];
}

function randomFromList(list) {
  return list[Math.floor(Math.random() * list.length)];
}

function mode(light, dark) {
  return function (props) {
    return props.colorMode === "dark" ? dark : light;
  };
}
function orient(options) {
  var orientation = options.orientation,
      vertical = options.vertical,
      horizontal = options.horizontal;
  if (!orientation) return {};
  return orientation === "vertical" ? vertical : horizontal;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var createBreakpoints = function createBreakpoints(config) {
  (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_0__.warn)({
    condition: true,
    message: ["[chakra-ui]: createBreakpoints(...) will be deprecated pretty soon", "simply pass the breakpoints as an object. Remove the createBreakpoint(..) call"].join("")
  });
  return _extends({
    base: "0em"
  }, config);
};

function _defineProperties(target, props) {
  for (var i = 0; i < props.length; i++) {
    var descriptor = props[i];
    descriptor.enumerable = descriptor.enumerable || false;
    descriptor.configurable = true;
    if ("value" in descriptor) descriptor.writable = true;
    Object.defineProperty(target, descriptor.key, descriptor);
  }
}

function _createClass(Constructor, protoProps, staticProps) {
  if (protoProps) _defineProperties(Constructor.prototype, protoProps);
  if (staticProps) _defineProperties(Constructor, staticProps);
  return Constructor;
}

/**
 * Used to define the anatomy/parts of a component in a way that provides
 * a consistent API for `className`, css selector and `theming`.
 */

var Anatomy = /*#__PURE__*/function () {
  function Anatomy(name) {
    var _this = this;

    this.map = {};
    this.called = false;

    this.assert = function () {
      if (!_this.called) {
        _this.called = true;
        return;
      }

      throw new Error("[anatomy] .part(...) should only be called once. Did you mean to use .extend(...) ?");
    };

    this.parts = function () {
      _this.assert();

      for (var _len = arguments.length, values = new Array(_len), _key = 0; _key < _len; _key++) {
        values[_key] = arguments[_key];
      }

      for (var _i = 0, _values = values; _i < _values.length; _i++) {
        var part = _values[_i];
        _this.map[part] = _this.toPart(part);
      }

      return _this;
    };

    this.extend = function () {
      for (var _len2 = arguments.length, parts = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        parts[_key2] = arguments[_key2];
      }

      for (var _i2 = 0, _parts = parts; _i2 < _parts.length; _i2++) {
        var part = _parts[_i2];
        if (part in _this.map) continue;
        _this.map[part] = _this.toPart(part);
      }

      return _this;
    };

    this.toPart = function (part) {
      var el = ["container", "root"].includes(part != null ? part : "") ? [_this.name] : [_this.name, part];
      var attr = el.filter(Boolean).join("__");
      var className = "chakra-" + attr;
      var partObj = {
        className: className,
        selector: "." + className,
        toString: function toString() {
          return part;
        }
      };
      return partObj;
    };

    this.__type = {};
  }
  /**
   * Prevents user from calling `.parts` multiple times.
   * It should only be called once.
   */


  _createClass(Anatomy, [{
    key: "selectors",
    get:
    /**
     * Get all selectors for the component anatomy
     */
    function get() {
      var value = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_0__.fromEntries)(Object.entries(this.map).map(function (_ref) {
        var key = _ref[0],
            part = _ref[1];
        return [key, part.selector];
      }));
      return value;
    }
    /**
     * Get all classNames for the component anatomy
     */

  }, {
    key: "classNames",
    get: function get() {
      var value = (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_0__.fromEntries)(Object.entries(this.map).map(function (_ref2) {
        var key = _ref2[0],
            part = _ref2[1];
        return [key, part.className];
      }));
      return value;
    }
    /**
     * Get all parts as array of string
     */

  }, {
    key: "keys",
    get: function get() {
      return Object.keys(this.map);
    }
    /**
     * Creates the part object for the given part
     */

  }]);

  return Anatomy;
}();
function anatomy(name) {
  return new Anatomy(name);
}

function toRef(operand) {
  if ((0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_0__.isObject)(operand) && operand.reference) {
    return operand.reference;
  }

  return String(operand);
}

var toExpr = function toExpr(operator) {
  for (var _len = arguments.length, operands = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
    operands[_key - 1] = arguments[_key];
  }

  return operands.map(toRef).join(" " + operator + " ").replace(/calc/g, "");
};

var _add = function add() {
  for (var _len2 = arguments.length, operands = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    operands[_key2] = arguments[_key2];
  }

  return "calc(" + toExpr.apply(void 0, ["+"].concat(operands)) + ")";
};

var _subtract = function subtract() {
  for (var _len3 = arguments.length, operands = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
    operands[_key3] = arguments[_key3];
  }

  return "calc(" + toExpr.apply(void 0, ["-"].concat(operands)) + ")";
};

var _multiply = function multiply() {
  for (var _len4 = arguments.length, operands = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
    operands[_key4] = arguments[_key4];
  }

  return "calc(" + toExpr.apply(void 0, ["*"].concat(operands)) + ")";
};

var _divide = function divide() {
  for (var _len5 = arguments.length, operands = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {
    operands[_key5] = arguments[_key5];
  }

  return "calc(" + toExpr.apply(void 0, ["/"].concat(operands)) + ")";
};

var _negate = function negate(x) {
  var value = toRef(x);

  if (value != null && !Number.isNaN(parseFloat(value))) {
    return String(value).startsWith("-") ? String(value).slice(1) : "-" + value;
  }

  return _multiply(value, -1);
};

var calc = Object.assign(function (x) {
  return {
    add: function add() {
      for (var _len6 = arguments.length, operands = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {
        operands[_key6] = arguments[_key6];
      }

      return calc(_add.apply(void 0, [x].concat(operands)));
    },
    subtract: function subtract() {
      for (var _len7 = arguments.length, operands = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {
        operands[_key7] = arguments[_key7];
      }

      return calc(_subtract.apply(void 0, [x].concat(operands)));
    },
    multiply: function multiply() {
      for (var _len8 = arguments.length, operands = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {
        operands[_key8] = arguments[_key8];
      }

      return calc(_multiply.apply(void 0, [x].concat(operands)));
    },
    divide: function divide() {
      for (var _len9 = arguments.length, operands = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {
        operands[_key9] = arguments[_key9];
      }

      return calc(_divide.apply(void 0, [x].concat(operands)));
    },
    negate: function negate() {
      return calc(_negate(x));
    },
    toString: function toString() {
      return x.toString();
    }
  };
}, {
  add: _add,
  subtract: _subtract,
  multiply: _multiply,
  divide: _divide,
  negate: _negate
});

function isDecimal(value) {
  return !Number.isInteger(parseFloat(value.toString()));
}

function replaceWhiteSpace(value, replaceValue) {
  if (replaceValue === void 0) {
    replaceValue = "-";
  }

  return value.replace(/\s+/g, replaceValue);
}

function escape(value) {
  var valueStr = replaceWhiteSpace(value.toString());
  if (valueStr.includes("\\.")) return value;
  return isDecimal(value) ? valueStr.replace(".", "\\.") : value;
}

function addPrefix(value, prefix) {
  if (prefix === void 0) {
    prefix = "";
  }

  return [prefix, escape(value)].filter(Boolean).join("-");
}
function toVarRef(name, fallback) {
  return "var(" + escape(name) + (fallback ? ", " + fallback : "") + ")";
}
function toVar(value, prefix) {
  if (prefix === void 0) {
    prefix = "";
  }

  return "--" + addPrefix(value, prefix);
}
function cssVar(name, options) {
  var cssVariable = toVar(name, options == null ? void 0 : options.prefix);
  return {
    variable: cssVariable,
    reference: toVarRef(cssVariable, getFallback(options == null ? void 0 : options.fallback))
  };
}

function getFallback(fallback) {
  if (typeof fallback === "string") return fallback;
  return fallback == null ? void 0 : fallback.reference;
}




/***/ }),

/***/ "./node_modules/@chakra-ui/theme/dist/chakra-ui-theme.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@chakra-ui/theme/dist/chakra-ui-theme.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ theme),
/* harmony export */   "isChakraTheme": () => (/* binding */ isChakraTheme),
/* harmony export */   "requiredChakraThemeKeys": () => (/* binding */ requiredChakraThemeKeys),
/* harmony export */   "theme": () => (/* binding */ theme)
/* harmony export */ });
/* harmony import */ var _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chakra-ui/anatomy */ "./node_modules/@chakra-ui/anatomy/dist/chakra-ui-anatomy.esm.js");
/* harmony import */ var _chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/theme-tools */ "./node_modules/@chakra-ui/theme-tools/dist/chakra-ui-theme-tools.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/lodash.mergewith/index.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@emotion/react/dist/emotion-react.browser.esm.js");





function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var baseStyleContainer$3 = {
  borderTopWidth: "1px",
  borderColor: "inherit",
  _last: {
    borderBottomWidth: "1px"
  }
};
var baseStyleButton$1 = {
  transitionProperty: "common",
  transitionDuration: "normal",
  fontSize: "1rem",
  _focus: {
    boxShadow: "outline"
  },
  _hover: {
    bg: "blackAlpha.50"
  },
  _disabled: {
    opacity: 0.4,
    cursor: "not-allowed"
  },
  px: 4,
  py: 2
};
var baseStylePanel = {
  pt: 2,
  px: 4,
  pb: 5
};
var baseStyleIcon$5 = {
  fontSize: "1.25em"
};
var baseStyle$D = {
  container: baseStyleContainer$3,
  button: baseStyleButton$1,
  panel: baseStylePanel,
  icon: baseStyleIcon$5
};
var Accordion = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.accordionAnatomy.keys,
  baseStyle: baseStyle$D
};

var baseStyle$C = {
  container: {
    px: 4,
    py: 3
  },
  title: {
    fontWeight: "bold",
    lineHeight: 6,
    marginEnd: 2
  },
  description: {
    lineHeight: 6
  },
  icon: {
    flexShrink: 0,
    marginEnd: 3,
    w: 5,
    h: 6
  }
};

function getBg(props) {
  var theme = props.theme,
      c = props.colorScheme;
  var lightBg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, c + ".100", c);
  var darkBg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.transparentize)(c + ".200", 0.16)(theme);
  return (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(lightBg, darkBg)(props);
}

var variantSubtle$1 = function variantSubtle(props) {
  var c = props.colorScheme;
  return {
    container: {
      bg: getBg(props)
    },
    icon: {
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props)
    }
  };
};

var variantLeftAccent = function variantLeftAccent(props) {
  var c = props.colorScheme;
  return {
    container: {
      paddingStart: 3,
      borderStartWidth: "4px",
      borderStartColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props),
      bg: getBg(props)
    },
    icon: {
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props)
    }
  };
};

var variantTopAccent = function variantTopAccent(props) {
  var c = props.colorScheme;
  return {
    container: {
      pt: 2,
      borderTopWidth: "4px",
      borderTopColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props),
      bg: getBg(props)
    },
    icon: {
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props)
    }
  };
};

var variantSolid$3 = function variantSolid(props) {
  var c = props.colorScheme;
  return {
    container: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props),
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.900")(props)
    }
  };
};

var variants$b = {
  subtle: variantSubtle$1,
  "left-accent": variantLeftAccent,
  "top-accent": variantTopAccent,
  solid: variantSolid$3
};
var defaultProps$n = {
  variant: "subtle",
  colorScheme: "blue"
};
var Alert = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.alertAnatomy.keys,
  baseStyle: baseStyle$C,
  variants: variants$b,
  defaultProps: defaultProps$n
};

var spacing = {
  px: "1px",
  0.5: "0.125rem",
  1: "0.25rem",
  1.5: "0.375rem",
  2: "0.5rem",
  2.5: "0.625rem",
  3: "0.75rem",
  3.5: "0.875rem",
  4: "1rem",
  5: "1.25rem",
  6: "1.5rem",
  7: "1.75rem",
  8: "2rem",
  9: "2.25rem",
  10: "2.5rem",
  12: "3rem",
  14: "3.5rem",
  16: "4rem",
  20: "5rem",
  24: "6rem",
  28: "7rem",
  32: "8rem",
  36: "9rem",
  40: "10rem",
  44: "11rem",
  48: "12rem",
  52: "13rem",
  56: "14rem",
  60: "15rem",
  64: "16rem",
  72: "18rem",
  80: "20rem",
  96: "24rem"
};
/**
 * @deprecated
 * Spacing tokens are a part of DefaultChakraTheme['sizes']
 */

var largeSizes = {
  max: "max-content",
  min: "min-content",
  full: "100%",
  "3xs": "14rem",
  "2xs": "16rem",
  xs: "20rem",
  sm: "24rem",
  md: "28rem",
  lg: "32rem",
  xl: "36rem",
  "2xl": "42rem",
  "3xl": "48rem",
  "4xl": "56rem",
  "5xl": "64rem",
  "6xl": "72rem",
  "7xl": "80rem",
  "8xl": "90rem"
};
var container = {
  sm: "640px",
  md: "768px",
  lg: "1024px",
  xl: "1280px"
};

var sizes$l = _extends({}, spacing, largeSizes, {
  container: container
});
/**
 * @deprecated
 * You can derive the Sizes type from the DefaultChakraTheme
 *
 * type Sizes = DefaultChakraTheme['sizes']
 */


var sizes$m = sizes$l;

var baseStyleBadge = function baseStyleBadge(props) {
  return {
    transform: "translate(25%, 25%)",
    borderRadius: "full",
    border: "0.2em solid",
    borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.800")(props)
  };
};

var baseStyleExcessLabel = function baseStyleExcessLabel(props) {
  return {
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.400")(props)
  };
};

var baseStyleContainer$2 = function baseStyleContainer(props) {
  var name = props.name,
      theme = props.theme;
  var bg = name ? (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.randomColor)({
    string: name
  }) : "gray.400";
  var isBgDark = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.isDark)(bg)(theme);
  var color = "white";
  if (!isBgDark) color = "gray.800";
  var borderColor = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.800")(props);
  return {
    bg: bg,
    color: color,
    borderColor: borderColor,
    verticalAlign: "top"
  };
};

var baseStyle$B = function baseStyle(props) {
  return {
    badge: baseStyleBadge(props),
    excessLabel: baseStyleExcessLabel(props),
    container: baseStyleContainer$2(props)
  };
};

function getSize$3(size) {
  var themeSize = sizes$m[size];
  return {
    container: {
      width: size,
      height: size,
      fontSize: "calc(" + (themeSize != null ? themeSize : size) + " / 2.5)"
    },
    excessLabel: {
      width: size,
      height: size
    },
    label: {
      fontSize: "calc(" + (themeSize != null ? themeSize : size) + " / 2.5)",
      lineHeight: size !== "100%" ? themeSize != null ? themeSize : size : undefined
    }
  };
}

var sizes$k = {
  "2xs": getSize$3("4"),
  xs: getSize$3("6"),
  sm: getSize$3("8"),
  md: getSize$3("12"),
  lg: getSize$3("16"),
  xl: getSize$3("24"),
  "2xl": getSize$3("32"),
  full: getSize$3("100%")
};
var defaultProps$m = {
  size: "md"
};
var Avatar = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.avatarAnatomy.keys,
  baseStyle: baseStyle$B,
  sizes: sizes$k,
  defaultProps: defaultProps$m
};

var baseStyle$A = {
  px: 1,
  textTransform: "uppercase",
  fontSize: "xs",
  borderRadius: "sm",
  fontWeight: "bold"
};

var variantSolid$2 = function variantSolid(props) {
  var c = props.colorScheme,
      theme = props.theme;
  var dark = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.transparentize)(c + ".500", 0.6)(theme);
  return {
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", dark)(props),
    color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "whiteAlpha.800")(props)
  };
};

var variantSubtle = function variantSubtle(props) {
  var c = props.colorScheme,
      theme = props.theme;
  var darkBg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.transparentize)(c + ".200", 0.16)(theme);
  return {
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".100", darkBg)(props),
    color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".800", c + ".200")(props)
  };
};

var variantOutline$2 = function variantOutline(props) {
  var c = props.colorScheme,
      theme = props.theme;
  var darkColor = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.transparentize)(c + ".200", 0.8)(theme);
  var lightColor = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, c + ".500");
  var color = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(lightColor, darkColor)(props);
  return {
    color: color,
    boxShadow: "inset 0 0 0px 1px " + color
  };
};

var variants$a = {
  solid: variantSolid$2,
  subtle: variantSubtle,
  outline: variantOutline$2
};
var defaultProps$l = {
  variant: "subtle",
  colorScheme: "gray"
};
var Badge = {
  baseStyle: baseStyle$A,
  variants: variants$a,
  defaultProps: defaultProps$l
};

var baseStyleLink = {
  transitionProperty: "common",
  transitionDuration: "fast",
  transitionTimingFunction: "ease-out",
  cursor: "pointer",
  textDecoration: "none",
  outline: "none",
  color: "inherit",
  _hover: {
    textDecoration: "underline"
  },
  _focus: {
    boxShadow: "outline"
  }
};
var baseStyle$z = {
  link: baseStyleLink
};
var Breadcrumb = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.breadcrumbAnatomy.keys,
  baseStyle: baseStyle$z
};

var baseStyle$y = {
  lineHeight: "1.2",
  borderRadius: "md",
  fontWeight: "semibold",
  transitionProperty: "common",
  transitionDuration: "normal",
  _focus: {
    boxShadow: "outline"
  },
  _disabled: {
    opacity: 0.4,
    cursor: "not-allowed",
    boxShadow: "none"
  },
  _hover: {
    _disabled: {
      bg: "initial"
    }
  }
};

var variantGhost = function variantGhost(props) {
  var c = props.colorScheme,
      theme = props.theme;

  if (c === "gray") {
    return {
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("inherit", "whiteAlpha.900")(props),
      _hover: {
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "whiteAlpha.200")(props)
      },
      _active: {
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.300")(props)
      }
    };
  }

  var darkHoverBg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.transparentize)(c + ".200", 0.12)(theme);
  var darkActiveBg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.transparentize)(c + ".200", 0.24)(theme);
  return {
    color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".600", c + ".200")(props),
    bg: "transparent",
    _hover: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".50", darkHoverBg)(props)
    },
    _active: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".100", darkActiveBg)(props)
    }
  };
};

var variantOutline$1 = function variantOutline(props) {
  var c = props.colorScheme;
  var borderColor = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.300")(props);
  return _extends({
    border: "1px solid",
    borderColor: c === "gray" ? borderColor : "currentColor"
  }, variantGhost(props));
};

/** Accessible color overrides for less accessible colors. */
var accessibleColorMap = {
  yellow: {
    bg: "yellow.400",
    color: "black",
    hoverBg: "yellow.500",
    activeBg: "yellow.600"
  },
  cyan: {
    bg: "cyan.400",
    color: "black",
    hoverBg: "cyan.500",
    activeBg: "cyan.600"
  }
};

var variantSolid$1 = function variantSolid(props) {
  var _accessibleColorMap$c;

  var c = props.colorScheme;

  if (c === "gray") {
    var _bg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "whiteAlpha.200")(props);

    return {
      bg: _bg,
      _hover: {
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.300")(props),
        _disabled: {
          bg: _bg
        }
      },
      _active: {
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.300", "whiteAlpha.400")(props)
      }
    };
  }

  var _ref = (_accessibleColorMap$c = accessibleColorMap[c]) != null ? _accessibleColorMap$c : {},
      _ref$bg = _ref.bg,
      bg = _ref$bg === void 0 ? c + ".500" : _ref$bg,
      _ref$color = _ref.color,
      color = _ref$color === void 0 ? "white" : _ref$color,
      _ref$hoverBg = _ref.hoverBg,
      hoverBg = _ref$hoverBg === void 0 ? c + ".600" : _ref$hoverBg,
      _ref$activeBg = _ref.activeBg,
      activeBg = _ref$activeBg === void 0 ? c + ".700" : _ref$activeBg;

  var background = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(bg, c + ".200")(props);
  return {
    bg: background,
    color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(color, "gray.800")(props),
    _hover: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(hoverBg, c + ".300")(props),
      _disabled: {
        bg: background
      }
    },
    _active: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(activeBg, c + ".400")(props)
    }
  };
};

var variantLink = function variantLink(props) {
  var c = props.colorScheme;
  return {
    padding: 0,
    height: "auto",
    lineHeight: "normal",
    verticalAlign: "baseline",
    color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props),
    _hover: {
      textDecoration: "underline",
      _disabled: {
        textDecoration: "none"
      }
    },
    _active: {
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".700", c + ".500")(props)
    }
  };
};

var variantUnstyled$2 = {
  bg: "none",
  color: "inherit",
  display: "inline",
  lineHeight: "inherit",
  m: 0,
  p: 0
};
var variants$9 = {
  ghost: variantGhost,
  outline: variantOutline$1,
  solid: variantSolid$1,
  link: variantLink,
  unstyled: variantUnstyled$2
};
var sizes$j = {
  lg: {
    h: 12,
    minW: 12,
    fontSize: "lg",
    px: 6
  },
  md: {
    h: 10,
    minW: 10,
    fontSize: "md",
    px: 4
  },
  sm: {
    h: 8,
    minW: 8,
    fontSize: "sm",
    px: 3
  },
  xs: {
    h: 6,
    minW: 6,
    fontSize: "xs",
    px: 2
  }
};
var defaultProps$k = {
  variant: "solid",
  size: "md",
  colorScheme: "gray"
};
var Button = {
  baseStyle: baseStyle$y,
  variants: variants$9,
  sizes: sizes$j,
  defaultProps: defaultProps$k
};

var baseStyleControl$1 = function baseStyleControl(props) {
  var c = props.colorScheme;
  return {
    w: "100%",
    transitionProperty: "box-shadow",
    transitionDuration: "normal",
    border: "2px solid",
    borderRadius: "sm",
    borderColor: "inherit",
    color: "white",
    _checked: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props),
      borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props),
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.900")(props),
      _hover: {
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".600", c + ".300")(props),
        borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".600", c + ".300")(props)
      },
      _disabled: {
        borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "transparent")(props),
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.300")(props),
        color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.500", "whiteAlpha.500")(props)
      }
    },
    _indeterminate: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props),
      borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props),
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.900")(props)
    },
    _disabled: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "whiteAlpha.100")(props),
      borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "transparent")(props)
    },
    _focus: {
      boxShadow: "outline"
    },
    _invalid: {
      borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("red.500", "red.300")(props)
    }
  };
};

var baseStyleLabel$3 = {
  userSelect: "none",
  _disabled: {
    opacity: 0.4
  }
};
var baseStyleIcon$4 = {
  transitionProperty: "transform",
  transitionDuration: "normal"
};

var baseStyle$x = function baseStyle(props) {
  return {
    icon: baseStyleIcon$4,
    control: baseStyleControl$1(props),
    label: baseStyleLabel$3
  };
};

var sizes$i = {
  sm: {
    control: {
      h: 3,
      w: 3
    },
    label: {
      fontSize: "sm"
    },
    icon: {
      fontSize: "0.45rem"
    }
  },
  md: {
    control: {
      w: 4,
      h: 4
    },
    label: {
      fontSize: "md"
    },
    icon: {
      fontSize: "0.625rem"
    }
  },
  lg: {
    control: {
      w: 5,
      h: 5
    },
    label: {
      fontSize: "lg"
    },
    icon: {
      fontSize: "0.625rem"
    }
  }
};
var defaultProps$j = {
  size: "md",
  colorScheme: "blue"
};
var Checkbox = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.checkboxAnatomy.keys,
  baseStyle: baseStyle$x,
  sizes: sizes$i,
  defaultProps: defaultProps$j
};

var _lg$1, _md$1, _sm$1;
var $size$1 = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("close-button-size");

var baseStyle$w = function baseStyle(props) {
  var hoverBg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("blackAlpha.100", "whiteAlpha.100")(props);
  var activeBg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("blackAlpha.200", "whiteAlpha.200")(props);
  return {
    w: [$size$1.reference],
    h: [$size$1.reference],
    borderRadius: "md",
    transitionProperty: "common",
    transitionDuration: "normal",
    _disabled: {
      opacity: 0.4,
      cursor: "not-allowed",
      boxShadow: "none"
    },
    _hover: {
      bg: hoverBg
    },
    _active: {
      bg: activeBg
    },
    _focus: {
      boxShadow: "outline"
    }
  };
};

var sizes$h = {
  lg: (_lg$1 = {}, _lg$1[$size$1.variable] = "40px", _lg$1.fontSize = "16px", _lg$1),
  md: (_md$1 = {}, _md$1[$size$1.variable] = "32px", _md$1.fontSize = "12px", _md$1),
  sm: (_sm$1 = {}, _sm$1[$size$1.variable] = "24px", _sm$1.fontSize = "10px", _sm$1)
};
var defaultProps$i = {
  size: "md"
};
var CloseButton = {
  baseStyle: baseStyle$w,
  sizes: sizes$h,
  defaultProps: defaultProps$i
};

var variants$8 = Badge.variants,
    defaultProps$h = Badge.defaultProps;
var baseStyle$v = {
  fontFamily: "mono",
  fontSize: "sm",
  px: "0.2em",
  borderRadius: "sm"
};
var Code = {
  baseStyle: baseStyle$v,
  variants: variants$8,
  defaultProps: defaultProps$h
};

var baseStyle$u = {
  w: "100%",
  mx: "auto",
  maxW: "60ch",
  px: "1rem"
};
var Container = {
  baseStyle: baseStyle$u
};

var baseStyle$t = {
  opacity: 0.6,
  borderColor: "inherit"
};
var variantSolid = {
  borderStyle: "solid"
};
var variantDashed = {
  borderStyle: "dashed"
};
var variants$7 = {
  solid: variantSolid,
  dashed: variantDashed
};
var defaultProps$g = {
  variant: "solid"
};
var Divider = {
  baseStyle: baseStyle$t,
  variants: variants$7,
  defaultProps: defaultProps$g
};

/**
 * Since the `maxWidth` prop references theme.sizes internally,
 * we can leverage that to size our modals.
 */

function getSize$2(value) {
  if (value === "full") {
    return {
      dialog: {
        maxW: "100vw",
        h: "100vh"
      }
    };
  }

  return {
    dialog: {
      maxW: value
    }
  };
}

var baseStyleOverlay$1 = {
  bg: "blackAlpha.600",
  zIndex: "overlay"
};
var baseStyleDialogContainer$1 = {
  display: "flex",
  zIndex: "modal",
  justifyContent: "center"
};

var baseStyleDialog$1 = function baseStyleDialog(props) {
  var isFullHeight = props.isFullHeight;
  return _extends({}, isFullHeight && {
    height: "100vh"
  }, {
    zIndex: "modal",
    maxH: "100vh",
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.700")(props),
    color: "inherit",
    boxShadow: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("lg", "dark-lg")(props)
  });
};

var baseStyleHeader$2 = {
  px: 6,
  py: 4,
  fontSize: "xl",
  fontWeight: "semibold"
};
var baseStyleCloseButton$3 = {
  position: "absolute",
  top: 2,
  insetEnd: 3
};
var baseStyleBody$2 = {
  px: 6,
  py: 2,
  flex: 1,
  overflow: "auto"
};
var baseStyleFooter$2 = {
  px: 6,
  py: 4
};

var baseStyle$s = function baseStyle(props) {
  return {
    overlay: baseStyleOverlay$1,
    dialogContainer: baseStyleDialogContainer$1,
    dialog: baseStyleDialog$1(props),
    header: baseStyleHeader$2,
    closeButton: baseStyleCloseButton$3,
    body: baseStyleBody$2,
    footer: baseStyleFooter$2
  };
};

var sizes$g = {
  xs: getSize$2("xs"),
  sm: getSize$2("md"),
  md: getSize$2("lg"),
  lg: getSize$2("2xl"),
  xl: getSize$2("4xl"),
  full: getSize$2("full")
};
var defaultProps$f = {
  size: "xs"
};
var Drawer = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.drawerAnatomy.keys,
  baseStyle: baseStyle$s,
  sizes: sizes$g,
  defaultProps: defaultProps$f
};

var baseStylePreview = {
  borderRadius: "md",
  py: "3px",
  transitionProperty: "common",
  transitionDuration: "normal"
};
var baseStyleInput = {
  borderRadius: "md",
  py: "3px",
  transitionProperty: "common",
  transitionDuration: "normal",
  width: "full",
  _focus: {
    boxShadow: "outline"
  },
  _placeholder: {
    opacity: 0.6
  }
};
var baseStyle$r = {
  preview: baseStylePreview,
  input: baseStyleInput
};
var Editable = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.editableAnatomy.keys,
  baseStyle: baseStyle$r
};

var baseStyleRequiredIndicator = function baseStyleRequiredIndicator(props) {
  return {
    marginStart: 1,
    color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("red.500", "red.300")(props)
  };
};

var baseStyleHelperText = function baseStyleHelperText(props) {
  return {
    mt: 2,
    color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.500", "whiteAlpha.600")(props),
    lineHeight: "normal",
    fontSize: "sm"
  };
};

var baseStyle$q = function baseStyle(props) {
  return {
    container: {
      width: "100%",
      position: "relative"
    },
    requiredIndicator: baseStyleRequiredIndicator(props),
    helperText: baseStyleHelperText(props)
  };
};

var Form = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.formAnatomy.keys,
  baseStyle: baseStyle$q
};

var baseStyle$p = {
  fontSize: "md",
  marginEnd: 3,
  mb: 2,
  fontWeight: "medium",
  transitionProperty: "common",
  transitionDuration: "normal",
  opacity: 1,
  _disabled: {
    opacity: 0.4
  }
};
var FormLabel = {
  baseStyle: baseStyle$p
};

var baseStyle$o = {
  fontFamily: "heading",
  fontWeight: "bold"
};
var sizes$f = {
  "4xl": {
    fontSize: ["6xl", null, "7xl"],
    lineHeight: 1
  },
  "3xl": {
    fontSize: ["5xl", null, "6xl"],
    lineHeight: 1
  },
  "2xl": {
    fontSize: ["4xl", null, "5xl"],
    lineHeight: [1.2, null, 1]
  },
  xl: {
    fontSize: ["3xl", null, "4xl"],
    lineHeight: [1.33, null, 1.2]
  },
  lg: {
    fontSize: ["2xl", null, "3xl"],
    lineHeight: [1.33, null, 1.2]
  },
  md: {
    fontSize: "xl",
    lineHeight: 1.2
  },
  sm: {
    fontSize: "md",
    lineHeight: 1.2
  },
  xs: {
    fontSize: "sm",
    lineHeight: 1.2
  }
};
var defaultProps$e = {
  size: "xl"
};
var Heading = {
  baseStyle: baseStyle$o,
  sizes: sizes$f,
  defaultProps: defaultProps$e
};

var baseStyle$n = {
  field: {
    width: "100%",
    minWidth: 0,
    outline: 0,
    position: "relative",
    appearance: "none",
    transitionProperty: "common",
    transitionDuration: "normal"
  }
};
var size = {
  lg: {
    fontSize: "lg",
    px: 4,
    h: 12,
    borderRadius: "md"
  },
  md: {
    fontSize: "md",
    px: 4,
    h: 10,
    borderRadius: "md"
  },
  sm: {
    fontSize: "sm",
    px: 3,
    h: 8,
    borderRadius: "sm"
  },
  xs: {
    fontSize: "xs",
    px: 2,
    h: 6,
    borderRadius: "sm"
  }
};
var sizes$e = {
  lg: {
    field: size.lg,
    addon: size.lg
  },
  md: {
    field: size.md,
    addon: size.md
  },
  sm: {
    field: size.sm,
    addon: size.sm
  },
  xs: {
    field: size.xs,
    addon: size.xs
  }
};

function getDefaults(props) {
  var fc = props.focusBorderColor,
      ec = props.errorBorderColor;
  return {
    focusBorderColor: fc || (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("blue.500", "blue.300")(props),
    errorBorderColor: ec || (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("red.500", "red.300")(props)
  };
}

var variantOutline = function variantOutline(props) {
  var theme = props.theme;

  var _getDefaults = getDefaults(props),
      fc = _getDefaults.focusBorderColor,
      ec = _getDefaults.errorBorderColor;

  return {
    field: {
      border: "1px solid",
      borderColor: "inherit",
      bg: "inherit",
      _hover: {
        borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.300", "whiteAlpha.400")(props)
      },
      _readOnly: {
        boxShadow: "none !important",
        userSelect: "all"
      },
      _disabled: {
        opacity: 0.4,
        cursor: "not-allowed"
      },
      _invalid: {
        borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, ec),
        boxShadow: "0 0 0 1px " + (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, ec)
      },
      _focus: {
        zIndex: 1,
        borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, fc),
        boxShadow: "0 0 0 1px " + (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, fc)
      }
    },
    addon: {
      border: "1px solid",
      borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("inherit", "whiteAlpha.50")(props),
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "whiteAlpha.300")(props)
    }
  };
};

var variantFilled = function variantFilled(props) {
  var theme = props.theme;

  var _getDefaults2 = getDefaults(props),
      fc = _getDefaults2.focusBorderColor,
      ec = _getDefaults2.errorBorderColor;

  return {
    field: {
      border: "2px solid",
      borderColor: "transparent",
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "whiteAlpha.50")(props),
      _hover: {
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.100")(props)
      },
      _readOnly: {
        boxShadow: "none !important",
        userSelect: "all"
      },
      _disabled: {
        opacity: 0.4,
        cursor: "not-allowed"
      },
      _invalid: {
        borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, ec)
      },
      _focus: {
        bg: "transparent",
        borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, fc)
      }
    },
    addon: {
      border: "2px solid",
      borderColor: "transparent",
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "whiteAlpha.50")(props)
    }
  };
};

var variantFlushed = function variantFlushed(props) {
  var theme = props.theme;

  var _getDefaults3 = getDefaults(props),
      fc = _getDefaults3.focusBorderColor,
      ec = _getDefaults3.errorBorderColor;

  return {
    field: {
      borderBottom: "1px solid",
      borderColor: "inherit",
      borderRadius: 0,
      px: 0,
      bg: "transparent",
      _readOnly: {
        boxShadow: "none !important",
        userSelect: "all"
      },
      _invalid: {
        borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, ec),
        boxShadow: "0px 1px 0px 0px " + (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, ec)
      },
      _focus: {
        borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, fc),
        boxShadow: "0px 1px 0px 0px " + (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, fc)
      }
    },
    addon: {
      borderBottom: "2px solid",
      borderColor: "inherit",
      borderRadius: 0,
      px: 0,
      bg: "transparent"
    }
  };
};

var variantUnstyled$1 = {
  field: {
    bg: "transparent",
    px: 0,
    height: "auto"
  },
  addon: {
    bg: "transparent",
    px: 0,
    height: "auto"
  }
};
var variants$6 = {
  outline: variantOutline,
  filled: variantFilled,
  flushed: variantFlushed,
  unstyled: variantUnstyled$1
};
var defaultProps$d = {
  size: "md",
  variant: "outline"
};
var Input = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.inputAnatomy.keys,
  baseStyle: baseStyle$n,
  sizes: sizes$e,
  variants: variants$6,
  defaultProps: defaultProps$d
};

var baseStyle$m = function baseStyle(props) {
  return {
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "whiteAlpha")(props),
    borderRadius: "md",
    borderWidth: "1px",
    borderBottomWidth: "3px",
    fontSize: "0.8em",
    fontWeight: "bold",
    lineHeight: "normal",
    px: "0.4em",
    whiteSpace: "nowrap"
  };
};

var Kbd = {
  baseStyle: baseStyle$m
};

var baseStyle$l = {
  transitionProperty: "common",
  transitionDuration: "fast",
  transitionTimingFunction: "ease-out",
  cursor: "pointer",
  textDecoration: "none",
  outline: "none",
  color: "inherit",
  _hover: {
    textDecoration: "underline"
  },
  _focus: {
    boxShadow: "outline"
  }
};
var Link = {
  baseStyle: baseStyle$l
};

var baseStyleIcon$3 = {
  marginEnd: "0.5rem",
  display: "inline",
  verticalAlign: "text-bottom"
};
var baseStyle$k = {
  container: {},
  item: {},
  icon: baseStyleIcon$3
};
var List = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.listAnatomy.keys,
  baseStyle: baseStyle$k
};

var baseStyleList = function baseStyleList(props) {
  return {
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("#fff", "gray.700")(props),
    boxShadow: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("sm", "dark-lg")(props),
    color: "inherit",
    minW: "3xs",
    py: "2",
    zIndex: 1,
    borderRadius: "md",
    borderWidth: "1px"
  };
};

var baseStyleItem = function baseStyleItem(props) {
  return {
    py: "0.4rem",
    px: "0.8rem",
    transitionProperty: "background",
    transitionDuration: "ultra-fast",
    transitionTimingFunction: "ease-in",
    _focus: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "whiteAlpha.100")(props)
    },
    _active: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.200")(props)
    },
    _expanded: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "whiteAlpha.100")(props)
    },
    _disabled: {
      opacity: 0.4,
      cursor: "not-allowed"
    }
  };
};

var baseStyleGroupTitle = {
  mx: 4,
  my: 2,
  fontWeight: "semibold",
  fontSize: "sm"
};
var baseStyleCommand = {
  opacity: 0.6
};
var baseStyleDivider = {
  border: 0,
  borderBottom: "1px solid",
  borderColor: "inherit",
  my: "0.5rem",
  opacity: 0.6
};
var baseStyleButton = {
  transitionProperty: "common",
  transitionDuration: "normal"
};

var baseStyle$j = function baseStyle(props) {
  return {
    button: baseStyleButton,
    list: baseStyleList(props),
    item: baseStyleItem(props),
    groupTitle: baseStyleGroupTitle,
    command: baseStyleCommand,
    divider: baseStyleDivider
  };
};

var Menu = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.menuAnatomy.keys,
  baseStyle: baseStyle$j
};

var baseStyleOverlay = {
  bg: "blackAlpha.600",
  zIndex: "modal"
};

var baseStyleDialogContainer = function baseStyleDialogContainer(props) {
  var isCentered = props.isCentered,
      scrollBehavior = props.scrollBehavior;
  return {
    display: "flex",
    zIndex: "modal",
    justifyContent: "center",
    alignItems: isCentered ? "center" : "flex-start",
    overflow: scrollBehavior === "inside" ? "hidden" : "auto"
  };
};

var baseStyleDialog = function baseStyleDialog(props) {
  var scrollBehavior = props.scrollBehavior;
  return {
    borderRadius: "md",
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.700")(props),
    color: "inherit",
    my: "3.75rem",
    zIndex: "modal",
    maxH: scrollBehavior === "inside" ? "calc(100% - 7.5rem)" : undefined,
    boxShadow: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("lg", "dark-lg")(props)
  };
};

var baseStyleHeader$1 = {
  px: 6,
  py: 4,
  fontSize: "xl",
  fontWeight: "semibold"
};
var baseStyleCloseButton$2 = {
  position: "absolute",
  top: 2,
  insetEnd: 3
};

var baseStyleBody$1 = function baseStyleBody(props) {
  var scrollBehavior = props.scrollBehavior;
  return {
    px: 6,
    py: 2,
    flex: 1,
    overflow: scrollBehavior === "inside" ? "auto" : undefined
  };
};

var baseStyleFooter$1 = {
  px: 6,
  py: 4
};

var baseStyle$i = function baseStyle(props) {
  return {
    overlay: baseStyleOverlay,
    dialogContainer: baseStyleDialogContainer(props),
    dialog: baseStyleDialog(props),
    header: baseStyleHeader$1,
    closeButton: baseStyleCloseButton$2,
    body: baseStyleBody$1(props),
    footer: baseStyleFooter$1
  };
};
/**
 * Since the `maxWidth` prop references theme.sizes internally,
 * we can leverage that to size our modals.
 */


function getSize$1(value) {
  if (value === "full") {
    return {
      dialog: {
        maxW: "100vw",
        minH: "100vh",
        my: 0
      }
    };
  }

  return {
    dialog: {
      maxW: value
    }
  };
}

var sizes$d = {
  xs: getSize$1("xs"),
  sm: getSize$1("sm"),
  md: getSize$1("md"),
  lg: getSize$1("lg"),
  xl: getSize$1("xl"),
  "2xl": getSize$1("2xl"),
  "3xl": getSize$1("3xl"),
  "4xl": getSize$1("4xl"),
  "5xl": getSize$1("5xl"),
  "6xl": getSize$1("6xl"),
  full: getSize$1("full")
};
var defaultProps$c = {
  size: "md"
};
var Modal = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.modalAnatomy.keys,
  baseStyle: baseStyle$i,
  sizes: sizes$d,
  defaultProps: defaultProps$c
};

var typography = {
  letterSpacings: {
    tighter: "-0.05em",
    tight: "-0.025em",
    normal: "0",
    wide: "0.025em",
    wider: "0.05em",
    widest: "0.1em"
  },
  lineHeights: {
    normal: "normal",
    none: 1,
    shorter: 1.25,
    "short": 1.375,
    base: 1.5,
    tall: 1.625,
    taller: "2",
    "3": ".75rem",
    "4": "1rem",
    "5": "1.25rem",
    "6": "1.5rem",
    "7": "1.75rem",
    "8": "2rem",
    "9": "2.25rem",
    "10": "2.5rem"
  },
  fontWeights: {
    hairline: 100,
    thin: 200,
    light: 300,
    normal: 400,
    medium: 500,
    semibold: 600,
    bold: 700,
    extrabold: 800,
    black: 900
  },
  fonts: {
    heading: "-apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"",
    body: "-apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"",
    mono: "SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace"
  },
  fontSizes: {
    xs: "0.75rem",
    sm: "0.875rem",
    md: "1rem",
    lg: "1.125rem",
    xl: "1.25rem",
    "2xl": "1.5rem",
    "3xl": "1.875rem",
    "4xl": "2.25rem",
    "5xl": "3rem",
    "6xl": "3.75rem",
    "7xl": "4.5rem",
    "8xl": "6rem",
    "9xl": "8rem"
  }
};
/**
 * @deprecated
 * You can derive the Typography type from the DefaultChakraTheme
 *
 * type Typography = Pick<
 *   DefaultChakraTheme,
 *   | "letterSpacings"
 *   | "lineHeights"
 *   | "fontWeights"
 *   | "fonts"
 *   | "fontSizes"
 *  >
 */

var typography$1 = typography;

var _baseStyleRoot, _Input$baseStyle$fiel, _Input$baseStyle;
var variants$5 = Input.variants,
    defaultProps$b = Input.defaultProps;
var $stepperWidth = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("number-input-stepper-width");
var $inputPadding = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("number-input-input-padding");
var inputPaddingValue = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.calc)($stepperWidth).add("0.5rem").toString();
var baseStyleRoot$1 = (_baseStyleRoot = {}, _baseStyleRoot[$stepperWidth.variable] = "24px", _baseStyleRoot[$inputPadding.variable] = inputPaddingValue, _baseStyleRoot);
var baseStyleField$1 = (_Input$baseStyle$fiel = (_Input$baseStyle = Input.baseStyle) == null ? void 0 : _Input$baseStyle.field) != null ? _Input$baseStyle$fiel : {};
var baseStyleStepperGroup = {
  width: [$stepperWidth.reference]
};

var baseStyleStepper = function baseStyleStepper(props) {
  return {
    borderStart: "1px solid",
    borderStartColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("inherit", "whiteAlpha.300")(props),
    color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("inherit", "whiteAlpha.800")(props),
    _active: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.300")(props)
    },
    _disabled: {
      opacity: 0.4,
      cursor: "not-allowed"
    }
  };
};

var baseStyle$h = function baseStyle(props) {
  return {
    root: baseStyleRoot$1,
    field: baseStyleField$1,
    stepperGroup: baseStyleStepperGroup,
    stepper: baseStyleStepper(props)
  };
};

function getSize(size) {
  var _sizeStyle$field$font, _sizeStyle$field;

  var sizeStyle = Input.sizes[size];
  var radius = {
    lg: "md",
    md: "md",
    sm: "sm",
    xs: "sm"
  };

  var _fontSize = (_sizeStyle$field$font = (_sizeStyle$field = sizeStyle.field) == null ? void 0 : _sizeStyle$field.fontSize) != null ? _sizeStyle$field$font : "md";

  var fontSize = typography$1.fontSizes[_fontSize.toString()];

  return {
    field: _extends({}, sizeStyle.field, {
      paddingInlineEnd: $inputPadding.reference,
      verticalAlign: "top"
    }),
    stepper: {
      fontSize: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.calc)(fontSize).multiply(0.75).toString(),
      _first: {
        borderTopEndRadius: radius[size]
      },
      _last: {
        borderBottomEndRadius: radius[size],
        mt: "-1px",
        borderTopWidth: 1
      }
    }
  };
}

var sizes$c = {
  xs: getSize("xs"),
  sm: getSize("sm"),
  md: getSize("md"),
  lg: getSize("lg")
};
var NumberInput = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.numberInputAnatomy.keys,
  baseStyle: baseStyle$h,
  sizes: sizes$c,
  variants: variants$5,
  defaultProps: defaultProps$b
};

var _Input$variants$unsty$1;

var baseStyle$g = _extends({}, Input.baseStyle.field, {
  textAlign: "center"
});

var sizes$b = {
  lg: {
    fontSize: "lg",
    w: 12,
    h: 12,
    borderRadius: "md"
  },
  md: {
    fontSize: "md",
    w: 10,
    h: 10,
    borderRadius: "md"
  },
  sm: {
    fontSize: "sm",
    w: 8,
    h: 8,
    borderRadius: "sm"
  },
  xs: {
    fontSize: "xs",
    w: 6,
    h: 6,
    borderRadius: "sm"
  }
};
var variants$4 = {
  outline: function outline(props) {
    var _Input$variants$outli;

    return (_Input$variants$outli = Input.variants.outline(props).field) != null ? _Input$variants$outli : {};
  },
  flushed: function flushed(props) {
    var _Input$variants$flush;

    return (_Input$variants$flush = Input.variants.flushed(props).field) != null ? _Input$variants$flush : {};
  },
  filled: function filled(props) {
    var _Input$variants$fille;

    return (_Input$variants$fille = Input.variants.filled(props).field) != null ? _Input$variants$fille : {};
  },
  unstyled: (_Input$variants$unsty$1 = Input.variants.unstyled.field) != null ? _Input$variants$unsty$1 : {}
};
var defaultProps$a = Input.defaultProps;
var PinInput = {
  baseStyle: baseStyle$g,
  sizes: sizes$b,
  variants: variants$4,
  defaultProps: defaultProps$a
};

var $popperBg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("popper-bg");
var $arrowBg$1 = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("popper-arrow-bg");
var $arrowShadowColor = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("popper-arrow-shadow-color");
var baseStylePopper = {
  zIndex: 10
};

var baseStyleContent = function baseStyleContent(props) {
  var _ref;

  var bg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.700")(props);
  var shadowColor = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.300")(props);
  return _ref = {}, _ref[$popperBg.variable] = "colors." + bg, _ref.bg = $popperBg.reference, _ref[$arrowBg$1.variable] = $popperBg.reference, _ref[$arrowShadowColor.variable] = "colors." + shadowColor, _ref.width = "xs", _ref.border = "1px solid", _ref.borderColor = "inherit", _ref.borderRadius = "md", _ref.boxShadow = "sm", _ref.zIndex = "inherit", _ref._focus = {
    outline: 0,
    boxShadow: "outline"
  }, _ref;
};

var baseStyleHeader = {
  px: 3,
  py: 2,
  borderBottomWidth: "1px"
};
var baseStyleBody = {
  px: 3,
  py: 2
};
var baseStyleFooter = {
  px: 3,
  py: 2,
  borderTopWidth: "1px"
};
var baseStyleCloseButton$1 = {
  position: "absolute",
  borderRadius: "md",
  top: 1,
  insetEnd: 2,
  padding: 2
};

var baseStyle$f = function baseStyle(props) {
  return {
    popper: baseStylePopper,
    content: baseStyleContent(props),
    header: baseStyleHeader,
    body: baseStyleBody,
    footer: baseStyleFooter,
    arrow: {},
    closeButton: baseStyleCloseButton$1
  };
};

var Popover = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.popoverAnatomy.keys,
  baseStyle: baseStyle$f
};

function filledStyle(props) {
  var c = props.colorScheme,
      t = props.theme,
      isIndeterminate = props.isIndeterminate,
      hasStripe = props.hasStripe;
  var stripeStyle = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)((0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.generateStripe)(), (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.generateStripe)("1rem", "rgba(0,0,0,0.1)"))(props);
  var bgColor = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props);
  var gradient = "linear-gradient(\n    to right,\n    transparent 0%,\n    " + (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(t, bgColor) + " 50%,\n    transparent 100%\n  )";
  var addStripe = !isIndeterminate && hasStripe;
  return _extends({}, addStripe && stripeStyle, isIndeterminate ? {
    bgImage: gradient
  } : {
    bgColor: bgColor
  });
}

var baseStyleLabel$2 = {
  lineHeight: "1",
  fontSize: "0.25em",
  fontWeight: "bold",
  color: "white"
};

var baseStyleTrack$2 = function baseStyleTrack(props) {
  return {
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "whiteAlpha.300")(props)
  };
};

var baseStyleFilledTrack$1 = function baseStyleFilledTrack(props) {
  return _extends({
    transitionProperty: "common",
    transitionDuration: "slow"
  }, filledStyle(props));
};

var baseStyle$e = function baseStyle(props) {
  return {
    label: baseStyleLabel$2,
    filledTrack: baseStyleFilledTrack$1(props),
    track: baseStyleTrack$2(props)
  };
};

var sizes$a = {
  xs: {
    track: {
      h: "0.25rem"
    }
  },
  sm: {
    track: {
      h: "0.5rem"
    }
  },
  md: {
    track: {
      h: "0.75rem"
    }
  },
  lg: {
    track: {
      h: "1rem"
    }
  }
};
var defaultProps$9 = {
  size: "md",
  colorScheme: "blue"
};
var Progress = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.progressAnatomy.keys,
  sizes: sizes$a,
  baseStyle: baseStyle$e,
  defaultProps: defaultProps$9
};

var baseStyleControl = function baseStyleControl(props) {
  var _Checkbox$baseStyle = Checkbox.baseStyle(props),
      _Checkbox$baseStyle$c = _Checkbox$baseStyle.control,
      control = _Checkbox$baseStyle$c === void 0 ? {} : _Checkbox$baseStyle$c;

  return _extends({}, control, {
    borderRadius: "full",
    _checked: _extends({}, control["_checked"], {
      _before: {
        content: "\"\"",
        display: "inline-block",
        pos: "relative",
        w: "50%",
        h: "50%",
        borderRadius: "50%",
        bg: "currentColor"
      }
    })
  });
};

var baseStyle$d = function baseStyle(props) {
  return {
    label: Checkbox.baseStyle(props).label,
    control: baseStyleControl(props)
  };
};

var sizes$9 = {
  md: {
    control: {
      w: 4,
      h: 4
    },
    label: {
      fontSize: "md"
    }
  },
  lg: {
    control: {
      w: 5,
      h: 5
    },
    label: {
      fontSize: "lg"
    }
  },
  sm: {
    control: {
      width: 3,
      height: 3
    },
    label: {
      fontSize: "sm"
    }
  }
};
var defaultProps$8 = {
  size: "md",
  colorScheme: "blue"
};
var Radio = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.radioAnatomy.keys,
  baseStyle: baseStyle$d,
  sizes: sizes$9,
  defaultProps: defaultProps$8
};

var baseStyleField = function baseStyleField(props) {
  return _extends({}, Input.baseStyle.field, {
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.700")(props),
    appearance: "none",
    paddingBottom: "1px",
    lineHeight: "normal",
    "> option, > optgroup": {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.700")(props)
    }
  });
};

var baseStyleIcon$2 = {
  width: "1.5rem",
  height: "100%",
  insetEnd: "0.5rem",
  position: "relative",
  color: "currentColor",
  fontSize: "1.25rem",
  _disabled: {
    opacity: 0.5
  }
};

var baseStyle$c = function baseStyle(props) {
  return {
    field: baseStyleField(props),
    icon: baseStyleIcon$2
  };
};

var iconSpacing = {
  paddingInlineEnd: "2rem"
};
var sizes$8 = _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2___default()({}, Input.sizes, {
  lg: {
    field: iconSpacing
  },
  md: {
    field: iconSpacing
  },
  sm: {
    field: iconSpacing
  },
  xs: {
    field: iconSpacing,
    icon: {
      insetEnd: "0.25rem"
    }
  }
});
var Select = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.selectAnatomy.keys,
  baseStyle: baseStyle$c,
  sizes: sizes$8,
  variants: Input.variants,
  defaultProps: Input.defaultProps
};

var fade = function fade(startColor, endColor) {
  return (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_3__.keyframes)({
    from: {
      borderColor: startColor,
      background: startColor
    },
    to: {
      borderColor: endColor,
      background: endColor
    }
  });
};

var baseStyle$b = function baseStyle(props) {
  var defaultStartColor = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.100", "gray.800")(props);
  var defaultEndColor = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.400", "gray.600")(props);
  var _props$startColor = props.startColor,
      startColor = _props$startColor === void 0 ? defaultStartColor : _props$startColor,
      _props$endColor = props.endColor,
      endColor = _props$endColor === void 0 ? defaultEndColor : _props$endColor,
      speed = props.speed,
      theme = props.theme;
  var start = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, startColor);
  var end = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, endColor);
  return {
    opacity: 0.7,
    borderRadius: "2px",
    borderColor: start,
    background: end,
    animation: speed + "s linear infinite alternate " + fade(start, end)
  };
};

var Skeleton = {
  baseStyle: baseStyle$b
};

var baseStyle$a = function baseStyle(props) {
  return {
    borderRadius: "md",
    fontWeight: "semibold",
    _focus: {
      boxShadow: "outline",
      padding: "1rem",
      position: "fixed",
      top: "1.5rem",
      insetStart: "1.5rem",
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.700")(props)
    }
  };
};

var SkipLink = {
  baseStyle: baseStyle$a
};

function thumbOrientation(props) {
  return (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.orient)({
    orientation: props.orientation,
    vertical: {
      left: "50%",
      transform: "translateX(-50%)",
      _active: {
        transform: "translateX(-50%) scale(1.15)"
      }
    },
    horizontal: {
      top: "50%",
      transform: "translateY(-50%)",
      _active: {
        transform: "translateY(-50%) scale(1.15)"
      }
    }
  });
}

var baseStyleContainer$1 = function baseStyleContainer(props) {
  var orientation = props.orientation;
  return _extends({
    display: "inline-block",
    position: "relative",
    cursor: "pointer",
    _disabled: {
      opacity: 0.6,
      cursor: "default",
      pointerEvents: "none"
    }
  }, (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.orient)({
    orientation: orientation,
    vertical: {
      h: "100%"
    },
    horizontal: {
      w: "100%"
    }
  }));
};

var baseStyleTrack$1 = function baseStyleTrack(props) {
  return {
    overflow: "hidden",
    borderRadius: "sm",
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.200")(props),
    _disabled: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.300", "whiteAlpha.300")(props)
    }
  };
};

var baseStyleThumb$1 = function baseStyleThumb(props) {
  return _extends({
    display: "flex",
    alignItems: "center",
    justifyContent: "center",
    position: "absolute",
    outline: 0,
    zIndex: 1,
    borderRadius: "full",
    bg: "white",
    boxShadow: "base",
    border: "1px solid",
    borderColor: "transparent",
    transitionProperty: "transform",
    transitionDuration: "normal",
    _focus: {
      boxShadow: "outline"
    },
    _disabled: {
      bg: "gray.300"
    }
  }, thumbOrientation(props));
};

var baseStyleFilledTrack = function baseStyleFilledTrack(props) {
  var c = props.colorScheme;
  return {
    width: "inherit",
    height: "inherit",
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props)
  };
};

var baseStyle$9 = function baseStyle(props) {
  return {
    container: baseStyleContainer$1(props),
    track: baseStyleTrack$1(props),
    thumb: baseStyleThumb$1(props),
    filledTrack: baseStyleFilledTrack(props)
  };
};

var sizeLg = function sizeLg(props) {
  return {
    thumb: {
      w: "16px",
      h: "16px"
    },
    track: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.orient)({
      orientation: props.orientation,
      horizontal: {
        h: "4px"
      },
      vertical: {
        w: "4px"
      }
    })
  };
};

var sizeMd = function sizeMd(props) {
  return {
    thumb: {
      w: "14px",
      h: "14px"
    },
    track: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.orient)({
      orientation: props.orientation,
      horizontal: {
        h: "4px"
      },
      vertical: {
        w: "4px"
      }
    })
  };
};

var sizeSm = function sizeSm(props) {
  return {
    thumb: {
      w: "10px",
      h: "10px"
    },
    track: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.orient)({
      orientation: props.orientation,
      horizontal: {
        h: "2px"
      },
      vertical: {
        w: "2px"
      }
    })
  };
};

var sizes$7 = {
  lg: sizeLg,
  md: sizeMd,
  sm: sizeSm
};
var defaultProps$7 = {
  size: "md",
  colorScheme: "blue"
};
var Slider = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.sliderAnatomy.keys,
  sizes: sizes$7,
  baseStyle: baseStyle$9,
  defaultProps: defaultProps$7
};

var _xs, _sm, _md, _lg, _xl;
var $size = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("spinner-size");
var baseStyle$8 = {
  width: [$size.reference],
  height: [$size.reference]
};
var sizes$6 = {
  xs: (_xs = {}, _xs[$size.variable] = "0.75rem", _xs),
  sm: (_sm = {}, _sm[$size.variable] = "1rem", _sm),
  md: (_md = {}, _md[$size.variable] = "1.5rem", _md),
  lg: (_lg = {}, _lg[$size.variable] = "2rem", _lg),
  xl: (_xl = {}, _xl[$size.variable] = "3rem", _xl)
};
var defaultProps$6 = {
  size: "md"
};
var Spinner = {
  baseStyle: baseStyle$8,
  sizes: sizes$6,
  defaultProps: defaultProps$6
};

var baseStyleLabel$1 = {
  fontWeight: "medium"
};
var baseStyleHelpText = {
  opacity: 0.8,
  marginBottom: 2
};
var baseStyleNumber = {
  verticalAlign: "baseline",
  fontWeight: "semibold"
};
var baseStyleIcon$1 = {
  marginEnd: 1,
  w: "14px",
  h: "14px",
  verticalAlign: "middle"
};
var baseStyle$7 = {
  container: {},
  label: baseStyleLabel$1,
  helpText: baseStyleHelpText,
  number: baseStyleNumber,
  icon: baseStyleIcon$1
};
var sizes$5 = {
  md: {
    label: {
      fontSize: "sm"
    },
    helpText: {
      fontSize: "sm"
    },
    number: {
      fontSize: "2xl"
    }
  }
};
var defaultProps$5 = {
  size: "md"
};
var Stat = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.statAnatomy.keys,
  baseStyle: baseStyle$7,
  sizes: sizes$5,
  defaultProps: defaultProps$5
};

var _container2, _container3, _container4;
var $width = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("switch-track-width");
var $height = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("switch-track-height");
var $diff = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("switch-track-diff");
var diffValue = _chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.calc.subtract($width, $height);
var $translateX = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("switch-thumb-x");

var baseStyleTrack = function baseStyleTrack(props) {
  var c = props.colorScheme;
  return {
    borderRadius: "full",
    p: "2px",
    width: [$width.reference],
    height: [$height.reference],
    transitionProperty: "common",
    transitionDuration: "fast",
    bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.300", "whiteAlpha.400")(props),
    _focus: {
      boxShadow: "outline"
    },
    _disabled: {
      opacity: 0.4,
      cursor: "not-allowed"
    },
    _checked: {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".500", c + ".200")(props)
    }
  };
};

var baseStyleThumb = {
  bg: "white",
  transitionProperty: "transform",
  transitionDuration: "normal",
  borderRadius: "inherit",
  width: [$height.reference],
  height: [$height.reference],
  _checked: {
    transform: "translateX(" + $translateX.reference + ")"
  }
};

var baseStyle$6 = function baseStyle(props) {
  var _rtl, _container;

  return {
    container: (_container = {}, _container[$diff.variable] = diffValue, _container[$translateX.variable] = $diff.reference, _container._rtl = (_rtl = {}, _rtl[$translateX.variable] = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.calc)($diff).negate().toString(), _rtl), _container),
    track: baseStyleTrack(props),
    thumb: baseStyleThumb
  };
};

var sizes$4 = {
  sm: {
    container: (_container2 = {}, _container2[$width.variable] = "1.375rem", _container2[$height.variable] = "0.75rem", _container2)
  },
  md: {
    container: (_container3 = {}, _container3[$width.variable] = "1.875rem", _container3[$height.variable] = "1rem", _container3)
  },
  lg: {
    container: (_container4 = {}, _container4[$width.variable] = "2.875rem", _container4[$height.variable] = "1.5rem", _container4)
  }
};
var defaultProps$4 = {
  size: "md",
  colorScheme: "blue"
};
var Switch = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.switchAnatomy.keys,
  baseStyle: baseStyle$6,
  sizes: sizes$4,
  defaultProps: defaultProps$4
};

var baseStyle$5 = {
  table: {
    fontVariantNumeric: "lining-nums tabular-nums",
    borderCollapse: "collapse",
    width: "full"
  },
  th: {
    fontFamily: "heading",
    fontWeight: "bold",
    textTransform: "uppercase",
    letterSpacing: "wider",
    textAlign: "start"
  },
  td: {
    textAlign: "start"
  },
  caption: {
    mt: 4,
    fontFamily: "heading",
    textAlign: "center",
    fontWeight: "medium"
  }
};
var numericStyles = {
  "&[data-is-numeric=true]": {
    textAlign: "end"
  }
};

var variantSimple = function variantSimple(props) {
  var c = props.colorScheme;
  return {
    th: _extends({
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.600", "gray.400")(props),
      borderBottom: "1px",
      borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".100", c + ".700")(props)
    }, numericStyles),
    td: _extends({
      borderBottom: "1px",
      borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".100", c + ".700")(props)
    }, numericStyles),
    caption: {
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.600", "gray.100")(props)
    },
    tfoot: {
      tr: {
        "&:last-of-type": {
          th: {
            borderBottomWidth: 0
          }
        }
      }
    }
  };
};

var variantStripe = function variantStripe(props) {
  var c = props.colorScheme;
  return {
    th: _extends({
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.600", "gray.400")(props),
      borderBottom: "1px",
      borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".100", c + ".700")(props)
    }, numericStyles),
    td: _extends({
      borderBottom: "1px",
      borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".100", c + ".700")(props)
    }, numericStyles),
    caption: {
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.600", "gray.100")(props)
    },
    tbody: {
      tr: {
        "&:nth-of-type(odd)": {
          "th, td": {
            borderBottomWidth: "1px",
            borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".100", c + ".700")(props)
          },
          td: {
            background: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".100", c + ".700")(props)
          }
        }
      }
    },
    tfoot: {
      tr: {
        "&:last-of-type": {
          th: {
            borderBottomWidth: 0
          }
        }
      }
    }
  };
};

var variants$3 = {
  simple: variantSimple,
  striped: variantStripe,
  unstyled: {}
};
var sizes$3 = {
  sm: {
    th: {
      px: "4",
      py: "1",
      lineHeight: "4",
      fontSize: "xs"
    },
    td: {
      px: "4",
      py: "2",
      fontSize: "sm",
      lineHeight: "4"
    },
    caption: {
      px: "4",
      py: "2",
      fontSize: "xs"
    }
  },
  md: {
    th: {
      px: "6",
      py: "3",
      lineHeight: "4",
      fontSize: "xs"
    },
    td: {
      px: "6",
      py: "4",
      lineHeight: "5"
    },
    caption: {
      px: "6",
      py: "2",
      fontSize: "sm"
    }
  },
  lg: {
    th: {
      px: "8",
      py: "4",
      lineHeight: "5",
      fontSize: "sm"
    },
    td: {
      px: "8",
      py: "5",
      lineHeight: "6"
    },
    caption: {
      px: "6",
      py: "2",
      fontSize: "md"
    }
  }
};
var defaultProps$3 = {
  variant: "simple",
  size: "md",
  colorScheme: "gray"
};
var Table = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.tableAnatomy.keys,
  baseStyle: baseStyle$5,
  variants: variants$3,
  sizes: sizes$3,
  defaultProps: defaultProps$3
};

var baseStyleRoot = function baseStyleRoot(props) {
  var orientation = props.orientation;
  return {
    display: orientation === "vertical" ? "flex" : "block"
  };
};

var baseStyleTab = function baseStyleTab(props) {
  var isFitted = props.isFitted;
  return {
    flex: isFitted ? 1 : undefined,
    transitionProperty: "common",
    transitionDuration: "normal",
    _focus: {
      zIndex: 1,
      boxShadow: "outline"
    }
  };
};

var baseStyleTablist = function baseStyleTablist(props) {
  var _props$align = props.align,
      align = _props$align === void 0 ? "start" : _props$align,
      orientation = props.orientation;
  var alignments = {
    end: "flex-end",
    center: "center",
    start: "flex-start"
  };
  return {
    justifyContent: alignments[align],
    flexDirection: orientation === "vertical" ? "column" : "row"
  };
};

var baseStyleTabpanel = {
  p: 4
};

var baseStyle$4 = function baseStyle(props) {
  return {
    root: baseStyleRoot(props),
    tab: baseStyleTab(props),
    tablist: baseStyleTablist(props),
    tabpanel: baseStyleTabpanel
  };
};

var sizes$2 = {
  sm: {
    tab: {
      py: 1,
      px: 4,
      fontSize: "sm"
    }
  },
  md: {
    tab: {
      fontSize: "md",
      py: 2,
      px: 4
    }
  },
  lg: {
    tab: {
      fontSize: "lg",
      py: 3,
      px: 4
    }
  }
};

var variantLine = function variantLine(props) {
  var _tablist, _tab;

  var c = props.colorScheme,
      orientation = props.orientation;
  var isVertical = orientation === "vertical";
  var borderProp = orientation === "vertical" ? "borderStart" : "borderBottom";
  var marginProp = isVertical ? "marginStart" : "marginBottom";
  return {
    tablist: (_tablist = {}, _tablist[borderProp] = "2px solid", _tablist.borderColor = "inherit", _tablist),
    tab: (_tab = {}, _tab[borderProp] = "2px solid", _tab.borderColor = "transparent", _tab[marginProp] = "-2px", _tab._selected = {
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".600", c + ".300")(props),
      borderColor: "currentColor"
    }, _tab._active = {
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.300")(props)
    }, _tab._disabled = {
      opacity: 0.4,
      cursor: "not-allowed"
    }, _tab)
  };
};

var variantEnclosed = function variantEnclosed(props) {
  var c = props.colorScheme;
  return {
    tab: {
      borderTopRadius: "md",
      border: "1px solid",
      borderColor: "transparent",
      mb: "-1px",
      _selected: {
        color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".600", c + ".300")(props),
        borderColor: "inherit",
        borderBottomColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.800")(props)
      }
    },
    tablist: {
      mb: "-1px",
      borderBottom: "1px solid",
      borderColor: "inherit"
    }
  };
};

var variantEnclosedColored = function variantEnclosedColored(props) {
  var c = props.colorScheme;
  return {
    tab: {
      border: "1px solid",
      borderColor: "inherit",
      bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.50", "whiteAlpha.50")(props),
      mb: "-1px",
      _notLast: {
        marginEnd: "-1px"
      },
      _selected: {
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("#fff", "gray.800")(props),
        color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".600", c + ".300")(props),
        borderColor: "inherit",
        borderTopColor: "currentColor",
        borderBottomColor: "transparent"
      }
    },
    tablist: {
      mb: "-1px",
      borderBottom: "1px solid",
      borderColor: "inherit"
    }
  };
};

var variantSoftRounded = function variantSoftRounded(props) {
  var c = props.colorScheme,
      theme = props.theme;
  return {
    tab: {
      borderRadius: "full",
      fontWeight: "semibold",
      color: "gray.600",
      _selected: {
        color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, c + ".700"),
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.getColor)(theme, c + ".100")
      }
    }
  };
};

var variantSolidRounded = function variantSolidRounded(props) {
  var c = props.colorScheme;
  return {
    tab: {
      borderRadius: "full",
      fontWeight: "semibold",
      color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.600", "inherit")(props),
      _selected: {
        color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("#fff", "gray.800")(props),
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)(c + ".600", c + ".300")(props)
      }
    }
  };
};

var variantUnstyled = {};
var variants$2 = {
  line: variantLine,
  enclosed: variantEnclosed,
  "enclosed-colored": variantEnclosedColored,
  "soft-rounded": variantSoftRounded,
  "solid-rounded": variantSolidRounded,
  unstyled: variantUnstyled
};
var defaultProps$2 = {
  size: "md",
  variant: "line",
  colorScheme: "blue"
};
var Tabs = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.tabsAnatomy.keys,
  baseStyle: baseStyle$4,
  sizes: sizes$2,
  variants: variants$2,
  defaultProps: defaultProps$2
};

var baseStyleContainer = {
  fontWeight: "medium",
  lineHeight: 1.2,
  outline: 0,
  _focus: {
    boxShadow: "outline"
  }
};
var baseStyleLabel = {
  lineHeight: 1.2,
  overflow: "visible"
};
var baseStyleCloseButton = {
  fontSize: "18px",
  w: "1.25rem",
  h: "1.25rem",
  transitionProperty: "common",
  transitionDuration: "normal",
  borderRadius: "full",
  marginStart: "0.375rem",
  marginEnd: "-1",
  opacity: 0.5,
  _disabled: {
    opacity: 0.4
  },
  _focus: {
    boxShadow: "outline",
    bg: "rgba(0, 0, 0, 0.14)"
  },
  _hover: {
    opacity: 0.8
  },
  _active: {
    opacity: 1
  }
};
var baseStyle$3 = {
  container: baseStyleContainer,
  label: baseStyleLabel,
  closeButton: baseStyleCloseButton
};
var sizes$1 = {
  sm: {
    container: {
      minH: "1.25rem",
      minW: "1.25rem",
      fontSize: "xs",
      px: 2,
      borderRadius: "md"
    },
    closeButton: {
      marginEnd: "-2px",
      marginStart: "0.35rem"
    }
  },
  md: {
    container: {
      minH: "1.5rem",
      minW: "1.5rem",
      fontSize: "sm",
      borderRadius: "md",
      px: 2
    }
  },
  lg: {
    container: {
      minH: 8,
      minW: 8,
      fontSize: "md",
      borderRadius: "md",
      px: 3
    }
  }
};
var variants$1 = {
  subtle: function subtle(props) {
    return {
      container: Badge.variants.subtle(props)
    };
  },
  solid: function solid(props) {
    return {
      container: Badge.variants.solid(props)
    };
  },
  outline: function outline(props) {
    return {
      container: Badge.variants.outline(props)
    };
  }
};
var defaultProps$1 = {
  size: "md",
  variant: "subtle",
  colorScheme: "gray"
};
var Tag = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.tagAnatomy.keys,
  variants: variants$1,
  baseStyle: baseStyle$3,
  sizes: sizes$1,
  defaultProps: defaultProps$1
};

var _Input$variants$unsty, _Input$sizes$xs$field, _Input$sizes$sm$field, _Input$sizes$md$field, _Input$sizes$lg$field;

var baseStyle$2 = _extends({}, Input.baseStyle.field, {
  paddingY: "8px",
  minHeight: "80px",
  lineHeight: "short",
  verticalAlign: "top"
});

var variants = {
  outline: function outline(props) {
    var _Input$variants$outli;

    return (_Input$variants$outli = Input.variants.outline(props).field) != null ? _Input$variants$outli : {};
  },
  flushed: function flushed(props) {
    var _Input$variants$flush;

    return (_Input$variants$flush = Input.variants.flushed(props).field) != null ? _Input$variants$flush : {};
  },
  filled: function filled(props) {
    var _Input$variants$fille;

    return (_Input$variants$fille = Input.variants.filled(props).field) != null ? _Input$variants$fille : {};
  },
  unstyled: (_Input$variants$unsty = Input.variants.unstyled.field) != null ? _Input$variants$unsty : {}
};
var sizes = {
  xs: (_Input$sizes$xs$field = Input.sizes.xs.field) != null ? _Input$sizes$xs$field : {},
  sm: (_Input$sizes$sm$field = Input.sizes.sm.field) != null ? _Input$sizes$sm$field : {},
  md: (_Input$sizes$md$field = Input.sizes.md.field) != null ? _Input$sizes$md$field : {},
  lg: (_Input$sizes$lg$field = Input.sizes.lg.field) != null ? _Input$sizes$lg$field : {}
};
var defaultProps = {
  size: "md",
  variant: "outline"
};
var Textarea = {
  baseStyle: baseStyle$2,
  sizes: sizes,
  variants: variants,
  defaultProps: defaultProps
};

var $bg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("tooltip-bg");
var $arrowBg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.cssVar)("popper-arrow-bg");

var baseStyle$1 = function baseStyle(props) {
  var _ref;

  var bg = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.700", "gray.300")(props);
  return _ref = {}, _ref[$bg.variable] = "colors." + bg, _ref.px = "8px", _ref.py = "2px", _ref.bg = [$bg.reference], _ref[$arrowBg.variable] = [$bg.reference], _ref.color = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("whiteAlpha.900", "gray.900")(props), _ref.borderRadius = "sm", _ref.fontWeight = "medium", _ref.fontSize = "sm", _ref.boxShadow = "md", _ref.maxW = "320px", _ref.zIndex = "tooltip", _ref;
};

var Tooltip = {
  baseStyle: baseStyle$1
};

var baseStyleText = function baseStyleText(props) {
  return {
    color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("red.500", "red.300")(props),
    mt: 2,
    fontSize: "sm"
  };
};

var baseStyleIcon = function baseStyleIcon(props) {
  return {
    marginEnd: "0.5em",
    color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("red.500", "red.300")(props)
  };
};

var baseStyle = function baseStyle(props) {
  return {
    text: baseStyleText(props),
    icon: baseStyleIcon(props)
  };
};

var FormError = {
  parts: _chakra_ui_anatomy__WEBPACK_IMPORTED_MODULE_0__.formErrorAnatomy.keys,
  baseStyle: baseStyle
};

var components = {
  Accordion: Accordion,
  Alert: Alert,
  Avatar: Avatar,
  Badge: Badge,
  Breadcrumb: Breadcrumb,
  Button: Button,
  Checkbox: Checkbox,
  CloseButton: CloseButton,
  Code: Code,
  Container: Container,
  Divider: Divider,
  Drawer: Drawer,
  Editable: Editable,
  Form: Form,
  FormLabel: FormLabel,
  Heading: Heading,
  Input: Input,
  Kbd: Kbd,
  Link: Link,
  List: List,
  Menu: Menu,
  Modal: Modal,
  NumberInput: NumberInput,
  PinInput: PinInput,
  Popover: Popover,
  Progress: Progress,
  Radio: Radio,
  Select: Select,
  Skeleton: Skeleton,
  SkipLink: SkipLink,
  Slider: Slider,
  Spinner: Spinner,
  Stat: Stat,
  Switch: Switch,
  Table: Table,
  Tabs: Tabs,
  Tag: Tag,
  Textarea: Textarea,
  Tooltip: Tooltip,
  FormError: FormError
};

var borders = {
  none: 0,
  "1px": "1px solid",
  "2px": "2px solid",
  "4px": "4px solid",
  "8px": "8px solid"
};
var borders$1 = borders;

/**
 * Breakpoints for responsive design
 */

var breakpoints = (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.createBreakpoints)({
  sm: "30em",
  md: "48em",
  lg: "62em",
  xl: "80em",
  "2xl": "96em"
});
var breakpoints$1 = breakpoints;

/**
 * @deprecated
 * You can derive the Colors type from the DefaultChakraTheme:
 *
 * type Colors = DefaultChakraTheme["colors"]
 */
var colors = {
  transparent: "transparent",
  current: "currentColor",
  black: "#000000",
  white: "#FFFFFF",
  whiteAlpha: {
    50: "rgba(255, 255, 255, 0.04)",
    100: "rgba(255, 255, 255, 0.06)",
    200: "rgba(255, 255, 255, 0.08)",
    300: "rgba(255, 255, 255, 0.16)",
    400: "rgba(255, 255, 255, 0.24)",
    500: "rgba(255, 255, 255, 0.36)",
    600: "rgba(255, 255, 255, 0.48)",
    700: "rgba(255, 255, 255, 0.64)",
    800: "rgba(255, 255, 255, 0.80)",
    900: "rgba(255, 255, 255, 0.92)"
  },
  blackAlpha: {
    50: "rgba(0, 0, 0, 0.04)",
    100: "rgba(0, 0, 0, 0.06)",
    200: "rgba(0, 0, 0, 0.08)",
    300: "rgba(0, 0, 0, 0.16)",
    400: "rgba(0, 0, 0, 0.24)",
    500: "rgba(0, 0, 0, 0.36)",
    600: "rgba(0, 0, 0, 0.48)",
    700: "rgba(0, 0, 0, 0.64)",
    800: "rgba(0, 0, 0, 0.80)",
    900: "rgba(0, 0, 0, 0.92)"
  },
  gray: {
    50: "#F7FAFC",
    100: "#EDF2F7",
    200: "#E2E8F0",
    300: "#CBD5E0",
    400: "#A0AEC0",
    500: "#718096",
    600: "#4A5568",
    700: "#2D3748",
    800: "#1A202C",
    900: "#171923"
  },
  red: {
    50: "#FFF5F5",
    100: "#FED7D7",
    200: "#FEB2B2",
    300: "#FC8181",
    400: "#F56565",
    500: "#E53E3E",
    600: "#C53030",
    700: "#9B2C2C",
    800: "#822727",
    900: "#63171B"
  },
  orange: {
    50: "#FFFAF0",
    100: "#FEEBC8",
    200: "#FBD38D",
    300: "#F6AD55",
    400: "#ED8936",
    500: "#DD6B20",
    600: "#C05621",
    700: "#9C4221",
    800: "#7B341E",
    900: "#652B19"
  },
  yellow: {
    50: "#FFFFF0",
    100: "#FEFCBF",
    200: "#FAF089",
    300: "#F6E05E",
    400: "#ECC94B",
    500: "#D69E2E",
    600: "#B7791F",
    700: "#975A16",
    800: "#744210",
    900: "#5F370E"
  },
  green: {
    50: "#F0FFF4",
    100: "#C6F6D5",
    200: "#9AE6B4",
    300: "#68D391",
    400: "#48BB78",
    500: "#38A169",
    600: "#2F855A",
    700: "#276749",
    800: "#22543D",
    900: "#1C4532"
  },
  teal: {
    50: "#E6FFFA",
    100: "#B2F5EA",
    200: "#81E6D9",
    300: "#4FD1C5",
    400: "#38B2AC",
    500: "#319795",
    600: "#2C7A7B",
    700: "#285E61",
    800: "#234E52",
    900: "#1D4044"
  },
  blue: {
    50: "#ebf8ff",
    100: "#bee3f8",
    200: "#90cdf4",
    300: "#63b3ed",
    400: "#4299e1",
    500: "#3182ce",
    600: "#2b6cb0",
    700: "#2c5282",
    800: "#2a4365",
    900: "#1A365D"
  },
  cyan: {
    50: "#EDFDFD",
    100: "#C4F1F9",
    200: "#9DECF9",
    300: "#76E4F7",
    400: "#0BC5EA",
    500: "#00B5D8",
    600: "#00A3C4",
    700: "#0987A0",
    800: "#086F83",
    900: "#065666"
  },
  purple: {
    50: "#FAF5FF",
    100: "#E9D8FD",
    200: "#D6BCFA",
    300: "#B794F4",
    400: "#9F7AEA",
    500: "#805AD5",
    600: "#6B46C1",
    700: "#553C9A",
    800: "#44337A",
    900: "#322659"
  },
  pink: {
    50: "#FFF5F7",
    100: "#FED7E2",
    200: "#FBB6CE",
    300: "#F687B3",
    400: "#ED64A6",
    500: "#D53F8C",
    600: "#B83280",
    700: "#97266D",
    800: "#702459",
    900: "#521B41"
  },
  linkedin: {
    50: "#E8F4F9",
    100: "#CFEDFB",
    200: "#9BDAF3",
    300: "#68C7EC",
    400: "#34B3E4",
    500: "#00A0DC",
    600: "#008CC9",
    700: "#0077B5",
    800: "#005E93",
    900: "#004471"
  },
  facebook: {
    50: "#E8F4F9",
    100: "#D9DEE9",
    200: "#B7C2DA",
    300: "#6482C0",
    400: "#4267B2",
    500: "#385898",
    600: "#314E89",
    700: "#29487D",
    800: "#223B67",
    900: "#1E355B"
  },
  messenger: {
    50: "#D0E6FF",
    100: "#B9DAFF",
    200: "#A2CDFF",
    300: "#7AB8FF",
    400: "#2E90FF",
    500: "#0078FF",
    600: "#0063D1",
    700: "#0052AC",
    800: "#003C7E",
    900: "#002C5C"
  },
  whatsapp: {
    50: "#dffeec",
    100: "#b9f5d0",
    200: "#90edb3",
    300: "#65e495",
    400: "#3cdd78",
    500: "#22c35e",
    600: "#179848",
    700: "#0c6c33",
    800: "#01421c",
    900: "#001803"
  },
  twitter: {
    50: "#E5F4FD",
    100: "#C8E9FB",
    200: "#A8DCFA",
    300: "#83CDF7",
    400: "#57BBF5",
    500: "#1DA1F2",
    600: "#1A94DA",
    700: "#1681BF",
    800: "#136B9E",
    900: "#0D4D71"
  },
  telegram: {
    50: "#E3F2F9",
    100: "#C5E4F3",
    200: "#A2D4EC",
    300: "#7AC1E4",
    400: "#47A9DA",
    500: "#0088CC",
    600: "#007AB8",
    700: "#006BA1",
    800: "#005885",
    900: "#003F5E"
  }
};
var colors$1 = colors;

var radii = {
  none: "0",
  sm: "0.125rem",
  base: "0.25rem",
  md: "0.375rem",
  lg: "0.5rem",
  xl: "0.75rem",
  "2xl": "1rem",
  "3xl": "1.5rem",
  full: "9999px"
};
/**
 * @deprecated
 * You can derive the Radii type from the DefaultChakraTheme
 *
 * type Radii = DefaultChakraTheme['radii']
 */

var radii$1 = radii;

var shadows = {
  xs: "0 0 0 1px rgba(0, 0, 0, 0.05)",
  sm: "0 1px 2px 0 rgba(0, 0, 0, 0.05)",
  base: "0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",
  md: "0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",
  lg: "0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",
  xl: "0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",
  "2xl": "0 25px 50px -12px rgba(0, 0, 0, 0.25)",
  outline: "0 0 0 3px rgba(66, 153, 225, 0.6)",
  inner: "inset 0 2px 4px 0 rgba(0,0,0,0.06)",
  none: "none",
  "dark-lg": "rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px"
};
/**
 * @deprecated
 * You can derive the Shadows type from the DefaultChakraTheme
 *
 * type Shadows = DefaultChakraTheme['shadows']
 */

var shadows$1 = shadows;

var transitionProperty = {
  common: "background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",
  colors: "background-color, border-color, color, fill, stroke",
  dimensions: "width, height",
  position: "left, right, top, bottom",
  background: "background-color, background-image, background-position"
};
var transitionTimingFunction = {
  "ease-in": "cubic-bezier(0.4, 0, 1, 1)",
  "ease-out": "cubic-bezier(0, 0, 0.2, 1)",
  "ease-in-out": "cubic-bezier(0.4, 0, 0.2, 1)"
};
var transitionDuration = {
  "ultra-fast": "50ms",
  faster: "100ms",
  fast: "150ms",
  normal: "200ms",
  slow: "300ms",
  slower: "400ms",
  "ultra-slow": "500ms"
};
var transition = {
  property: transitionProperty,
  easing: transitionTimingFunction,
  duration: transitionDuration
};
var transition$1 = transition;

var zIndices = {
  hide: -1,
  auto: "auto",
  base: 0,
  docked: 10,
  dropdown: 1000,
  sticky: 1100,
  banner: 1200,
  overlay: 1300,
  modal: 1400,
  popover: 1500,
  skipLink: 1600,
  toast: 1700,
  tooltip: 1800
};
/**
 * @deprecated
 * You can derive the ZIndices type from the DefaultChakraTheme
 *
 * type ZIndices = DefaultChakraTheme['zIndices']
 */

var zIndices$1 = zIndices;

var blur = {
  none: 0,
  sm: "4px",
  base: "8px",
  md: "12px",
  lg: "16px",
  xl: "24px",
  "2xl": "40px",
  "3xl": "64px"
};
var blur$1 = blur;

var foundations = _extends({
  breakpoints: breakpoints$1,
  zIndices: zIndices$1,
  radii: radii$1,
  blur: blur$1,
  colors: colors$1
}, typography$1, {
  sizes: sizes$m,
  shadows: shadows$1,
  space: spacing,
  borders: borders$1,
  transition: transition$1
});

var foundations$1 = foundations;

var styles = {
  global: function global(props) {
    return {
      body: {
        fontFamily: "body",
        color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.800", "whiteAlpha.900")(props),
        bg: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("white", "gray.800")(props),
        transitionProperty: "background-color",
        transitionDuration: "normal",
        lineHeight: "base"
      },
      "*::placeholder": {
        color: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.400", "whiteAlpha.400")(props)
      },
      "*, *::before, &::after": {
        borderColor: (0,_chakra_ui_theme_tools__WEBPACK_IMPORTED_MODULE_1__.mode)("gray.200", "whiteAlpha.300")(props),
        wordWrap: "break-word"
      }
    };
  }
};
var styles$1 = styles;

var requiredChakraThemeKeys = ["borders", "breakpoints", "colors", "components", "config", "direction", "fonts", "fontSizes", "fontWeights", "letterSpacings", "lineHeights", "radii", "shadows", "sizes", "space", "styles", "transition", "zIndices"];
function isChakraTheme(unit) {
  if (!(0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_4__.isObject)(unit)) {
    return false;
  }

  return requiredChakraThemeKeys.every(function (propertyName) {
    return Object.prototype.hasOwnProperty.call(unit, propertyName);
  });
}

var direction = "ltr";
var config = {
  useSystemColorMode: false,
  initialColorMode: "light",
  cssVarPrefix: "chakra"
};
var theme = _extends({
  direction: direction
}, foundations$1, {
  components: components,
  styles: styles$1,
  config: config
});




/***/ }),

/***/ "./node_modules/@chakra-ui/toast/dist/chakra-ui-toast.esm.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@chakra-ui/toast/dist/chakra-ui-toast.esm.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createStandaloneToast": () => (/* binding */ createStandaloneToast),
/* harmony export */   "defaultStandaloneParam": () => (/* binding */ defaultStandaloneParam),
/* harmony export */   "toast": () => (/* binding */ toast),
/* harmony export */   "useToast": () => (/* binding */ useToast)
/* harmony export */ });
/* harmony import */ var _chakra_ui_alert__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @chakra-ui/alert */ "./node_modules/@chakra-ui/alert/dist/chakra-ui-alert.esm.js");
/* harmony import */ var _chakra_ui_close_button__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @chakra-ui/close-button */ "./node_modules/@chakra-ui/close-button/dist/chakra-ui-close-button.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/system/dist/chakra-ui-system.esm.js");
/* harmony import */ var _chakra_ui_system__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @chakra-ui/system */ "./node_modules/@chakra-ui/color-mode/dist/chakra-ui-color-mode.esm.js");
/* harmony import */ var _chakra_ui_theme__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @chakra-ui/theme */ "./node_modules/@chakra-ui/theme/dist/chakra-ui-theme.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/components/AnimatePresence/use-presence.mjs");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* harmony import */ var _chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/hooks */ "./node_modules/@chakra-ui/hooks/dist/chakra-ui-hooks.esm.js");
/* harmony import */ var _reach_alert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reach/alert */ "./node_modules/@reach/alert/dist/reach-alert.esm.js");











function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  _setPrototypeOf(subClass, superClass);
}

/**
 * Given an array of toasts for a specific position.
 * It returns the toast that matches the `id` passed
 */
/**
 * Given the toast manager state, finds the toast that matches
 * the id and return its position and index
 */

function findToast(toasts, id) {
  var position = getToastPosition(toasts, id);
  var index = position ? toasts[position].findIndex(function (toast) {
    return toast.id === id;
  }) : -1;
  return {
    position: position,
    index: index
  };
}
/**
 * Given the toast manager state, finds the position of the toast that
 * matches the `id`
 */

var getToastPosition = function getToastPosition(toasts, id) {
  var _Object$values$flat$f;

  return (_Object$values$flat$f = Object.values(toasts).flat().find(function (toast) {
    return toast.id === id;
  })) == null ? void 0 : _Object$values$flat$f.position;
};
/**
 * Get's the styles to be applied to a toast's container
 * based on its position in the manager
 */

function getToastStyle(position) {
  var isRighty = position.includes("right");
  var isLefty = position.includes("left");
  var alignItems = "center";
  if (isRighty) alignItems = "flex-end";
  if (isLefty) alignItems = "flex-start";
  return {
    display: "flex",
    flexDirection: "column",
    alignItems: alignItems
  };
}

/**
 * @todo After Gerrit refactors this implementation,
 * allow users to change the toast transition direction from
 * a `ToastProvider` component.
 *
 * Here's an API example:
 *
 * ```jsx
 * <ToastProvider
 *   motion={customVariants}
 *   component={CustomToastComponent}
 *   autoCloseTimeout={3000}
 *   toastSpacing={32} // this will control the `margin` value applied
 * >
 * </ToastProvider>
 * ```
 */

var toastMotionVariants = {
  initial: function initial(props) {
    var _ref;

    var position = props.position;
    var dir = ["top", "bottom"].includes(position) ? "y" : "x";
    var factor = ["top-right", "bottom-right"].includes(position) ? 1 : -1;
    if (position === "bottom") factor = 1;
    return _ref = {
      opacity: 0
    }, _ref[dir] = factor * 24, _ref;
  },
  animate: {
    opacity: 1,
    y: 0,
    x: 0,
    scale: 1,
    transition: {
      duration: 0.4,
      ease: [0.4, 0, 0.2, 1]
    }
  },
  exit: {
    opacity: 0,
    scale: 0.85,
    transition: {
      duration: 0.2,
      ease: [0.4, 0, 1, 1]
    }
  }
};
var Toast$1 = function Toast(props) {
  var id = props.id,
      message = props.message,
      onCloseComplete = props.onCloseComplete,
      onRequestRemove = props.onRequestRemove,
      _props$requestClose = props.requestClose,
      requestClose = _props$requestClose === void 0 ? false : _props$requestClose,
      _props$position = props.position,
      position = _props$position === void 0 ? "bottom" : _props$position,
      _props$duration = props.duration,
      duration = _props$duration === void 0 ? 5000 : _props$duration,
      _props$containerStyle = props.containerStyle,
      containerStyle = _props$containerStyle === void 0 ? {} : _props$containerStyle;

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(duration),
      delay = _React$useState[0],
      setDelay = _React$useState[1];

  var isPresent = (0,framer_motion__WEBPACK_IMPORTED_MODULE_3__.useIsPresent)();
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useUpdateEffect)(function () {
    if (!isPresent) {
      onCloseComplete == null ? void 0 : onCloseComplete();
    }
  }, [isPresent]);
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useUpdateEffect)(function () {
    setDelay(duration);
  }, [duration]);

  var onMouseEnter = function onMouseEnter() {
    return setDelay(null);
  };

  var onMouseLeave = function onMouseLeave() {
    return setDelay(duration);
  };

  var close = function close() {
    if (isPresent) onRequestRemove();
  };

  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    if (isPresent && requestClose) {
      onRequestRemove();
    }
  }, [isPresent, requestClose, onRequestRemove]);
  (0,_chakra_ui_hooks__WEBPACK_IMPORTED_MODULE_4__.useTimeout)(close, delay);
  var style = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return getToastStyle(position);
  }, [position]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_5__.motion.li, {
    layout: true,
    className: "chakra-toast",
    variants: toastMotionVariants,
    initial: "initial",
    animate: "animate",
    exit: "exit",
    onHoverStart: onMouseEnter,
    onHoverEnd: onMouseLeave,
    custom: {
      position: position
    },
    style: style
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_reach_alert__WEBPACK_IMPORTED_MODULE_2__["default"], {
    className: "chakra-toast__inner",
    style: _extends({
      pointerEvents: "auto",
      maxWidth: 560,
      minWidth: 300,
      margin: "0.5rem"
    }, containerStyle)
  }, (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_6__.isFunction)(message) ? message({
    id: id,
    onClose: close
  }) : message));
};

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_6__.__DEV__) {
  Toast$1.displayName = "Toast";
}

/**
 * Manages the creation, and removal of toasts
 * across all corners ("top", "bottom", etc.)
 */
var ToastManager = /*#__PURE__*/function (_React$Component) {
  _inheritsLoose(ToastManager, _React$Component);

  /**
   * Static id counter to create unique ids
   * for each toast
   */

  /**
   * State to track all the toast across all positions
   */
  function ToastManager(props) {
    var _this;

    _this = _React$Component.call(this, props) || this;
    _this.state = {
      top: [],
      "top-left": [],
      "top-right": [],
      "bottom-left": [],
      bottom: [],
      "bottom-right": []
    };

    _this.notify = function (message, options) {
      var toast = _this.createToast(message, options);

      var position = toast.position,
          id = toast.id;

      _this.setState(function (prevToasts) {
        var _extends2;

        var isTop = position.includes("top");
        /**
         * - If the toast is positioned at the top edges, the
         * recent toast stacks on top of the other toasts.
         *
         * - If the toast is positioned at the bottom edges, the recent
         * toast stacks below the other toasts.
         */

        var toasts = isTop ? [toast].concat(prevToasts[position]) : [].concat(prevToasts[position], [toast]);
        return _extends({}, prevToasts, (_extends2 = {}, _extends2[position] = toasts, _extends2));
      });

      return id;
    };

    _this.updateToast = function (id, options) {
      _this.setState(function (prevState) {
        var nextState = _extends({}, prevState);

        var _findToast = findToast(nextState, id),
            position = _findToast.position,
            index = _findToast.index;

        if (position && index !== -1) {
          nextState[position][index] = _extends({}, nextState[position][index], options);
        }

        return nextState;
      });
    };

    _this.closeAll = function (_temp) {
      var _ref = _temp === void 0 ? {} : _temp,
          positions = _ref.positions;

      // only one setState here for perf reasons
      // instead of spamming this.closeToast
      _this.setState(function (prev) {
        var allPositions = ["bottom", "bottom-right", "bottom-left", "top", "top-left", "top-right"];
        var positionsToClose = positions != null ? positions : allPositions;
        return positionsToClose.reduce(function (acc, position) {
          acc[position] = prev[position].map(function (toast) {
            return _extends({}, toast, {
              requestClose: true
            });
          });
          return acc;
        }, {});
      });
    };

    _this.createToast = function (message, options) {
      var _options$id, _options$position;

      ToastManager.counter += 1;
      var id = (_options$id = options.id) != null ? _options$id : ToastManager.counter;
      var position = (_options$position = options.position) != null ? _options$position : "top";
      return {
        id: id,
        message: message,
        position: position,
        duration: options.duration,
        onCloseComplete: options.onCloseComplete,
        onRequestRemove: function onRequestRemove() {
          return _this.removeToast(String(id), position);
        },
        status: options.status,
        requestClose: false,
        containerStyle: options.containerStyle
      };
    };

    _this.closeToast = function (id) {
      _this.setState(function (prevState) {
        var _extends3;

        var position = getToastPosition(prevState, id);
        if (!position) return prevState;
        return _extends({}, prevState, (_extends3 = {}, _extends3[position] = prevState[position].map(function (toast) {
          // id may be string or number
          // eslint-disable-next-line eqeqeq
          if (toast.id == id) {
            return _extends({}, toast, {
              requestClose: true
            });
          }

          return toast;
        }), _extends3));
      });
    };

    _this.removeToast = function (id, position) {
      _this.setState(function (prevState) {
        var _extends4;

        return _extends({}, prevState, (_extends4 = {}, _extends4[position] = prevState[position].filter(function (toast) {
          return toast.id != id;
        }), _extends4));
      });
    };

    _this.isVisible = function (id) {
      var _findToast2 = findToast(_this.state, id),
          position = _findToast2.position;

      return Boolean(position);
    };

    _this.getStyle = function (position) {
      var isTopOrBottom = position === "top" || position === "bottom";
      var margin = isTopOrBottom ? "0 auto" : undefined;
      var top = position.includes("top") ? "env(safe-area-inset-top, 0px)" : undefined;
      var bottom = position.includes("bottom") ? "env(safe-area-inset-bottom, 0px)" : undefined;
      var right = !position.includes("left") ? "env(safe-area-inset-right, 0px)" : undefined;
      var left = !position.includes("right") ? "env(safe-area-inset-left, 0px)" : undefined;
      return {
        position: "fixed",
        zIndex: 5500,
        pointerEvents: "none",
        display: "flex",
        flexDirection: "column",
        margin: margin,
        top: top,
        bottom: bottom,
        right: right,
        left: left
      };
    };

    var methods = {
      notify: _this.notify,
      closeAll: _this.closeAll,
      close: _this.closeToast,
      update: _this.updateToast,
      isActive: _this.isVisible
    };
    props.notify(methods);
    return _this;
  }
  /**
   * Function to actually create a toast and add it
   * to state at the specified position
   */


  var _proto = ToastManager.prototype;

  _proto.render = function render() {
    var _this2 = this;

    return (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_6__.objectKeys)(this.state).map(function (position) {
      var toasts = _this2.state[position];
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul", {
        key: position,
        id: "chakra-toast-manager-" + position,
        style: _this2.getStyle(position)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_7__.AnimatePresence, {
        initial: false
      }, toasts.map(function (toast) {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Toast$1, _extends({
          key: toast.id
        }, toast));
      })));
    });
  };

  return ToastManager;
}(react__WEBPACK_IMPORTED_MODULE_0__.Component);
ToastManager.counter = 0;

var portalId = "chakra-toast-portal";

var Toaster =
/**
 * Initialize the manager and mount it in the DOM
 * inside the portal node.
 *
 * @todo
 *
 * Update toast constructor to use `PortalManager`'s node or document.body.
 * Once done, we can remove the `zIndex` in `toast.manager.tsx`
 */
function Toaster() {
  var _this = this;

  this.createToast = void 0;
  this.removeAll = void 0;
  this.closeToast = void 0;
  this.updateToast = void 0;
  this.isToastActive = void 0;

  this.bindFunctions = function (methods) {
    _this.createToast = methods.notify;
    _this.removeAll = methods.closeAll;
    _this.closeToast = methods.close;
    _this.updateToast = methods.update;
    _this.isToastActive = methods.isActive;
  };

  this.notify = function (message, options) {
    if (options === void 0) {
      options = {};
    }

    return _this.createToast == null ? void 0 : _this.createToast(message, options);
  };

  this.close = function (id) {
    _this.closeToast == null ? void 0 : _this.closeToast(id);
  };

  this.closeAll = function (options) {
    _this.removeAll == null ? void 0 : _this.removeAll(options);
  };

  this.update = function (id, options) {
    if (options === void 0) {
      options = {};
    }

    _this.updateToast == null ? void 0 : _this.updateToast(id, options);
  };

  this.isActive = function (id) {
    return _this.isToastActive == null ? void 0 : _this.isToastActive(id);
  };

  if (!_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_6__.isBrowser) return;
  var portal;
  var existingPortal = document.getElementById(portalId);

  if (existingPortal) {
    portal = existingPortal;
  } else {
    var _document$body;

    var div = document.createElement("div");
    div.id = portalId;
    (_document$body = document.body) == null ? void 0 : _document$body.appendChild(div);
    portal = div;
  }

  (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.render)( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(ToastManager, {
    notify: this.bindFunctions
  }), portal);
};

var toast = new Toaster();

function getToastPlacement(position, dir) {
  var _logical$dir;

  if (!position) return;
  var logicals = {
    "top-start": {
      ltr: "top-left",
      rtl: "top-right"
    },
    "top-end": {
      ltr: "top-right",
      rtl: "top-left"
    },
    "bottom-start": {
      ltr: "bottom-left",
      rtl: "bottom-right"
    },
    "bottom-end": {
      ltr: "bottom-right",
      rtl: "bottom-left"
    }
  };
  var logical = logicals[position];
  return (_logical$dir = logical == null ? void 0 : logical[dir]) != null ? _logical$dir : position;
}

var Toast = function Toast(props) {
  var status = props.status,
      variant = props.variant,
      id = props.id,
      title = props.title,
      isClosable = props.isClosable,
      onClose = props.onClose,
      description = props.description;
  var alertTitleId = typeof id !== "undefined" ? "toast-" + id + "-title" : undefined;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_alert__WEBPACK_IMPORTED_MODULE_8__.Alert, {
    status: status,
    variant: variant,
    id: id,
    alignItems: "start",
    borderRadius: "md",
    boxShadow: "lg",
    paddingEnd: 8,
    textAlign: "start",
    width: "auto",
    "aria-labelledby": alertTitleId
  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_alert__WEBPACK_IMPORTED_MODULE_8__.AlertIcon, null), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_9__.chakra.div, {
    flex: "1",
    maxWidth: "100%"
  }, title && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_alert__WEBPACK_IMPORTED_MODULE_8__.AlertTitle, {
    id: alertTitleId
  }, title), description && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_alert__WEBPACK_IMPORTED_MODULE_8__.AlertDescription, {
    display: "block"
  }, description)), isClosable && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_close_button__WEBPACK_IMPORTED_MODULE_10__.CloseButton, {
    size: "sm",
    onClick: onClose,
    position: "absolute",
    insetEnd: 1,
    top: 1
  }));
};

var defaults = {
  duration: 5000,
  position: "bottom",
  variant: "solid"
};
var defaultStandaloneParam = {
  theme: _chakra_ui_theme__WEBPACK_IMPORTED_MODULE_11__["default"],
  colorMode: "light",
  toggleColorMode: _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_6__.noop,
  setColorMode: _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_6__.noop,
  defaultOptions: defaults
};
/**
 * Create a toast from outside of React Components
 */

function createStandaloneToast(_temp) {
  var _ref = _temp === void 0 ? defaultStandaloneParam : _temp,
      _ref$theme = _ref.theme,
      theme = _ref$theme === void 0 ? defaultStandaloneParam.theme : _ref$theme,
      _ref$colorMode = _ref.colorMode,
      colorMode = _ref$colorMode === void 0 ? defaultStandaloneParam.colorMode : _ref$colorMode,
      _ref$toggleColorMode = _ref.toggleColorMode,
      toggleColorMode = _ref$toggleColorMode === void 0 ? defaultStandaloneParam.toggleColorMode : _ref$toggleColorMode,
      _ref$setColorMode = _ref.setColorMode,
      setColorMode = _ref$setColorMode === void 0 ? defaultStandaloneParam.setColorMode : _ref$setColorMode,
      _ref$defaultOptions = _ref.defaultOptions,
      defaultOptions = _ref$defaultOptions === void 0 ? defaultStandaloneParam.defaultOptions : _ref$defaultOptions;

  var renderWithProviders = function renderWithProviders(props, options) {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_9__.ThemeProvider, {
      theme: theme
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_system__WEBPACK_IMPORTED_MODULE_12__.ColorModeContext.Provider, {
      value: {
        colorMode: colorMode,
        setColorMode: setColorMode,
        toggleColorMode: toggleColorMode
      }
    }, (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_6__.isFunction)(options.render) ? options.render(props) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(Toast, _extends({}, props, options))));
  };

  var toastImpl = function toastImpl(options) {
    var opts = _extends({}, defaultOptions, options);

    opts.position = getToastPlacement(opts.position, theme.direction);

    var Message = function Message(props) {
      return renderWithProviders(props, opts);
    };

    return toast.notify(Message, opts);
  };

  toastImpl.close = toast.close;
  toastImpl.closeAll = toast.closeAll; // toasts can only be updated if they have a valid id

  toastImpl.update = function (id, options) {
    if (!id) return;

    var opts = _extends({}, defaultOptions, options);

    opts.position = getToastPlacement(opts.position, theme.direction);
    toast.update(id, _extends({}, opts, {
      message: function message(props) {
        return renderWithProviders(props, opts);
      }
    }));
  };

  toastImpl.isActive = toast.isActive;
  return toastImpl;
}
/**
 * React hook used to create a function that can be used
 * to show toasts in an application.
 */

function useToast(options) {
  var _useChakra = (0,_chakra_ui_system__WEBPACK_IMPORTED_MODULE_9__.useChakra)(),
      theme = _useChakra.theme,
      setColorMode = _useChakra.setColorMode,
      toggleColorMode = _useChakra.toggleColorMode,
      colorMode = _useChakra.colorMode;

  return react__WEBPACK_IMPORTED_MODULE_0__.useMemo(function () {
    return createStandaloneToast({
      theme: theme,
      colorMode: colorMode,
      setColorMode: setColorMode,
      toggleColorMode: toggleColorMode,
      defaultOptions: options
    });
  }, [theme, setColorMode, toggleColorMode, colorMode, options]);
}




/***/ }),

/***/ "./node_modules/@chakra-ui/transition/dist/chakra-ui-transition.esm.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@chakra-ui/transition/dist/chakra-ui-transition.esm.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Collapse": () => (/* binding */ Collapse),
/* harmony export */   "EASINGS": () => (/* binding */ TransitionEasings),
/* harmony export */   "Fade": () => (/* binding */ Fade),
/* harmony export */   "ScaleFade": () => (/* binding */ ScaleFade),
/* harmony export */   "Slide": () => (/* binding */ Slide),
/* harmony export */   "SlideFade": () => (/* binding */ SlideFade),
/* harmony export */   "fadeConfig": () => (/* binding */ fadeConfig),
/* harmony export */   "scaleFadeConfig": () => (/* binding */ scaleFadeConfig),
/* harmony export */   "slideFadeConfig": () => (/* binding */ slideFadeConfig)
/* harmony export */ });
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/@chakra-ui/utils/dist/chakra-ui-utils.esm.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @chakra-ui/utils */ "./node_modules/lodash.mergewith/index.js");
/* harmony import */ var _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs");
/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! framer-motion */ "./node_modules/framer-motion/dist/es/render/dom/motion.mjs");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");




function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

var TransitionEasings = {
  ease: [0.25, 0.1, 0.25, 1],
  easeIn: [0.4, 0, 1, 1],
  easeOut: [0, 0, 0.2, 1],
  easeInOut: [0.4, 0, 0.2, 1]
};
var TransitionVariants = {
  scale: {
    enter: {
      scale: 1
    },
    exit: {
      scale: 0.95
    }
  },
  fade: {
    enter: {
      opacity: 1
    },
    exit: {
      opacity: 0
    }
  },
  pushLeft: {
    enter: {
      x: "100%"
    },
    exit: {
      x: "-30%"
    }
  },
  pushRight: {
    enter: {
      x: "-100%"
    },
    exit: {
      x: "30%"
    }
  },
  pushUp: {
    enter: {
      y: "100%"
    },
    exit: {
      y: "-30%"
    }
  },
  pushDown: {
    enter: {
      y: "-100%"
    },
    exit: {
      y: "30%"
    }
  },
  slideLeft: {
    position: {
      left: 0,
      top: 0,
      bottom: 0,
      width: "100%"
    },
    enter: {
      x: 0,
      y: 0
    },
    exit: {
      x: "-100%",
      y: 0
    }
  },
  slideRight: {
    position: {
      right: 0,
      top: 0,
      bottom: 0,
      width: "100%"
    },
    enter: {
      x: 0,
      y: 0
    },
    exit: {
      x: "100%",
      y: 0
    }
  },
  slideUp: {
    position: {
      top: 0,
      left: 0,
      right: 0,
      maxWidth: "100vw"
    },
    enter: {
      x: 0,
      y: 0
    },
    exit: {
      x: 0,
      y: "-100%"
    }
  },
  slideDown: {
    position: {
      bottom: 0,
      left: 0,
      right: 0,
      maxWidth: "100vw"
    },
    enter: {
      x: 0,
      y: 0
    },
    exit: {
      x: 0,
      y: "100%"
    }
  }
};
function slideTransition(options) {
  var _options$direction;

  var side = (_options$direction = options == null ? void 0 : options.direction) != null ? _options$direction : "right";

  switch (side) {
    case "right":
      return TransitionVariants.slideRight;

    case "left":
      return TransitionVariants.slideLeft;

    case "bottom":
      return TransitionVariants.slideDown;

    case "top":
      return TransitionVariants.slideUp;

    default:
      return TransitionVariants.slideRight;
  }
}
var TransitionDefaults = {
  enter: {
    duration: 0.2,
    ease: TransitionEasings.easeOut
  },
  exit: {
    duration: 0.1,
    ease: TransitionEasings.easeIn
  }
};
var withDelay = {
  enter: function enter(transition, delay) {
    return _extends({}, transition, {
      delay: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.isNumber)(delay) ? delay : delay == null ? void 0 : delay["enter"]
    });
  },
  exit: function exit(transition, delay) {
    return _extends({}, transition, {
      delay: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.isNumber)(delay) ? delay : delay == null ? void 0 : delay["exit"]
    });
  }
};

var _excluded$4 = ["in", "unmountOnExit", "animateOpacity", "startingHeight", "endingHeight", "style", "className", "transition", "transitionEnd"];

var isNumeric = function isNumeric(value) {
  return value != null && parseInt(value.toString(), 10) > 0;
};

var defaultTransitions = {
  exit: {
    height: {
      duration: 0.2,
      ease: TransitionEasings.ease
    },
    opacity: {
      duration: 0.3,
      ease: TransitionEasings.ease
    }
  },
  enter: {
    height: {
      duration: 0.3,
      ease: TransitionEasings.ease
    },
    opacity: {
      duration: 0.4,
      ease: TransitionEasings.ease
    }
  }
};
var variants$4 = {
  exit: function exit(_ref) {
    var _transition$exit;

    var animateOpacity = _ref.animateOpacity,
        startingHeight = _ref.startingHeight,
        transition = _ref.transition,
        transitionEnd = _ref.transitionEnd,
        delay = _ref.delay;
    return _extends({}, animateOpacity && {
      opacity: isNumeric(startingHeight) ? 1 : 0
    }, {
      overflow: "hidden",
      height: startingHeight,
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit,
      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(defaultTransitions.exit, delay)
    });
  },
  enter: function enter(_ref2) {
    var _transition$enter;

    var animateOpacity = _ref2.animateOpacity,
        endingHeight = _ref2.endingHeight,
        transition = _ref2.transition,
        transitionEnd = _ref2.transitionEnd,
        delay = _ref2.delay;
    return _extends({}, animateOpacity && {
      opacity: 1
    }, {
      height: endingHeight,
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter,
      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(defaultTransitions.enter, delay)
    });
  }
};
var Collapse = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var isOpen = props["in"],
      unmountOnExit = props.unmountOnExit,
      _props$animateOpacity = props.animateOpacity,
      animateOpacity = _props$animateOpacity === void 0 ? true : _props$animateOpacity,
      _props$startingHeight = props.startingHeight,
      startingHeight = _props$startingHeight === void 0 ? 0 : _props$startingHeight,
      _props$endingHeight = props.endingHeight,
      endingHeight = _props$endingHeight === void 0 ? "auto" : _props$endingHeight,
      style = props.style,
      className = props.className,
      transition = props.transition,
      transitionEnd = props.transitionEnd,
      rest = _objectWithoutPropertiesLoose(props, _excluded$4);

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_0__.useState(false),
      mounted = _React$useState[0],
      setMounted = _React$useState[1];

  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
    var timeout = setTimeout(function () {
      setMounted(true);
    });
    return function () {
      return clearTimeout(timeout);
    };
  }, []);
  /**
   * Warn 🚨: `startingHeight` and `unmountOnExit` are mutually exclusive
   *
   * If you specify a starting height, the collapsed needs to be mounted
   * for the height to take effect.
   */

  (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.warn)({
    condition: Boolean(startingHeight > 0 && unmountOnExit),
    message: "startingHeight and unmountOnExit are mutually exclusive. You can't use them together"
  });
  var hasStartingHeight = parseFloat(startingHeight.toString()) > 0;
  var custom = {
    startingHeight: startingHeight,
    endingHeight: endingHeight,
    animateOpacity: animateOpacity,
    transition: !mounted ? {
      enter: {
        duration: 0
      }
    } : transition,
    transitionEnd: _chakra_ui_utils__WEBPACK_IMPORTED_MODULE_2___default()(transitionEnd, {
      enter: {
        overflow: "initial"
      },
      exit: unmountOnExit ? undefined : {
        display: hasStartingHeight ? "block" : "none"
      }
    })
  };
  var show = unmountOnExit ? isOpen : true;
  var animate = isOpen || unmountOnExit ? "enter" : "exit";
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_3__.AnimatePresence, {
    initial: false,
    custom: custom
  }, show && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, _extends({
    ref: ref
  }, rest, {
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.cx)("chakra-collapse", className),
    style: _extends({
      overflow: "hidden",
      display: "block"
    }, style),
    custom: custom,
    variants: variants$4,
    initial: unmountOnExit ? "exit" : false,
    animate: animate,
    exit: "exit"
  })));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.__DEV__) {
  Collapse.displayName = "Collapse";
}

var _excluded$3 = ["unmountOnExit", "in", "className", "transition", "transitionEnd", "delay"];
var variants$3 = {
  enter: function enter(_temp) {
    var _transition$enter;

    var _ref = _temp === void 0 ? {} : _temp,
        transition = _ref.transition,
        transitionEnd = _ref.transitionEnd,
        delay = _ref.delay;

    return {
      opacity: 1,
      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(TransitionDefaults.enter, delay),
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter
    };
  },
  exit: function exit(_temp2) {
    var _transition$exit;

    var _ref2 = _temp2 === void 0 ? {} : _temp2,
        transition = _ref2.transition,
        transitionEnd = _ref2.transitionEnd,
        delay = _ref2.delay;

    return {
      opacity: 0,
      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(TransitionDefaults.exit, delay),
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit
    };
  }
};
var fadeConfig = {
  initial: "exit",
  animate: "enter",
  exit: "exit",
  variants: variants$3
};
var Fade = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var unmountOnExit = props.unmountOnExit,
      isOpen = props["in"],
      className = props.className,
      transition = props.transition,
      transitionEnd = props.transitionEnd,
      delay = props.delay,
      rest = _objectWithoutPropertiesLoose(props, _excluded$3);

  var animate = isOpen || unmountOnExit ? "enter" : "exit";
  var show = unmountOnExit ? isOpen && unmountOnExit : true;
  var custom = {
    transition: transition,
    transitionEnd: transitionEnd,
    delay: delay
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_3__.AnimatePresence, {
    custom: custom
  }, show && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, _extends({
    ref: ref,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.cx)("chakra-fade", className),
    custom: custom
  }, fadeConfig, {
    animate: animate
  }, rest)));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.__DEV__) {
  Fade.displayName = "Fade";
}

var _excluded$2 = ["unmountOnExit", "in", "reverse", "initialScale", "className", "transition", "transitionEnd", "delay"];
var variants$2 = {
  exit: function exit(_ref) {
    var _transition$exit;

    var reverse = _ref.reverse,
        initialScale = _ref.initialScale,
        transition = _ref.transition,
        transitionEnd = _ref.transitionEnd,
        delay = _ref.delay;
    return _extends({
      opacity: 0
    }, reverse ? {
      scale: initialScale,
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit
    } : {
      transitionEnd: _extends({
        scale: initialScale
      }, transitionEnd == null ? void 0 : transitionEnd.exit)
    }, {
      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(TransitionDefaults.exit, delay)
    });
  },
  enter: function enter(_ref2) {
    var _transition$enter;

    var transitionEnd = _ref2.transitionEnd,
        transition = _ref2.transition,
        delay = _ref2.delay;
    return {
      opacity: 1,
      scale: 1,
      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(TransitionDefaults.enter, delay),
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter
    };
  }
};
var scaleFadeConfig = {
  initial: "exit",
  animate: "enter",
  exit: "exit",
  variants: variants$2
};
var ScaleFade = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var unmountOnExit = props.unmountOnExit,
      isOpen = props["in"],
      _props$reverse = props.reverse,
      reverse = _props$reverse === void 0 ? true : _props$reverse,
      _props$initialScale = props.initialScale,
      initialScale = _props$initialScale === void 0 ? 0.95 : _props$initialScale,
      className = props.className,
      transition = props.transition,
      transitionEnd = props.transitionEnd,
      delay = props.delay,
      rest = _objectWithoutPropertiesLoose(props, _excluded$2);

  var show = unmountOnExit ? isOpen && unmountOnExit : true;
  var animate = isOpen || unmountOnExit ? "enter" : "exit";
  var custom = {
    initialScale: initialScale,
    reverse: reverse,
    transition: transition,
    transitionEnd: transitionEnd,
    delay: delay
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_3__.AnimatePresence, {
    custom: custom
  }, show && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, _extends({
    ref: ref,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.cx)("chakra-offset-slide", className)
  }, scaleFadeConfig, {
    animate: animate,
    custom: custom
  }, rest)));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.__DEV__) {
  ScaleFade.displayName = "ScaleFade";
}

var _excluded$1 = ["direction", "style", "unmountOnExit", "in", "className", "transition", "transitionEnd", "delay"];
var defaultTransition = {
  exit: {
    duration: 0.15,
    ease: TransitionEasings.easeInOut
  },
  enter: {
    type: "spring",
    damping: 25,
    stiffness: 180
  }
};
var variants$1 = {
  exit: function exit(_ref) {
    var _transition$exit;

    var direction = _ref.direction,
        transition = _ref.transition,
        transitionEnd = _ref.transitionEnd,
        delay = _ref.delay;

    var _slideTransition = slideTransition({
      direction: direction
    }),
        exitStyles = _slideTransition.exit;

    return _extends({}, exitStyles, {
      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(defaultTransition.exit, delay),
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit
    });
  },
  enter: function enter(_ref2) {
    var _transition$enter;

    var direction = _ref2.direction,
        transitionEnd = _ref2.transitionEnd,
        transition = _ref2.transition,
        delay = _ref2.delay;

    var _slideTransition2 = slideTransition({
      direction: direction
    }),
        enterStyles = _slideTransition2.enter;

    return _extends({}, enterStyles, {
      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(defaultTransition.enter, delay),
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter
    });
  }
};
var Slide = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var _props$direction = props.direction,
      direction = _props$direction === void 0 ? "right" : _props$direction,
      style = props.style,
      unmountOnExit = props.unmountOnExit,
      isOpen = props["in"],
      className = props.className,
      transition = props.transition,
      transitionEnd = props.transitionEnd,
      delay = props.delay,
      rest = _objectWithoutPropertiesLoose(props, _excluded$1);

  var transitionStyles = slideTransition({
    direction: direction
  });
  var computedStyle = Object.assign({
    position: "fixed"
  }, transitionStyles.position, style);
  var show = unmountOnExit ? isOpen && unmountOnExit : true;
  var animate = isOpen || unmountOnExit ? "enter" : "exit";
  var custom = {
    transitionEnd: transitionEnd,
    transition: transition,
    direction: direction,
    delay: delay
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_3__.AnimatePresence, {
    custom: custom
  }, show && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, _extends({}, rest, {
    ref: ref,
    initial: "exit",
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.cx)("chakra-slide", className),
    animate: animate,
    exit: "exit",
    custom: custom,
    variants: variants$1,
    style: computedStyle
  })));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.__DEV__) {
  Slide.displayName = "Slide";
}

var _excluded = ["unmountOnExit", "in", "reverse", "className", "offsetX", "offsetY", "transition", "transitionEnd", "delay"];
var variants = {
  initial: function initial(_ref) {
    var _transition$exit;

    var offsetX = _ref.offsetX,
        offsetY = _ref.offsetY,
        transition = _ref.transition,
        transitionEnd = _ref.transitionEnd,
        delay = _ref.delay;
    return {
      opacity: 0,
      x: offsetX,
      y: offsetY,
      transition: (_transition$exit = transition == null ? void 0 : transition.exit) != null ? _transition$exit : withDelay.exit(TransitionDefaults.exit, delay),
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit
    };
  },
  enter: function enter(_ref2) {
    var _transition$enter;

    var transition = _ref2.transition,
        transitionEnd = _ref2.transitionEnd,
        delay = _ref2.delay;
    return {
      opacity: 1,
      x: 0,
      y: 0,
      transition: (_transition$enter = transition == null ? void 0 : transition.enter) != null ? _transition$enter : withDelay.enter(TransitionDefaults.enter, delay),
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.enter
    };
  },
  exit: function exit(_ref3) {
    var _transition$exit2;

    var offsetY = _ref3.offsetY,
        offsetX = _ref3.offsetX,
        transition = _ref3.transition,
        transitionEnd = _ref3.transitionEnd,
        reverse = _ref3.reverse,
        delay = _ref3.delay;
    var offset = {
      x: offsetX,
      y: offsetY
    };
    return _extends({
      opacity: 0,
      transition: (_transition$exit2 = transition == null ? void 0 : transition.exit) != null ? _transition$exit2 : withDelay.exit(TransitionDefaults.exit, delay)
    }, reverse ? _extends({}, offset, {
      transitionEnd: transitionEnd == null ? void 0 : transitionEnd.exit
    }) : {
      transitionEnd: _extends({}, offset, transitionEnd == null ? void 0 : transitionEnd.exit)
    });
  }
};
var slideFadeConfig = {
  initial: "initial",
  animate: "enter",
  exit: "exit",
  variants: variants
};
var SlideFade = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) {
  var unmountOnExit = props.unmountOnExit,
      isOpen = props["in"],
      _props$reverse = props.reverse,
      reverse = _props$reverse === void 0 ? true : _props$reverse,
      className = props.className,
      _props$offsetX = props.offsetX,
      offsetX = _props$offsetX === void 0 ? 0 : _props$offsetX,
      _props$offsetY = props.offsetY,
      offsetY = _props$offsetY === void 0 ? 8 : _props$offsetY,
      transition = props.transition,
      transitionEnd = props.transitionEnd,
      delay = props.delay,
      rest = _objectWithoutPropertiesLoose(props, _excluded);

  var show = unmountOnExit ? isOpen && unmountOnExit : true;
  var animate = isOpen || unmountOnExit ? "enter" : "exit";
  var custom = {
    offsetX: offsetX,
    offsetY: offsetY,
    reverse: reverse,
    transition: transition,
    transitionEnd: transitionEnd,
    delay: delay
  };
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_3__.AnimatePresence, {
    custom: custom
  }, show && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(framer_motion__WEBPACK_IMPORTED_MODULE_4__.motion.div, _extends({
    ref: ref,
    className: (0,_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.cx)("chakra-offset-slide", className),
    custom: custom
  }, slideFadeConfig, {
    animate: animate
  }, rest)));
});

if (_chakra_ui_utils__WEBPACK_IMPORTED_MODULE_1__.__DEV__) {
  SlideFade.displayName = "SlideFade";
}




/***/ }),

/***/ "./node_modules/@ctrl/tinycolor/dist/module/conversion.js":
/*!****************************************************************!*\
  !*** ./node_modules/@ctrl/tinycolor/dist/module/conversion.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "rgbToRgb": () => (/* binding */ rgbToRgb),
/* harmony export */   "rgbToHsl": () => (/* binding */ rgbToHsl),
/* harmony export */   "hslToRgb": () => (/* binding */ hslToRgb),
/* harmony export */   "rgbToHsv": () => (/* binding */ rgbToHsv),
/* harmony export */   "hsvToRgb": () => (/* binding */ hsvToRgb),
/* harmony export */   "rgbToHex": () => (/* binding */ rgbToHex),
/* harmony export */   "rgbaToHex": () => (/* binding */ rgbaToHex),
/* harmony export */   "rgbaToArgbHex": () => (/* binding */ rgbaToArgbHex),
/* harmony export */   "convertDecimalToHex": () => (/* binding */ convertDecimalToHex),
/* harmony export */   "convertHexToDecimal": () => (/* binding */ convertHexToDecimal),
/* harmony export */   "parseIntFromHex": () => (/* binding */ parseIntFromHex),
/* harmony export */   "numberInputToObject": () => (/* binding */ numberInputToObject)
/* harmony export */ });
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util */ "./node_modules/@ctrl/tinycolor/dist/module/util.js");

// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:
// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>
/**
 * Handle bounds / percentage checking to conform to CSS color spec
 * <http://www.w3.org/TR/css3-color/>
 * *Assumes:* r, g, b in [0, 255] or [0, 1]
 * *Returns:* { r, g, b } in [0, 255]
 */
function rgbToRgb(r, g, b) {
    return {
        r: (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(r, 255) * 255,
        g: (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(g, 255) * 255,
        b: (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(b, 255) * 255,
    };
}
/**
 * Converts an RGB color value to HSL.
 * *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]
 * *Returns:* { h, s, l } in [0,1]
 */
function rgbToHsl(r, g, b) {
    r = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(r, 255);
    g = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(g, 255);
    b = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(b, 255);
    var max = Math.max(r, g, b);
    var min = Math.min(r, g, b);
    var h = 0;
    var s = 0;
    var l = (max + min) / 2;
    if (max === min) {
        s = 0;
        h = 0; // achromatic
    }
    else {
        var d = max - min;
        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
        switch (max) {
            case r:
                h = (g - b) / d + (g < b ? 6 : 0);
                break;
            case g:
                h = (b - r) / d + 2;
                break;
            case b:
                h = (r - g) / d + 4;
                break;
            default:
                break;
        }
        h /= 6;
    }
    return { h: h, s: s, l: l };
}
function hue2rgb(p, q, t) {
    if (t < 0) {
        t += 1;
    }
    if (t > 1) {
        t -= 1;
    }
    if (t < 1 / 6) {
        return p + (q - p) * (6 * t);
    }
    if (t < 1 / 2) {
        return q;
    }
    if (t < 2 / 3) {
        return p + (q - p) * (2 / 3 - t) * 6;
    }
    return p;
}
/**
 * Converts an HSL color value to RGB.
 *
 * *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]
 * *Returns:* { r, g, b } in the set [0, 255]
 */
function hslToRgb(h, s, l) {
    var r;
    var g;
    var b;
    h = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(h, 360);
    s = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(s, 100);
    l = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(l, 100);
    if (s === 0) {
        // achromatic
        g = l;
        b = l;
        r = l;
    }
    else {
        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;
        var p = 2 * l - q;
        r = hue2rgb(p, q, h + 1 / 3);
        g = hue2rgb(p, q, h);
        b = hue2rgb(p, q, h - 1 / 3);
    }
    return { r: r * 255, g: g * 255, b: b * 255 };
}
/**
 * Converts an RGB color value to HSV
 *
 * *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]
 * *Returns:* { h, s, v } in [0,1]
 */
function rgbToHsv(r, g, b) {
    r = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(r, 255);
    g = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(g, 255);
    b = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(b, 255);
    var max = Math.max(r, g, b);
    var min = Math.min(r, g, b);
    var h = 0;
    var v = max;
    var d = max - min;
    var s = max === 0 ? 0 : d / max;
    if (max === min) {
        h = 0; // achromatic
    }
    else {
        switch (max) {
            case r:
                h = (g - b) / d + (g < b ? 6 : 0);
                break;
            case g:
                h = (b - r) / d + 2;
                break;
            case b:
                h = (r - g) / d + 4;
                break;
            default:
                break;
        }
        h /= 6;
    }
    return { h: h, s: s, v: v };
}
/**
 * Converts an HSV color value to RGB.
 *
 * *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]
 * *Returns:* { r, g, b } in the set [0, 255]
 */
function hsvToRgb(h, s, v) {
    h = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(h, 360) * 6;
    s = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(s, 100);
    v = (0,_util__WEBPACK_IMPORTED_MODULE_0__.bound01)(v, 100);
    var i = Math.floor(h);
    var f = h - i;
    var p = v * (1 - s);
    var q = v * (1 - f * s);
    var t = v * (1 - (1 - f) * s);
    var mod = i % 6;
    var r = [v, q, p, p, t, v][mod];
    var g = [t, v, v, q, p, p][mod];
    var b = [p, p, t, v, v, q][mod];
    return { r: r * 255, g: g * 255, b: b * 255 };
}
/**
 * Converts an RGB color to hex
 *
 * Assumes r, g, and b are contained in the set [0, 255]
 * Returns a 3 or 6 character hex
 */
function rgbToHex(r, g, b, allow3Char) {
    var hex = [
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(Math.round(r).toString(16)),
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(Math.round(g).toString(16)),
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(Math.round(b).toString(16)),
    ];
    // Return a 3 character hex if possible
    if (allow3Char &&
        hex[0].startsWith(hex[0].charAt(1)) &&
        hex[1].startsWith(hex[1].charAt(1)) &&
        hex[2].startsWith(hex[2].charAt(1))) {
        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);
    }
    return hex.join('');
}
/**
 * Converts an RGBA color plus alpha transparency to hex
 *
 * Assumes r, g, b are contained in the set [0, 255] and
 * a in [0, 1]. Returns a 4 or 8 character rgba hex
 */
// eslint-disable-next-line max-params
function rgbaToHex(r, g, b, a, allow4Char) {
    var hex = [
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(Math.round(r).toString(16)),
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(Math.round(g).toString(16)),
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(Math.round(b).toString(16)),
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(convertDecimalToHex(a)),
    ];
    // Return a 4 character hex if possible
    if (allow4Char &&
        hex[0].startsWith(hex[0].charAt(1)) &&
        hex[1].startsWith(hex[1].charAt(1)) &&
        hex[2].startsWith(hex[2].charAt(1)) &&
        hex[3].startsWith(hex[3].charAt(1))) {
        return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);
    }
    return hex.join('');
}
/**
 * Converts an RGBA color to an ARGB Hex8 string
 * Rarely used, but required for "toFilter()"
 */
function rgbaToArgbHex(r, g, b, a) {
    var hex = [
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(convertDecimalToHex(a)),
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(Math.round(r).toString(16)),
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(Math.round(g).toString(16)),
        (0,_util__WEBPACK_IMPORTED_MODULE_0__.pad2)(Math.round(b).toString(16)),
    ];
    return hex.join('');
}
/** Converts a decimal to a hex value */
function convertDecimalToHex(d) {
    return Math.round(parseFloat(d) * 255).toString(16);
}
/** Converts a hex value to a decimal */
function convertHexToDecimal(h) {
    return parseIntFromHex(h) / 255;
}
/** Parse a base-16 hex value into a base-10 integer */
function parseIntFromHex(val) {
    return parseInt(val, 16);
}
function numberInputToObject(color) {
    return {
        r: color >> 16,
        g: (color & 0xff00) >> 8,
        b: color & 0xff,
    };
}


/***/ }),

/***/ "./node_modules/@ctrl/tinycolor/dist/module/css-color-names.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@ctrl/tinycolor/dist/module/css-color-names.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "names": () => (/* binding */ names)
/* harmony export */ });
// https://github.com/bahamas10/css-color-names/blob/master/css-color-names.json
/**
 * @hidden
 */
var names = {
    aliceblue: '#f0f8ff',
    antiquewhite: '#faebd7',
    aqua: '#00ffff',
    aquamarine: '#7fffd4',
    azure: '#f0ffff',
    beige: '#f5f5dc',
    bisque: '#ffe4c4',
    black: '#000000',
    blanchedalmond: '#ffebcd',
    blue: '#0000ff',
    blueviolet: '#8a2be2',
    brown: '#a52a2a',
    burlywood: '#deb887',
    cadetblue: '#5f9ea0',
    chartreuse: '#7fff00',
    chocolate: '#d2691e',
    coral: '#ff7f50',
    cornflowerblue: '#6495ed',
    cornsilk: '#fff8dc',
    crimson: '#dc143c',
    cyan: '#00ffff',
    darkblue: '#00008b',
    darkcyan: '#008b8b',
    darkgoldenrod: '#b8860b',
    darkgray: '#a9a9a9',
    darkgreen: '#006400',
    darkgrey: '#a9a9a9',
    darkkhaki: '#bdb76b',
    darkmagenta: '#8b008b',
    darkolivegreen: '#556b2f',
    darkorange: '#ff8c00',
    darkorchid: '#9932cc',
    darkred: '#8b0000',
    darksalmon: '#e9967a',
    darkseagreen: '#8fbc8f',
    darkslateblue: '#483d8b',
    darkslategray: '#2f4f4f',
    darkslategrey: '#2f4f4f',
    darkturquoise: '#00ced1',
    darkviolet: '#9400d3',
    deeppink: '#ff1493',
    deepskyblue: '#00bfff',
    dimgray: '#696969',
    dimgrey: '#696969',
    dodgerblue: '#1e90ff',
    firebrick: '#b22222',
    floralwhite: '#fffaf0',
    forestgreen: '#228b22',
    fuchsia: '#ff00ff',
    gainsboro: '#dcdcdc',
    ghostwhite: '#f8f8ff',
    goldenrod: '#daa520',
    gold: '#ffd700',
    gray: '#808080',
    green: '#008000',
    greenyellow: '#adff2f',
    grey: '#808080',
    honeydew: '#f0fff0',
    hotpink: '#ff69b4',
    indianred: '#cd5c5c',
    indigo: '#4b0082',
    ivory: '#fffff0',
    khaki: '#f0e68c',
    lavenderblush: '#fff0f5',
    lavender: '#e6e6fa',
    lawngreen: '#7cfc00',
    lemonchiffon: '#fffacd',
    lightblue: '#add8e6',
    lightcoral: '#f08080',
    lightcyan: '#e0ffff',
    lightgoldenrodyellow: '#fafad2',
    lightgray: '#d3d3d3',
    lightgreen: '#90ee90',
    lightgrey: '#d3d3d3',
    lightpink: '#ffb6c1',
    lightsalmon: '#ffa07a',
    lightseagreen: '#20b2aa',
    lightskyblue: '#87cefa',
    lightslategray: '#778899',
    lightslategrey: '#778899',
    lightsteelblue: '#b0c4de',
    lightyellow: '#ffffe0',
    lime: '#00ff00',
    limegreen: '#32cd32',
    linen: '#faf0e6',
    magenta: '#ff00ff',
    maroon: '#800000',
    mediumaquamarine: '#66cdaa',
    mediumblue: '#0000cd',
    mediumorchid: '#ba55d3',
    mediumpurple: '#9370db',
    mediumseagreen: '#3cb371',
    mediumslateblue: '#7b68ee',
    mediumspringgreen: '#00fa9a',
    mediumturquoise: '#48d1cc',
    mediumvioletred: '#c71585',
    midnightblue: '#191970',
    mintcream: '#f5fffa',
    mistyrose: '#ffe4e1',
    moccasin: '#ffe4b5',
    navajowhite: '#ffdead',
    navy: '#000080',
    oldlace: '#fdf5e6',
    olive: '#808000',
    olivedrab: '#6b8e23',
    orange: '#ffa500',
    orangered: '#ff4500',
    orchid: '#da70d6',
    palegoldenrod: '#eee8aa',
    palegreen: '#98fb98',
    paleturquoise: '#afeeee',
    palevioletred: '#db7093',
    papayawhip: '#ffefd5',
    peachpuff: '#ffdab9',
    peru: '#cd853f',
    pink: '#ffc0cb',
    plum: '#dda0dd',
    powderblue: '#b0e0e6',
    purple: '#800080',
    rebeccapurple: '#663399',
    red: '#ff0000',
    rosybrown: '#bc8f8f',
    royalblue: '#4169e1',
    saddlebrown: '#8b4513',
    salmon: '#fa8072',
    sandybrown: '#f4a460',
    seagreen: '#2e8b57',
    seashell: '#fff5ee',
    sienna: '#a0522d',
    silver: '#c0c0c0',
    skyblue: '#87ceeb',
    slateblue: '#6a5acd',
    slategray: '#708090',
    slategrey: '#708090',
    snow: '#fffafa',
    springgreen: '#00ff7f',
    steelblue: '#4682b4',
    tan: '#d2b48c',
    teal: '#008080',
    thistle: '#d8bfd8',
    tomato: '#ff6347',
    turquoise: '#40e0d0',
    violet: '#ee82ee',
    wheat: '#f5deb3',
    white: '#ffffff',
    whitesmoke: '#f5f5f5',
    yellow: '#ffff00',
    yellowgreen: '#9acd32',
};


/***/ }),

/***/ "./node_modules/@ctrl/tinycolor/dist/module/format-input.js":
/*!******************************************************************!*\
  !*** ./node_modules/@ctrl/tinycolor/dist/module/format-input.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "inputToRGB": () => (/* binding */ inputToRGB),
/* harmony export */   "stringInputToObject": () => (/* binding */ stringInputToObject),
/* harmony export */   "isValidCSSUnit": () => (/* binding */ isValidCSSUnit)
/* harmony export */ });
/* harmony import */ var _conversion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./conversion */ "./node_modules/@ctrl/tinycolor/dist/module/conversion.js");
/* harmony import */ var _css_color_names__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./css-color-names */ "./node_modules/@ctrl/tinycolor/dist/module/css-color-names.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util */ "./node_modules/@ctrl/tinycolor/dist/module/util.js");



/**
 * Given a string or object, convert that input to RGB
 *
 * Possible string inputs:
 * ```
 * "red"
 * "#f00" or "f00"
 * "#ff0000" or "ff0000"
 * "#ff000000" or "ff000000"
 * "rgb 255 0 0" or "rgb (255, 0, 0)"
 * "rgb 1.0 0 0" or "rgb (1, 0, 0)"
 * "rgba (255, 0, 0, 1)" or "rgba 255, 0, 0, 1"
 * "rgba (1.0, 0, 0, 1)" or "rgba 1.0, 0, 0, 1"
 * "hsl(0, 100%, 50%)" or "hsl 0 100% 50%"
 * "hsla(0, 100%, 50%, 1)" or "hsla 0 100% 50%, 1"
 * "hsv(0, 100%, 100%)" or "hsv 0 100% 100%"
 * ```
 */
function inputToRGB(color) {
    var rgb = { r: 0, g: 0, b: 0 };
    var a = 1;
    var s = null;
    var v = null;
    var l = null;
    var ok = false;
    var format = false;
    if (typeof color === 'string') {
        color = stringInputToObject(color);
    }
    if (typeof color === 'object') {
        if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {
            rgb = (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.rgbToRgb)(color.r, color.g, color.b);
            ok = true;
            format = String(color.r).substr(-1) === '%' ? 'prgb' : 'rgb';
        }
        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {
            s = (0,_util__WEBPACK_IMPORTED_MODULE_1__.convertToPercentage)(color.s);
            v = (0,_util__WEBPACK_IMPORTED_MODULE_1__.convertToPercentage)(color.v);
            rgb = (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.hsvToRgb)(color.h, s, v);
            ok = true;
            format = 'hsv';
        }
        else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {
            s = (0,_util__WEBPACK_IMPORTED_MODULE_1__.convertToPercentage)(color.s);
            l = (0,_util__WEBPACK_IMPORTED_MODULE_1__.convertToPercentage)(color.l);
            rgb = (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.hslToRgb)(color.h, s, l);
            ok = true;
            format = 'hsl';
        }
        if (Object.prototype.hasOwnProperty.call(color, 'a')) {
            a = color.a;
        }
    }
    a = (0,_util__WEBPACK_IMPORTED_MODULE_1__.boundAlpha)(a);
    return {
        ok: ok,
        format: color.format || format,
        r: Math.min(255, Math.max(rgb.r, 0)),
        g: Math.min(255, Math.max(rgb.g, 0)),
        b: Math.min(255, Math.max(rgb.b, 0)),
        a: a,
    };
}
// <http://www.w3.org/TR/css3-values/#integers>
var CSS_INTEGER = '[-\\+]?\\d+%?';
// <http://www.w3.org/TR/css3-values/#number-value>
var CSS_NUMBER = '[-\\+]?\\d*\\.\\d+%?';
// Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.
var CSS_UNIT = "(?:" + CSS_NUMBER + ")|(?:" + CSS_INTEGER + ")";
// Actual matching.
// Parentheses and commas are optional, but not required.
// Whitespace can take the place of commas or opening paren
var PERMISSIVE_MATCH3 = "[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";
var PERMISSIVE_MATCH4 = "[\\s|\\(]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")[,|\\s]+(" + CSS_UNIT + ")\\s*\\)?";
var matchers = {
    CSS_UNIT: new RegExp(CSS_UNIT),
    rgb: new RegExp('rgb' + PERMISSIVE_MATCH3),
    rgba: new RegExp('rgba' + PERMISSIVE_MATCH4),
    hsl: new RegExp('hsl' + PERMISSIVE_MATCH3),
    hsla: new RegExp('hsla' + PERMISSIVE_MATCH4),
    hsv: new RegExp('hsv' + PERMISSIVE_MATCH3),
    hsva: new RegExp('hsva' + PERMISSIVE_MATCH4),
    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
};
/**
 * Permissive string parsing.  Take in a number of formats, and output an object
 * based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`
 */
function stringInputToObject(color) {
    color = color.trim().toLowerCase();
    if (color.length === 0) {
        return false;
    }
    var named = false;
    if (_css_color_names__WEBPACK_IMPORTED_MODULE_2__.names[color]) {
        color = _css_color_names__WEBPACK_IMPORTED_MODULE_2__.names[color];
        named = true;
    }
    else if (color === 'transparent') {
        return { r: 0, g: 0, b: 0, a: 0, format: 'name' };
    }
    // Try to match string input using regular expressions.
    // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]
    // Just return an object and let the conversion functions handle that.
    // This way the result will be the same whether the tinycolor is initialized with string or object.
    var match = matchers.rgb.exec(color);
    if (match) {
        return { r: match[1], g: match[2], b: match[3] };
    }
    match = matchers.rgba.exec(color);
    if (match) {
        return { r: match[1], g: match[2], b: match[3], a: match[4] };
    }
    match = matchers.hsl.exec(color);
    if (match) {
        return { h: match[1], s: match[2], l: match[3] };
    }
    match = matchers.hsla.exec(color);
    if (match) {
        return { h: match[1], s: match[2], l: match[3], a: match[4] };
    }
    match = matchers.hsv.exec(color);
    if (match) {
        return { h: match[1], s: match[2], v: match[3] };
    }
    match = matchers.hsva.exec(color);
    if (match) {
        return { h: match[1], s: match[2], v: match[3], a: match[4] };
    }
    match = matchers.hex8.exec(color);
    if (match) {
        return {
            r: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[1]),
            g: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[2]),
            b: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[3]),
            a: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.convertHexToDecimal)(match[4]),
            format: named ? 'name' : 'hex8',
        };
    }
    match = matchers.hex6.exec(color);
    if (match) {
        return {
            r: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[1]),
            g: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[2]),
            b: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[3]),
            format: named ? 'name' : 'hex',
        };
    }
    match = matchers.hex4.exec(color);
    if (match) {
        return {
            r: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[1] + match[1]),
            g: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[2] + match[2]),
            b: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[3] + match[3]),
            a: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.convertHexToDecimal)(match[4] + match[4]),
            format: named ? 'name' : 'hex8',
        };
    }
    match = matchers.hex3.exec(color);
    if (match) {
        return {
            r: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[1] + match[1]),
            g: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[2] + match[2]),
            b: (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.parseIntFromHex)(match[3] + match[3]),
            format: named ? 'name' : 'hex',
        };
    }
    return false;
}
/**
 * Check to see if it looks like a CSS unit
 * (see `matchers` above for definition).
 */
function isValidCSSUnit(color) {
    return Boolean(matchers.CSS_UNIT.exec(String(color)));
}


/***/ }),

/***/ "./node_modules/@ctrl/tinycolor/dist/module/index.js":
/*!***********************************************************!*\
  !*** ./node_modules/@ctrl/tinycolor/dist/module/index.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TinyColor": () => (/* binding */ TinyColor),
/* harmony export */   "tinycolor": () => (/* binding */ tinycolor)
/* harmony export */ });
/* harmony import */ var _conversion__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./conversion */ "./node_modules/@ctrl/tinycolor/dist/module/conversion.js");
/* harmony import */ var _css_color_names__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./css-color-names */ "./node_modules/@ctrl/tinycolor/dist/module/css-color-names.js");
/* harmony import */ var _format_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./format-input */ "./node_modules/@ctrl/tinycolor/dist/module/format-input.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ "./node_modules/@ctrl/tinycolor/dist/module/util.js");




var TinyColor = /** @class */ (function () {
    function TinyColor(color, opts) {
        if (color === void 0) { color = ''; }
        if (opts === void 0) { opts = {}; }
        var _a;
        // If input is already a tinycolor, return itself
        if (color instanceof TinyColor) {
            // eslint-disable-next-line no-constructor-return
            return color;
        }
        if (typeof color === 'number') {
            color = (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.numberInputToObject)(color);
        }
        this.originalInput = color;
        var rgb = (0,_format_input__WEBPACK_IMPORTED_MODULE_1__.inputToRGB)(color);
        this.originalInput = color;
        this.r = rgb.r;
        this.g = rgb.g;
        this.b = rgb.b;
        this.a = rgb.a;
        this.roundA = Math.round(100 * this.a) / 100;
        this.format = (_a = opts.format) !== null && _a !== void 0 ? _a : rgb.format;
        this.gradientType = opts.gradientType;
        // Don't let the range of [0,255] come back in [0,1].
        // Potentially lose a little bit of precision here, but will fix issues where
        // .5 gets interpreted as half of the total, instead of half of 1
        // If it was supposed to be 128, this was already taken care of by `inputToRgb`
        if (this.r < 1) {
            this.r = Math.round(this.r);
        }
        if (this.g < 1) {
            this.g = Math.round(this.g);
        }
        if (this.b < 1) {
            this.b = Math.round(this.b);
        }
        this.isValid = rgb.ok;
    }
    TinyColor.prototype.isDark = function () {
        return this.getBrightness() < 128;
    };
    TinyColor.prototype.isLight = function () {
        return !this.isDark();
    };
    /**
     * Returns the perceived brightness of the color, from 0-255.
     */
    TinyColor.prototype.getBrightness = function () {
        // http://www.w3.org/TR/AERT#color-contrast
        var rgb = this.toRgb();
        return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;
    };
    /**
     * Returns the perceived luminance of a color, from 0-1.
     */
    TinyColor.prototype.getLuminance = function () {
        // http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef
        var rgb = this.toRgb();
        var R;
        var G;
        var B;
        var RsRGB = rgb.r / 255;
        var GsRGB = rgb.g / 255;
        var BsRGB = rgb.b / 255;
        if (RsRGB <= 0.03928) {
            R = RsRGB / 12.92;
        }
        else {
            // eslint-disable-next-line prefer-exponentiation-operator
            R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);
        }
        if (GsRGB <= 0.03928) {
            G = GsRGB / 12.92;
        }
        else {
            // eslint-disable-next-line prefer-exponentiation-operator
            G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);
        }
        if (BsRGB <= 0.03928) {
            B = BsRGB / 12.92;
        }
        else {
            // eslint-disable-next-line prefer-exponentiation-operator
            B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);
        }
        return 0.2126 * R + 0.7152 * G + 0.0722 * B;
    };
    /**
     * Returns the alpha value of a color, from 0-1.
     */
    TinyColor.prototype.getAlpha = function () {
        return this.a;
    };
    /**
     * Sets the alpha value on the current color.
     *
     * @param alpha - The new alpha value. The accepted range is 0-1.
     */
    TinyColor.prototype.setAlpha = function (alpha) {
        this.a = (0,_util__WEBPACK_IMPORTED_MODULE_2__.boundAlpha)(alpha);
        this.roundA = Math.round(100 * this.a) / 100;
        return this;
    };
    /**
     * Returns the object as a HSVA object.
     */
    TinyColor.prototype.toHsv = function () {
        var hsv = (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.rgbToHsv)(this.r, this.g, this.b);
        return { h: hsv.h * 360, s: hsv.s, v: hsv.v, a: this.a };
    };
    /**
     * Returns the hsva values interpolated into a string with the following format:
     * "hsva(xxx, xxx, xxx, xx)".
     */
    TinyColor.prototype.toHsvString = function () {
        var hsv = (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.rgbToHsv)(this.r, this.g, this.b);
        var h = Math.round(hsv.h * 360);
        var s = Math.round(hsv.s * 100);
        var v = Math.round(hsv.v * 100);
        return this.a === 1 ? "hsv(" + h + ", " + s + "%, " + v + "%)" : "hsva(" + h + ", " + s + "%, " + v + "%, " + this.roundA + ")";
    };
    /**
     * Returns the object as a HSLA object.
     */
    TinyColor.prototype.toHsl = function () {
        var hsl = (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.rgbToHsl)(this.r, this.g, this.b);
        return { h: hsl.h * 360, s: hsl.s, l: hsl.l, a: this.a };
    };
    /**
     * Returns the hsla values interpolated into a string with the following format:
     * "hsla(xxx, xxx, xxx, xx)".
     */
    TinyColor.prototype.toHslString = function () {
        var hsl = (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.rgbToHsl)(this.r, this.g, this.b);
        var h = Math.round(hsl.h * 360);
        var s = Math.round(hsl.s * 100);
        var l = Math.round(hsl.l * 100);
        return this.a === 1 ? "hsl(" + h + ", " + s + "%, " + l + "%)" : "hsla(" + h + ", " + s + "%, " + l + "%, " + this.roundA + ")";
    };
    /**
     * Returns the hex value of the color.
     * @param allow3Char will shorten hex value to 3 char if possible
     */
    TinyColor.prototype.toHex = function (allow3Char) {
        if (allow3Char === void 0) { allow3Char = false; }
        return (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.rgbToHex)(this.r, this.g, this.b, allow3Char);
    };
    /**
     * Returns the hex value of the color -with a # appened.
     * @param allow3Char will shorten hex value to 3 char if possible
     */
    TinyColor.prototype.toHexString = function (allow3Char) {
        if (allow3Char === void 0) { allow3Char = false; }
        return '#' + this.toHex(allow3Char);
    };
    /**
     * Returns the hex 8 value of the color.
     * @param allow4Char will shorten hex value to 4 char if possible
     */
    TinyColor.prototype.toHex8 = function (allow4Char) {
        if (allow4Char === void 0) { allow4Char = false; }
        return (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.rgbaToHex)(this.r, this.g, this.b, this.a, allow4Char);
    };
    /**
     * Returns the hex 8 value of the color -with a # appened.
     * @param allow4Char will shorten hex value to 4 char if possible
     */
    TinyColor.prototype.toHex8String = function (allow4Char) {
        if (allow4Char === void 0) { allow4Char = false; }
        return '#' + this.toHex8(allow4Char);
    };
    /**
     * Returns the object as a RGBA object.
     */
    TinyColor.prototype.toRgb = function () {
        return {
            r: Math.round(this.r),
            g: Math.round(this.g),
            b: Math.round(this.b),
            a: this.a,
        };
    };
    /**
     * Returns the RGBA values interpolated into a string with the following format:
     * "RGBA(xxx, xxx, xxx, xx)".
     */
    TinyColor.prototype.toRgbString = function () {
        var r = Math.round(this.r);
        var g = Math.round(this.g);
        var b = Math.round(this.b);
        return this.a === 1 ? "rgb(" + r + ", " + g + ", " + b + ")" : "rgba(" + r + ", " + g + ", " + b + ", " + this.roundA + ")";
    };
    /**
     * Returns the object as a RGBA object.
     */
    TinyColor.prototype.toPercentageRgb = function () {
        var fmt = function (x) { return Math.round((0,_util__WEBPACK_IMPORTED_MODULE_2__.bound01)(x, 255) * 100) + "%"; };
        return {
            r: fmt(this.r),
            g: fmt(this.g),
            b: fmt(this.b),
            a: this.a,
        };
    };
    /**
     * Returns the RGBA relative values interpolated into a string
     */
    TinyColor.prototype.toPercentageRgbString = function () {
        var rnd = function (x) { return Math.round((0,_util__WEBPACK_IMPORTED_MODULE_2__.bound01)(x, 255) * 100); };
        return this.a === 1
            ? "rgb(" + rnd(this.r) + "%, " + rnd(this.g) + "%, " + rnd(this.b) + "%)"
            : "rgba(" + rnd(this.r) + "%, " + rnd(this.g) + "%, " + rnd(this.b) + "%, " + this.roundA + ")";
    };
    /**
     * The 'real' name of the color -if there is one.
     */
    TinyColor.prototype.toName = function () {
        if (this.a === 0) {
            return 'transparent';
        }
        if (this.a < 1) {
            return false;
        }
        var hex = '#' + (0,_conversion__WEBPACK_IMPORTED_MODULE_0__.rgbToHex)(this.r, this.g, this.b, false);
        for (var _i = 0, _a = Object.entries(_css_color_names__WEBPACK_IMPORTED_MODULE_3__.names); _i < _a.length; _i++) {
            var _b = _a[_i], key = _b[0], value = _b[1];
            if (hex === value) {
                return key;
            }
        }
        return false;
    };
    TinyColor.prototype.toString = function (format) {
        var formatSet = Boolean(format);
        format = format !== null && format !== void 0 ? format : this.format;
        var formattedString = false;
        var hasAlpha = this.a < 1 && this.a >= 0;
        var needsAlphaFormat = !formatSet && hasAlpha && (format.startsWith('hex') || format === 'name');
        if (needsAlphaFormat) {
            // Special case for "transparent", all other non-alpha formats
            // will return rgba when there is transparency.
            if (format === 'name' && this.a === 0) {
                return this.toName();
            }
            return this.toRgbString();
        }
        if (format === 'rgb') {
            formattedString = this.toRgbString();
        }
        if (format === 'prgb') {
            formattedString = this.toPercentageRgbString();
        }
        if (format === 'hex' || format === 'hex6') {
            formattedString = this.toHexString();
        }
        if (format === 'hex3') {
            formattedString = this.toHexString(true);
        }
        if (format === 'hex4') {
            formattedString = this.toHex8String(true);
        }
        if (format === 'hex8') {
            formattedString = this.toHex8String();
        }
        if (format === 'name') {
            formattedString = this.toName();
        }
        if (format === 'hsl') {
            formattedString = this.toHslString();
        }
        if (format === 'hsv') {
            formattedString = this.toHsvString();
        }
        return formattedString || this.toHexString();
    };
    TinyColor.prototype.toNumber = function () {
        return (Math.round(this.r) << 16) + (Math.round(this.g) << 8) + Math.round(this.b);
    };
    TinyColor.prototype.clone = function () {
        return new TinyColor(this.toString());
    };
    /**
     * Lighten the color a given amount. Providing 100 will always return white.
     * @param amount - valid between 1-100
     */
    TinyColor.prototype.lighten = function (amount) {
        if (amount === void 0) { amount = 10; }
        var hsl = this.toHsl();
        hsl.l += amount / 100;
        hsl.l = (0,_util__WEBPACK_IMPORTED_MODULE_2__.clamp01)(hsl.l);
        return new TinyColor(hsl);
    };
    /**
     * Brighten the color a given amount, from 0 to 100.
     * @param amount - valid between 1-100
     */
    TinyColor.prototype.brighten = function (amount) {
        if (amount === void 0) { amount = 10; }
        var rgb = this.toRgb();
        rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));
        rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));
        rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));
        return new TinyColor(rgb);
    };
    /**
     * Darken the color a given amount, from 0 to 100.
     * Providing 100 will always return black.
     * @param amount - valid between 1-100
     */
    TinyColor.prototype.darken = function (amount) {
        if (amount === void 0) { amount = 10; }
        var hsl = this.toHsl();
        hsl.l -= amount / 100;
        hsl.l = (0,_util__WEBPACK_IMPORTED_MODULE_2__.clamp01)(hsl.l);
        return new TinyColor(hsl);
    };
    /**
     * Mix the color with pure white, from 0 to 100.
     * Providing 0 will do nothing, providing 100 will always return white.
     * @param amount - valid between 1-100
     */
    TinyColor.prototype.tint = function (amount) {
        if (amount === void 0) { amount = 10; }
        return this.mix('white', amount);
    };
    /**
     * Mix the color with pure black, from 0 to 100.
     * Providing 0 will do nothing, providing 100 will always return black.
     * @param amount - valid between 1-100
     */
    TinyColor.prototype.shade = function (amount) {
        if (amount === void 0) { amount = 10; }
        return this.mix('black', amount);
    };
    /**
     * Desaturate the color a given amount, from 0 to 100.
     * Providing 100 will is the same as calling greyscale
     * @param amount - valid between 1-100
     */
    TinyColor.prototype.desaturate = function (amount) {
        if (amount === void 0) { amount = 10; }
        var hsl = this.toHsl();
        hsl.s -= amount / 100;
        hsl.s = (0,_util__WEBPACK_IMPORTED_MODULE_2__.clamp01)(hsl.s);
        return new TinyColor(hsl);
    };
    /**
     * Saturate the color a given amount, from 0 to 100.
     * @param amount - valid between 1-100
     */
    TinyColor.prototype.saturate = function (amount) {
        if (amount === void 0) { amount = 10; }
        var hsl = this.toHsl();
        hsl.s += amount / 100;
        hsl.s = (0,_util__WEBPACK_IMPORTED_MODULE_2__.clamp01)(hsl.s);
        return new TinyColor(hsl);
    };
    /**
     * Completely desaturates a color into greyscale.
     * Same as calling `desaturate(100)`
     */
    TinyColor.prototype.greyscale = function () {
        return this.desaturate(100);
    };
    /**
     * Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.
     * Values outside of this range will be wrapped into this range.
     */
    TinyColor.prototype.spin = function (amount) {
        var hsl = this.toHsl();
        var hue = (hsl.h + amount) % 360;
        hsl.h = hue < 0 ? 360 + hue : hue;
        return new TinyColor(hsl);
    };
    /**
     * Mix the current color a given amount with another color, from 0 to 100.
     * 0 means no mixing (return current color).
     */
    TinyColor.prototype.mix = function (color, amount) {
        if (amount === void 0) { amount = 50; }
        var rgb1 = this.toRgb();
        var rgb2 = new TinyColor(color).toRgb();
        var p = amount / 100;
        var rgba = {
            r: (rgb2.r - rgb1.r) * p + rgb1.r,
            g: (rgb2.g - rgb1.g) * p + rgb1.g,
            b: (rgb2.b - rgb1.b) * p + rgb1.b,
            a: (rgb2.a - rgb1.a) * p + rgb1.a,
        };
        return new TinyColor(rgba);
    };
    TinyColor.prototype.analogous = function (results, slices) {
        if (results === void 0) { results = 6; }
        if (slices === void 0) { slices = 30; }
        var hsl = this.toHsl();
        var part = 360 / slices;
        var ret = [this];
        for (hsl.h = (hsl.h - ((part * results) >> 1) + 720) % 360; --results;) {
            hsl.h = (hsl.h + part) % 360;
            ret.push(new TinyColor(hsl));
        }
        return ret;
    };
    /**
     * taken from https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js
     */
    TinyColor.prototype.complement = function () {
        var hsl = this.toHsl();
        hsl.h = (hsl.h + 180) % 360;
        return new TinyColor(hsl);
    };
    TinyColor.prototype.monochromatic = function (results) {
        if (results === void 0) { results = 6; }
        var hsv = this.toHsv();
        var h = hsv.h;
        var s = hsv.s;
        var v = hsv.v;
        var res = [];
        var modification = 1 / results;
        while (results--) {
            res.push(new TinyColor({ h: h, s: s, v: v }));
            v = (v + modification) % 1;
        }
        return res;
    };
    TinyColor.prototype.splitcomplement = function () {
        var hsl = this.toHsl();
        var h = hsl.h;
        return [
            this,
            new TinyColor({ h: (h + 72) % 360, s: hsl.s, l: hsl.l }),
            new TinyColor({ h: (h + 216) % 360, s: hsl.s, l: hsl.l }),
        ];
    };
    /**
     * Compute how the color would appear on a background
     */
    TinyColor.prototype.onBackground = function (background) {
        var fg = this.toRgb();
        var bg = new TinyColor(background).toRgb();
        return new TinyColor({
            r: bg.r + (fg.r - bg.r) * fg.a,
            g: bg.g + (fg.g - bg.g) * fg.a,
            b: bg.b + (fg.b - bg.b) * fg.a,
        });
    };
    /**
     * Alias for `polyad(3)`
     */
    TinyColor.prototype.triad = function () {
        return this.polyad(3);
    };
    /**
     * Alias for `polyad(4)`
     */
    TinyColor.prototype.tetrad = function () {
        return this.polyad(4);
    };
    /**
     * Get polyad colors, like (for 1, 2, 3, 4, 5, 6, 7, 8, etc...)
     * monad, dyad, triad, tetrad, pentad, hexad, heptad, octad, etc...
     */
    TinyColor.prototype.polyad = function (n) {
        var hsl = this.toHsl();
        var h = hsl.h;
        var result = [this];
        var increment = 360 / n;
        for (var i = 1; i < n; i++) {
            result.push(new TinyColor({ h: (h + i * increment) % 360, s: hsl.s, l: hsl.l }));
        }
        return result;
    };
    /**
     * compare color vs current color
     */
    TinyColor.prototype.equals = function (color) {
        return this.toRgbString() === new TinyColor(color).toRgbString();
    };
    return TinyColor;
}());

// kept for backwards compatability with v1
function tinycolor(color, opts) {
    if (color === void 0) { color = ''; }
    if (opts === void 0) { opts = {}; }
    return new TinyColor(color, opts);
}


/***/ }),

/***/ "./node_modules/@ctrl/tinycolor/dist/module/random.js":
/*!************************************************************!*\
  !*** ./node_modules/@ctrl/tinycolor/dist/module/random.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "random": () => (/* binding */ random),
/* harmony export */   "bounds": () => (/* binding */ bounds)
/* harmony export */ });
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ "./node_modules/@ctrl/tinycolor/dist/module/index.js");
// randomColor by David Merfield under the CC0 license
// https://github.com/davidmerfield/randomColor/

function random(options) {
    if (options === void 0) { options = {}; }
    // Check if we need to generate multiple colors
    if (options.count !== undefined &&
        options.count !== null) {
        var totalColors = options.count;
        var colors = [];
        options.count = undefined;
        while (totalColors > colors.length) {
            // Since we're generating multiple colors,
            // incremement the seed. Otherwise we'd just
            // generate the same color each time...
            options.count = null;
            if (options.seed) {
                options.seed += 1;
            }
            colors.push(random(options));
        }
        options.count = totalColors;
        return colors;
    }
    // First we pick a hue (H)
    var h = pickHue(options.hue, options.seed);
    // Then use H to determine saturation (S)
    var s = pickSaturation(h, options);
    // Then use S and H to determine brightness (B).
    var v = pickBrightness(h, s, options);
    var res = { h: h, s: s, v: v };
    if (options.alpha !== undefined) {
        res.a = options.alpha;
    }
    // Then we return the HSB color in the desired format
    return new _index__WEBPACK_IMPORTED_MODULE_0__.TinyColor(res);
}
function pickHue(hue, seed) {
    var hueRange = getHueRange(hue);
    var res = randomWithin(hueRange, seed);
    // Instead of storing red as two seperate ranges,
    // we group them, using negative numbers
    if (res < 0) {
        res = 360 + res;
    }
    return res;
}
function pickSaturation(hue, options) {
    if (options.hue === 'monochrome') {
        return 0;
    }
    if (options.luminosity === 'random') {
        return randomWithin([0, 100], options.seed);
    }
    var saturationRange = getColorInfo(hue).saturationRange;
    var sMin = saturationRange[0];
    var sMax = saturationRange[1];
    switch (options.luminosity) {
        case 'bright':
            sMin = 55;
            break;
        case 'dark':
            sMin = sMax - 10;
            break;
        case 'light':
            sMax = 55;
            break;
        default:
            break;
    }
    return randomWithin([sMin, sMax], options.seed);
}
function pickBrightness(H, S, options) {
    var bMin = getMinimumBrightness(H, S);
    var bMax = 100;
    switch (options.luminosity) {
        case 'dark':
            bMax = bMin + 20;
            break;
        case 'light':
            bMin = (bMax + bMin) / 2;
            break;
        case 'random':
            bMin = 0;
            bMax = 100;
            break;
        default:
            break;
    }
    return randomWithin([bMin, bMax], options.seed);
}
function getMinimumBrightness(H, S) {
    var lowerBounds = getColorInfo(H).lowerBounds;
    for (var i = 0; i < lowerBounds.length - 1; i++) {
        var s1 = lowerBounds[i][0];
        var v1 = lowerBounds[i][1];
        var s2 = lowerBounds[i + 1][0];
        var v2 = lowerBounds[i + 1][1];
        if (S >= s1 && S <= s2) {
            var m = (v2 - v1) / (s2 - s1);
            var b = v1 - m * s1;
            return m * S + b;
        }
    }
    return 0;
}
function getHueRange(colorInput) {
    var num = parseInt(colorInput, 10);
    if (!Number.isNaN(num) && num < 360 && num > 0) {
        return [num, num];
    }
    if (typeof colorInput === 'string') {
        var namedColor = bounds.find(function (n) { return n.name === colorInput; });
        if (namedColor) {
            var color = defineColor(namedColor);
            if (color.hueRange) {
                return color.hueRange;
            }
        }
        var parsed = new _index__WEBPACK_IMPORTED_MODULE_0__.TinyColor(colorInput);
        if (parsed.isValid) {
            var hue = parsed.toHsv().h;
            return [hue, hue];
        }
    }
    return [0, 360];
}
function getColorInfo(hue) {
    // Maps red colors to make picking hue easier
    if (hue >= 334 && hue <= 360) {
        hue -= 360;
    }
    for (var _i = 0, bounds_1 = bounds; _i < bounds_1.length; _i++) {
        var bound = bounds_1[_i];
        var color = defineColor(bound);
        if (color.hueRange && hue >= color.hueRange[0] && hue <= color.hueRange[1]) {
            return color;
        }
    }
    throw Error('Color not found');
}
function randomWithin(range, seed) {
    if (seed === undefined) {
        return Math.floor(range[0] + Math.random() * (range[1] + 1 - range[0]));
    }
    // Seeded random algorithm from http://indiegamr.com/generate-repeatable-random-numbers-in-js/
    var max = range[1] || 1;
    var min = range[0] || 0;
    seed = (seed * 9301 + 49297) % 233280;
    var rnd = seed / 233280.0;
    return Math.floor(min + rnd * (max - min));
}
function defineColor(bound) {
    var sMin = bound.lowerBounds[0][0];
    var sMax = bound.lowerBounds[bound.lowerBounds.length - 1][0];
    var bMin = bound.lowerBounds[bound.lowerBounds.length - 1][1];
    var bMax = bound.lowerBounds[0][1];
    return {
        name: bound.name,
        hueRange: bound.hueRange,
        lowerBounds: bound.lowerBounds,
        saturationRange: [sMin, sMax],
        brightnessRange: [bMin, bMax],
    };
}
/**
 * @hidden
 */
var bounds = [
    {
        name: 'monochrome',
        hueRange: null,
        lowerBounds: [
            [0, 0],
            [100, 0],
        ],
    },
    {
        name: 'red',
        hueRange: [-26, 18],
        lowerBounds: [
            [20, 100],
            [30, 92],
            [40, 89],
            [50, 85],
            [60, 78],
            [70, 70],
            [80, 60],
            [90, 55],
            [100, 50],
        ],
    },
    {
        name: 'orange',
        hueRange: [19, 46],
        lowerBounds: [
            [20, 100],
            [30, 93],
            [40, 88],
            [50, 86],
            [60, 85],
            [70, 70],
            [100, 70],
        ],
    },
    {
        name: 'yellow',
        hueRange: [47, 62],
        lowerBounds: [
            [25, 100],
            [40, 94],
            [50, 89],
            [60, 86],
            [70, 84],
            [80, 82],
            [90, 80],
            [100, 75],
        ],
    },
    {
        name: 'green',
        hueRange: [63, 178],
        lowerBounds: [
            [30, 100],
            [40, 90],
            [50, 85],
            [60, 81],
            [70, 74],
            [80, 64],
            [90, 50],
            [100, 40],
        ],
    },
    {
        name: 'blue',
        hueRange: [179, 257],
        lowerBounds: [
            [20, 100],
            [30, 86],
            [40, 80],
            [50, 74],
            [60, 60],
            [70, 52],
            [80, 44],
            [90, 39],
            [100, 35],
        ],
    },
    {
        name: 'purple',
        hueRange: [258, 282],
        lowerBounds: [
            [20, 100],
            [30, 87],
            [40, 79],
            [50, 70],
            [60, 65],
            [70, 59],
            [80, 52],
            [90, 45],
            [100, 42],
        ],
    },
    {
        name: 'pink',
        hueRange: [283, 334],
        lowerBounds: [
            [20, 100],
            [30, 90],
            [40, 86],
            [60, 84],
            [80, 80],
            [90, 75],
            [100, 73],
        ],
    },
];


/***/ }),

/***/ "./node_modules/@ctrl/tinycolor/dist/module/readability.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@ctrl/tinycolor/dist/module/readability.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "readability": () => (/* binding */ readability),
/* harmony export */   "isReadable": () => (/* binding */ isReadable),
/* harmony export */   "mostReadable": () => (/* binding */ mostReadable)
/* harmony export */ });
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index */ "./node_modules/@ctrl/tinycolor/dist/module/index.js");

// Readability Functions
// ---------------------
// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)
/**
 * AKA `contrast`
 *
 * Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)
 */
function readability(color1, color2) {
    var c1 = new _index__WEBPACK_IMPORTED_MODULE_0__.TinyColor(color1);
    var c2 = new _index__WEBPACK_IMPORTED_MODULE_0__.TinyColor(color2);
    return ((Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) /
        (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05));
}
/**
 * Ensure that foreground and background color combinations meet WCAG2 guidelines.
 * The third argument is an object.
 *      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';
 *      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.
 * If the entire object is absent, isReadable defaults to {level:"AA",size:"small"}.
 *
 * Example
 * ```ts
 * new TinyColor().isReadable('#000', '#111') => false
 * new TinyColor().isReadable('#000', '#111', { level: 'AA', size: 'large' }) => false
 * ```
 */
function isReadable(color1, color2, wcag2) {
    var _a, _b;
    if (wcag2 === void 0) { wcag2 = { level: 'AA', size: 'small' }; }
    var readabilityLevel = readability(color1, color2);
    switch (((_a = wcag2.level) !== null && _a !== void 0 ? _a : 'AA') + ((_b = wcag2.size) !== null && _b !== void 0 ? _b : 'small')) {
        case 'AAsmall':
        case 'AAAlarge':
            return readabilityLevel >= 4.5;
        case 'AAlarge':
            return readabilityLevel >= 3;
        case 'AAAsmall':
            return readabilityLevel >= 7;
        default:
            return false;
    }
}
/**
 * Given a base color and a list of possible foreground or background
 * colors for that base, returns the most readable color.
 * Optionally returns Black or White if the most readable color is unreadable.
 *
 * @param baseColor - the base color.
 * @param colorList - array of colors to pick the most readable one from.
 * @param args - and object with extra arguments
 *
 * Example
 * ```ts
 * new TinyColor().mostReadable('#123', ['#124", "#125'], { includeFallbackColors: false }).toHexString(); // "#112255"
 * new TinyColor().mostReadable('#123', ['#124", "#125'],{ includeFallbackColors: true }).toHexString();  // "#ffffff"
 * new TinyColor().mostReadable('#a8015a', ["#faf3f3"], { includeFallbackColors:true, level: 'AAA', size: 'large' }).toHexString(); // "#faf3f3"
 * new TinyColor().mostReadable('#a8015a', ["#faf3f3"], { includeFallbackColors:true, level: 'AAA', size: 'small' }).toHexString(); // "#ffffff"
 * ```
 */
function mostReadable(baseColor, colorList, args) {
    if (args === void 0) { args = { includeFallbackColors: false, level: 'AA', size: 'small' }; }
    var bestColor = null;
    var bestScore = 0;
    var includeFallbackColors = args.includeFallbackColors, level = args.level, size = args.size;
    for (var _i = 0, colorList_1 = colorList; _i < colorList_1.length; _i++) {
        var color = colorList_1[_i];
        var score = readability(baseColor, color);
        if (score > bestScore) {
            bestScore = score;
            bestColor = new _index__WEBPACK_IMPORTED_MODULE_0__.TinyColor(color);
        }
    }
    if (isReadable(baseColor, bestColor, { level: level, size: size }) || !includeFallbackColors) {
        return bestColor;
    }
    args.includeFallbackColors = false;
    return mostReadable(baseColor, ['#fff', '#000'], args);
}


/***/ }),

/***/ "./node_modules/@ctrl/tinycolor/dist/module/util.js":
/*!**********************************************************!*\
  !*** ./node_modules/@ctrl/tinycolor/dist/module/util.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "bound01": () => (/* binding */ bound01),
/* harmony export */   "clamp01": () => (/* binding */ clamp01),
/* harmony export */   "isOnePointZero": () => (/* binding */ isOnePointZero),
/* harmony export */   "isPercentage": () => (/* binding */ isPercentage),
/* harmony export */   "boundAlpha": () => (/* binding */ boundAlpha),
/* harmony export */   "convertToPercentage": () => (/* binding */ convertToPercentage),
/* harmony export */   "pad2": () => (/* binding */ pad2)
/* harmony export */ });
/**
 * Take input from [0, n] and return it as [0, 1]
 * @hidden
 */
function bound01(n, max) {
    if (isOnePointZero(n)) {
        n = '100%';
    }
    var isPercent = isPercentage(n);
    n = max === 360 ? n : Math.min(max, Math.max(0, parseFloat(n)));
    // Automatically convert percentage into number
    if (isPercent) {
        n = parseInt(String(n * max), 10) / 100;
    }
    // Handle floating point rounding errors
    if (Math.abs(n - max) < 0.000001) {
        return 1;
    }
    // Convert into [0, 1] range if it isn't already
    if (max === 360) {
        // If n is a hue given in degrees,
        // wrap around out-of-range values into [0, 360] range
        // then convert into [0, 1].
        n = (n < 0 ? (n % max) + max : n % max) / parseFloat(String(max));
    }
    else {
        // If n not a hue given in degrees
        // Convert into [0, 1] range if it isn't already.
        n = (n % max) / parseFloat(String(max));
    }
    return n;
}
/**
 * Force a number between 0 and 1
 * @hidden
 */
function clamp01(val) {
    return Math.min(1, Math.max(0, val));
}
/**
 * Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1
 * <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>
 * @hidden
 */
function isOnePointZero(n) {
    return typeof n === 'string' && n.indexOf('.') !== -1 && parseFloat(n) === 1;
}
/**
 * Check to see if string passed in is a percentage
 * @hidden
 */
function isPercentage(n) {
    return typeof n === 'string' && n.indexOf('%') !== -1;
}
/**
 * Return a valid alpha value [0,1] with all invalid values being set to 1
 * @hidden
 */
function boundAlpha(a) {
    a = parseFloat(a);
    if (isNaN(a) || a < 0 || a > 1) {
        a = 1;
    }
    return a;
}
/**
 * Replace a decimal with it's percentage value
 * @hidden
 */
function convertToPercentage(n) {
    if (n <= 1) {
        return Number(n) * 100 + "%";
    }
    return n;
}
/**
 * Force a hex value to have 2 characters
 * @hidden
 */
function pad2(c) {
    return c.length === 1 ? '0' + c : String(c);
}


/***/ }),

/***/ "./node_modules/@reach/alert/dist/reach-alert.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/@reach/alert/dist/reach-alert.esm.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "Alert": () => (/* binding */ Alert)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var _reach_visually_hidden__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @reach/visually-hidden */ "./node_modules/@reach/visually-hidden/dist/reach-visually-hidden.esm.js");
/* harmony import */ var _reach_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @reach/utils */ "./node_modules/@reach/utils/dist/reach-utils.esm.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);






function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

/*
 * Singleton state is fine because you don't server render
 * an alert (SRs don't read them on first load anyway)
 */

var keys = {
  polite: -1,
  assertive: -1
};
var elements = {
  polite: {},
  assertive: {}
};
var liveRegions = {
  polite: null,
  assertive: null
};
var renderTimer; ////////////////////////////////////////////////////////////////////////////////

/**
 * Alert
 *
 * Screen-reader-friendly alert messages. In many apps developers add "alert"
 * messages when network events or other things happen. Users with assistive
 * technologies may not know about the message unless you develop for it.
 *
 * @see Docs https://reach.tech/alert
 */

var Alert = /*#__PURE__*/(0,_reach_utils__WEBPACK_IMPORTED_MODULE_3__.forwardRefWithAs)(function Alert(_ref, forwardedRef) {
  var _ref$as = _ref.as,
      Comp = _ref$as === void 0 ? "div" : _ref$as,
      children = _ref.children,
      _ref$type = _ref.type,
      regionType = _ref$type === void 0 ? "polite" : _ref$type,
      props = _objectWithoutPropertiesLoose(_ref, ["as", "children", "type"]);

  var ownRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var ref = (0,_reach_utils__WEBPACK_IMPORTED_MODULE_3__.useForkedRef)(forwardedRef, ownRef);
  var child = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Comp, _extends({}, props, {
      ref: ref,
      "data-reach-alert": true
    }), children);
  }, // eslint-disable-next-line react-hooks/exhaustive-deps
  [children, props]);
  useMirrorEffects(regionType, child, ownRef);
  return child;
});
/**
 * @see Docs https://reach.tech/alert#alert-props
 */

if (true) {
  Alert.displayName = "Alert";
  Alert.propTypes = {
    children: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().node),
    type: /*#__PURE__*/prop_types__WEBPACK_IMPORTED_MODULE_4___default().oneOf(["assertive", "polite"])
  };
} ////////////////////////////////////////////////////////////////////////////////


function createMirror(type, doc) {
  var key = ++keys[type];

  var mount = function mount(element) {
    if (liveRegions[type]) {
      elements[type][key] = element;
      renderAlerts();
    } else {
      var node = doc.createElement("div");
      node.setAttribute("data-reach-live-" + type, "true");
      liveRegions[type] = node;
      doc.body.appendChild(liveRegions[type]);
      mount(element);
    }
  };

  var update = function update(element) {
    elements[type][key] = element;
    renderAlerts();
  };

  var unmount = function unmount() {
    delete elements[type][key];
    renderAlerts();
  };

  return {
    mount: mount,
    update: update,
    unmount: unmount
  };
}

function renderAlerts() {
  if (renderTimer != null) {
    window.clearTimeout(renderTimer);
  }

  renderTimer = window.setTimeout(function () {
    Object.keys(elements).forEach(function (elementType) {
      var regionType = elementType;
      var container = liveRegions[regionType];

      if (container) {
        (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.render)( /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(_reach_visually_hidden__WEBPACK_IMPORTED_MODULE_2__.VisuallyHidden, {
          as: "div"
        }, /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)("div", {
          // The status role is a type of live region and a container whose
          // content is advisory information for the user that is not
          // important enough to justify an alert, and is often presented as
          // a status bar. When the role is added to an element, the browser
          // will send out an accessible status event to assistive
          // technology products which can then notify the user about it.
          // https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_status_role
          role: regionType === "assertive" ? "alert" : "status",
          "aria-live": regionType
        }, Object.keys(elements[regionType]).map(function (key) {
          return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.cloneElement)(elements[regionType][key], {
            key: key,
            ref: null
          });
        }))), liveRegions[regionType]);
      }
    });
  }, 500);
}

function useMirrorEffects(regionType, element, ref) {
  var prevType = (0,_reach_utils__WEBPACK_IMPORTED_MODULE_3__.usePrevious)(regionType);
  var mirror = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  var mounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    var ownerDocument = (0,_reach_utils__WEBPACK_IMPORTED_MODULE_3__.getOwnerDocument)(ref.current);

    if (!mounted.current) {
      mounted.current = true;
      mirror.current = createMirror(regionType, ownerDocument);
      mirror.current.mount(element);
    } else if (prevType !== regionType) {
      mirror.current && mirror.current.unmount();
      mirror.current = createMirror(regionType, ownerDocument);
      mirror.current.mount(element);
    } else {
      mirror.current && mirror.current.update(element);
    }
  }, [element, regionType, prevType, ref]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    return function () {
      mirror.current && mirror.current.unmount();
    };
  }, []);
} ////////////////////////////////////////////////////////////////////////////////

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Alert);



/***/ }),

/***/ "./node_modules/@reach/utils/dist/reach-utils.esm.js":
/*!***********************************************************!*\
  !*** ./node_modules/@reach/utils/dist/reach-utils.esm.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
var react__WEBPACK_IMPORTED_MODULE_0___namespace_cache;
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assignRef": () => (/* binding */ assignRef),
/* harmony export */   "boolOrBoolString": () => (/* binding */ boolOrBoolString),
/* harmony export */   "canUseDOM": () => (/* binding */ canUseDOM),
/* harmony export */   "checkStyles": () => (/* binding */ checkStyles),
/* harmony export */   "cloneValidElement": () => (/* binding */ cloneValidElement),
/* harmony export */   "createNamedContext": () => (/* binding */ createNamedContext),
/* harmony export */   "forwardRefWithAs": () => (/* binding */ forwardRefWithAs),
/* harmony export */   "getDocumentDimensions": () => (/* binding */ getDocumentDimensions),
/* harmony export */   "getElementComputedStyle": () => (/* binding */ getElementComputedStyle),
/* harmony export */   "getOwnerDocument": () => (/* binding */ getOwnerDocument),
/* harmony export */   "getOwnerWindow": () => (/* binding */ getOwnerWindow),
/* harmony export */   "getScrollPosition": () => (/* binding */ getScrollPosition),
/* harmony export */   "getScrollbarOffset": () => (/* binding */ getScrollbarOffset),
/* harmony export */   "isBoolean": () => (/* binding */ isBoolean),
/* harmony export */   "isFunction": () => (/* binding */ isFunction),
/* harmony export */   "isNumber": () => (/* binding */ isNumber),
/* harmony export */   "isRightClick": () => (/* binding */ isRightClick),
/* harmony export */   "isString": () => (/* binding */ isString),
/* harmony export */   "makeId": () => (/* binding */ makeId),
/* harmony export */   "memoWithAs": () => (/* binding */ memoWithAs),
/* harmony export */   "noop": () => (/* binding */ noop),
/* harmony export */   "ponyfillGlobal": () => (/* binding */ ponyfillGlobal),
/* harmony export */   "stateToAttributeString": () => (/* binding */ stateToAttributeString),
/* harmony export */   "useCallbackProp": () => (/* binding */ useCallbackProp),
/* harmony export */   "useCheckStyles": () => (/* binding */ useCheckStyles),
/* harmony export */   "useConstant": () => (/* binding */ useConstant),
/* harmony export */   "useControlledState": () => (/* binding */ useControlledState),
/* harmony export */   "useControlledSwitchWarning": () => (/* binding */ useControlledSwitchWarning),
/* harmony export */   "useEventCallback": () => (/* binding */ useEventCallback),
/* harmony export */   "useEventListener": () => (/* binding */ useEventListener),
/* harmony export */   "useFocusChange": () => (/* binding */ useFocusChange),
/* harmony export */   "useForceUpdate": () => (/* binding */ useForceUpdate),
/* harmony export */   "useForkedRef": () => (/* binding */ useForkedRef),
/* harmony export */   "useIsomorphicLayoutEffect": () => (/* binding */ useIsomorphicLayoutEffect),
/* harmony export */   "useLazyRef": () => (/* binding */ useLazyRef),
/* harmony export */   "usePrevious": () => (/* binding */ usePrevious),
/* harmony export */   "useStableCallback": () => (/* binding */ useStableCallback),
/* harmony export */   "useStateLogger": () => (/* binding */ useStateLogger),
/* harmony export */   "useUpdateEffect": () => (/* binding */ useUpdateEffect),
/* harmony export */   "warning": () => (/* binding */ warning),
/* harmony export */   "wrapEvent": () => (/* binding */ wrapEvent)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var warning__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! warning */ "./node_modules/warning/warning.js");
/* harmony import */ var warning__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(warning__WEBPACK_IMPORTED_MODULE_1__);




/* eslint-disable no-restricted-globals, eqeqeq  */

/**
 * React currently throws a warning when using useLayoutEffect on the server.
 * To get around it, we can conditionally useEffect on the server (no-op) and
 * useLayoutEffect in the browser. We occasionally need useLayoutEffect to
 * ensure we don't get a render flash for certain operations, but we may also
 * need affected components to render on the server. One example is when setting
 * a component's descendants to retrieve their index values.
 *
 * Important to note that using this hook as an escape hatch will break the
 * eslint dependency warnings unless you rename the import to `useLayoutEffect`.
 * Use sparingly only when the effect won't effect the rendered HTML to avoid
 * any server/client mismatch.
 *
 * If a useLayoutEffect is needed and the result would create a mismatch, it's
 * likely that the component in question shouldn't be rendered on the server at
 * all, so a better approach would be to lazily render those in a parent
 * component after client-side hydration.
 *
 * TODO: We are calling useLayoutEffect in a couple of places that will likely
 * cause some issues for SSR users, whether the warning shows or not. Audit and
 * fix these.
 *
 * https://gist.github.com/gaearon/e7d97cdf38a2907924ea12e4ebdf3c85
 * https://github.com/reduxjs/react-redux/blob/master/src/utils/useIsomorphicLayoutEffect.js
 *
 * @param effect
 * @param deps
 */
var useIsomorphicLayoutEffect = /*#__PURE__*/canUseDOM() ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;
var checkedPkgs = {};
/**
 * Copy of Facebook's warning package.
 *
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical paths.
 * Removing the logging code for production environments will keep the same
 * logic and follow the same code paths.
 *
 * @see https://github.com/BerkeleyTrue/warning/blob/master/warning.js
 */

var warning = (warning__WEBPACK_IMPORTED_MODULE_1___default());
/**
 * When in dev mode, checks that styles for a given @reach package are loaded.
 *
 * @param packageName Name of the package to check.
 * @example checkStyles("dialog") will check for styles for @reach/dialog
 */

var checkStyles = noop;

if (true) {
  // In CJS files, process.env.NODE_ENV is stripped from our build, but we need
  // it to prevent style checks from clogging up user logs while testing.
  // This is a workaround until we can tweak the build a bit to accommodate.
  var _ref = typeof process !== "undefined" ? process : {
    env: {
      NODE_ENV: "development"
    }
  },
      env = _ref.env;

  checkStyles = function checkStyles(packageName) {
    // only check once per package
    if (checkedPkgs[packageName]) return;
    checkedPkgs[packageName] = true;

    if (env.NODE_ENV !== "test" && parseInt(window.getComputedStyle(document.body).getPropertyValue("--reach-" + packageName), 10) !== 1) {
      console.warn("@reach/" + packageName + " styles not found. If you are using a bundler like webpack or parcel include this in the entry file of your app before any of your own styles:\n\n    import \"@reach/" + packageName + "/styles.css\";\n\n  Otherwise you'll need to include them some other way:\n\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"node_modules/@reach/" + packageName + "/styles.css\" />\n\n  For more information visit https://ui.reach.tech/styling.\n  ");
    }
  };
}
/**
 * Ponyfill for the global object in some environments.
 *
 * @link https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
 */

var ponyfillGlobal = typeof window != "undefined" && window.Math == Math ? window : typeof self != "undefined" && self.Math == Math ? self :
/*#__PURE__*/
// eslint-disable-next-line no-new-func
Function("return this")();
/**
 * Passes or assigns an arbitrary value to a ref function or object.
 *
 * @param ref
 * @param value
 */

function assignRef(ref, value) {
  if (ref == null) return;

  if (isFunction(ref)) {
    ref(value);
  } else {
    try {
      ref.current = value;
    } catch (error) {
      throw new Error("Cannot assign value \"" + value + "\" to ref \"" + ref + "\"");
    }
  }
}
/**
 * Checks true|"true" vs false|"false"
 *
 * @param value
 */

function boolOrBoolString(value) {
  return value === "true" ? true : isBoolean(value) ? value : false;
}
function canUseDOM() {
  return !!(typeof window !== "undefined" && window.document && window.document.createElement);
}
/**
 * Type-safe clone element
 *
 * @param element
 * @param props
 * @param children
 */

function cloneValidElement(element, props) {
  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {
    children[_key - 2] = arguments[_key];
  }

  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(element) ? react__WEBPACK_IMPORTED_MODULE_0__.cloneElement.apply(/*#__PURE__*/ (react__WEBPACK_IMPORTED_MODULE_0___namespace_cache || (react__WEBPACK_IMPORTED_MODULE_0___namespace_cache = __webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__, 2))), [element, props].concat(children)) : element;
}
function createNamedContext(name, defaultValue) {
  var Ctx = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(defaultValue);
  Ctx.displayName = name;
  return Ctx;
}
/**
 * This is a hack for sure. The thing is, getting a component to intelligently
 * infer props based on a component or JSX string passed into an `as` prop is
 * kind of a huge pain. Getting it to work and satisfy the constraints of
 * `forwardRef` seems dang near impossible. To avoid needing to do this awkward
 * type song-and-dance every time we want to forward a ref into a component
 * that accepts an `as` prop, we abstract all of that mess to this function for
 * the time time being.
 */

function forwardRefWithAs(render) {
  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(render);
}
function memoWithAs(Component, propsAreEqual) {
  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.memo)(Component, propsAreEqual);
}
/**
 * Get the size of the working document minus the scrollbar offset.
 *
 * @param element
 */

function getDocumentDimensions(element) {
  var _ownerDocument$docume, _ownerDocument$docume2;

  var ownerDocument = getOwnerDocument(element);
  var ownerWindow = ownerDocument.defaultView || window;

  if (!ownerDocument) {
    return {
      width: 0,
      height: 0
    };
  }

  return {
    width: (_ownerDocument$docume = ownerDocument.documentElement.clientWidth) != null ? _ownerDocument$docume : ownerWindow.innerWidth,
    height: (_ownerDocument$docume2 = ownerDocument.documentElement.clientHeight) != null ? _ownerDocument$docume2 : ownerWindow.innerHeight
  };
}
/**
 * Get the scoll position of the global window object relative to a given node.
 *
 * @param element
 */

function getScrollPosition(element) {
  var ownerDocument = getOwnerDocument(element);
  var ownerWindow = ownerDocument.defaultView || window;

  if (!ownerDocument) {
    return {
      scrollX: 0,
      scrollY: 0
    };
  }

  return {
    scrollX: ownerWindow.scrollX,
    scrollY: ownerWindow.scrollY
  };
}
/**
 * Get a computed style value by property.
 *
 * @param element
 * @param styleProp
 */

function getElementComputedStyle(element, styleProp) {
  var ownerDocument = getOwnerDocument(element);
  var ownerWindow = (ownerDocument == null ? void 0 : ownerDocument.defaultView) || window;

  if (ownerWindow) {
    return ownerWindow.getComputedStyle(element, null).getPropertyValue(styleProp);
  }

  return null;
}
/**
 * Get an element's owner document. Useful when components are used in iframes
 * or other environments like dev tools.
 *
 * @param element
 */

function getOwnerDocument(element) {
  return canUseDOM() ? element ? element.ownerDocument : document : null;
}
/**
 * TODO: Remove in 1.0
 */

function getOwnerWindow(element) {
  var ownerDocument = getOwnerDocument(element);
  return ownerDocument ? ownerDocument.defaultView || window : null;
}
/**
 * Get the scrollbar offset distance.
 *
 * TODO: Remove in 1.0 (we used this in public examples)
 */

function getScrollbarOffset() {
  try {
    if (window.innerWidth > document.documentElement.clientWidth) {
      return window.innerWidth - document.documentElement.clientWidth;
    }
  } catch (err) {}

  return 0;
}
/**
 * Checks whether or not a value is a boolean.
 *
 * @param value
 */

function isBoolean(value) {
  return typeof value === "boolean";
}
/**
 * Checks whether or not a value is a function.
 *
 * @param value
 */

function isFunction(value) {
  return !!(value && {}.toString.call(value) == "[object Function]");
}
/**
 * Checks whether or not a value is a number.
 *
 * @param value
 */

function isNumber(value) {
  return typeof value === "number" && !isNaN(value);
}
/**
 * Detects right clicks
 *
 * @param nativeEvent
 */

function isRightClick(nativeEvent) {
  return "which" in nativeEvent ? nativeEvent.which === 3 : "button" in nativeEvent ? nativeEvent.button === 2 : false;
}
/**
 * Checks whether or not a value is a string.
 *
 * @param value
 */

function isString(value) {
  return typeof value === "string";
}
/**
 * Joins strings to format IDs for compound components.
 *
 * @param args
 */

function makeId() {
  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    args[_key2] = arguments[_key2];
  }

  return args.filter(function (val) {
    return val != null;
  }).join("--");
}
/**
 * No-op function.
 */

function noop() {}
/**
 * Convert our state strings for HTML data attributes.
 * No need for a fancy kebab-caser here, we know what our state strings are!
 *
 * @param state
 */

function stateToAttributeString(state) {
  return String(state).replace(/([\s_]+)/g, "-").toLowerCase();
}
/**
 * Check if a component is controlled or uncontrolled and return the correct
 * state value and setter accordingly. If the component state is controlled by
 * the app, the setter is a noop.
 *
 * @param controlledValue
 * @param defaultValue
 */

function useControlledState(controlledValue, defaultValue) {
  var controlledRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(controlledValue != null);

  var _React$useState = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue),
      valueState = _React$useState[0],
      setValue = _React$useState[1];

  var set = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (n) {
    if (!controlledRef.current) {
      setValue(n);
    }
  }, []);
  return [controlledRef.current ? controlledValue : valueState, set];
}
/**
 * Logs a warning in dev mode when a component switches from controlled to
 * uncontrolled, or vice versa
 *
 * A single prop should typically be used to determine whether or not a
 * component is controlled or not.
 *
 * @param controlledValue
 * @param controlledPropName
 * @param componentName
 */

var useControlledSwitchWarning = noop;

if (true) {
  useControlledSwitchWarning = function useControlledSwitchWarning(controlledValue, controlledPropName, componentName) {
    var controlledRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(controlledValue != null);
    var nameCache = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({
      componentName: componentName,
      controlledPropName: controlledPropName
    });
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
      nameCache.current = {
        componentName: componentName,
        controlledPropName: controlledPropName
      };
    }, [componentName, controlledPropName]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
      var wasControlled = controlledRef.current;
      var _nameCache$current = nameCache.current,
          componentName = _nameCache$current.componentName,
          controlledPropName = _nameCache$current.controlledPropName;
      var isControlled = controlledValue != null;

      if (wasControlled !== isControlled) {
        console.error("A component is changing an " + (wasControlled ? "" : "un") + "controlled `" + controlledPropName + "` state of " + componentName + " to be " + (wasControlled ? "un" : "") + "controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled " + componentName + " element for the lifetime of the component.\nMore info: https://fb.me/react-controlled-components");
      }
    }, [controlledValue]);
  };
}
var useCheckStyles = noop;

if (true) {
  useCheckStyles = function useCheckStyles(pkg) {
    var name = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(pkg);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
      return void (name.current = pkg);
    }, [pkg]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
      return checkStyles(name.current);
    }, []);
  };
}
/**
 * React hook for creating a value exactly once.
 * @see https://github.com/Andarist/use-constant
 */

function useConstant(fn) {
  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();

  if (!ref.current) {
    ref.current = {
      v: fn()
    };
  }

  return ref.current.v;
}
/**
 * @param callback
 */

function useEventCallback(callback) {
  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(callback);
  useIsomorphicLayoutEffect(function () {
    ref.current = callback;
  });
  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function (event) {
    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
      args[_key3 - 1] = arguments[_key3];
    }

    return ref.current.apply(ref, [event].concat(args));
  }, []);
}
function useLazyRef(fn) {
  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({
    __internalSet: true
  });

  if (ref.current && ref.current.__internalSet === true) {
    ref.current = fn();
  }

  return ref;
}
/**
 * TODO: Remove in 1.0
 * @alias useStableCallback
 * @param callback
 */

var useCallbackProp = useStableCallback;
/**
 * Adds a DOM event listener
 *
 * @param eventName
 * @param listener
 * @param element
 */

function useEventListener(eventName, listener, element) {
  if (element === void 0) {
    element = window;
  }

  var savedHandler = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(listener);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    savedHandler.current = listener;
  }, [listener]);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    var isSupported = element && element.addEventListener;

    if (!isSupported) {
      if (true) {
        console.warn("Event listener not supported on the element provided");
      }

      return;
    }

    function eventListener(event) {
      savedHandler.current(event);
    }

    element.addEventListener(eventName, eventListener);
    return function () {
      element.removeEventListener(eventName, eventListener);
    };
  }, [eventName, element]);
}
/**
 * Detect when focus changes in our document.
 *
 * @param handleChange
 * @param when
 * @param ownerDocument
 */

function useFocusChange(handleChange, when, ownerDocument) {
  if (handleChange === void 0) {
    handleChange = console.log;
  }

  if (when === void 0) {
    when = "focus";
  }

  if (ownerDocument === void 0) {
    ownerDocument = document;
  }

  var lastActiveElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(ownerDocument.activeElement);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    lastActiveElement.current = ownerDocument.activeElement;

    function onChange(event) {
      if (lastActiveElement.current !== ownerDocument.activeElement) {
        handleChange(ownerDocument.activeElement, lastActiveElement.current, event);
        lastActiveElement.current = ownerDocument.activeElement;
      }
    }

    ownerDocument.addEventListener(when, onChange, true);
    return function () {
      ownerDocument.removeEventListener(when, onChange);
    };
  }, [when, handleChange, ownerDocument]);
}
/**
 * Forces a re-render, similar to `forceUpdate` in class components.
 */

function useForceUpdate() {
  var _React$useState2 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(Object.create(null)),
      dispatch = _React$useState2[1];

  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    dispatch(Object.create(null));
  }, []);
}
/**
 * Passes or assigns a value to multiple refs (typically a DOM node). Useful for
 * dealing with components that need an explicit ref for DOM calculations but
 * also forwards refs assigned by an app.
 *
 * @param refs Refs to fork
 */

function useForkedRef() {
  for (var _len4 = arguments.length, refs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
    refs[_key4] = arguments[_key4];
  }

  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(function () {
    if (refs.every(function (ref) {
      return ref == null;
    })) {
      return null;
    }

    return function (node) {
      refs.forEach(function (ref) {
        assignRef(ref, node);
      });
    }; // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [].concat(refs));
}
/**
 * Returns the previous value of a reference after a component update.
 *
 * @param value
 */

function usePrevious(value) {
  var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    ref.current = value;
  }, [value]);
  return ref.current;
}
/**
 * Converts a callback to a ref to avoid triggering re-renders when passed as a
 * prop and exposed as a stable function to avoid executing effects when
 * passed as a dependency.
 */

function useStableCallback(callback) {
  var callbackRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(callback);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    callbackRef.current = callback;
  }); // eslint-disable-next-line react-hooks/exhaustive-deps

  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function () {
    callbackRef.current && callbackRef.current.apply(callbackRef, arguments);
  }, []);
}
/**
 * Call an effect after a component update, skipping the initial mount.
 *
 * @param effect Effect to call
 * @param deps Effect dependency list
 */

function useUpdateEffect(effect, deps) {
  var mounted = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(false);
  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
    if (mounted.current) {
      effect();
    } else {
      mounted.current = true;
    } // eslint-disable-next-line react-hooks/exhaustive-deps

  }, deps);
}
/**
 * Just a lil state logger
 *
 * @param state
 * @param DEBUG
 */

var useStateLogger = noop;

if (true) {
  useStateLogger = function useStateLogger(state, DEBUG) {
    if (DEBUG === void 0) {
      DEBUG = false;
    }

    var debugRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(DEBUG);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
      debugRef.current = DEBUG;
    }, [DEBUG]);
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(function () {
      if (debugRef.current) {
        console.group("State Updated");
        console.log("%c" + state, "font-weight: normal; font-size: 120%; font-style: italic;");
        console.groupEnd();
      }
    }, [state]);
  };
}
/**
 * Wraps a lib-defined event handler and a user-defined event handler, returning
 * a single handler that allows a user to prevent lib-defined handlers from
 * firing.
 *
 * @param theirHandler User-supplied event handler
 * @param ourHandler Library-supplied event handler
 */

function wrapEvent(theirHandler, ourHandler) {
  return function (event) {
    theirHandler && theirHandler(event);

    if (!event.defaultPrevented) {
      return ourHandler(event);
    }
  };
} // Export types




/***/ }),

/***/ "./node_modules/@reach/visually-hidden/dist/reach-visually-hidden.esm.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@reach/visually-hidden/dist/reach-visually-hidden.esm.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__),
/* harmony export */   "VisuallyHidden": () => (/* binding */ VisuallyHidden)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);



function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];

      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }

    return target;
  };

  return _extends.apply(this, arguments);
}

function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

/**
 * VisuallyHidden
 *
 * Provides text for screen readers that is visually hidden.
 * It is the logical opposite of the `aria-hidden` attribute.
 */

var VisuallyHidden = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(function VisuallyHidden(_ref, ref) {
  var _ref$as = _ref.as,
      Comp = _ref$as === void 0 ? "span" : _ref$as,
      _ref$style = _ref.style,
      style = _ref$style === void 0 ? {} : _ref$style,
      props = _objectWithoutPropertiesLoose(_ref, ["as", "style"]);

  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_0__.createElement)(Comp, _extends({
    ref: ref,
    style: _extends({
      border: 0,
      clip: "rect(0 0 0 0)",
      height: "1px",
      margin: "-1px",
      overflow: "hidden",
      padding: 0,
      position: "absolute",
      width: "1px",
      // https://medium.com/@jessebeach/beware-smushed-off-screen-accessible-text-5952a4c2cbfe
      whiteSpace: "nowrap",
      wordWrap: "normal"
    }, style)
  }, props));
});
/**
 * @see Docs https://reach.tech/visually-hidden#visuallyhidden-props
 */

if (true) {
  VisuallyHidden.displayName = "VisuallyHidden";
  VisuallyHidden.propTypes = {
    as: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().any),
    children: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().node)
  };
} ////////////////////////////////////////////////////////////////////////////////

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (VisuallyHidden);



/***/ }),

/***/ "./node_modules/aria-hidden/dist/es2015/index.js":
/*!*******************************************************!*\
  !*** ./node_modules/aria-hidden/dist/es2015/index.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "hideOthers": () => (/* binding */ hideOthers)
/* harmony export */ });
var getDefaultParent = function (originalTarget) {
    if (typeof document === 'undefined') {
        return null;
    }
    var sampleTarget = Array.isArray(originalTarget) ? originalTarget[0] : originalTarget;
    return sampleTarget.ownerDocument.body;
};
var counterMap = new WeakMap();
var uncontrolledNodes = new WeakMap();
var markerMap = {};
var lockCount = 0;
var hideOthers = function (originalTarget, parentNode, markerName) {
    if (parentNode === void 0) { parentNode = getDefaultParent(originalTarget); }
    if (markerName === void 0) { markerName = "data-aria-hidden"; }
    var targets = Array.isArray(originalTarget) ? originalTarget : [originalTarget];
    if (!markerMap[markerName]) {
        markerMap[markerName] = new WeakMap();
    }
    var markerCounter = markerMap[markerName];
    var hiddenNodes = [];
    var elementsToKeep = new Set();
    var keep = (function (el) {
        if (!el || elementsToKeep.has(el)) {
            return;
        }
        elementsToKeep.add(el);
        keep(el.parentNode);
    });
    targets.forEach(keep);
    var deep = function (parent) {
        if (!parent || targets.indexOf(parent) >= 0) {
            return;
        }
        Array.prototype.forEach.call(parent.children, function (node) {
            if (elementsToKeep.has(node)) {
                deep(node);
            }
            else {
                var attr = node.getAttribute('aria-hidden');
                var alreadyHidden = attr !== null && attr !== 'false';
                var counterValue = (counterMap.get(node) || 0) + 1;
                var markerValue = (markerCounter.get(node) || 0) + 1;
                counterMap.set(node, counterValue);
                markerCounter.set(node, markerValue);
                hiddenNodes.push(node);
                if (counterValue === 1 && alreadyHidden) {
                    uncontrolledNodes.set(node, true);
                }
                if (markerValue === 1) {
                    node.setAttribute(markerName, 'true');
                }
                if (!alreadyHidden) {
                    node.setAttribute('aria-hidden', 'true');
                }
            }
        });
    };
    deep(parentNode);
    elementsToKeep.clear();
    lockCount++;
    return function () {
        hiddenNodes.forEach(function (node) {
            var counterValue = counterMap.get(node) - 1;
            var markerValue = markerCounter.get(node) - 1;
            counterMap.set(node, counterValue);
            markerCounter.set(node, markerValue);
            if (!counterValue) {
                if (!uncontrolledNodes.has(node)) {
                    node.removeAttribute('aria-hidden');
                }
                uncontrolledNodes.delete(node);
            }
            if (!markerValue) {
                node.removeAttribute(markerName);
            }
        });
        lockCount--;
        if (!lockCount) {
            counterMap = new WeakMap();
            counterMap = new WeakMap();
            uncontrolledNodes = new WeakMap();
            markerMap = {};
        }
    };
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/constants.js":
/*!**********************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/constants.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FOCUS_GROUP": () => (/* binding */ FOCUS_GROUP),
/* harmony export */   "FOCUS_DISABLED": () => (/* binding */ FOCUS_DISABLED),
/* harmony export */   "FOCUS_ALLOW": () => (/* binding */ FOCUS_ALLOW),
/* harmony export */   "FOCUS_AUTO": () => (/* binding */ FOCUS_AUTO)
/* harmony export */ });
var FOCUS_GROUP = 'data-focus-lock';
var FOCUS_DISABLED = 'data-focus-lock-disabled';
var FOCUS_ALLOW = 'data-no-focus-lock';
var FOCUS_AUTO = 'data-autofocus-inside';


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/focusInside.js":
/*!************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/focusInside.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "focusInside": () => (/* binding */ focusInside)
/* harmony export */ });
/* harmony import */ var _utils_all_affected__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/all-affected */ "./node_modules/focus-lock/dist/es2015/utils/all-affected.js");
/* harmony import */ var _utils_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/array */ "./node_modules/focus-lock/dist/es2015/utils/array.js");


var focusInFrame = function (frame) { return frame === document.activeElement; };
var focusInsideIframe = function (topNode) {
    return Boolean((0,_utils_array__WEBPACK_IMPORTED_MODULE_0__.toArray)(topNode.querySelectorAll('iframe')).some(function (node) { return focusInFrame(node); }));
};
var focusInside = function (topNode) {
    var activeElement = document && document.activeElement;
    if (!activeElement || (activeElement.dataset && activeElement.dataset.focusGuard)) {
        return false;
    }
    return (0,_utils_all_affected__WEBPACK_IMPORTED_MODULE_1__.getAllAffectedNodes)(topNode).reduce(function (result, node) { return result || node.contains(activeElement) || focusInsideIframe(node); }, false);
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/focusIsHidden.js":
/*!**************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/focusIsHidden.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "focusIsHidden": () => (/* binding */ focusIsHidden)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./node_modules/focus-lock/dist/es2015/constants.js");
/* harmony import */ var _utils_array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/array */ "./node_modules/focus-lock/dist/es2015/utils/array.js");


var focusIsHidden = function () {
    return document &&
        (0,_utils_array__WEBPACK_IMPORTED_MODULE_0__.toArray)(document.querySelectorAll("[" + _constants__WEBPACK_IMPORTED_MODULE_1__.FOCUS_ALLOW + "]")).some(function (node) { return node.contains(document.activeElement); });
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/focusMerge.js":
/*!***********************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/focusMerge.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFocusMerge": () => (/* binding */ getFocusMerge)
/* harmony export */ });
/* harmony import */ var _solver__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./solver */ "./node_modules/focus-lock/dist/es2015/solver.js");
/* harmony import */ var _utils_all_affected__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/all-affected */ "./node_modules/focus-lock/dist/es2015/utils/all-affected.js");
/* harmony import */ var _utils_DOMutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/DOMutils */ "./node_modules/focus-lock/dist/es2015/utils/DOMutils.js");
/* harmony import */ var _utils_firstFocus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/firstFocus */ "./node_modules/focus-lock/dist/es2015/utils/firstFocus.js");
/* harmony import */ var _utils_is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/is */ "./node_modules/focus-lock/dist/es2015/utils/is.js");
/* harmony import */ var _utils_parenting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/parenting */ "./node_modules/focus-lock/dist/es2015/utils/parenting.js");






var findAutoFocused = function (autoFocusables) { return function (node) {
    return node.autofocus || (node.dataset && !!node.dataset.autofocus) || autoFocusables.indexOf(node) >= 0;
}; };
var reorderNodes = function (srcNodes, dstNodes) {
    var remap = new Map();
    dstNodes.forEach(function (entity) { return remap.set(entity.node, entity); });
    return srcNodes.map(function (node) { return remap.get(node); }).filter(_utils_is__WEBPACK_IMPORTED_MODULE_0__.isDefined);
};
var getFocusMerge = function (topNode, lastNode) {
    var activeElement = (document && document.activeElement);
    var entries = (0,_utils_all_affected__WEBPACK_IMPORTED_MODULE_1__.getAllAffectedNodes)(topNode).filter(_utils_is__WEBPACK_IMPORTED_MODULE_0__.isNotAGuard);
    var commonParent = (0,_utils_parenting__WEBPACK_IMPORTED_MODULE_2__.getTopCommonParent)(activeElement || topNode, topNode, entries);
    var visibilityCache = new Map();
    var anyFocusable = (0,_utils_DOMutils__WEBPACK_IMPORTED_MODULE_3__.getAllTabbableNodes)(entries, visibilityCache);
    var innerElements = (0,_utils_DOMutils__WEBPACK_IMPORTED_MODULE_3__.getTabbableNodes)(entries, visibilityCache).filter(function (_a) {
        var node = _a.node;
        return (0,_utils_is__WEBPACK_IMPORTED_MODULE_0__.isNotAGuard)(node);
    });
    if (!innerElements[0]) {
        innerElements = anyFocusable;
        if (!innerElements[0]) {
            return undefined;
        }
    }
    var outerNodes = (0,_utils_DOMutils__WEBPACK_IMPORTED_MODULE_3__.getAllTabbableNodes)([commonParent], visibilityCache).map(function (_a) {
        var node = _a.node;
        return node;
    });
    var orderedInnerElements = reorderNodes(outerNodes, innerElements);
    var innerNodes = orderedInnerElements.map(function (_a) {
        var node = _a.node;
        return node;
    });
    var newId = (0,_solver__WEBPACK_IMPORTED_MODULE_4__.newFocus)(innerNodes, outerNodes, activeElement, lastNode);
    if (newId === _solver__WEBPACK_IMPORTED_MODULE_4__.NEW_FOCUS) {
        var autoFocusable = anyFocusable
            .map(function (_a) {
            var node = _a.node;
            return node;
        })
            .filter(findAutoFocused((0,_utils_parenting__WEBPACK_IMPORTED_MODULE_2__.allParentAutofocusables)(entries, visibilityCache)));
        return {
            node: autoFocusable && autoFocusable.length ? (0,_utils_firstFocus__WEBPACK_IMPORTED_MODULE_5__.pickFirstFocus)(autoFocusable) : (0,_utils_firstFocus__WEBPACK_IMPORTED_MODULE_5__.pickFirstFocus)(innerNodes),
        };
    }
    if (newId === undefined) {
        return newId;
    }
    return orderedInnerElements[newId];
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/focusables.js":
/*!***********************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/focusables.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFocusabledIn": () => (/* binding */ getFocusabledIn)
/* harmony export */ });
/* harmony import */ var _utils_all_affected__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/all-affected */ "./node_modules/focus-lock/dist/es2015/utils/all-affected.js");
/* harmony import */ var _utils_DOMutils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/DOMutils */ "./node_modules/focus-lock/dist/es2015/utils/DOMutils.js");
/* harmony import */ var _utils_is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/is */ "./node_modules/focus-lock/dist/es2015/utils/is.js");
/* harmony import */ var _utils_parenting__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/parenting */ "./node_modules/focus-lock/dist/es2015/utils/parenting.js");




var getFocusabledIn = function (topNode) {
    var entries = (0,_utils_all_affected__WEBPACK_IMPORTED_MODULE_0__.getAllAffectedNodes)(topNode).filter(_utils_is__WEBPACK_IMPORTED_MODULE_1__.isNotAGuard);
    var commonParent = (0,_utils_parenting__WEBPACK_IMPORTED_MODULE_2__.getTopCommonParent)(topNode, topNode, entries);
    var visibilityCache = new Map();
    var outerNodes = (0,_utils_DOMutils__WEBPACK_IMPORTED_MODULE_3__.getTabbableNodes)([commonParent], visibilityCache, true);
    var innerElements = (0,_utils_DOMutils__WEBPACK_IMPORTED_MODULE_3__.getTabbableNodes)(entries, visibilityCache)
        .filter(function (_a) {
        var node = _a.node;
        return (0,_utils_is__WEBPACK_IMPORTED_MODULE_1__.isNotAGuard)(node);
    })
        .map(function (_a) {
        var node = _a.node;
        return node;
    });
    return outerNodes.map(function (_a) {
        var node = _a.node, index = _a.index;
        return ({
            node: node,
            index: index,
            lockItem: innerElements.indexOf(node) >= 0,
            guard: (0,_utils_is__WEBPACK_IMPORTED_MODULE_1__.isGuard)(node),
        });
    });
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/index.js":
/*!******************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/index.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "tabHook": () => (/* reexport safe */ _tabHook__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "focusInside": () => (/* reexport safe */ _focusInside__WEBPACK_IMPORTED_MODULE_1__.focusInside),
/* harmony export */   "focusIsHidden": () => (/* reexport safe */ _focusIsHidden__WEBPACK_IMPORTED_MODULE_2__.focusIsHidden),
/* harmony export */   "focusMerge": () => (/* reexport safe */ _focusMerge__WEBPACK_IMPORTED_MODULE_3__.getFocusMerge),
/* harmony export */   "getFocusabledIn": () => (/* reexport safe */ _focusables__WEBPACK_IMPORTED_MODULE_4__.getFocusabledIn),
/* harmony export */   "constants": () => (/* reexport module object */ _constants__WEBPACK_IMPORTED_MODULE_5__),
/* harmony export */   "getAllAffectedNodes": () => (/* reexport safe */ _utils_all_affected__WEBPACK_IMPORTED_MODULE_6__.getAllAffectedNodes),
/* harmony export */   "focusNextElement": () => (/* reexport safe */ _sibling__WEBPACK_IMPORTED_MODULE_7__.focusNextElement),
/* harmony export */   "focusPrevElement": () => (/* reexport safe */ _sibling__WEBPACK_IMPORTED_MODULE_7__.focusPrevElement),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants */ "./node_modules/focus-lock/dist/es2015/constants.js");
/* harmony import */ var _focusables__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./focusables */ "./node_modules/focus-lock/dist/es2015/focusables.js");
/* harmony import */ var _focusInside__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./focusInside */ "./node_modules/focus-lock/dist/es2015/focusInside.js");
/* harmony import */ var _focusIsHidden__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./focusIsHidden */ "./node_modules/focus-lock/dist/es2015/focusIsHidden.js");
/* harmony import */ var _focusMerge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./focusMerge */ "./node_modules/focus-lock/dist/es2015/focusMerge.js");
/* harmony import */ var _setFocus__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./setFocus */ "./node_modules/focus-lock/dist/es2015/setFocus.js");
/* harmony import */ var _sibling__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./sibling */ "./node_modules/focus-lock/dist/es2015/sibling.js");
/* harmony import */ var _tabHook__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tabHook */ "./node_modules/focus-lock/dist/es2015/tabHook.js");
/* harmony import */ var _utils_all_affected__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/all-affected */ "./node_modules/focus-lock/dist/es2015/utils/all-affected.js");










/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_setFocus__WEBPACK_IMPORTED_MODULE_8__.setFocus);


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/setFocus.js":
/*!*********************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/setFocus.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "focusOn": () => (/* binding */ focusOn),
/* harmony export */   "setFocus": () => (/* binding */ setFocus)
/* harmony export */ });
/* harmony import */ var _focusMerge__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./focusMerge */ "./node_modules/focus-lock/dist/es2015/focusMerge.js");

var focusOn = function (target) {
    target.focus();
    if ('contentWindow' in target && target.contentWindow) {
        target.contentWindow.focus();
    }
};
var guardCount = 0;
var lockDisabled = false;
var setFocus = function (topNode, lastNode) {
    var focusable = (0,_focusMerge__WEBPACK_IMPORTED_MODULE_0__.getFocusMerge)(topNode, lastNode);
    if (lockDisabled) {
        return;
    }
    if (focusable) {
        if (guardCount > 2) {
            console.error('FocusLock: focus-fighting detected. Only one focus management system could be active. ' +
                'See https://github.com/theKashey/focus-lock/#focus-fighting');
            lockDisabled = true;
            setTimeout(function () {
                lockDisabled = false;
            }, 1);
            return;
        }
        guardCount++;
        focusOn(focusable.node);
        guardCount--;
    }
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/sibling.js":
/*!********************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/sibling.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "focusNextElement": () => (/* binding */ focusNextElement),
/* harmony export */   "focusPrevElement": () => (/* binding */ focusPrevElement)
/* harmony export */ });
/* harmony import */ var _utils_DOMutils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/DOMutils */ "./node_modules/focus-lock/dist/es2015/utils/DOMutils.js");

var getRelativeFocusable = function (element, scope) {
    if (!element || !scope || !scope.contains(element)) {
        return {};
    }
    var focusables = (0,_utils_DOMutils__WEBPACK_IMPORTED_MODULE_0__.getTabbableNodes)([scope], new Map());
    var current = focusables.findIndex(function (_a) {
        var node = _a.node;
        return node === element;
    });
    if (current === -1) {
        return {};
    }
    return {
        prev: focusables[current - 1],
        next: focusables[current + 1],
        first: focusables[0],
        last: focusables[focusables.length - 1],
    };
};
var defaultOptions = function (options) {
    return Object.assign({
        scope: document.body,
        cycle: true,
    }, options);
};
var focusNextElement = function (baseElement, options) {
    if (options === void 0) { options = {}; }
    var _a = defaultOptions(options), scope = _a.scope, cycle = _a.cycle;
    var _b = getRelativeFocusable(baseElement, scope), next = _b.next, first = _b.first;
    var newTarget = next || (cycle && first);
    if (newTarget) {
        newTarget.node.focus(options.focusOptions);
    }
};
var focusPrevElement = function (baseElement, options) {
    if (options === void 0) { options = {}; }
    var _a = defaultOptions(options), scope = _a.scope, cycle = _a.cycle;
    var _b = getRelativeFocusable(baseElement, scope), prev = _b.prev, last = _b.last;
    var newTarget = prev || (cycle && last);
    if (newTarget) {
        newTarget.node.focus(options.focusOptions);
    }
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/solver.js":
/*!*******************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/solver.js ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NEW_FOCUS": () => (/* binding */ NEW_FOCUS),
/* harmony export */   "newFocus": () => (/* binding */ newFocus)
/* harmony export */ });
/* harmony import */ var _utils_correctFocus__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/correctFocus */ "./node_modules/focus-lock/dist/es2015/utils/correctFocus.js");
/* harmony import */ var _utils_firstFocus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/firstFocus */ "./node_modules/focus-lock/dist/es2015/utils/firstFocus.js");
/* harmony import */ var _utils_is__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/is */ "./node_modules/focus-lock/dist/es2015/utils/is.js");



var NEW_FOCUS = 'NEW_FOCUS';
var newFocus = function (innerNodes, outerNodes, activeElement, lastNode) {
    var cnt = innerNodes.length;
    var firstFocus = innerNodes[0];
    var lastFocus = innerNodes[cnt - 1];
    var isOnGuard = (0,_utils_is__WEBPACK_IMPORTED_MODULE_0__.isGuard)(activeElement);
    if (innerNodes.indexOf(activeElement) >= 0) {
        return undefined;
    }
    var activeIndex = outerNodes.indexOf(activeElement);
    var lastIndex = lastNode ? outerNodes.indexOf(lastNode) : activeIndex;
    var lastNodeInside = lastNode ? innerNodes.indexOf(lastNode) : -1;
    var indexDiff = activeIndex - lastIndex;
    var firstNodeIndex = outerNodes.indexOf(firstFocus);
    var lastNodeIndex = outerNodes.indexOf(lastFocus);
    var correctedNodes = (0,_utils_correctFocus__WEBPACK_IMPORTED_MODULE_1__.correctNodes)(outerNodes);
    var correctedIndexDiff = correctedNodes.indexOf(activeElement) - (lastNode ? correctedNodes.indexOf(lastNode) : activeIndex);
    var returnFirstNode = (0,_utils_firstFocus__WEBPACK_IMPORTED_MODULE_2__.pickFocusable)(innerNodes, 0);
    var returnLastNode = (0,_utils_firstFocus__WEBPACK_IMPORTED_MODULE_2__.pickFocusable)(innerNodes, cnt - 1);
    if (activeIndex === -1 || lastNodeInside === -1) {
        return NEW_FOCUS;
    }
    if (!indexDiff && lastNodeInside >= 0) {
        return lastNodeInside;
    }
    if (activeIndex <= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {
        return returnLastNode;
    }
    if (activeIndex >= lastNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {
        return returnFirstNode;
    }
    if (indexDiff && Math.abs(correctedIndexDiff) > 1) {
        return lastNodeInside;
    }
    if (activeIndex <= firstNodeIndex) {
        return returnLastNode;
    }
    if (activeIndex > lastNodeIndex) {
        return returnFirstNode;
    }
    if (indexDiff) {
        if (Math.abs(indexDiff) > 1) {
            return lastNodeInside;
        }
        return (cnt + lastNodeInside + indexDiff) % cnt;
    }
    return undefined;
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/tabHook.js":
/*!********************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/tabHook.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({
    attach: function () { },
    detach: function () { },
});


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/utils/DOMutils.js":
/*!***************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/utils/DOMutils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "filterFocusable": () => (/* binding */ filterFocusable),
/* harmony export */   "getTabbableNodes": () => (/* binding */ getTabbableNodes),
/* harmony export */   "getAllTabbableNodes": () => (/* binding */ getAllTabbableNodes),
/* harmony export */   "parentAutofocusables": () => (/* binding */ parentAutofocusables)
/* harmony export */ });
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./array */ "./node_modules/focus-lock/dist/es2015/utils/array.js");
/* harmony import */ var _is__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./is */ "./node_modules/focus-lock/dist/es2015/utils/is.js");
/* harmony import */ var _tabOrder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tabOrder */ "./node_modules/focus-lock/dist/es2015/utils/tabOrder.js");
/* harmony import */ var _tabUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tabUtils */ "./node_modules/focus-lock/dist/es2015/utils/tabUtils.js");




var filterFocusable = function (nodes, visibilityCache) {
    return (0,_array__WEBPACK_IMPORTED_MODULE_0__.toArray)(nodes)
        .filter(function (node) { return (0,_is__WEBPACK_IMPORTED_MODULE_1__.isVisibleCached)(visibilityCache, node); })
        .filter(function (node) { return (0,_is__WEBPACK_IMPORTED_MODULE_1__.notHiddenInput)(node); });
};
var getTabbableNodes = function (topNodes, visibilityCache, withGuards) {
    return (0,_tabOrder__WEBPACK_IMPORTED_MODULE_2__.orderByTabIndex)(filterFocusable((0,_tabUtils__WEBPACK_IMPORTED_MODULE_3__.getFocusables)(topNodes, withGuards), visibilityCache), true, withGuards);
};
var getAllTabbableNodes = function (topNodes, visibilityCache) {
    return (0,_tabOrder__WEBPACK_IMPORTED_MODULE_2__.orderByTabIndex)(filterFocusable((0,_tabUtils__WEBPACK_IMPORTED_MODULE_3__.getFocusables)(topNodes), visibilityCache), false);
};
var parentAutofocusables = function (topNode, visibilityCache) {
    return filterFocusable((0,_tabUtils__WEBPACK_IMPORTED_MODULE_3__.getParentAutofocusables)(topNode), visibilityCache);
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/utils/all-affected.js":
/*!*******************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/utils/all-affected.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getAllAffectedNodes": () => (/* binding */ getAllAffectedNodes)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ "./node_modules/focus-lock/dist/es2015/constants.js");
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./array */ "./node_modules/focus-lock/dist/es2015/utils/array.js");


var filterNested = function (nodes) {
    var contained = new Set();
    var l = nodes.length;
    for (var i = 0; i < l; i += 1) {
        for (var j = i + 1; j < l; j += 1) {
            var position = nodes[i].compareDocumentPosition(nodes[j]);
            if ((position & Node.DOCUMENT_POSITION_CONTAINED_BY) > 0) {
                contained.add(j);
            }
            if ((position & Node.DOCUMENT_POSITION_CONTAINS) > 0) {
                contained.add(i);
            }
        }
    }
    return nodes.filter(function (_, index) { return !contained.has(index); });
};
var getTopParent = function (node) {
    return node.parentNode ? getTopParent(node.parentNode) : node;
};
var getAllAffectedNodes = function (node) {
    var nodes = (0,_array__WEBPACK_IMPORTED_MODULE_0__.asArray)(node);
    return nodes.filter(Boolean).reduce(function (acc, currentNode) {
        var group = currentNode.getAttribute(_constants__WEBPACK_IMPORTED_MODULE_1__.FOCUS_GROUP);
        acc.push.apply(acc, (group
            ? filterNested((0,_array__WEBPACK_IMPORTED_MODULE_0__.toArray)(getTopParent(currentNode).querySelectorAll("[" + _constants__WEBPACK_IMPORTED_MODULE_1__.FOCUS_GROUP + "=\"" + group + "\"]:not([" + _constants__WEBPACK_IMPORTED_MODULE_1__.FOCUS_DISABLED + "=\"disabled\"])")))
            : [currentNode]));
        return acc;
    }, []);
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/utils/array.js":
/*!************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/utils/array.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "toArray": () => (/* binding */ toArray),
/* harmony export */   "asArray": () => (/* binding */ asArray)
/* harmony export */ });
var toArray = function (a) {
    var ret = Array(a.length);
    for (var i = 0; i < a.length; ++i) {
        ret[i] = a[i];
    }
    return ret;
};
var asArray = function (a) { return (Array.isArray(a) ? a : [a]); };


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/utils/correctFocus.js":
/*!*******************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/utils/correctFocus.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "correctNode": () => (/* binding */ correctNode),
/* harmony export */   "correctNodes": () => (/* binding */ correctNodes)
/* harmony export */ });
var isRadio = function (node) { return node.tagName === 'INPUT' && node.type === 'radio'; };
var findSelectedRadio = function (node, nodes) {
    return nodes
        .filter(isRadio)
        .filter(function (el) { return el.name === node.name; })
        .filter(function (el) { return el.checked; })[0] || node;
};
var correctNode = function (node, nodes) {
    if (isRadio(node) && node.name) {
        return findSelectedRadio(node, nodes);
    }
    return node;
};
var correctNodes = function (nodes) {
    var resultSet = new Set();
    nodes.forEach(function (node) { return resultSet.add(correctNode(node, nodes)); });
    return nodes.filter(function (node) { return resultSet.has(node); });
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/utils/firstFocus.js":
/*!*****************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/utils/firstFocus.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "pickFirstFocus": () => (/* binding */ pickFirstFocus),
/* harmony export */   "pickFocusable": () => (/* binding */ pickFocusable)
/* harmony export */ });
/* harmony import */ var _correctFocus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./correctFocus */ "./node_modules/focus-lock/dist/es2015/utils/correctFocus.js");

var pickFirstFocus = function (nodes) {
    if (nodes[0] && nodes.length > 1) {
        return (0,_correctFocus__WEBPACK_IMPORTED_MODULE_0__.correctNode)(nodes[0], nodes);
    }
    return nodes[0];
};
var pickFocusable = function (nodes, index) {
    if (nodes.length > 1) {
        return nodes.indexOf((0,_correctFocus__WEBPACK_IMPORTED_MODULE_0__.correctNode)(nodes[index], nodes));
    }
    return index;
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/utils/is.js":
/*!*********************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/utils/is.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "isVisibleCached": () => (/* binding */ isVisibleCached),
/* harmony export */   "notHiddenInput": () => (/* binding */ notHiddenInput),
/* harmony export */   "isGuard": () => (/* binding */ isGuard),
/* harmony export */   "isNotAGuard": () => (/* binding */ isNotAGuard),
/* harmony export */   "isDefined": () => (/* binding */ isDefined)
/* harmony export */ });
var isElementHidden = function (node) {
    if (node.nodeType !== Node.ELEMENT_NODE) {
        return false;
    }
    var computedStyle = window.getComputedStyle(node, null);
    if (!computedStyle || !computedStyle.getPropertyValue) {
        return false;
    }
    return (computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden');
};
var isVisibleUncached = function (node, checkParent) {
    return !node ||
        node === document ||
        (node && node.nodeType === Node.DOCUMENT_NODE) ||
        (!isElementHidden(node) &&
            checkParent(node.parentNode && node.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE
                ? node.parentNode.host
                : node.parentNode));
};
var isVisibleCached = function (visibilityCache, node) {
    var cached = visibilityCache.get(node);
    if (cached !== undefined) {
        return cached;
    }
    var result = isVisibleUncached(node, isVisibleCached.bind(undefined, visibilityCache));
    visibilityCache.set(node, result);
    return result;
};
var notHiddenInput = function (node) {
    return !((node.tagName === 'INPUT' || node.tagName === 'BUTTON') && (node.type === 'hidden' || node.disabled));
};
var isGuard = function (node) { return Boolean(node && node.dataset && node.dataset.focusGuard); };
var isNotAGuard = function (node) { return !isGuard(node); };
var isDefined = function (x) { return Boolean(x); };


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/utils/parenting.js":
/*!****************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/utils/parenting.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getCommonParent": () => (/* binding */ getCommonParent),
/* harmony export */   "getTopCommonParent": () => (/* binding */ getTopCommonParent),
/* harmony export */   "allParentAutofocusables": () => (/* binding */ allParentAutofocusables)
/* harmony export */ });
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./array */ "./node_modules/focus-lock/dist/es2015/utils/array.js");
/* harmony import */ var _DOMutils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DOMutils */ "./node_modules/focus-lock/dist/es2015/utils/DOMutils.js");


var getParents = function (node, parents) {
    if (parents === void 0) { parents = []; }
    parents.push(node);
    if (node.parentNode) {
        getParents(node.parentNode, parents);
    }
    return parents;
};
var getCommonParent = function (nodeA, nodeB) {
    var parentsA = getParents(nodeA);
    var parentsB = getParents(nodeB);
    for (var i = 0; i < parentsA.length; i += 1) {
        var currentParent = parentsA[i];
        if (parentsB.indexOf(currentParent) >= 0) {
            return currentParent;
        }
    }
    return false;
};
var getTopCommonParent = function (baseActiveElement, leftEntry, rightEntries) {
    var activeElements = (0,_array__WEBPACK_IMPORTED_MODULE_0__.asArray)(baseActiveElement);
    var leftEntries = (0,_array__WEBPACK_IMPORTED_MODULE_0__.asArray)(leftEntry);
    var activeElement = activeElements[0];
    var topCommon = false;
    leftEntries.filter(Boolean).forEach(function (entry) {
        topCommon = getCommonParent(topCommon || entry, entry) || topCommon;
        rightEntries.filter(Boolean).forEach(function (subEntry) {
            var common = getCommonParent(activeElement, subEntry);
            if (common) {
                if (!topCommon || common.contains(topCommon)) {
                    topCommon = common;
                }
                else {
                    topCommon = getCommonParent(common, topCommon);
                }
            }
        });
    });
    return topCommon;
};
var allParentAutofocusables = function (entries, visibilityCache) {
    return entries.reduce(function (acc, node) { return acc.concat((0,_DOMutils__WEBPACK_IMPORTED_MODULE_1__.parentAutofocusables)(node, visibilityCache)); }, []);
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/utils/tabOrder.js":
/*!***************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/utils/tabOrder.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "tabSort": () => (/* binding */ tabSort),
/* harmony export */   "orderByTabIndex": () => (/* binding */ orderByTabIndex)
/* harmony export */ });
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./array */ "./node_modules/focus-lock/dist/es2015/utils/array.js");

var tabSort = function (a, b) {
    var tabDiff = a.tabIndex - b.tabIndex;
    var indexDiff = a.index - b.index;
    if (tabDiff) {
        if (!a.tabIndex) {
            return 1;
        }
        if (!b.tabIndex) {
            return -1;
        }
    }
    return tabDiff || indexDiff;
};
var orderByTabIndex = function (nodes, filterNegative, keepGuards) {
    return (0,_array__WEBPACK_IMPORTED_MODULE_0__.toArray)(nodes)
        .map(function (node, index) { return ({
        node: node,
        index: index,
        tabIndex: keepGuards && node.tabIndex === -1 ? ((node.dataset || {}).focusGuard ? 0 : -1) : node.tabIndex,
    }); })
        .filter(function (data) { return !filterNegative || data.tabIndex >= 0; })
        .sort(tabSort);
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/utils/tabUtils.js":
/*!***************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/utils/tabUtils.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getFocusables": () => (/* binding */ getFocusables),
/* harmony export */   "getParentAutofocusables": () => (/* binding */ getParentAutofocusables)
/* harmony export */ });
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ "./node_modules/focus-lock/dist/es2015/constants.js");
/* harmony import */ var _array__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./array */ "./node_modules/focus-lock/dist/es2015/utils/array.js");
/* harmony import */ var _tabbables__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tabbables */ "./node_modules/focus-lock/dist/es2015/utils/tabbables.js");



var queryTabbables = _tabbables__WEBPACK_IMPORTED_MODULE_0__.tabbables.join(',');
var queryGuardTabbables = queryTabbables + ", [data-focus-guard]";
var getFocusables = function (parents, withGuards) {
    return parents.reduce(function (acc, parent) {
        return acc.concat((0,_array__WEBPACK_IMPORTED_MODULE_1__.toArray)(parent.querySelectorAll(withGuards ? queryGuardTabbables : queryTabbables)), parent.parentNode
            ? (0,_array__WEBPACK_IMPORTED_MODULE_1__.toArray)(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) { return node === parent; })
            : []);
    }, []);
};
var getParentAutofocusables = function (parent) {
    var parentFocus = parent.querySelectorAll("[" + _constants__WEBPACK_IMPORTED_MODULE_2__.FOCUS_AUTO + "]");
    return (0,_array__WEBPACK_IMPORTED_MODULE_1__.toArray)(parentFocus)
        .map(function (node) { return getFocusables([node]); })
        .reduce(function (acc, nodes) { return acc.concat(nodes); }, []);
};


/***/ }),

/***/ "./node_modules/focus-lock/dist/es2015/utils/tabbables.js":
/*!****************************************************************!*\
  !*** ./node_modules/focus-lock/dist/es2015/utils/tabbables.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "tabbables": () => (/* binding */ tabbables)
/* harmony export */ });
var tabbables = [
    'button:enabled',
    'select:enabled',
    'textarea:enabled',
    'input:enabled',
    'a[href]',
    'area[href]',
    'summary',
    'iframe',
    'object',
    'embed',
    'audio[controls]',
    'video[controls]',
    '[tabindex]',
    '[contenteditable]',
    '[autofocus]',
];


/***/ }),

/***/ "./node_modules/get-nonce/dist/es2015/index.js":
/*!*****************************************************!*\
  !*** ./node_modules/get-nonce/dist/es2015/index.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "setNonce": () => (/* binding */ setNonce),
/* harmony export */   "getNonce": () => (/* binding */ getNonce)
/* harmony export */ });
var currentNonce;
var setNonce = function (nonce) {
    currentNonce = nonce;
};
var getNonce = function () {
    if (currentNonce) {
        return currentNonce;
    }
    if (true) {
        return __webpack_require__.nc;
    }
    return undefined;
};


/***/ }),

/***/ "./node_modules/prop-types/checkPropTypes.js":
/*!***************************************************!*\
  !*** ./node_modules/prop-types/checkPropTypes.js ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var printWarning = function() {};

if (true) {
  var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ "./node_modules/prop-types/lib/ReactPropTypesSecret.js");
  var loggedTypeFailures = {};
  var has = __webpack_require__(/*! ./lib/has */ "./node_modules/prop-types/lib/has.js");

  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) { /**/ }
  };
}

/**
 * Assert that the values match with the type specs.
 * Error messages are memorized and will only be shown once.
 *
 * @param {object} typeSpecs Map of name to a ReactPropType
 * @param {object} values Runtime values that need to be type-checked
 * @param {string} location e.g. "prop", "context", "child context"
 * @param {string} componentName Name of the component for error messages.
 * @param {?Function} getStack Returns the component stack.
 * @private
 */
function checkPropTypes(typeSpecs, values, location, componentName, getStack) {
  if (true) {
    for (var typeSpecName in typeSpecs) {
      if (has(typeSpecs, typeSpecName)) {
        var error;
        // Prop type validation may throw. In case they do, we don't want to
        // fail the render phase where it didn't fail before. So we log it.
        // After these have been cleaned up, we'll let them throw.
        try {
          // This is intentionally an invariant that gets caught. It's the same
          // behavior as without this statement except with a better message.
          if (typeof typeSpecs[typeSpecName] !== 'function') {
            var err = Error(
              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +
              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' +
              'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.'
            );
            err.name = 'Invariant Violation';
            throw err;
          }
          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);
        } catch (ex) {
          error = ex;
        }
        if (error && !(error instanceof Error)) {
          printWarning(
            (componentName || 'React class') + ': type specification of ' +
            location + ' `' + typeSpecName + '` is invalid; the type checker ' +
            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +
            'You may have forgotten to pass an argument to the type checker ' +
            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +
            'shape all require an argument).'
          );
        }
        if (error instanceof Error && !(error.message in loggedTypeFailures)) {
          // Only monitor this failure once because there tends to be a lot of the
          // same error.
          loggedTypeFailures[error.message] = true;

          var stack = getStack ? getStack() : '';

          printWarning(
            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')
          );
        }
      }
    }
  }
}

/**
 * Resets warning cache when testing.
 *
 * @private
 */
checkPropTypes.resetWarningCache = function() {
  if (true) {
    loggedTypeFailures = {};
  }
}

module.exports = checkPropTypes;


/***/ }),

/***/ "./node_modules/prop-types/factoryWithTypeCheckers.js":
/*!************************************************************!*\
  !*** ./node_modules/prop-types/factoryWithTypeCheckers.js ***!
  \************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");
var assign = __webpack_require__(/*! object-assign */ "./node_modules/object-assign/index.js");

var ReactPropTypesSecret = __webpack_require__(/*! ./lib/ReactPropTypesSecret */ "./node_modules/prop-types/lib/ReactPropTypesSecret.js");
var has = __webpack_require__(/*! ./lib/has */ "./node_modules/prop-types/lib/has.js");
var checkPropTypes = __webpack_require__(/*! ./checkPropTypes */ "./node_modules/prop-types/checkPropTypes.js");

var printWarning = function() {};

if (true) {
  printWarning = function(text) {
    var message = 'Warning: ' + text;
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  };
}

function emptyFunctionThatReturnsNull() {
  return null;
}

module.exports = function(isValidElement, throwOnDirectAccess) {
  /* global Symbol */
  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;
  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.

  /**
   * Returns the iterator method function contained on the iterable object.
   *
   * Be sure to invoke the function with the iterable as context:
   *
   *     var iteratorFn = getIteratorFn(myIterable);
   *     if (iteratorFn) {
   *       var iterator = iteratorFn.call(myIterable);
   *       ...
   *     }
   *
   * @param {?object} maybeIterable
   * @return {?function}
   */
  function getIteratorFn(maybeIterable) {
    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);
    if (typeof iteratorFn === 'function') {
      return iteratorFn;
    }
  }

  /**
   * Collection of methods that allow declaration and validation of props that are
   * supplied to React components. Example usage:
   *
   *   var Props = require('ReactPropTypes');
   *   var MyArticle = React.createClass({
   *     propTypes: {
   *       // An optional string prop named "description".
   *       description: Props.string,
   *
   *       // A required enum prop named "category".
   *       category: Props.oneOf(['News','Photos']).isRequired,
   *
   *       // A prop named "dialog" that requires an instance of Dialog.
   *       dialog: Props.instanceOf(Dialog).isRequired
   *     },
   *     render: function() { ... }
   *   });
   *
   * A more formal specification of how these methods are used:
   *
   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)
   *   decl := ReactPropTypes.{type}(.isRequired)?
   *
   * Each and every declaration produces a function with the same signature. This
   * allows the creation of custom validation functions. For example:
   *
   *  var MyLink = React.createClass({
   *    propTypes: {
   *      // An optional string or URI prop named "href".
   *      href: function(props, propName, componentName) {
   *        var propValue = props[propName];
   *        if (propValue != null && typeof propValue !== 'string' &&
   *            !(propValue instanceof URI)) {
   *          return new Error(
   *            'Expected a string or an URI for ' + propName + ' in ' +
   *            componentName
   *          );
   *        }
   *      }
   *    },
   *    render: function() {...}
   *  });
   *
   * @internal
   */

  var ANONYMOUS = '<<anonymous>>';

  // Important!
  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.
  var ReactPropTypes = {
    array: createPrimitiveTypeChecker('array'),
    bigint: createPrimitiveTypeChecker('bigint'),
    bool: createPrimitiveTypeChecker('boolean'),
    func: createPrimitiveTypeChecker('function'),
    number: createPrimitiveTypeChecker('number'),
    object: createPrimitiveTypeChecker('object'),
    string: createPrimitiveTypeChecker('string'),
    symbol: createPrimitiveTypeChecker('symbol'),

    any: createAnyTypeChecker(),
    arrayOf: createArrayOfTypeChecker,
    element: createElementTypeChecker(),
    elementType: createElementTypeTypeChecker(),
    instanceOf: createInstanceTypeChecker,
    node: createNodeChecker(),
    objectOf: createObjectOfTypeChecker,
    oneOf: createEnumTypeChecker,
    oneOfType: createUnionTypeChecker,
    shape: createShapeTypeChecker,
    exact: createStrictShapeTypeChecker,
  };

  /**
   * inlined Object.is polyfill to avoid requiring consumers ship their own
   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is
   */
  /*eslint-disable no-self-compare*/
  function is(x, y) {
    // SameValue algorithm
    if (x === y) {
      // Steps 1-5, 7-10
      // Steps 6.b-6.e: +0 != -0
      return x !== 0 || 1 / x === 1 / y;
    } else {
      // Step 6.a: NaN == NaN
      return x !== x && y !== y;
    }
  }
  /*eslint-enable no-self-compare*/

  /**
   * We use an Error-like object for backward compatibility as people may call
   * PropTypes directly and inspect their output. However, we don't use real
   * Errors anymore. We don't inspect their stack anyway, and creating them
   * is prohibitively expensive if they are created too often, such as what
   * happens in oneOfType() for any type before the one that matched.
   */
  function PropTypeError(message, data) {
    this.message = message;
    this.data = data && typeof data === 'object' ? data: {};
    this.stack = '';
  }
  // Make `instanceof Error` still work for returned errors.
  PropTypeError.prototype = Error.prototype;

  function createChainableTypeChecker(validate) {
    if (true) {
      var manualPropTypeCallCache = {};
      var manualPropTypeWarningCount = 0;
    }
    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {
      componentName = componentName || ANONYMOUS;
      propFullName = propFullName || propName;

      if (secret !== ReactPropTypesSecret) {
        if (throwOnDirectAccess) {
          // New behavior only for users of `prop-types` package
          var err = new Error(
            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +
            'Use `PropTypes.checkPropTypes()` to call them. ' +
            'Read more at http://fb.me/use-check-prop-types'
          );
          err.name = 'Invariant Violation';
          throw err;
        } else if ( true && typeof console !== 'undefined') {
          // Old behavior for people using React.PropTypes
          var cacheKey = componentName + ':' + propName;
          if (
            !manualPropTypeCallCache[cacheKey] &&
            // Avoid spamming the console because they are often not actionable except for lib authors
            manualPropTypeWarningCount < 3
          ) {
            printWarning(
              'You are manually calling a React.PropTypes validation ' +
              'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' +
              'and will throw in the standalone `prop-types` package. ' +
              'You may be seeing this warning due to a third-party PropTypes ' +
              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'
            );
            manualPropTypeCallCache[cacheKey] = true;
            manualPropTypeWarningCount++;
          }
        }
      }
      if (props[propName] == null) {
        if (isRequired) {
          if (props[propName] === null) {
            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));
          }
          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));
        }
        return null;
      } else {
        return validate(props, propName, componentName, location, propFullName);
      }
    }

    var chainedCheckType = checkType.bind(null, false);
    chainedCheckType.isRequired = checkType.bind(null, true);

    return chainedCheckType;
  }

  function createPrimitiveTypeChecker(expectedType) {
    function validate(props, propName, componentName, location, propFullName, secret) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== expectedType) {
        // `propValue` being instance of, say, date/regexp, pass the 'object'
        // check, but we can offer a more precise error message here rather than
        // 'of type `object`'.
        var preciseType = getPreciseType(propValue);

        return new PropTypeError(
          'Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'),
          {expectedType: expectedType}
        );
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createAnyTypeChecker() {
    return createChainableTypeChecker(emptyFunctionThatReturnsNull);
  }

  function createArrayOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');
      }
      var propValue = props[propName];
      if (!Array.isArray(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));
      }
      for (var i = 0; i < propValue.length; i++) {
        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);
        if (error instanceof Error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!isValidElement(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createElementTypeTypeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      if (!ReactIs.isValidElementType(propValue)) {
        var propType = getPropType(propValue);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createInstanceTypeChecker(expectedClass) {
    function validate(props, propName, componentName, location, propFullName) {
      if (!(props[propName] instanceof expectedClass)) {
        var expectedClassName = expectedClass.name || ANONYMOUS;
        var actualClassName = getClassName(props[propName]);
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createEnumTypeChecker(expectedValues) {
    if (!Array.isArray(expectedValues)) {
      if (true) {
        if (arguments.length > 1) {
          printWarning(
            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +
            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'
          );
        } else {
          printWarning('Invalid argument supplied to oneOf, expected an array.');
        }
      }
      return emptyFunctionThatReturnsNull;
    }

    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      for (var i = 0; i < expectedValues.length; i++) {
        if (is(propValue, expectedValues[i])) {
          return null;
        }
      }

      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {
        var type = getPreciseType(value);
        if (type === 'symbol') {
          return String(value);
        }
        return value;
      });
      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createObjectOfTypeChecker(typeChecker) {
    function validate(props, propName, componentName, location, propFullName) {
      if (typeof typeChecker !== 'function') {
        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');
      }
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));
      }
      for (var key in propValue) {
        if (has(propValue, key)) {
          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
          if (error instanceof Error) {
            return error;
          }
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createUnionTypeChecker(arrayOfTypeCheckers) {
    if (!Array.isArray(arrayOfTypeCheckers)) {
       true ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : 0;
      return emptyFunctionThatReturnsNull;
    }

    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
      var checker = arrayOfTypeCheckers[i];
      if (typeof checker !== 'function') {
        printWarning(
          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +
          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'
        );
        return emptyFunctionThatReturnsNull;
      }
    }

    function validate(props, propName, componentName, location, propFullName) {
      var expectedTypes = [];
      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {
        var checker = arrayOfTypeCheckers[i];
        var checkerResult = checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret);
        if (checkerResult == null) {
          return null;
        }
        if (checkerResult.data.hasOwnProperty('expectedType')) {
          expectedTypes.push(checkerResult.data.expectedType);
        }
      }
      var expectedTypesMessage = (expectedTypes.length > 0) ? ', expected one of type [' + expectedTypes.join(', ') + ']': '';
      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`' + expectedTypesMessage + '.'));
    }
    return createChainableTypeChecker(validate);
  }

  function createNodeChecker() {
    function validate(props, propName, componentName, location, propFullName) {
      if (!isNode(props[propName])) {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function invalidValidatorError(componentName, location, propFullName, key, type) {
    return new PropTypeError(
      (componentName || 'React class') + ': ' + location + ' type `' + propFullName + '.' + key + '` is invalid; ' +
      'it must be a function, usually from the `prop-types` package, but received `' + type + '`.'
    );
  }

  function createShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      for (var key in shapeTypes) {
        var checker = shapeTypes[key];
        if (typeof checker !== 'function') {
          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }
    return createChainableTypeChecker(validate);
  }

  function createStrictShapeTypeChecker(shapeTypes) {
    function validate(props, propName, componentName, location, propFullName) {
      var propValue = props[propName];
      var propType = getPropType(propValue);
      if (propType !== 'object') {
        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));
      }
      // We need to check all keys in case some are required but missing from props.
      var allKeys = assign({}, props[propName], shapeTypes);
      for (var key in allKeys) {
        var checker = shapeTypes[key];
        if (has(shapeTypes, key) && typeof checker !== 'function') {
          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));
        }
        if (!checker) {
          return new PropTypeError(
            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +
            '\nBad object: ' + JSON.stringify(props[propName], null, '  ') +
            '\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  ')
          );
        }
        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);
        if (error) {
          return error;
        }
      }
      return null;
    }

    return createChainableTypeChecker(validate);
  }

  function isNode(propValue) {
    switch (typeof propValue) {
      case 'number':
      case 'string':
      case 'undefined':
        return true;
      case 'boolean':
        return !propValue;
      case 'object':
        if (Array.isArray(propValue)) {
          return propValue.every(isNode);
        }
        if (propValue === null || isValidElement(propValue)) {
          return true;
        }

        var iteratorFn = getIteratorFn(propValue);
        if (iteratorFn) {
          var iterator = iteratorFn.call(propValue);
          var step;
          if (iteratorFn !== propValue.entries) {
            while (!(step = iterator.next()).done) {
              if (!isNode(step.value)) {
                return false;
              }
            }
          } else {
            // Iterator will provide entry [k,v] tuples rather than values.
            while (!(step = iterator.next()).done) {
              var entry = step.value;
              if (entry) {
                if (!isNode(entry[1])) {
                  return false;
                }
              }
            }
          }
        } else {
          return false;
        }

        return true;
      default:
        return false;
    }
  }

  function isSymbol(propType, propValue) {
    // Native Symbol.
    if (propType === 'symbol') {
      return true;
    }

    // falsy value can't be a Symbol
    if (!propValue) {
      return false;
    }

    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'
    if (propValue['@@toStringTag'] === 'Symbol') {
      return true;
    }

    // Fallback for non-spec compliant Symbols which are polyfilled.
    if (typeof Symbol === 'function' && propValue instanceof Symbol) {
      return true;
    }

    return false;
  }

  // Equivalent of `typeof` but with special handling for array and regexp.
  function getPropType(propValue) {
    var propType = typeof propValue;
    if (Array.isArray(propValue)) {
      return 'array';
    }
    if (propValue instanceof RegExp) {
      // Old webkits (at least until Android 4.0) return 'function' rather than
      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/
      // passes PropTypes.object.
      return 'object';
    }
    if (isSymbol(propType, propValue)) {
      return 'symbol';
    }
    return propType;
  }

  // This handles more types than `getPropType`. Only used for error messages.
  // See `createPrimitiveTypeChecker`.
  function getPreciseType(propValue) {
    if (typeof propValue === 'undefined' || propValue === null) {
      return '' + propValue;
    }
    var propType = getPropType(propValue);
    if (propType === 'object') {
      if (propValue instanceof Date) {
        return 'date';
      } else if (propValue instanceof RegExp) {
        return 'regexp';
      }
    }
    return propType;
  }

  // Returns a string that is postfixed to a warning about an invalid type.
  // For example, "undefined" or "of type array"
  function getPostfixForTypeWarning(value) {
    var type = getPreciseType(value);
    switch (type) {
      case 'array':
      case 'object':
        return 'an ' + type;
      case 'boolean':
      case 'date':
      case 'regexp':
        return 'a ' + type;
      default:
        return type;
    }
  }

  // Returns class name of the object, if any.
  function getClassName(propValue) {
    if (!propValue.constructor || !propValue.constructor.name) {
      return ANONYMOUS;
    }
    return propValue.constructor.name;
  }

  ReactPropTypes.checkPropTypes = checkPropTypes;
  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;
  ReactPropTypes.PropTypes = ReactPropTypes;

  return ReactPropTypes;
};


/***/ }),

/***/ "./node_modules/prop-types/index.js":
/*!******************************************!*\
  !*** ./node_modules/prop-types/index.js ***!
  \******************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

if (true) {
  var ReactIs = __webpack_require__(/*! react-is */ "./node_modules/react-is/index.js");

  // By explicitly using `prop-types` you are opting into new development behavior.
  // http://fb.me/prop-types-in-prod
  var throwOnDirectAccess = true;
  module.exports = __webpack_require__(/*! ./factoryWithTypeCheckers */ "./node_modules/prop-types/factoryWithTypeCheckers.js")(ReactIs.isElement, throwOnDirectAccess);
} else {}


/***/ }),

/***/ "./node_modules/prop-types/lib/ReactPropTypesSecret.js":
/*!*************************************************************!*\
  !*** ./node_modules/prop-types/lib/ReactPropTypesSecret.js ***!
  \*************************************************************/
/***/ ((module) => {

"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



var ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';

module.exports = ReactPropTypesSecret;


/***/ }),

/***/ "./node_modules/prop-types/lib/has.js":
/*!********************************************!*\
  !*** ./node_modules/prop-types/lib/has.js ***!
  \********************************************/
/***/ ((module) => {

module.exports = Function.call.bind(Object.prototype.hasOwnProperty);


/***/ }),

/***/ "./node_modules/react-clientside-effect/lib/index.es.js":
/*!**************************************************************!*\
  !*** ./node_modules/react-clientside-effect/lib/index.es.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/inheritsLoose */ "./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js");
/* harmony import */ var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/defineProperty */ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");




function withSideEffect(reducePropsToState, handleStateChangeOnClient) {
  if (true) {
    if (typeof reducePropsToState !== 'function') {
      throw new Error('Expected reducePropsToState to be a function.');
    }

    if (typeof handleStateChangeOnClient !== 'function') {
      throw new Error('Expected handleStateChangeOnClient to be a function.');
    }
  }

  function getDisplayName(WrappedComponent) {
    return WrappedComponent.displayName || WrappedComponent.name || 'Component';
  }

  return function wrap(WrappedComponent) {
    if (true) {
      if (typeof WrappedComponent !== 'function') {
        throw new Error('Expected WrappedComponent to be a React component.');
      }
    }

    var mountedInstances = [];
    var state;

    function emitChange() {
      state = reducePropsToState(mountedInstances.map(function (instance) {
        return instance.props;
      }));
      handleStateChangeOnClient(state);
    }

    var SideEffect = /*#__PURE__*/function (_PureComponent) {
      (0,_babel_runtime_helpers_esm_inheritsLoose__WEBPACK_IMPORTED_MODULE_0__["default"])(SideEffect, _PureComponent);

      function SideEffect() {
        return _PureComponent.apply(this, arguments) || this;
      }

      // Try to use displayName of wrapped component
      SideEffect.peek = function peek() {
        return state;
      };

      var _proto = SideEffect.prototype;

      _proto.componentDidMount = function componentDidMount() {
        mountedInstances.push(this);
        emitChange();
      };

      _proto.componentDidUpdate = function componentDidUpdate() {
        emitChange();
      };

      _proto.componentWillUnmount = function componentWillUnmount() {
        var index = mountedInstances.indexOf(this);
        mountedInstances.splice(index, 1);
        emitChange();
      };

      _proto.render = function render() {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(WrappedComponent, this.props);
      };

      return SideEffect;
    }(react__WEBPACK_IMPORTED_MODULE_2__.PureComponent);

    (0,_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__["default"])(SideEffect, "displayName", "SideEffect(" + getDisplayName(WrappedComponent) + ")");

    return SideEffect;
  };
}

/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (withSideEffect);


/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/AutoFocusInside.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/AutoFocusInside.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var focus_lock_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! focus-lock/constants */ "./node_modules/focus-lock/dist/es2015/constants.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ "./node_modules/react-focus-lock/dist/es2015/util.js");






var AutoFocusInside = function AutoFocusInside(_ref) {
  var disabled = _ref.disabled,
      children = _ref.children,
      className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, (0,_util__WEBPACK_IMPORTED_MODULE_2__.inlineProp)(focus_lock_constants__WEBPACK_IMPORTED_MODULE_3__.FOCUS_AUTO, !disabled), {
    className: className
  }), children);
};

AutoFocusInside.propTypes =  true ? {
  children: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().node.isRequired),
  disabled: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().bool),
  className: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string)
} : 0;
AutoFocusInside.defaultProps = {
  disabled: false,
  className: undefined
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AutoFocusInside);

/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/Combination.js":
/*!******************************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/Combination.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/objectWithoutPropertiesLoose */ "./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js");
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _Lock__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Lock */ "./node_modules/react-focus-lock/dist/es2015/Lock.js");
/* harmony import */ var _Trap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Trap */ "./node_modules/react-focus-lock/dist/es2015/Trap.js");





/* that would be a BREAKING CHANGE!
// delaying sidecar execution till the first usage
const RequireSideCar = (props) => {
  // eslint-disable-next-line global-require
  const SideCar = require('./Trap').default;
  return <SideCar {...props} />;
};
*/

var FocusLockCombination = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.forwardRef(function FocusLockUICombination(props, ref) {
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2__.createElement(_Lock__WEBPACK_IMPORTED_MODULE_3__["default"], (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_1__["default"])({
    sideCar: _Trap__WEBPACK_IMPORTED_MODULE_4__["default"],
    ref: ref
  }, props));
});

var _ref = _Lock__WEBPACK_IMPORTED_MODULE_3__["default"].propTypes || {},
    sideCar = _ref.sideCar,
    propTypes = (0,_babel_runtime_helpers_esm_objectWithoutPropertiesLoose__WEBPACK_IMPORTED_MODULE_0__["default"])(_ref, ["sideCar"]);

FocusLockCombination.propTypes =  true ? propTypes : 0;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FocusLockCombination);

/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/FocusGuard.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/FocusGuard.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "hiddenGuard": () => (/* binding */ hiddenGuard),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_1__);


var hiddenGuard = {
  width: '1px',
  height: '0px',
  padding: 0,
  overflow: 'hidden',
  position: 'fixed',
  top: '1px',
  left: '1px'
};

var InFocusGuard = function InFocusGuard(_ref) {
  var children = _ref.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    key: "guard-first",
    "data-focus-guard": true,
    "data-focus-auto-guard": true,
    style: hiddenGuard
  }), children, children && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    key: "guard-last",
    "data-focus-guard": true,
    "data-focus-auto-guard": true,
    style: hiddenGuard
  }));
};

InFocusGuard.propTypes =  true ? {
  children: (prop_types__WEBPACK_IMPORTED_MODULE_1___default().node)
} : 0;
InFocusGuard.defaultProps = {
  children: null
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InFocusGuard);

/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/FreeFocusInside.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/FreeFocusInside.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var focus_lock_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! focus-lock/constants */ "./node_modules/focus-lock/dist/es2015/constants.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./util */ "./node_modules/react-focus-lock/dist/es2015/util.js");






var FreeFocusInside = function FreeFocusInside(_ref) {
  var children = _ref.children,
      className = _ref.className;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, (0,_util__WEBPACK_IMPORTED_MODULE_2__.inlineProp)(focus_lock_constants__WEBPACK_IMPORTED_MODULE_3__.FOCUS_ALLOW, true), {
    className: className
  }), children);
};

FreeFocusInside.propTypes =  true ? {
  children: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().node.isRequired),
  className: (prop_types__WEBPACK_IMPORTED_MODULE_4___default().string)
} : 0;
FreeFocusInside.defaultProps = {
  className: undefined
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FreeFocusInside);

/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/Lock.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/Lock.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var focus_lock_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! focus-lock/constants */ "./node_modules/focus-lock/dist/es2015/constants.js");
/* harmony import */ var use_callback_ref__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! use-callback-ref */ "./node_modules/use-callback-ref/dist/es2015/useMergeRef.js");
/* harmony import */ var _FocusGuard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FocusGuard */ "./node_modules/react-focus-lock/dist/es2015/FocusGuard.js");
/* harmony import */ var _medium__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./medium */ "./node_modules/react-focus-lock/dist/es2015/medium.js");







var emptyArray = [];
var FocusLock = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.forwardRef(function FocusLockUI(props, parentRef) {
  var _extends2;

  var _React$useState = react__WEBPACK_IMPORTED_MODULE_1__.useState(),
      realObserved = _React$useState[0],
      setObserved = _React$useState[1];

  var observed = react__WEBPACK_IMPORTED_MODULE_1__.useRef();
  var isActive = react__WEBPACK_IMPORTED_MODULE_1__.useRef(false);
  var originalFocusedElement = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);
  var children = props.children,
      disabled = props.disabled,
      noFocusGuards = props.noFocusGuards,
      persistentFocus = props.persistentFocus,
      crossFrame = props.crossFrame,
      autoFocus = props.autoFocus,
      allowTextSelection = props.allowTextSelection,
      group = props.group,
      className = props.className,
      whiteList = props.whiteList,
      _props$shards = props.shards,
      shards = _props$shards === void 0 ? emptyArray : _props$shards,
      _props$as = props.as,
      Container = _props$as === void 0 ? 'div' : _props$as,
      _props$lockProps = props.lockProps,
      containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,
      SideCar = props.sideCar,
      shouldReturnFocus = props.returnFocus,
      onActivationCallback = props.onActivation,
      onDeactivationCallback = props.onDeactivation;

  var _React$useState2 = react__WEBPACK_IMPORTED_MODULE_1__.useState({}),
      id = _React$useState2[0]; // SIDE EFFECT CALLBACKS


  var onActivation = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(function () {
    originalFocusedElement.current = originalFocusedElement.current || document && document.activeElement;

    if (observed.current && onActivationCallback) {
      onActivationCallback(observed.current);
    }

    isActive.current = true;
  }, [onActivationCallback]);
  var onDeactivation = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(function () {
    isActive.current = false;

    if (onDeactivationCallback) {
      onDeactivationCallback(observed.current);
    }
  }, [onDeactivationCallback]);
  var returnFocus = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(function (allowDefer) {
    var current = originalFocusedElement.current;

    if (Boolean(shouldReturnFocus) && current && current.focus) {
      var focusOptions = typeof shouldReturnFocus === 'object' ? shouldReturnFocus : undefined;
      originalFocusedElement.current = null;

      if (allowDefer) {
        // React might return focus after update
        // it's safer to defer the action
        Promise.resolve().then(function () {
          return current.focus(focusOptions);
        });
      } else {
        current.focus(focusOptions);
      }
    }
  }, [shouldReturnFocus]); // MEDIUM CALLBACKS

  var onFocus = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(function (event) {
    if (isActive.current) {
      _medium__WEBPACK_IMPORTED_MODULE_2__.mediumFocus.useMedium(event);
    }
  }, []);
  var onBlur = _medium__WEBPACK_IMPORTED_MODULE_2__.mediumBlur.useMedium; // REF PROPAGATION
  // not using real refs due to race conditions

  var setObserveNode = react__WEBPACK_IMPORTED_MODULE_1__.useCallback(function (newObserved) {
    if (observed.current !== newObserved) {
      observed.current = newObserved;
      setObserved(newObserved);
    }
  }, []);

  if (true) {
    if (typeof allowTextSelection !== 'undefined') {
      // eslint-disable-next-line no-console
      console.warn('React-Focus-Lock: allowTextSelection is deprecated and enabled by default');
    }

    react__WEBPACK_IMPORTED_MODULE_1__.useEffect(function () {
      if (!observed.current) {
        // eslint-disable-next-line no-console
        console.error('FocusLock: could not obtain ref to internal node');
      }
    }, []);
  }

  var lockProps = (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])((_extends2 = {}, _extends2[focus_lock_constants__WEBPACK_IMPORTED_MODULE_3__.FOCUS_DISABLED] = disabled && 'disabled', _extends2[focus_lock_constants__WEBPACK_IMPORTED_MODULE_3__.FOCUS_GROUP] = group, _extends2), containerProps);

  var hasLeadingGuards = noFocusGuards !== true;
  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';
  var mergedRef = (0,use_callback_ref__WEBPACK_IMPORTED_MODULE_4__.useMergeRefs)([parentRef, setObserveNode]);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, hasLeadingGuards && [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    key: "guard-first",
    "data-focus-guard": true,
    tabIndex: disabled ? -1 : 0,
    style: _FocusGuard__WEBPACK_IMPORTED_MODULE_5__.hiddenGuard
  }),
  /*#__PURE__*/
  // nearest focus guard
  react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    key: "guard-nearest",
    "data-focus-guard": true,
    tabIndex: disabled ? -1 : 1,
    style: _FocusGuard__WEBPACK_IMPORTED_MODULE_5__.hiddenGuard
  }) // first tabbed element guard
  ], !disabled && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(SideCar, {
    id: id,
    sideCar: _medium__WEBPACK_IMPORTED_MODULE_2__.mediumSidecar,
    observed: realObserved,
    disabled: disabled,
    persistentFocus: persistentFocus,
    crossFrame: crossFrame,
    autoFocus: autoFocus,
    whiteList: whiteList,
    shards: shards,
    onActivation: onActivation,
    onDeactivation: onDeactivation,
    returnFocus: returnFocus
  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement(Container, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({
    ref: mergedRef
  }, lockProps, {
    className: className,
    onBlur: onBlur,
    onFocus: onFocus
  }), children), hasTailingGuards && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", {
    "data-focus-guard": true,
    tabIndex: disabled ? -1 : 0,
    style: _FocusGuard__WEBPACK_IMPORTED_MODULE_5__.hiddenGuard
  }));
});
FocusLock.propTypes =  true ? {
  children: prop_types__WEBPACK_IMPORTED_MODULE_6__.node,
  disabled: prop_types__WEBPACK_IMPORTED_MODULE_6__.bool,
  returnFocus: (0,prop_types__WEBPACK_IMPORTED_MODULE_6__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_6__.bool, prop_types__WEBPACK_IMPORTED_MODULE_6__.object]),
  noFocusGuards: prop_types__WEBPACK_IMPORTED_MODULE_6__.bool,
  allowTextSelection: prop_types__WEBPACK_IMPORTED_MODULE_6__.bool,
  autoFocus: prop_types__WEBPACK_IMPORTED_MODULE_6__.bool,
  persistentFocus: prop_types__WEBPACK_IMPORTED_MODULE_6__.bool,
  crossFrame: prop_types__WEBPACK_IMPORTED_MODULE_6__.bool,
  group: prop_types__WEBPACK_IMPORTED_MODULE_6__.string,
  className: prop_types__WEBPACK_IMPORTED_MODULE_6__.string,
  whiteList: prop_types__WEBPACK_IMPORTED_MODULE_6__.func,
  shards: (0,prop_types__WEBPACK_IMPORTED_MODULE_6__.arrayOf)(prop_types__WEBPACK_IMPORTED_MODULE_6__.any),
  as: (0,prop_types__WEBPACK_IMPORTED_MODULE_6__.oneOfType)([prop_types__WEBPACK_IMPORTED_MODULE_6__.string, prop_types__WEBPACK_IMPORTED_MODULE_6__.func, prop_types__WEBPACK_IMPORTED_MODULE_6__.object]),
  lockProps: prop_types__WEBPACK_IMPORTED_MODULE_6__.object,
  onActivation: prop_types__WEBPACK_IMPORTED_MODULE_6__.func,
  onDeactivation: prop_types__WEBPACK_IMPORTED_MODULE_6__.func,
  sideCar: prop_types__WEBPACK_IMPORTED_MODULE_6__.any.isRequired
} : 0;
FocusLock.defaultProps = {
  children: undefined,
  disabled: false,
  returnFocus: false,
  noFocusGuards: false,
  autoFocus: true,
  persistentFocus: false,
  crossFrame: true,
  allowTextSelection: undefined,
  group: undefined,
  className: undefined,
  whiteList: undefined,
  shards: undefined,
  as: 'div',
  lockProps: {},
  onActivation: undefined,
  onDeactivation: undefined
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (FocusLock);

/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/MoveFocusInside.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/MoveFocusInside.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useFocusInside": () => (/* binding */ useFocusInside),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ "./node_modules/@babel/runtime/helpers/esm/extends.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var focus_lock_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! focus-lock/constants */ "./node_modules/focus-lock/dist/es2015/constants.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./util */ "./node_modules/react-focus-lock/dist/es2015/util.js");
/* harmony import */ var _medium__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./medium */ "./node_modules/react-focus-lock/dist/es2015/medium.js");






var useFocusInside = function useFocusInside(observedRef) {
  react__WEBPACK_IMPORTED_MODULE_1__.useEffect(function () {
    var enabled = true;
    _medium__WEBPACK_IMPORTED_MODULE_2__.mediumEffect.useMedium(function (car) {
      var observed = observedRef && observedRef.current;

      if (enabled && observed) {
        if (!car.focusInside(observed)) {
          car.moveFocusInside(observed, null);
        }
      }
    });
    return function () {
      enabled = false;
    };
  }, [observedRef]);
};

function MoveFocusInside(_ref) {
  var isDisabled = _ref.disabled,
      className = _ref.className,
      children = _ref.children;
  var ref = react__WEBPACK_IMPORTED_MODULE_1__.useRef(null);
  useFocusInside(isDisabled ? undefined : ref);
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1__.createElement("div", (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__["default"])({}, (0,_util__WEBPACK_IMPORTED_MODULE_3__.inlineProp)(focus_lock_constants__WEBPACK_IMPORTED_MODULE_4__.FOCUS_AUTO, !isDisabled), {
    ref: ref,
    className: className
  }), children);
}

MoveFocusInside.propTypes =  true ? {
  children: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().node.isRequired),
  disabled: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().bool),
  className: (prop_types__WEBPACK_IMPORTED_MODULE_5___default().string)
} : 0;
MoveFocusInside.defaultProps = {
  disabled: false,
  className: undefined
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MoveFocusInside);

/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/Trap.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/Trap.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! prop-types */ "./node_modules/prop-types/index.js");
/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var react_clientside_effect__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-clientside-effect */ "./node_modules/react-clientside-effect/lib/index.es.js");
/* harmony import */ var focus_lock__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! focus-lock */ "./node_modules/focus-lock/dist/es2015/focusIsHidden.js");
/* harmony import */ var focus_lock__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! focus-lock */ "./node_modules/focus-lock/dist/es2015/focusInside.js");
/* harmony import */ var focus_lock__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! focus-lock */ "./node_modules/focus-lock/dist/es2015/index.js");
/* harmony import */ var focus_lock__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! focus-lock */ "./node_modules/focus-lock/dist/es2015/focusables.js");
/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./util */ "./node_modules/react-focus-lock/dist/es2015/util.js");
/* harmony import */ var _medium__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./medium */ "./node_modules/react-focus-lock/dist/es2015/medium.js");







var focusOnBody = function focusOnBody() {
  return document && document.activeElement === document.body;
};

var isFreeFocus = function isFreeFocus() {
  return focusOnBody() || (0,focus_lock__WEBPACK_IMPORTED_MODULE_2__.focusIsHidden)();
};

var lastActiveTrap = null;
var lastActiveFocus = null;
var lastPortaledElement = null;
var focusWasOutsideWindow = false;

var defaultWhitelist = function defaultWhitelist() {
  return true;
};

var focusWhitelisted = function focusWhitelisted(activeElement) {
  return (lastActiveTrap.whiteList || defaultWhitelist)(activeElement);
};

var recordPortal = function recordPortal(observerNode, portaledElement) {
  lastPortaledElement = {
    observerNode: observerNode,
    portaledElement: portaledElement
  };
};

var focusIsPortaledPair = function focusIsPortaledPair(element) {
  return lastPortaledElement && lastPortaledElement.portaledElement === element;
};

function autoGuard(startIndex, end, step, allNodes) {
  var lastGuard = null;
  var i = startIndex;

  do {
    var item = allNodes[i];

    if (item.guard) {
      if (item.node.dataset.focusAutoGuard) {
        lastGuard = item;
      }
    } else if (item.lockItem) {
      if (i !== startIndex) {
        // we will tab to the next element
        return;
      }

      lastGuard = null;
    } else {
      break;
    }
  } while ((i += step) !== end);

  if (lastGuard) {
    lastGuard.node.tabIndex = 0;
  }
}

var extractRef = function extractRef(ref) {
  return ref && 'current' in ref ? ref.current : ref;
};

var focusWasOutside = function focusWasOutside(crossFrameOption) {
  if (crossFrameOption) {
    // with cross frame return true for any value
    return Boolean(focusWasOutsideWindow);
  } // in other case return only of focus went a while aho


  return focusWasOutsideWindow === 'meanwhile';
};

var activateTrap = function activateTrap() {
  var result = false;

  if (lastActiveTrap) {
    var _lastActiveTrap = lastActiveTrap,
        observed = _lastActiveTrap.observed,
        persistentFocus = _lastActiveTrap.persistentFocus,
        autoFocus = _lastActiveTrap.autoFocus,
        shards = _lastActiveTrap.shards,
        crossFrame = _lastActiveTrap.crossFrame;
    var workingNode = observed || lastPortaledElement && lastPortaledElement.portaledElement;
    var activeElement = document && document.activeElement;

    if (workingNode) {
      var workingArea = [workingNode].concat(shards.map(extractRef).filter(Boolean));

      if (!activeElement || focusWhitelisted(activeElement)) {
        if (persistentFocus || focusWasOutside(crossFrame) || !isFreeFocus() || !lastActiveFocus && autoFocus) {
          if (workingNode && !((0,focus_lock__WEBPACK_IMPORTED_MODULE_3__.focusInside)(workingArea) || focusIsPortaledPair(activeElement, workingNode))) {
            if (document && !lastActiveFocus && activeElement && !autoFocus) {
              // Check if blur() exists, which is missing on certain elements on IE
              if (activeElement.blur) {
                activeElement.blur();
              }

              document.body.focus();
            } else {
              result = (0,focus_lock__WEBPACK_IMPORTED_MODULE_4__["default"])(workingArea, lastActiveFocus);
              lastPortaledElement = {};
            }
          }

          focusWasOutsideWindow = false;
          lastActiveFocus = document && document.activeElement;
        }
      }

      if (document) {
        var newActiveElement = document && document.activeElement;
        var allNodes = (0,focus_lock__WEBPACK_IMPORTED_MODULE_5__.getFocusabledIn)(workingArea);
        var focusedIndex = allNodes.map(function (_ref) {
          var node = _ref.node;
          return node;
        }).indexOf(newActiveElement);

        if (focusedIndex > -1) {
          // remove old focus
          allNodes.filter(function (_ref2) {
            var guard = _ref2.guard,
                node = _ref2.node;
            return guard && node.dataset.focusAutoGuard;
          }).forEach(function (_ref3) {
            var node = _ref3.node;
            return node.removeAttribute('tabIndex');
          });
          autoGuard(focusedIndex, allNodes.length, +1, allNodes);
          autoGuard(focusedIndex, -1, -1, allNodes);
        }
      }
    }
  }

  return result;
};

var onTrap = function onTrap(event) {
  if (activateTrap() && event) {
    // prevent scroll jump
    event.stopPropagation();
    event.preventDefault();
  }
};

var onBlur = function onBlur() {
  return (0,_util__WEBPACK_IMPORTED_MODULE_6__.deferAction)(activateTrap);
};

var onFocus = function onFocus(event) {
  // detect portal
  var source = event.target;
  var currentNode = event.currentTarget;

  if (!currentNode.contains(source)) {
    recordPortal(currentNode, source);
  }
};

var FocusWatcher = function FocusWatcher() {
  return null;
};

var FocusTrap = function FocusTrap(_ref4) {
  var children = _ref4.children;
  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", {
    onBlur: onBlur,
    onFocus: onFocus
  }, children);
};

FocusTrap.propTypes =  true ? {
  children: (prop_types__WEBPACK_IMPORTED_MODULE_7___default().node.isRequired)
} : 0;

var onWindowBlur = function onWindowBlur() {
  focusWasOutsideWindow = 'just'; // using setTimeout to set  this variable after React/sidecar reaction

  setTimeout(function () {
    focusWasOutsideWindow = 'meanwhile';
  }, 0);
};

var attachHandler = function attachHandler() {
  document.addEventListener('focusin', onTrap, true);
  document.addEventListener('focusout', onBlur);
  window.addEventListener('blur', onWindowBlur);
};

var detachHandler = function detachHandler() {
  document.removeEventListener('focusin', onTrap, true);
  document.removeEventListener('focusout', onBlur);
  window.removeEventListener('blur', onWindowBlur);
};

function reducePropsToState(propsList) {
  return propsList.filter(function (_ref5) {
    var disabled = _ref5.disabled;
    return !disabled;
  });
}

function handleStateChangeOnClient(traps) {
  var trap = traps.slice(-1)[0];

  if (trap && !lastActiveTrap) {
    attachHandler();
  }

  var lastTrap = lastActiveTrap;
  var sameTrap = lastTrap && trap && trap.id === lastTrap.id;
  lastActiveTrap = trap;

  if (lastTrap && !sameTrap) {
    lastTrap.onDeactivation(); // return focus only of last trap was removed

    if (!traps.filter(function (_ref6) {
      var id = _ref6.id;
      return id === lastTrap.id;
    }).length) {
      // allow defer is no other trap is awaiting restore
      lastTrap.returnFocus(!trap);
    }
  }

  if (trap) {
    lastActiveFocus = null;

    if (!sameTrap || lastTrap.observed !== trap.observed) {
      trap.onActivation();
    }

    activateTrap(true);
    (0,_util__WEBPACK_IMPORTED_MODULE_6__.deferAction)(activateTrap);
  } else {
    detachHandler();
    lastActiveFocus = null;
  }
} // bind medium


_medium__WEBPACK_IMPORTED_MODULE_8__.mediumFocus.assignSyncMedium(onFocus);
_medium__WEBPACK_IMPORTED_MODULE_8__.mediumBlur.assignMedium(onBlur);
_medium__WEBPACK_IMPORTED_MODULE_8__.mediumEffect.assignMedium(function (cb) {
  return cb({
    moveFocusInside: focus_lock__WEBPACK_IMPORTED_MODULE_4__["default"],
    focusInside: focus_lock__WEBPACK_IMPORTED_MODULE_3__.focusInside
  });
});
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,react_clientside_effect__WEBPACK_IMPORTED_MODULE_1__["default"])(reducePropsToState, handleStateChangeOnClient)(FocusWatcher));

/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/UI.js":
/*!*********************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/UI.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AutoFocusInside": () => (/* reexport safe */ _AutoFocusInside__WEBPACK_IMPORTED_MODULE_0__["default"]),
/* harmony export */   "MoveFocusInside": () => (/* reexport safe */ _MoveFocusInside__WEBPACK_IMPORTED_MODULE_1__["default"]),
/* harmony export */   "FreeFocusInside": () => (/* reexport safe */ _FreeFocusInside__WEBPACK_IMPORTED_MODULE_2__["default"]),
/* harmony export */   "InFocusGuard": () => (/* reexport safe */ _FocusGuard__WEBPACK_IMPORTED_MODULE_3__["default"]),
/* harmony export */   "FocusLockUI": () => (/* reexport safe */ _Lock__WEBPACK_IMPORTED_MODULE_4__["default"]),
/* harmony export */   "useFocusInside": () => (/* reexport safe */ _MoveFocusInside__WEBPACK_IMPORTED_MODULE_1__.useFocusInside),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Lock__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Lock */ "./node_modules/react-focus-lock/dist/es2015/Lock.js");
/* harmony import */ var _AutoFocusInside__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AutoFocusInside */ "./node_modules/react-focus-lock/dist/es2015/AutoFocusInside.js");
/* harmony import */ var _MoveFocusInside__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MoveFocusInside */ "./node_modules/react-focus-lock/dist/es2015/MoveFocusInside.js");
/* harmony import */ var _FreeFocusInside__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./FreeFocusInside */ "./node_modules/react-focus-lock/dist/es2015/FreeFocusInside.js");
/* harmony import */ var _FocusGuard__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./FocusGuard */ "./node_modules/react-focus-lock/dist/es2015/FocusGuard.js");






/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_Lock__WEBPACK_IMPORTED_MODULE_4__["default"]);

/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/index.js":
/*!************************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AutoFocusInside": () => (/* reexport safe */ _UI__WEBPACK_IMPORTED_MODULE_0__.AutoFocusInside),
/* harmony export */   "FocusLockUI": () => (/* reexport safe */ _UI__WEBPACK_IMPORTED_MODULE_0__.FocusLockUI),
/* harmony export */   "FreeFocusInside": () => (/* reexport safe */ _UI__WEBPACK_IMPORTED_MODULE_0__.FreeFocusInside),
/* harmony export */   "InFocusGuard": () => (/* reexport safe */ _UI__WEBPACK_IMPORTED_MODULE_0__.InFocusGuard),
/* harmony export */   "MoveFocusInside": () => (/* reexport safe */ _UI__WEBPACK_IMPORTED_MODULE_0__.MoveFocusInside),
/* harmony export */   "useFocusInside": () => (/* reexport safe */ _UI__WEBPACK_IMPORTED_MODULE_0__.useFocusInside),
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _Combination__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Combination */ "./node_modules/react-focus-lock/dist/es2015/Combination.js");
/* harmony import */ var _UI__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./UI */ "./node_modules/react-focus-lock/dist/es2015/UI.js");


/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_Combination__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/medium.js":
/*!*************************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/medium.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "mediumFocus": () => (/* binding */ mediumFocus),
/* harmony export */   "mediumBlur": () => (/* binding */ mediumBlur),
/* harmony export */   "mediumEffect": () => (/* binding */ mediumEffect),
/* harmony export */   "mediumSidecar": () => (/* binding */ mediumSidecar)
/* harmony export */ });
/* harmony import */ var use_sidecar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! use-sidecar */ "./node_modules/use-sidecar/dist/es2015/medium.js");

var mediumFocus = (0,use_sidecar__WEBPACK_IMPORTED_MODULE_0__.createMedium)({}, function (_ref) {
  var target = _ref.target,
      currentTarget = _ref.currentTarget;
  return {
    target: target,
    currentTarget: currentTarget
  };
});
var mediumBlur = (0,use_sidecar__WEBPACK_IMPORTED_MODULE_0__.createMedium)();
var mediumEffect = (0,use_sidecar__WEBPACK_IMPORTED_MODULE_0__.createMedium)();
var mediumSidecar = (0,use_sidecar__WEBPACK_IMPORTED_MODULE_0__.createSidecarMedium)({
  async: true
});

/***/ }),

/***/ "./node_modules/react-focus-lock/dist/es2015/util.js":
/*!***********************************************************!*\
  !*** ./node_modules/react-focus-lock/dist/es2015/util.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "deferAction": () => (/* binding */ deferAction),
/* harmony export */   "inlineProp": () => (/* binding */ inlineProp)
/* harmony export */ });
function deferAction(action) {
  // Hidding setImmediate from Webpack to avoid inserting polyfill
  var _window = window,
      setImmediate = _window.setImmediate;

  if (typeof setImmediate !== 'undefined') {
    setImmediate(action);
  } else {
    setTimeout(action, 1);
  }
}
var inlineProp = function inlineProp(name, value) {
  var obj = {};
  obj[name] = value;
  return obj;
};

/***/ }),

/***/ "./node_modules/react-remove-scroll-bar/dist/es2015/component.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-remove-scroll-bar/dist/es2015/component.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RemoveScrollBar": () => (/* binding */ RemoveScrollBar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_style_singleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-style-singleton */ "./node_modules/react-style-singleton/dist/es2015/index.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils */ "./node_modules/react-remove-scroll-bar/dist/es2015/utils.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./constants */ "./node_modules/react-remove-scroll-bar/dist/es2015/constants.js");




var Style = (0,react_style_singleton__WEBPACK_IMPORTED_MODULE_1__.styleSingleton)();
var getStyles = function (_a, allowRelative, gapMode, important) {
    var left = _a.left, top = _a.top, right = _a.right, gap = _a.gap;
    if (gapMode === void 0) { gapMode = 'margin'; }
    return "\n  ." + _constants__WEBPACK_IMPORTED_MODULE_3__.noScrollbarsClassName + " {\n   overflow: hidden " + important + ";\n   padding-right: " + gap + "px " + important + ";\n  }\n  body {\n    overflow: hidden " + important + ";\n    " + [
        allowRelative && "position: relative " + important + ";",
        gapMode === 'margin' && "\n    padding-left: " + left + "px;\n    padding-top: " + top + "px;\n    padding-right: " + right + "px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: " + gap + "px " + important + ";\n    ",
        gapMode === 'padding' && "padding-right: " + gap + "px " + important + ";",
    ].filter(Boolean).join('') + "\n  }\n  \n  ." + _constants__WEBPACK_IMPORTED_MODULE_3__.zeroRightClassName + " {\n    right: " + gap + "px " + important + ";\n  }\n  \n  ." + _constants__WEBPACK_IMPORTED_MODULE_3__.fullWidthClassName + " {\n    margin-right: " + gap + "px " + important + ";\n  }\n  \n  ." + _constants__WEBPACK_IMPORTED_MODULE_3__.zeroRightClassName + " ." + _constants__WEBPACK_IMPORTED_MODULE_3__.zeroRightClassName + " {\n    right: 0 " + important + ";\n  }\n  \n  ." + _constants__WEBPACK_IMPORTED_MODULE_3__.fullWidthClassName + " ." + _constants__WEBPACK_IMPORTED_MODULE_3__.fullWidthClassName + " {\n    margin-right: 0 " + important + ";\n  }\n  \n  body {\n    " + _constants__WEBPACK_IMPORTED_MODULE_3__.removedBarSizeVariable + ": " + gap + "px;\n  }\n";
};
var RemoveScrollBar = function (props) {
    var _a = react__WEBPACK_IMPORTED_MODULE_0__.useState((0,_utils__WEBPACK_IMPORTED_MODULE_2__.getGapWidth)(props.gapMode)), gap = _a[0], setGap = _a[1];
    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
        setGap((0,_utils__WEBPACK_IMPORTED_MODULE_2__.getGapWidth)(props.gapMode));
    }, [props.gapMode]);
    var noRelative = props.noRelative, noImportant = props.noImportant, _b = props.gapMode, gapMode = _b === void 0 ? 'margin' : _b;
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Style, { styles: getStyles(gap, !noRelative, gapMode, !noImportant ? "!important" : '') });
};


/***/ }),

/***/ "./node_modules/react-remove-scroll-bar/dist/es2015/constants.js":
/*!***********************************************************************!*\
  !*** ./node_modules/react-remove-scroll-bar/dist/es2015/constants.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "zeroRightClassName": () => (/* binding */ zeroRightClassName),
/* harmony export */   "fullWidthClassName": () => (/* binding */ fullWidthClassName),
/* harmony export */   "noScrollbarsClassName": () => (/* binding */ noScrollbarsClassName),
/* harmony export */   "removedBarSizeVariable": () => (/* binding */ removedBarSizeVariable)
/* harmony export */ });
var zeroRightClassName = 'right-scroll-bar-position';
var fullWidthClassName = 'width-before-scroll-bar';
var noScrollbarsClassName = 'with-scroll-bars-hidden';
var removedBarSizeVariable = '--removed-body-scroll-bar-size';


/***/ }),

/***/ "./node_modules/react-remove-scroll-bar/dist/es2015/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-remove-scroll-bar/dist/es2015/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RemoveScrollBar": () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_0__.RemoveScrollBar),
/* harmony export */   "zeroRightClassName": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_2__.zeroRightClassName),
/* harmony export */   "fullWidthClassName": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_2__.fullWidthClassName),
/* harmony export */   "noScrollbarsClassName": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_2__.noScrollbarsClassName),
/* harmony export */   "removedBarSizeVariable": () => (/* reexport safe */ _constants__WEBPACK_IMPORTED_MODULE_2__.removedBarSizeVariable),
/* harmony export */   "getGapWidth": () => (/* reexport safe */ _utils__WEBPACK_IMPORTED_MODULE_1__.getGapWidth)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./component */ "./node_modules/react-remove-scroll-bar/dist/es2015/component.js");
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ "./node_modules/react-remove-scroll-bar/dist/es2015/utils.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ "./node_modules/react-remove-scroll-bar/dist/es2015/constants.js");






/***/ }),

/***/ "./node_modules/react-remove-scroll-bar/dist/es2015/utils.js":
/*!*******************************************************************!*\
  !*** ./node_modules/react-remove-scroll-bar/dist/es2015/utils.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "zeroGap": () => (/* binding */ zeroGap),
/* harmony export */   "getGapWidth": () => (/* binding */ getGapWidth)
/* harmony export */ });
var zeroGap = {
    left: 0,
    top: 0,
    right: 0,
    gap: 0,
};
var parse = function (x) { return parseInt(x || '', 10) || 0; };
var getOffset = function (gapMode) {
    var cs = window.getComputedStyle(document.body);
    var left = cs[gapMode === 'padding' ? 'paddingLeft' : 'marginLeft'];
    var top = cs[gapMode === 'padding' ? 'paddingTop' : 'marginTop'];
    var right = cs[gapMode === 'padding' ? 'paddingRight' : 'marginRight'];
    return [
        parse(left),
        parse(top),
        parse(right),
    ];
};
var getGapWidth = function (gapMode) {
    if (gapMode === void 0) { gapMode = 'margin'; }
    if (typeof window === 'undefined') {
        return zeroGap;
    }
    var offsets = getOffset(gapMode);
    var documentWidth = document.documentElement.clientWidth;
    var windowWidth = window.innerWidth;
    return {
        left: offsets[0],
        top: offsets[1],
        right: offsets[2],
        gap: Math.max(0, windowWidth - documentWidth + offsets[2] - offsets[0]),
    };
};


/***/ }),

/***/ "./node_modules/react-remove-scroll/dist/es2015/Combination.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-remove-scroll/dist/es2015/Combination.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ "./node_modules/react-remove-scroll/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _UI__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./UI */ "./node_modules/react-remove-scroll/dist/es2015/UI.js");
/* harmony import */ var _sidecar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./sidecar */ "./node_modules/react-remove-scroll/dist/es2015/sidecar.js");




var ReactRemoveScroll = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, ref) { return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_UI__WEBPACK_IMPORTED_MODULE_2__.RemoveScroll, tslib__WEBPACK_IMPORTED_MODULE_3__.__assign({}, props, { ref: ref, sideCar: _sidecar__WEBPACK_IMPORTED_MODULE_1__["default"] }))); });
ReactRemoveScroll.classNames = _UI__WEBPACK_IMPORTED_MODULE_2__.RemoveScroll.classNames;
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ReactRemoveScroll);


/***/ }),

/***/ "./node_modules/react-remove-scroll/dist/es2015/SideEffect.js":
/*!********************************************************************!*\
  !*** ./node_modules/react-remove-scroll/dist/es2015/SideEffect.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "getTouchXY": () => (/* binding */ getTouchXY),
/* harmony export */   "getDeltaXY": () => (/* binding */ getDeltaXY),
/* harmony export */   "RemoveScrollSideCar": () => (/* binding */ RemoveScrollSideCar)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_remove_scroll_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-remove-scroll-bar */ "./node_modules/react-remove-scroll-bar/dist/es2015/index.js");
/* harmony import */ var react_style_singleton__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-style-singleton */ "./node_modules/react-style-singleton/dist/es2015/index.js");
/* harmony import */ var _handleScroll__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./handleScroll */ "./node_modules/react-remove-scroll/dist/es2015/handleScroll.js");
/* harmony import */ var _aggresiveCapture__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./aggresiveCapture */ "./node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js");





var getTouchXY = function (event) {
    return 'changedTouches' in event
        ? [event.changedTouches[0].clientX, event.changedTouches[0].clientY]
        : [0, 0];
};
var getDeltaXY = function (event) { return [event.deltaX, event.deltaY]; };
var extractRef = function (ref) {
    return ref && 'current' in ref ? ref.current : ref;
};
var deltaCompare = function (x, y) {
    return x[0] === y[0] && x[1] === y[1];
};
var generateStyle = function (id) { return "\n  .block-interactivity-" + id + " {pointer-events: none;}\n  .allow-interactivity-" + id + " {pointer-events: all;}\n"; };
var idCounter = 0;
var lockStack = [];
function RemoveScrollSideCar(props) {
    var shouldPreventQueue = react__WEBPACK_IMPORTED_MODULE_0__.useRef([]);
    var touchStartRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef([0, 0]);
    var activeAxis = react__WEBPACK_IMPORTED_MODULE_0__.useRef();
    var id = react__WEBPACK_IMPORTED_MODULE_0__.useState(idCounter++)[0];
    var Style = react__WEBPACK_IMPORTED_MODULE_0__.useState(function () { return (0,react_style_singleton__WEBPACK_IMPORTED_MODULE_2__.styleSingleton)(); })[0];
    var lastProps = react__WEBPACK_IMPORTED_MODULE_0__.useRef(props);
    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
        lastProps.current = props;
    }, [props]);
    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
        if (props.inert) {
            document.body.classList.add("block-interactivity-" + id);
            var allow_1 = [
                props.lockRef.current
            ].concat((props.shards || []).map(extractRef)).filter(Boolean);
            allow_1.forEach(function (el) { return el.classList.add("allow-interactivity-" + id); });
            return function () {
                document.body.classList.remove("block-interactivity-" + id);
                allow_1.forEach(function (el) {
                    return el.classList.remove("allow-interactivity-" + id);
                });
            };
        }
        return;
    }, [props.inert, props.lockRef.current, props.shards]);
    var shouldCancelEvent = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event, parent) {
        if ('touches' in event && event.touches.length === 2) {
            return !lastProps.current.allowPinchZoom;
        }
        var touch = getTouchXY(event);
        var touchStart = touchStartRef.current;
        var deltaX = 'deltaX' in event ? event.deltaX : touchStart[0] - touch[0];
        var deltaY = 'deltaY' in event ? event.deltaY : touchStart[1] - touch[1];
        var currentAxis;
        var target = event.target;
        var moveDirection = Math.abs(deltaX) > Math.abs(deltaY) ? 'h' : 'v';
        var canBeScrolledInMainDirection = (0,_handleScroll__WEBPACK_IMPORTED_MODULE_3__.locationCouldBeScrolled)(moveDirection, target);
        if (!canBeScrolledInMainDirection) {
            return true;
        }
        if (canBeScrolledInMainDirection) {
            currentAxis = moveDirection;
        }
        else {
            currentAxis = moveDirection === 'v' ? 'h' : 'v';
            canBeScrolledInMainDirection = (0,_handleScroll__WEBPACK_IMPORTED_MODULE_3__.locationCouldBeScrolled)(moveDirection, target);
            // other axis might be not scrollable
        }
        if (!canBeScrolledInMainDirection) {
            return false;
        }
        if (!activeAxis.current &&
            'changedTouches' in event &&
            (deltaX || deltaY)) {
            activeAxis.current = currentAxis;
        }
        if (!currentAxis) {
            return true;
        }
        var cancelingAxis = activeAxis.current || currentAxis;
        return (0,_handleScroll__WEBPACK_IMPORTED_MODULE_3__.handleScroll)(cancelingAxis, parent, event, cancelingAxis === 'h' ? deltaX : deltaY, true);
    }, []);
    var shouldPrevent = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (_event) {
        var event = _event;
        if (!lockStack.length || lockStack[lockStack.length - 1] !== Style) {
            // not the last active
            return;
        }
        var delta = 'deltaY' in event ? getDeltaXY(event) : getTouchXY(event);
        var sourceEvent = shouldPreventQueue.current.filter(function (e) {
            return e.name === event.type &&
                e.target === event.target &&
                deltaCompare(e.delta, delta);
        })[0];
        // self event, and should be canceled
        if (sourceEvent && sourceEvent.should) {
            event.preventDefault();
            return;
        }
        // outside or shard event
        if (!sourceEvent) {
            var shardNodes = (lastProps.current.shards || [])
                .map(extractRef)
                .filter(Boolean)
                .filter(function (node) { return node.contains(event.target); });
            var shouldStop = shardNodes.length > 0
                ? shouldCancelEvent(event, shardNodes[0])
                : !lastProps.current.noIsolation;
            if (shouldStop) {
                event.preventDefault();
            }
        }
    }, []);
    var shouldCancel = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (name, delta, target, should) {
        var event = { name: name, delta: delta, target: target, should: should };
        shouldPreventQueue.current.push(event);
        setTimeout(function () {
            shouldPreventQueue.current = shouldPreventQueue.current.filter(function (e) { return e !== event; });
        }, 1);
    }, []);
    var scrollTouchStart = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
        touchStartRef.current = getTouchXY(event);
        activeAxis.current = undefined;
    }, []);
    var scrollWheel = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
        shouldCancel(event.type, getDeltaXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));
    }, []);
    var scrollTouchMove = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(function (event) {
        shouldCancel(event.type, getTouchXY(event), event.target, shouldCancelEvent(event, props.lockRef.current));
    }, []);
    react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
        lockStack.push(Style);
        props.setCallbacks({
            onScrollCapture: scrollWheel,
            onWheelCapture: scrollWheel,
            onTouchMoveCapture: scrollTouchMove
        });
        document.addEventListener('wheel', shouldPrevent, _aggresiveCapture__WEBPACK_IMPORTED_MODULE_4__.nonPassive);
        document.addEventListener('touchmove', shouldPrevent, _aggresiveCapture__WEBPACK_IMPORTED_MODULE_4__.nonPassive);
        document.addEventListener('touchstart', scrollTouchStart, _aggresiveCapture__WEBPACK_IMPORTED_MODULE_4__.nonPassive);
        return function () {
            lockStack = lockStack.filter(function (inst) { return inst !== Style; });
            document.removeEventListener('wheel', shouldPrevent, _aggresiveCapture__WEBPACK_IMPORTED_MODULE_4__.nonPassive);
            document.removeEventListener('touchmove', shouldPrevent, _aggresiveCapture__WEBPACK_IMPORTED_MODULE_4__.nonPassive);
            document.removeEventListener('touchstart', scrollTouchStart, _aggresiveCapture__WEBPACK_IMPORTED_MODULE_4__.nonPassive);
        };
    }, []);
    var removeScrollBar = props.removeScrollBar, inert = props.inert;
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        inert ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(Style, { styles: generateStyle(id) }) : null,
        removeScrollBar ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_remove_scroll_bar__WEBPACK_IMPORTED_MODULE_1__.RemoveScrollBar, { gapMode: "margin" }) : null));
}


/***/ }),

/***/ "./node_modules/react-remove-scroll/dist/es2015/UI.js":
/*!************************************************************!*\
  !*** ./node_modules/react-remove-scroll/dist/es2015/UI.js ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RemoveScroll": () => (/* binding */ RemoveScroll)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ "./node_modules/react-remove-scroll/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react_remove_scroll_bar_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-remove-scroll-bar/constants */ "./node_modules/react-remove-scroll-bar/dist/es2015/constants.js");
/* harmony import */ var _medium__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./medium */ "./node_modules/react-remove-scroll/dist/es2015/medium.js");
/* harmony import */ var use_callback_ref__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! use-callback-ref */ "./node_modules/use-callback-ref/dist/es2015/useMergeRef.js");





var nothing = function () {
    return;
};
/**
 * Removes scrollbar from the page and contain the scroll within the Lock
 */
var RemoveScroll = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(function (props, parentRef) {
    var ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);
    var _a = react__WEBPACK_IMPORTED_MODULE_0__.useState({
        onScrollCapture: nothing,
        onWheelCapture: nothing,
        onTouchMoveCapture: nothing
    }), callbacks = _a[0], setCallbacks = _a[1];
    var forwardProps = props.forwardProps, children = props.children, className = props.className, removeScrollBar = props.removeScrollBar, enabled = props.enabled, shards = props.shards, sideCar = props.sideCar, noIsolation = props.noIsolation, inert = props.inert, allowPinchZoom = props.allowPinchZoom, _b = props.as, Container = _b === void 0 ? 'div' : _b, rest = tslib__WEBPACK_IMPORTED_MODULE_2__.__rest(props, ["forwardProps", "children", "className", "removeScrollBar", "enabled", "shards", "sideCar", "noIsolation", "inert", "allowPinchZoom", "as"]);
    var SideCar = sideCar;
    var containerRef = (0,use_callback_ref__WEBPACK_IMPORTED_MODULE_3__.useMergeRefs)([
        ref,
        parentRef
    ]);
    var containerProps = tslib__WEBPACK_IMPORTED_MODULE_2__.__assign({}, rest, callbacks);
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        enabled && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(SideCar, { sideCar: _medium__WEBPACK_IMPORTED_MODULE_4__.effectCar, removeScrollBar: removeScrollBar, shards: shards, noIsolation: noIsolation, inert: inert, setCallbacks: setCallbacks, allowPinchZoom: !!allowPinchZoom, lockRef: ref })),
        forwardProps ? (react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children), tslib__WEBPACK_IMPORTED_MODULE_2__.__assign({}, containerProps, { ref: containerRef }))) : (react__WEBPACK_IMPORTED_MODULE_0__.createElement(Container, tslib__WEBPACK_IMPORTED_MODULE_2__.__assign({}, containerProps, { className: className, ref: containerRef }), children))));
});
RemoveScroll.defaultProps = {
    enabled: true,
    removeScrollBar: true,
    inert: false
};
RemoveScroll.classNames = {
    fullWidth: react_remove_scroll_bar_constants__WEBPACK_IMPORTED_MODULE_1__.fullWidthClassName,
    zeroRight: react_remove_scroll_bar_constants__WEBPACK_IMPORTED_MODULE_1__.zeroRightClassName
};



/***/ }),

/***/ "./node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-remove-scroll/dist/es2015/aggresiveCapture.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "nonPassive": () => (/* binding */ nonPassive)
/* harmony export */ });
var passiveSupported = false;
if (typeof window !== 'undefined') {
    try {
        var options = Object.defineProperty({}, 'passive', {
            get: function () {
                passiveSupported = true;
                return true;
            }
        });
        window.addEventListener('test', options, options);
        window.removeEventListener('test', options, options);
    }
    catch (err) {
        passiveSupported = false;
    }
}
var nonPassive = passiveSupported ? { passive: false } : false;


/***/ }),

/***/ "./node_modules/react-remove-scroll/dist/es2015/handleScroll.js":
/*!**********************************************************************!*\
  !*** ./node_modules/react-remove-scroll/dist/es2015/handleScroll.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "locationCouldBeScrolled": () => (/* binding */ locationCouldBeScrolled),
/* harmony export */   "handleScroll": () => (/* binding */ handleScroll)
/* harmony export */ });
var elementCouldBeVScrolled = function (node) {
    var styles = window.getComputedStyle(node);
    return (styles.overflowY !== 'hidden' && // not-not-scrollable
        !(styles.overflowY === styles.overflowX && styles.overflowY === 'visible') // scrollable
    );
};
var elementCouldBeHScrolled = function (node) {
    var styles = window.getComputedStyle(node);
    return (styles.overflowX !== 'hidden' && // not-not-scrollable
        !(styles.overflowY === styles.overflowX && styles.overflowX === 'visible') // scrollable
    );
};
var locationCouldBeScrolled = function (axis, node) {
    var current = node;
    do {
        var isScrollable = elementCouldBeScrolled(axis, current);
        if (isScrollable) {
            var _a = getScrollVariables(axis, current), s = _a[1], d = _a[2];
            if (s > d) {
                return true;
            }
        }
        current = current.parentNode;
    } while (current && current !== document.body);
    return false;
};
var getVScrollVariables = function (_a) {
    var scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;
    return [scrollTop, scrollHeight, clientHeight];
};
var getHScrollVariables = function (_a) {
    var scrollLeft = _a.scrollLeft, scrollWidth = _a.scrollWidth, clientWidth = _a.clientWidth;
    return [scrollLeft, scrollWidth, clientWidth];
};
var elementCouldBeScrolled = function (axis, node) {
    return axis === 'v' ? elementCouldBeVScrolled(node) : elementCouldBeHScrolled(node);
};
var getScrollVariables = function (axis, node) {
    return axis === 'v' ? getVScrollVariables(node) : getHScrollVariables(node);
};
var handleScroll = function (axis, endTarget, event, sourceDelta, noOverscroll) {
    var delta = sourceDelta;
    // find scrollable target
    var target = event.target;
    var targetInLock = endTarget.contains(target);
    var shouldCancelScroll = false;
    var isDeltaPositive = delta > 0;
    var availableScroll = 0;
    var availableScrollTop = 0;
    do {
        var _a = getScrollVariables(axis, target), position = _a[0], scroll_1 = _a[1], capacity = _a[2];
        var elementScroll = scroll_1 - capacity - position;
        if (position || elementScroll) {
            if (elementCouldBeScrolled(axis, target)) {
                availableScroll += elementScroll;
                availableScrollTop += position;
            }
        }
        target = target.parentNode;
    } while (
    // portaled content
    (!targetInLock && target !== document.body) ||
        // self content
        (targetInLock && (endTarget.contains(target) || endTarget === target)));
    if (isDeltaPositive &&
        ((noOverscroll && availableScroll === 0) ||
            (!noOverscroll && delta > availableScroll))) {
        shouldCancelScroll = true;
    }
    else if (!isDeltaPositive &&
        ((noOverscroll && availableScrollTop === 0) ||
            (!noOverscroll && -delta > availableScrollTop))) {
        shouldCancelScroll = true;
    }
    return shouldCancelScroll;
};


/***/ }),

/***/ "./node_modules/react-remove-scroll/dist/es2015/medium.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-remove-scroll/dist/es2015/medium.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "effectCar": () => (/* binding */ effectCar)
/* harmony export */ });
/* harmony import */ var use_sidecar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! use-sidecar */ "./node_modules/use-sidecar/dist/es2015/medium.js");

var effectCar = (0,use_sidecar__WEBPACK_IMPORTED_MODULE_0__.createSidecarMedium)();


/***/ }),

/***/ "./node_modules/react-remove-scroll/dist/es2015/sidecar.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-remove-scroll/dist/es2015/sidecar.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var use_sidecar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! use-sidecar */ "./node_modules/use-sidecar/dist/es2015/exports.js");
/* harmony import */ var _SideEffect__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./SideEffect */ "./node_modules/react-remove-scroll/dist/es2015/SideEffect.js");
/* harmony import */ var _medium__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./medium */ "./node_modules/react-remove-scroll/dist/es2015/medium.js");



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,use_sidecar__WEBPACK_IMPORTED_MODULE_0__.exportSidecar)(_medium__WEBPACK_IMPORTED_MODULE_1__.effectCar, _SideEffect__WEBPACK_IMPORTED_MODULE_2__.RemoveScrollSideCar));


/***/ }),

/***/ "./node_modules/react-remove-scroll/node_modules/tslib/tslib.es6.js":
/*!**************************************************************************!*\
  !*** ./node_modules/react-remove-scroll/node_modules/tslib/tslib.es6.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "__extends": () => (/* binding */ __extends),
/* harmony export */   "__assign": () => (/* binding */ __assign),
/* harmony export */   "__rest": () => (/* binding */ __rest),
/* harmony export */   "__decorate": () => (/* binding */ __decorate),
/* harmony export */   "__param": () => (/* binding */ __param),
/* harmony export */   "__metadata": () => (/* binding */ __metadata),
/* harmony export */   "__awaiter": () => (/* binding */ __awaiter),
/* harmony export */   "__generator": () => (/* binding */ __generator),
/* harmony export */   "__createBinding": () => (/* binding */ __createBinding),
/* harmony export */   "__exportStar": () => (/* binding */ __exportStar),
/* harmony export */   "__values": () => (/* binding */ __values),
/* harmony export */   "__read": () => (/* binding */ __read),
/* harmony export */   "__spread": () => (/* binding */ __spread),
/* harmony export */   "__spreadArrays": () => (/* binding */ __spreadArrays),
/* harmony export */   "__await": () => (/* binding */ __await),
/* harmony export */   "__asyncGenerator": () => (/* binding */ __asyncGenerator),
/* harmony export */   "__asyncDelegator": () => (/* binding */ __asyncDelegator),
/* harmony export */   "__asyncValues": () => (/* binding */ __asyncValues),
/* harmony export */   "__makeTemplateObject": () => (/* binding */ __makeTemplateObject),
/* harmony export */   "__importStar": () => (/* binding */ __importStar),
/* harmony export */   "__importDefault": () => (/* binding */ __importDefault),
/* harmony export */   "__classPrivateFieldGet": () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   "__classPrivateFieldSet": () => (/* binding */ __classPrivateFieldSet)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __createBinding(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}

function __exportStar(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, privateMap) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
    }
    return privateMap.get(receiver);
}

function __classPrivateFieldSet(receiver, privateMap, value) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
    }
    privateMap.set(receiver, value);
    return value;
}


/***/ }),

/***/ "./node_modules/react-style-singleton/dist/es2015/component.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-style-singleton/dist/es2015/component.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styleSingleton": () => (/* binding */ styleSingleton)
/* harmony export */ });
/* harmony import */ var _hook__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./hook */ "./node_modules/react-style-singleton/dist/es2015/hook.js");

var styleSingleton = function () {
    var useStyle = (0,_hook__WEBPACK_IMPORTED_MODULE_0__.styleHookSingleton)();
    var Sheet = function (_a) {
        var styles = _a.styles;
        useStyle(styles);
        return null;
    };
    return Sheet;
};


/***/ }),

/***/ "./node_modules/react-style-singleton/dist/es2015/hook.js":
/*!****************************************************************!*\
  !*** ./node_modules/react-style-singleton/dist/es2015/hook.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styleHookSingleton": () => (/* binding */ styleHookSingleton)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _singleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./singleton */ "./node_modules/react-style-singleton/dist/es2015/singleton.js");


var styleHookSingleton = function () {
    var sheet = (0,_singleton__WEBPACK_IMPORTED_MODULE_1__.stylesheetSingleton)();
    return function (styles) {
        react__WEBPACK_IMPORTED_MODULE_0__.useEffect(function () {
            sheet.add(styles);
            return function () {
                sheet.remove();
            };
        }, []);
    };
};


/***/ }),

/***/ "./node_modules/react-style-singleton/dist/es2015/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react-style-singleton/dist/es2015/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "styleSingleton": () => (/* reexport safe */ _component__WEBPACK_IMPORTED_MODULE_0__.styleSingleton),
/* harmony export */   "stylesheetSingleton": () => (/* reexport safe */ _singleton__WEBPACK_IMPORTED_MODULE_1__.stylesheetSingleton),
/* harmony export */   "styleHookSingleton": () => (/* reexport safe */ _hook__WEBPACK_IMPORTED_MODULE_2__.styleHookSingleton)
/* harmony export */ });
/* harmony import */ var _component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./component */ "./node_modules/react-style-singleton/dist/es2015/component.js");
/* harmony import */ var _singleton__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./singleton */ "./node_modules/react-style-singleton/dist/es2015/singleton.js");
/* harmony import */ var _hook__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./hook */ "./node_modules/react-style-singleton/dist/es2015/hook.js");





/***/ }),

/***/ "./node_modules/react-style-singleton/dist/es2015/singleton.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-style-singleton/dist/es2015/singleton.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "stylesheetSingleton": () => (/* binding */ stylesheetSingleton)
/* harmony export */ });
/* harmony import */ var get_nonce__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! get-nonce */ "./node_modules/get-nonce/dist/es2015/index.js");

function makeStyleTag() {
    if (!document)
        return null;
    var tag = document.createElement('style');
    tag.type = 'text/css';
    var nonce = (0,get_nonce__WEBPACK_IMPORTED_MODULE_0__.getNonce)();
    if (nonce) {
        tag.setAttribute('nonce', nonce);
    }
    return tag;
}
function injectStyles(tag, css) {
    if (tag.styleSheet) {
        tag.styleSheet.cssText = css;
    }
    else {
        tag.appendChild(document.createTextNode(css));
    }
}
function insertStyleTag(tag) {
    var head = document.head || document.getElementsByTagName('head')[0];
    head.appendChild(tag);
}
var stylesheetSingleton = function () {
    var counter = 0;
    var stylesheet = null;
    return {
        add: function (style) {
            if (counter == 0) {
                if (stylesheet = makeStyleTag()) {
                    injectStyles(stylesheet, style);
                    insertStyleTag(stylesheet);
                }
            }
            counter++;
        },
        remove: function () {
            counter--;
            if (!counter && stylesheet) {
                stylesheet.parentNode && stylesheet.parentNode.removeChild(stylesheet);
                stylesheet = null;
            }
        }
    };
};


/***/ }),

/***/ "./src/presentation/components/wrapper/index.tsx":
/*!*******************************************************!*\
  !*** ./src/presentation/components/wrapper/index.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @chakra-ui/react */ "./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js");
/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @chakra-ui/react */ "./node_modules/@chakra-ui/layout/dist/chakra-ui-layout.esm.js");
/* harmony import */ var _presentation_styles_global_styles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/presentation/styles/global-styles */ "./src/presentation/styles/global-styles.ts");
/* harmony import */ var _presentation_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/presentation/components */ "./src/presentation/components/index.ts");
/* harmony import */ var react_icons_md__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-icons/md */ "./node_modules/react-icons/md/index.esm.js");
/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-router-dom */ "./node_modules/react-router/index.js");






const Wrapper = ({ children }) => {
    const navigate = (0,react_router_dom__WEBPACK_IMPORTED_MODULE_3__.useNavigate)();
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_4__.ChakraProvider, { theme: _presentation_styles_global_styles__WEBPACK_IMPORTED_MODULE_1__.theme },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Grid, { gridTemplateColumns: "28rem 1fr", gridTemplateRows: "8rem 1fr", h: "100vh", w: "100vw" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_presentation_components__WEBPACK_IMPORTED_MODULE_2__.Header, null),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_presentation_components__WEBPACK_IMPORTED_MODULE_2__.Sidebar, null),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Box, { gridColumn: "2/-1", gridRow: "2/-1" },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.Box, { onClick: () => navigate() },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_icons_md__WEBPACK_IMPORTED_MODULE_6__.MdChevronLeft, null)),
                children))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Wrapper);


/***/ }),

/***/ "./src/presentation/styles/global-styles.ts":
/*!**************************************************!*\
  !*** ./src/presentation/styles/global-styles.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "globalStyles": () => (/* binding */ globalStyles),
/* harmony export */   "theme": () => (/* binding */ theme)
/* harmony export */ });
/* harmony import */ var _chakra_ui_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @chakra-ui/react */ "./node_modules/@chakra-ui/react/dist/chakra-ui-react.esm.js");

const globalStyles = {
    '*, *::after, *::before': {
        margin: 0,
        padding: 0,
        boxSizing: 'border-box'
    },
    html: {
        fontSize: '62.5%',
        '@media screen and (max-width: 75.5em)': {
            fontSize: '56.25%'
        },
        '@media screen and (max-width: 56.25em)': {
            fontSize: '50%'
        }
    },
    'body, button, input': {
        fontFamily: 'Roboto, Arial, Helvetica, sans-serif'
    }
};
const theme = (0,_chakra_ui_react__WEBPACK_IMPORTED_MODULE_0__.extendTheme)({
    styles: {
        global: globalStyles
    }
});


/***/ }),

/***/ "./node_modules/use-callback-ref/dist/es2015/assignRef.js":
/*!****************************************************************!*\
  !*** ./node_modules/use-callback-ref/dist/es2015/assignRef.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "assignRef": () => (/* binding */ assignRef)
/* harmony export */ });
/**
 * Assigns a value for a given ref, no matter of the ref format
 * @param {RefObject} ref - a callback function or ref object
 * @param value - a new value
 *
 * @see https://github.com/theKashey/use-callback-ref#assignref
 * @example
 * const refObject = useRef();
 * const refFn = (ref) => {....}
 *
 * assignRef(refObject, "refValue");
 * assignRef(refFn, "refValue");
 */
function assignRef(ref, value) {
    if (typeof ref === 'function') {
        ref(value);
    }
    else if (ref) {
        ref.current = value;
    }
    return ref;
}


/***/ }),

/***/ "./node_modules/use-callback-ref/dist/es2015/useMergeRef.js":
/*!******************************************************************!*\
  !*** ./node_modules/use-callback-ref/dist/es2015/useMergeRef.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useMergeRefs": () => (/* binding */ useMergeRefs)
/* harmony export */ });
/* harmony import */ var _useRef__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./useRef */ "./node_modules/use-callback-ref/dist/es2015/useRef.js");
/* harmony import */ var _assignRef__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./assignRef */ "./node_modules/use-callback-ref/dist/es2015/assignRef.js");


/**
 * Merges two or more refs together providing a single interface to set their value
 * @param {RefObject|Ref} refs
 * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}
 *
 * @see {@link mergeRefs} a version without buit-in memoization
 * @see https://github.com/theKashey/use-callback-ref#usemergerefs
 * @example
 * const Component = React.forwardRef((props, ref) => {
 *   const ownRef = useRef();
 *   const domRef = useMergeRefs([ref, ownRef]); // 👈 merge together
 *   return <div ref={domRef}>...</div>
 * }
 */
function useMergeRefs(refs, defaultValue) {
    return (0,_useRef__WEBPACK_IMPORTED_MODULE_0__.useCallbackRef)(defaultValue, function (newValue) {
        return refs.forEach(function (ref) { return (0,_assignRef__WEBPACK_IMPORTED_MODULE_1__.assignRef)(ref, newValue); });
    });
}


/***/ }),

/***/ "./node_modules/use-callback-ref/dist/es2015/useRef.js":
/*!*************************************************************!*\
  !*** ./node_modules/use-callback-ref/dist/es2015/useRef.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "useCallbackRef": () => (/* binding */ useCallbackRef)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");

/**
 * creates a MutableRef with ref change callback
 * @param initialValue - initial ref value
 * @param {Function} callback - a callback to run when value changes
 *
 * @example
 * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);
 * ref.current = 1;
 * // prints 0 -> 1
 *
 * @see https://reactjs.org/docs/hooks-reference.html#useref
 * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref
 * @returns {MutableRefObject}
 */
function useCallbackRef(initialValue, callback) {
    var ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(function () { return ({
        // value
        value: initialValue,
        // last callback
        callback: callback,
        // "memoized" public interface
        facade: {
            get current() {
                return ref.value;
            },
            set current(value) {
                var last = ref.value;
                if (last !== value) {
                    ref.value = value;
                    ref.callback(value, last);
                }
            }
        }
    }); })[0];
    // update callback
    ref.callback = callback;
    return ref.facade;
}


/***/ }),

/***/ "./node_modules/use-sidecar/dist/es2015/exports.js":
/*!*********************************************************!*\
  !*** ./node_modules/use-sidecar/dist/es2015/exports.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "exportSidecar": () => (/* binding */ exportSidecar)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ "./node_modules/use-sidecar/node_modules/tslib/tslib.es6.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");


var SideCar = function (_a) {
    var sideCar = _a.sideCar, rest = tslib__WEBPACK_IMPORTED_MODULE_1__.__rest(_a, ["sideCar"]);
    if (!sideCar) {
        throw new Error('Sidecar: please provide `sideCar` property to import the right car');
    }
    var Target = sideCar.read();
    if (!Target) {
        throw new Error('Sidecar medium not found');
    }
    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Target, tslib__WEBPACK_IMPORTED_MODULE_1__.__assign({}, rest));
};
SideCar.isSideCarExport = true;
function exportSidecar(medium, exported) {
    medium.useMedium(exported);
    return SideCar;
}


/***/ }),

/***/ "./node_modules/use-sidecar/dist/es2015/medium.js":
/*!********************************************************!*\
  !*** ./node_modules/use-sidecar/dist/es2015/medium.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createMedium": () => (/* binding */ createMedium),
/* harmony export */   "createSidecarMedium": () => (/* binding */ createSidecarMedium)
/* harmony export */ });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/use-sidecar/node_modules/tslib/tslib.es6.js");

function ItoI(a) {
    return a;
}
function innerCreateMedium(defaults, middleware) {
    if (middleware === void 0) { middleware = ItoI; }
    var buffer = [];
    var assigned = false;
    var medium = {
        read: function () {
            if (assigned) {
                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');
            }
            if (buffer.length) {
                return buffer[buffer.length - 1];
            }
            return defaults;
        },
        useMedium: function (data) {
            var item = middleware(data, assigned);
            buffer.push(item);
            return function () {
                buffer = buffer.filter(function (x) { return x !== item; });
            };
        },
        assignSyncMedium: function (cb) {
            assigned = true;
            while (buffer.length) {
                var cbs = buffer;
                buffer = [];
                cbs.forEach(cb);
            }
            buffer = {
                push: function (x) { return cb(x); },
                filter: function () { return buffer; },
            };
        },
        assignMedium: function (cb) {
            assigned = true;
            var pendingQueue = [];
            if (buffer.length) {
                var cbs = buffer;
                buffer = [];
                cbs.forEach(cb);
                pendingQueue = buffer;
            }
            var executeQueue = function () {
                var cbs = pendingQueue;
                pendingQueue = [];
                cbs.forEach(cb);
            };
            var cycle = function () { return Promise.resolve().then(executeQueue); };
            cycle();
            buffer = {
                push: function (x) {
                    pendingQueue.push(x);
                    cycle();
                },
                filter: function (filter) {
                    pendingQueue = pendingQueue.filter(filter);
                    return buffer;
                },
            };
        },
    };
    return medium;
}
function createMedium(defaults, middleware) {
    if (middleware === void 0) { middleware = ItoI; }
    return innerCreateMedium(defaults, middleware);
}
function createSidecarMedium(options) {
    if (options === void 0) { options = {}; }
    var medium = innerCreateMedium(null);
    medium.options = tslib__WEBPACK_IMPORTED_MODULE_0__.__assign({ async: true, ssr: false }, options);
    return medium;
}


/***/ }),

/***/ "./node_modules/use-sidecar/node_modules/tslib/tslib.es6.js":
/*!******************************************************************!*\
  !*** ./node_modules/use-sidecar/node_modules/tslib/tslib.es6.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "__extends": () => (/* binding */ __extends),
/* harmony export */   "__assign": () => (/* binding */ __assign),
/* harmony export */   "__rest": () => (/* binding */ __rest),
/* harmony export */   "__decorate": () => (/* binding */ __decorate),
/* harmony export */   "__param": () => (/* binding */ __param),
/* harmony export */   "__metadata": () => (/* binding */ __metadata),
/* harmony export */   "__awaiter": () => (/* binding */ __awaiter),
/* harmony export */   "__generator": () => (/* binding */ __generator),
/* harmony export */   "__createBinding": () => (/* binding */ __createBinding),
/* harmony export */   "__exportStar": () => (/* binding */ __exportStar),
/* harmony export */   "__values": () => (/* binding */ __values),
/* harmony export */   "__read": () => (/* binding */ __read),
/* harmony export */   "__spread": () => (/* binding */ __spread),
/* harmony export */   "__spreadArrays": () => (/* binding */ __spreadArrays),
/* harmony export */   "__await": () => (/* binding */ __await),
/* harmony export */   "__asyncGenerator": () => (/* binding */ __asyncGenerator),
/* harmony export */   "__asyncDelegator": () => (/* binding */ __asyncDelegator),
/* harmony export */   "__asyncValues": () => (/* binding */ __asyncValues),
/* harmony export */   "__makeTemplateObject": () => (/* binding */ __makeTemplateObject),
/* harmony export */   "__importStar": () => (/* binding */ __importStar),
/* harmony export */   "__importDefault": () => (/* binding */ __importDefault),
/* harmony export */   "__classPrivateFieldGet": () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   "__classPrivateFieldSet": () => (/* binding */ __classPrivateFieldSet)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __createBinding(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}

function __exportStar(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, privateMap) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to get private field on non-instance");
    }
    return privateMap.get(receiver);
}

function __classPrivateFieldSet(receiver, privateMap, value) {
    if (!privateMap.has(receiver)) {
        throw new TypeError("attempted to set private field on non-instance");
    }
    privateMap.set(receiver, value);
    return value;
}


/***/ }),

/***/ "./node_modules/warning/warning.js":
/*!*****************************************!*\
  !*** ./node_modules/warning/warning.js ***!
  \*****************************************/
/***/ ((module) => {

"use strict";
/**
 * Copyright (c) 2014-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */



/**
 * Similar to invariant but only logs a warning if the condition is not met.
 * This can be used to log issues in development environments in critical
 * paths. Removing the logging code for production environments will keep the
 * same logic and follow the same code paths.
 */

var __DEV__ = "development" !== 'production';

var warning = function() {};

if (__DEV__) {
  var printWarning = function printWarning(format, args) {
    var len = arguments.length;
    args = new Array(len > 1 ? len - 1 : 0);
    for (var key = 1; key < len; key++) {
      args[key - 1] = arguments[key];
    }
    var argIndex = 0;
    var message = 'Warning: ' +
      format.replace(/%s/g, function() {
        return args[argIndex++];
      });
    if (typeof console !== 'undefined') {
      console.error(message);
    }
    try {
      // --- Welcome to debugging React ---
      // This error was thrown as a convenience so that you can use this stack
      // to find the callsite that caused this warning to fire.
      throw new Error(message);
    } catch (x) {}
  }

  warning = function(condition, format, args) {
    var len = arguments.length;
    args = new Array(len > 2 ? len - 2 : 0);
    for (var key = 2; key < len; key++) {
      args[key - 2] = arguments[key];
    }
    if (format === undefined) {
      throw new Error(
          '`warning(condition, format, ...args)` requires a warning ' +
          'message argument'
      );
    }
    if (!condition) {
      printWarning.apply(null, [format].concat(args));
    }
  };
}

module.exports = warning;


/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/defineProperty.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/defineProperty.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _defineProperty)
/* harmony export */ });
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }

  return obj;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js":
/*!******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _inheritsLoose)
/* harmony export */ });
/* harmony import */ var _setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./setPrototypeOf.js */ "./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js");

function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  (0,_setPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__["default"])(subClass, superClass);
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _objectWithoutPropertiesLoose)
/* harmony export */ });
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;

  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }

  return target;
}

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (/* binding */ _setPrototypeOf)
/* harmony export */ });
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };

  return _setPrototypeOf(o, p);
}

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/create fake namespace object */
/******/ (() => {
/******/ 	var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);
/******/ 	var leafPrototypes;
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 16: return value when it's Promise-like
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = this(value);
/******/ 		if(mode & 8) return value;
/******/ 		if(typeof value === 'object' && value) {
/******/ 			if((mode & 4) && value.__esModule) return value;
/******/ 			if((mode & 16) && typeof value.then === 'function') return value;
/******/ 		}
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		var def = {};
/******/ 		leafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];
/******/ 		for(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {
/******/ 			Object.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));
/******/ 		}
/******/ 		def['default'] = () => (value);
/******/ 		__webpack_require__.d(ns, def);
/******/ 		return ns;
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("a6528355a49bc93447e1")
/******/ })();
/******/ 
/******/ }
);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi42YmZhZjEzZTkxZDgyMWYyMjFkYi5ob3QtdXBkYXRlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUM7QUFDa0Y7QUFDeEU7QUFDbUc7QUFDbEY7QUFDbkM7QUFDdUI7QUFDVTtBQUNrQjs7QUFFbEY7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsdUJBQXVCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw0QkFBNEIsOEVBQXVCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFOzs7QUFHckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCLCtDQUFRO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsRUFBRSxrRUFBZ0I7QUFDbEI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsOEJBQThCLHNFQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsUUFBUTtBQUN6Qjs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUseURBQU87QUFDdEI7O0FBRUE7QUFDQTs7QUFFQSwyQkFBMkIseURBQU87QUFDbEMsaUNBQWlDLHlEQUFPLGVBQWUsNERBQVU7QUFDakU7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLHFFQUFhO0FBQ3BDO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IsNkNBQU07QUFDeEI7QUFDQTtBQUNBOztBQUVBLGdCQUFnQix3REFBTTtBQUN0QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0EsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixrREFBVztBQUM3QixtQkFBbUIsbUVBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1REFBSztBQUN2QixPQUFPO0FBQ1A7QUFDQTtBQUNBLGtCQUFrQix1REFBSztBQUN2QixPQUFPO0FBQ1A7QUFDQTtBQUNBLG1CQUFtQix1REFBSztBQUN4QixPQUFPO0FBQ1A7QUFDQTtBQUNBLGtCQUFrQix1REFBSztBQUN2QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLGtEQUFXO0FBQzNCO0FBQ0EsR0FBRztBQUNILHVCQUF1QixrREFBVztBQUNsQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNCQUFzQjtBQUN0QjtBQUNBLFdBQVcsaUVBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlFQUFlO0FBQzlCLGVBQWUsaUVBQWU7QUFDOUIsaUJBQWlCLGlFQUFlO0FBQ2hDLEtBQUs7QUFDTCxHQUFHO0FBQ0gsc0JBQXNCLGtEQUFXO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw2REFBVyxZQUFZLHlEQUFPO0FBQ2pELEVBQUUsc0RBQUk7QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EsRUFBRSxzREFBSTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxFQUFFLHNEQUFJO0FBQ047QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLEVBQUUsc0RBQUk7QUFDTjtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2REFBVTtBQUN2QztBQUNBO0FBQ0E7O0FBRUEsZUFBZSxzRUFBbUI7QUFDbEMsaUJBQWlCLG1FQUFnQjs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsWUFBWSwwQ0FBYTtBQUN6QixzQkFBc0I7QUFDdEI7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNILHNCQUFzQixnREFBbUI7QUFDekM7QUFDQSxHQUFHLGVBQWUsZ0RBQW1CO0FBQ3JDO0FBQ0EsR0FBRyxlQUFlLGdEQUFtQixDQUFDLDZEQUFjO0FBQ3BEO0FBQ0EsR0FBRyxlQUFlLGdEQUFtQixDQUFDLHlEQUFVO0FBQ2hEO0FBQ0EsR0FBRztBQUNILGVBQWUsb0RBQUU7QUFDakIsR0FBRztBQUNILENBQUM7O0FBRUQsSUFBSSxxREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLHFCQUFxQixxRUFBYTtBQUNsQztBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLDZEQUFVO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGVBQWUsNERBQVM7O0FBRXhCLG1DQUFtQztBQUNuQztBQUNBLEdBQUc7O0FBRUgsWUFBWSwwQ0FBYTtBQUN6QjtBQUNBLEdBQUc7QUFDSCxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0EsR0FBRyxlQUFlLGdEQUFtQixDQUFDLHlEQUFVO0FBQ2hEO0FBQ0EsR0FBRztBQUNILGVBQWUsb0RBQUU7QUFDakI7QUFDQSxHQUFHLEdBQUcseURBQU87QUFDYjtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQsSUFBSSxxREFBTztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw2REFBVTtBQUM3QztBQUNBOztBQUVBO0FBQ0EsZUFBZSw0REFBUzs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsc0JBQXNCLGdEQUFtQixDQUFDLDREQUFhLGFBQWE7QUFDcEUsZUFBZSxvREFBRTtBQUNqQjtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVELElBQUkscURBQU87QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNkRBQVU7QUFDNUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOENBQThDOzs7QUFHOUM7O0FBRUEsbUJBQW1CLG9EQUFFOztBQUVyQixlQUFlLDREQUFTOztBQUV4QjtBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCLGdEQUFtQixDQUFDLHlEQUFVLGFBQWE7QUFDdEU7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQSx3QkFBd0IsZ0RBQW1CLENBQUMsMkRBQVE7QUFDcEQ7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQSxDQUFDOztBQUVELElBQUkscURBQU87QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG1CQUFtQixvREFBRTs7QUFFckIsZUFBZSw0REFBUzs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUgsc0JBQXNCLGdEQUFtQixDQUFDLGlEQUFJO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyx1QkFBdUIsZ0RBQW1CO0FBQzdDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUEsSUFBSSxxREFBTztBQUNYO0FBQ0E7O0FBRWtTOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMva0J6SztBQUNuRjtBQUNpQjtBQUN4QjtBQUNROztBQUV2QztBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyx1QkFBdUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixnREFBbUIsQ0FBQyxpREFBSTtBQUM5QztBQUNBLEdBQUcsdUJBQXVCLGdEQUFtQjtBQUM3QztBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQW1CLENBQUMsaURBQUk7QUFDOUM7QUFDQSxHQUFHLHVCQUF1QixnREFBbUI7QUFDN0M7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLGlEQUFJO0FBQzlDO0FBQ0EsR0FBRyx1QkFBdUIsZ0RBQW1CO0FBQzdDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLHFFQUFhO0FBQ2xDO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw2REFBVTtBQUNuQzs7QUFFQSwwQkFBMEIsbUVBQWdCO0FBQzFDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsc0VBQW1CLHFCQUFxQjtBQUN2RDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLEdBQUcsZUFBZSxnREFBbUIsQ0FBQyw2REFBYztBQUNwRDtBQUNBLEdBQUcsZUFBZSxnREFBbUIsQ0FBQyx5REFBVTtBQUNoRDtBQUNBO0FBQ0EsR0FBRztBQUNILGVBQWUsb0RBQUU7QUFDakI7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNELDhCQUE4Qiw2REFBVTtBQUN4QyxlQUFlLDREQUFTO0FBQ3hCLHNCQUFzQixnREFBbUIsQ0FBQyx5REFBVTtBQUNwRDtBQUNBLEdBQUc7QUFDSCxlQUFlLG9EQUFFO0FBQ2pCO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRCxvQ0FBb0MsNkRBQVU7QUFDOUMsZUFBZSw0REFBUzs7QUFFeEI7QUFDQTtBQUNBLEdBQUc7O0FBRUgsc0JBQXNCLGdEQUFtQixDQUFDLHlEQUFVO0FBQ3BEO0FBQ0EsR0FBRztBQUNILGVBQWUsb0RBQUU7QUFDakI7QUFDQSxHQUFHO0FBQ0gsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGVBQWUsNERBQVM7QUFDeEIsc0JBQXNCLGdEQUFtQixDQUFDLDBEQUFXO0FBQ3JEO0FBQ0EsR0FBRztBQUNILGVBQWUsb0RBQUU7QUFDakI7QUFDQSxHQUFHLGdCQUFnQixnREFBbUI7QUFDdEM7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFMEQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxS1Q7O0FBRWpEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHVCQUF1QiwrREFBTztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLCtEQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsb0JBQW9CLCtEQUFPO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHdCQUF3QiwrREFBTztBQUMvQixvQkFBb0IsK0RBQU87QUFDM0Isc0JBQXNCLCtEQUFPO0FBQzdCLDhCQUE4QiwrREFBTztBQUNyQyxvQkFBb0IsK0RBQU87QUFDM0Isc0JBQXNCLCtEQUFPO0FBQzdCLGtCQUFrQiwrREFBTztBQUN6Qix1QkFBdUIsK0RBQU87QUFDOUIsbUJBQW1CLCtEQUFPO0FBQzFCLGtCQUFrQiwrREFBTztBQUN6QixrQkFBa0IsK0RBQU87QUFDekIsbUJBQW1CLCtEQUFPO0FBQzFCLHlCQUF5QiwrREFBTztBQUNoQyxzQkFBc0IsK0RBQU87QUFDN0IscUJBQXFCLCtEQUFPO0FBQzVCLHNCQUFzQiwrREFBTztBQUM3QixtQkFBbUIsK0RBQU87QUFDMUIsb0JBQW9CLCtEQUFPO0FBQzNCLG9CQUFvQiwrREFBTztBQUMzQixrQkFBa0IsK0RBQU87QUFDekIsb0JBQW9CLCtEQUFPO0FBQzNCLG1CQUFtQiwrREFBTztBQUMxQixrQkFBa0IsK0RBQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQiwrREFBTzs7QUFFdVo7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JFblk7QUFDNkU7QUFDekQ7QUFDakM7QUFDMkI7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyx1QkFBdUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsNkRBQVU7QUFDekMsZUFBZSw0REFBUzs7QUFFeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILHNCQUFzQixnREFBbUIsQ0FBQyx5REFBVTtBQUNwRDtBQUNBLEdBQUc7QUFDSCxlQUFlLG9EQUFFO0FBQ2pCO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQsSUFBSSxxREFBTztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLDREQUFTO0FBQ3hCLHNCQUFzQixnREFBbUIsQ0FBQyx5REFBVTtBQUNwRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0Esc0JBQXNCLGdEQUFtQixDQUFDLHlEQUFVO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHVCQUF1QixnREFBbUI7QUFDN0M7QUFDQTtBQUNBLEdBQUcsZ0JBQWdCLGdEQUFtQjtBQUN0QztBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDZEQUFVO0FBQ3BDLGVBQWUsc0VBQW1COztBQUVsQywwQkFBMEIsbUVBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxnREFBbUI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLGdEQUFtQixDQUFDLDBEQUFXO0FBQ3JEO0FBQ0EsR0FBRztBQUNILGVBQWUsb0RBQUU7QUFDakI7QUFDQSxHQUFHLGdCQUFnQixnREFBbUIsQ0FBQyw2REFBYztBQUNyRDtBQUNBLEdBQUcsZUFBZSxnREFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQsSUFBSSxxREFBTztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELGdEQUFtQjtBQUN0RTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxlQUFlLDBEQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0EsK0JBQStCLGdEQUFtQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxLQUFLLGlCQUFpQiwrQ0FBa0I7QUFDeEM7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7O0FBR0Esc0JBQXNCLGdEQUFtQixDQUFDLHlEQUFVO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBLElBQUkscURBQU87QUFDWDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw2REFBVTtBQUN6QyxlQUFlLHNFQUFtQjs7QUFFbEMsMEJBQTBCLG1FQUFnQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQix3RUFBZ0I7QUFDdEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLCtDQUFrQixRQUFRLGlFQUFlO0FBQ2pFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSCxzQkFBc0IsZ0RBQW1CLENBQUMseURBQVU7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGVBQWUsb0RBQUU7QUFDakIsR0FBRyw4QkFBOEIsZ0RBQW1CLENBQUMsMERBQVc7QUFDaEU7QUFDQTtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVELElBQUkscURBQU87QUFDWDtBQUNBOztBQUV1RDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNyVWtFO0FBQzFFO0FBQ1c7QUFDM0I7O0FBRS9CO0FBQ0E7QUFDQSxvQkFBb0Isc0JBQXNCO0FBQzFDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw2REFBVTtBQUNqRDtBQUNBOztBQUVBLGVBQWUsNERBQVM7O0FBRXhCO0FBQ0E7QUFDQSxHQUFHOztBQUVILHNCQUFzQixnREFBbUIsQ0FBQywwREFBVztBQUNyRDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQsSUFBSSxxREFBTztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDZEQUFVO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZSw0REFBUzs7QUFFeEI7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvREFBRTtBQUNqQixHQUFHOztBQUVIO0FBQ0Esd0JBQXdCLGdEQUFtQixDQUFDLDBEQUFXO0FBQ3ZEO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUEsc0JBQXNCLGdEQUFtQixDQUFDLHVEQUFRO0FBQ2xEO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCxJQUFJLHFEQUFPO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsNkRBQVU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLHdFQUFnQjtBQUN0QztBQUNBO0FBQ0EsMEJBQTBCLCtDQUFrQjtBQUM1QztBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLDBCQUEwQiwrQ0FBa0I7QUFDNUM7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBLEdBQUc7QUFDSCxlQUFlLDREQUFTOztBQUV4QjtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVILG1CQUFtQixvREFBRTs7QUFFckIsc0JBQXNCLGdEQUFtQixDQUFDLHdEQUFTO0FBQ25EO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQSxHQUFHLHdDQUF3QyxnREFBbUI7QUFDOUQ7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCxJQUFJLHFEQUFPO0FBQ1g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsNkRBQVU7QUFDeEMsZUFBZSxzRUFBbUI7QUFDbEMsaUJBQWlCLG1FQUFnQjs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLHdFQUFnQjtBQUN0QztBQUNBO0FBQ0Esd0JBQXdCLCtDQUFrQjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRzs7QUFFSCxtQkFBbUIsb0RBQUU7O0FBRXJCLHNCQUFzQixnREFBbUIsQ0FBQyx5REFBVTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsc0JBQXNCLGdEQUFtQixDQUFDLDZEQUFjO0FBQzNEO0FBQ0EsR0FBRyxlQUFlLGdEQUFtQixDQUFDLHdEQUFTO0FBQy9DO0FBQ0EsR0FBRztBQUNILENBQUM7O0FBRUQsSUFBSSxxREFBTztBQUNYO0FBQ0E7O0FBRTJFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDL013RDtBQUNqRTtBQUNuQztBQUN1QjtBQUN3RTtBQUNoQztBQUN0QztBQUNTOztBQUVqRTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQixnRUFBYzs7QUFFbkMsOEJBQThCLHNFQUFvQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQSxxQkFBcUIsa0RBQVc7QUFDaEM7QUFDQSxvQkFBb0IsOERBQVk7QUFDaEMsd0JBQXdCLDhEQUFZO0FBQ3BDLGdDQUFnQyx5REFBTyx5QkFBeUIsNERBQVU7QUFDMUU7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLGtEQUFXO0FBQ3BDOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQix3QkFBd0I7QUFDOUMsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCLHFFQUFhO0FBQ2xDO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGNBQWMsMENBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0EsR0FBRztBQUNIOztBQUVBLElBQUkscURBQU87QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyx1QkFBdUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQSw0QkFBNEIsaURBQU0sR0FBRyx3REFBYSxDQUFDLHlEQUFVLElBQUkscURBQU0sQ0FBQyx5REFBVTs7QUFFbEY7QUFDQSxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHVCQUF1QixnREFBbUI7QUFDN0M7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxzQkFBc0IsZ0RBQW1CO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUcsdUJBQXVCLGdEQUFtQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQW1CLENBQUMsMERBQWU7QUFDekQ7QUFDQSxHQUFHLHVCQUF1QixnREFBbUIsQ0FBQyxxREFBVTtBQUN4RDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixnREFBbUI7QUFDekM7QUFDQSxHQUFHLGVBQWUsZ0RBQW1CO0FBQ3JDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxxQkFBcUIsZ0VBQWM7QUFDbkMsbUJBQW1CLGdFQUFjO0FBQ2pDLG9CQUFvQixnRUFBYzs7QUFFbEMsb0JBQW9CLDREQUFVO0FBQzlCO0FBQ0E7O0FBRUEscUJBQXFCLDREQUFVO0FBQy9CO0FBQ0E7O0FBRUEscUJBQXFCLDREQUFVO0FBQy9CO0FBQ0E7O0FBRUEsaUJBQWlCLDZDQUFNOztBQUV2QixrQkFBa0IsK0NBQVE7QUFDMUI7QUFDQTs7QUFFQSxtQkFBbUIsK0NBQVE7QUFDM0I7QUFDQTs7QUFFQSw2QkFBNkIscUVBQW1CO0FBQ2hEO0FBQ0E7O0FBRUEsRUFBRSxzREFBSTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0gscUJBQXFCLGtEQUFXO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0gsRUFBRSxxRUFBbUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esa0JBQWtCLGtEQUFXO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxnQkFBZ0Isa0RBQVc7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsRUFBRSxxRUFBbUI7QUFDckI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLGtEQUFXO0FBQ3BDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQjtBQUN0QjtBQUNBLHFCQUFxQiwwREFBUTtBQUM3QixvQkFBb0IsMERBQVE7QUFDNUIsc0JBQXNCLDBEQUFRO0FBQzlCLG9CQUFvQiwwREFBUTtBQUM1Qiw0QkFBNEIsMERBQVE7QUFDcEMsdUJBQXVCLDBEQUFRO0FBQy9CLHNCQUFzQiwwREFBUTtBQUM5Qix1QkFBdUIsMERBQVE7QUFDL0I7QUFDQSxtQkFBbUIsaUVBQWU7QUFDbEMsaUJBQWlCLGlFQUFlO0FBQ2hDLG9CQUFvQixpRUFBZTtBQUNuQyxvQkFBb0IsaUVBQWU7QUFDbkMsS0FBSztBQUNMLEdBQUc7QUFDSCxxQkFBcUIsa0RBQVc7QUFDaEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0I7QUFDdEIsV0FBVyxpRUFBUztBQUNwQjtBQUNBO0FBQ0EsT0FBTztBQUNQLGVBQWUsaUVBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsVUFBVSx1REFBSztBQUNmO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQLHVCQUF1QiwwREFBUTtBQUMvQixzQkFBc0IsMERBQVE7QUFDOUIsc0JBQXNCLDBEQUFRO0FBQzlCLEtBQUs7QUFDTCxHQUFHO0FBQ0gsc0JBQXNCLGtEQUFXO0FBQ2pDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCO0FBQ3RCLFdBQVcsaUVBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixpRUFBZTtBQUMvQixjQUFjLGlFQUFlO0FBQzdCLGVBQWUsaUVBQWU7QUFDOUIsaUJBQWlCLGlFQUFlO0FBQ2hDLGVBQWUsaUVBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwyRUFBbUI7QUFDaEMsS0FBSztBQUNMLEdBQUc7QUFDSCxzQkFBc0Isa0RBQVc7QUFDakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxzQkFBc0I7QUFDdEI7QUFDQSxtQkFBbUIsaUVBQWU7QUFDbEMsb0JBQW9CLGlFQUFlO0FBQ25DLHVCQUF1QiwwREFBUTtBQUMvQixzQkFBc0IsMERBQVE7QUFDOUIsc0JBQXNCLDBEQUFRO0FBQzlCLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQix5REFBTTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFlBQVkseURBQU07QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNkRBQVU7QUFDdEM7O0FBRUEsK0JBQStCOztBQUUvQixlQUFlLHNFQUFtQjtBQUNsQyxpQkFBaUIsbUVBQWdCOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxnREFBbUI7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxlQUFlLHlEQUFPO0FBQ3RCOztBQUVBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsMENBQWE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsZ0NBQWdDLCtDQUFrQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLGdEQUFtQjtBQUN6QztBQUNBLGVBQWUsb0RBQUU7QUFDakIsR0FBRyxnQ0FBZ0MsZ0RBQW1CO0FBQ3REO0FBQ0EsR0FBRyxrQkFBa0IsdUJBQXVCLGdEQUFtQjtBQUMvRDtBQUNBO0FBQ0EsR0FBRyw2REFBNkQsZ0RBQW1CLENBQUMsMERBQVc7QUFDL0Y7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCxJQUFJLHFEQUFPO0FBQ1g7QUFDQTs7QUFFMkY7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6bkJqQztBQUNQO0FBQ3BCOztBQUUvQjtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyx1QkFBdUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQix5Q0FBWTtBQUM5QjtBQUNBLFlBQVksOENBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNILGVBQWUsOENBQWlCO0FBQ2hDO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSw0Q0FBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLHdCQUF3QiwyQ0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBLHlCQUF5QiwyQ0FBYztBQUN2QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQiw4Q0FBaUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0JBQXdCLDhDQUFpQjtBQUN6QztBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7O0FBRTNCO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsc0JBQXNCLDhDQUFpQjtBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0gsb0JBQW9CLDhDQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsMEJBQTBCLDhDQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsd0JBQXdCLDhDQUFpQjtBQUN6QyxRQUFRLDhEQUFZOztBQUVwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEdBQUc7QUFDSCxzQkFBc0IsOENBQWlCO0FBQ3ZDLFFBQVEsOERBQVk7O0FBRXBCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSCx3QkFBd0IsOENBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNILHlCQUF5Qiw4Q0FBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0gsWUFBWSxpRUFBUzs7QUFFckI7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBLG1CQUFtQiwwREFBUTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRXdCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3JSZTtBQUNrRDtBQUM5QztBQUNaOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsdUJBQXVCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHNCQUFzQixnREFBbUIsQ0FBQyxpREFBSTtBQUM5QztBQUNBO0FBQ0EsR0FBRyx1QkFBdUIsZ0RBQW1CO0FBQzdDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDZEQUFVO0FBQ3pDLGVBQWUsaUVBQWM7O0FBRTdCLDBCQUEwQixtRUFBZ0I7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQW1CLENBQUMsNERBQWE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEIsR0FBRyxrQ0FBa0MsZ0RBQW1CO0FBQ3hEO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsQ0FBQzs7QUFFRCxJQUFJLHFEQUFPO0FBQ1g7QUFDQTs7QUFFdUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN4Rm9CO0FBQ0E7QUFDWjs7QUFFL0I7QUFDQTtBQUNBLG9CQUFvQixzQkFBc0I7QUFDMUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGNBQWMsdUJBQXVCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBbUIsQ0FBQyx5REFBVSxhQUFhO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHlSQUF5UiwyQkFBMkI7QUFDelQsR0FBRztBQUNIOztBQUVBLElBQUkscURBQU87QUFDWDtBQUNBOztBQUVzQjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3hGaUQ7QUFDd0M7QUFDakU7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNERBQWM7QUFDbEQ7QUFDQSxvQ0FBb0MsNERBQWM7QUFDbEQ7QUFDQTtBQUNBLHFCQUFxQixnRUFBYzs7QUFFbkMsa0JBQWtCLCtDQUFRO0FBQzFCOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQSw2QkFBNkIscUVBQW1CO0FBQ2hEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsa0RBQVc7QUFDMUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRyx3Q0FBd0M7O0FBRTNDLGNBQWMsa0RBQVc7QUFDekI7O0FBRUE7QUFDQSxrQkFBa0IsNERBQVU7QUFDNUI7O0FBRUEsV0FBVyw2REFBVztBQUN0QixHQUFHO0FBQ0gsa0JBQWtCLGtEQUFXO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsa0JBQWtCLGtEQUFXO0FBQzdCO0FBQ0E7QUFDQTs7QUFFQSxjQUFjOztBQUVkO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNILGNBQWMsa0RBQVc7QUFDekI7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNILGtCQUFrQixrREFBVztBQUM3Qjs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGtCQUFrQixvRUFBa0IsUUFBUSxvRUFBa0I7QUFDOUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDZEQUFXO0FBQ3BCOztBQUVzQjs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ2xLa0I7QUFDVDs7QUFFL0I7QUFDQSxzQkFBc0IsZ0RBQW1CLENBQUMsa0RBQU07QUFDaEQsMkJBQTJCLDJCQUEyQix5Q0FBeUMsNkNBQTZDLDhDQUE4Qyw2Q0FBNkMsNkNBQTZDLHFDQUFxQyxTQUFTLGdCQUFnQiw2QkFBNkIsMkJBQTJCLHdDQUF3QyxTQUFTLGdEQUFnRCwwQkFBMEIsOEJBQThCLGlDQUFpQyxTQUFTLGdCQUFnQix5QkFBeUIsU0FBUyxjQUFjLGdDQUFnQyxrQ0FBa0Msb0JBQW9CLDRCQUE0QixTQUFTLHFEQUFxRCwyRUFBMkUseUJBQXlCLFNBQVMsYUFBYSx3Q0FBd0MseUJBQXlCLG1DQUFtQyxTQUFTLHVCQUF1Qiw4QkFBOEIscUNBQXFDLG9EQUFvRCw0Q0FBNEMsU0FBUyw0QkFBNEIsNEJBQTRCLFNBQVMsaUJBQWlCLHlCQUF5QixTQUFTLDJCQUEyQix5QkFBeUIseUJBQXlCLDZCQUE2QixtQ0FBbUMsU0FBUyxlQUFlLDBCQUEwQixTQUFTLGVBQWUsc0JBQXNCLFNBQVMsZUFBZSw2QkFBNkIsU0FBUyxpRkFBaUYsK0JBQStCLDBCQUEwQiw0QkFBNEIsb0JBQW9CLFNBQVMsZ0NBQWdDLDRCQUE0QixTQUFTLGlDQUFpQywrQkFBK0IsU0FBUyx1S0FBdUssNkJBQTZCLHFCQUFxQixTQUFTLG9CQUFvQix5Q0FBeUMsU0FBUyxrQkFBa0IsaUNBQWlDLHlCQUF5Qix5QkFBeUIsMEJBQTBCLHFCQUFxQiw4QkFBOEIsU0FBUyxvQkFBb0IsbUNBQW1DLFNBQVMsb0JBQW9CLHlCQUF5QixTQUFTLHdEQUF3RCxpQ0FBaUMscUJBQXFCLFNBQVMsNkdBQTZHLDhDQUE4QyxTQUFTLGtDQUFrQyxxQ0FBcUMsU0FBUyw2QkFBNkIsd0NBQXdDLCtCQUErQixTQUFTLHdEQUF3RCw4Q0FBOEMsU0FBUyx3Q0FBd0MscUNBQXFDLHdCQUF3QixTQUFTLG1CQUFtQix5QkFBeUIsU0FBUyxtQkFBbUIsNkJBQTZCLFNBQVMsb0JBQW9CLHdCQUF3QixTQUFTLG9CQUFvQixtQ0FBbUMsU0FBUywyS0FBMkssb0JBQW9CLFNBQVMsa0JBQWtCLGtDQUFrQyxxQkFBcUIsU0FBUyxvQkFBb0Isb0JBQW9CLHFCQUFxQixTQUFTLHlCQUF5QixvQkFBb0IscUJBQXFCLFNBQVMsb0JBQW9CLDJCQUEyQixTQUFTLDRDQUE0QywwQkFBMEIsU0FBUyxvQ0FBb0MsK0JBQStCLFNBQVMsaUJBQWlCLG9DQUFvQyxTQUFTLHFFQUFxRSw2QkFBNkIsK0JBQStCLFNBQVMsaUZBQWlGLHFCQUFxQiwrQkFBK0IseUJBQXlCLFNBQVMsa0hBQWtILHlCQUF5QixTQUFTLDZCQUE2QiwwQkFBMEIsdUJBQXVCLFNBQVMsMEVBQTBFLHdCQUF3QiwyQkFBMkIsU0FBUyw4QkFBOEIsd0JBQXdCLFNBQVM7QUFDcjJKLEdBQUc7QUFDSDtBQUNBOztBQUUyQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ1Z1QjtBQUNHOztBQUVyRTtBQUNBO0FBQ0Esb0JBQW9CLHNCQUFzQjtBQUMxQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxrREFBZSxHQUFHLDRDQUFTO0FBQ3JGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esb0JBQW9CLDZDQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7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QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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Q0E7QUFDQSxRQUFRLDREQUFJO0FBQ1osZUFBZSw0REFBSTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLDREQUFJO0FBQ2QsS0FBSztBQUNMO0FBQ0EsVUFBVSw0REFBSTtBQUNkLEtBQUs7QUFDTDtBQUNBLFVBQVUsNERBQUk7QUFDZCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLGdFQUFnQjtBQUN6QjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLDREQUFJO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDREQUFJO0FBQ25CO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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O0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUSw0REFBSTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxvRUFBb0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEOztBQUV0RCxvQkFBb0I7QUFDcEI7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxpRUFBaUI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBb0I7QUFDcEIsUUFBUSw0REFBSTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSw0REFBSTtBQUNkO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtB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Q0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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O0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLGFBQWEsMERBQVE7QUFDckIsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBLHNCQUFzQjtBQUN0QixhQUFhLDBEQUFRO0FBQ3JCLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7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QVEsMkNBQUk7QUFDWixRQUFRLDJDQUFJO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUMxT0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsaURBQVU7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQVE7QUFDMUIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxREFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IscURBQVE7QUFDMUIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxREFBUTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxlQUFlLHFEQUFRO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQyxlQUFlLHNEQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxRQUFRLElBQXFDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsU0FBUyxLQUFxQztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLHNCQUFzQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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Iiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL2FjY29yZGlvbi9kaXN0L2NoYWtyYS11aS1hY2NvcmRpb24uZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9hbGVydC9kaXN0L2NoYWtyYS11aS1hbGVydC5lc20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL2FuYXRvbXkvZGlzdC9jaGFrcmEtdWktYW5hdG9teS5lc20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL2F2YXRhci9kaXN0L2NoYWtyYS11aS1hdmF0YXIuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9icmVhZGNydW1iL2Rpc3QvY2hha3JhLXVpLWJyZWFkY3J1bWIuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9jaGVja2JveC9kaXN0L2NoYWtyYS11aS1jaGVja2JveC5lc20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL2NsaWNrYWJsZS9kaXN0L2NoYWtyYS11aS1jbGlja2FibGUuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9jbG9zZS1idXR0b24vZGlzdC9jaGFrcmEtdWktY2xvc2UtYnV0dG9uLmVzbS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BjaGFrcmEtdWkvY29udHJvbC1ib3gvZGlzdC9jaGFrcmEtdWktY29udHJvbC1ib3guZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9jb3VudGVyL2Rpc3QvY2hha3JhLXVpLWNvdW50ZXIuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9jc3MtcmVzZXQvZGlzdC9jaGFrcmEtdWktY3NzLXJlc2V0LmVzbS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BjaGFrcmEtdWkvZGVzY2VuZGFudC9kaXN0L2NoYWtyYS11aS1kZXNjZW5kYW50LmVzbS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BjaGFrcmEtdWkvZWRpdGFibGUvZGlzdC9jaGFrcmEtdWktZWRpdGFibGUuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9mb2N1cy1sb2NrL2Rpc3QvY2hha3JhLXVpLWZvY3VzLWxvY2suZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9tZWRpYS1xdWVyeS9kaXN0L2NoYWtyYS11aS1tZWRpYS1xdWVyeS5lc20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL21lbnUvZGlzdC9jaGFrcmEtdWktbWVudS5lc20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL21vZGFsL2Rpc3QvY2hha3JhLXVpLW1vZGFsLmVzbS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BjaGFrcmEtdWkvbnVtYmVyLWlucHV0L2Rpc3QvY2hha3JhLXVpLW51bWJlci1pbnB1dC5lc20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL3Bpbi1pbnB1dC9kaXN0L2NoYWtyYS11aS1waW4taW5wdXQuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9wb3BvdmVyL2Rpc3QvY2hha3JhLXVpLXBvcG92ZXIuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9wcm9ncmVzcy9kaXN0L2NoYWtyYS11aS1wcm9ncmVzcy5lc20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL3Byb3ZpZGVyL2Rpc3QvY2hha3JhLXVpLXByb3ZpZGVyLmVzbS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BjaGFrcmEtdWkvcmFkaW8vZGlzdC9jaGFrcmEtdWktcmFkaW8uZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9yZWFjdC9kaXN0L2NoYWtyYS11aS1yZWFjdC5lc20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL3NlbGVjdC9kaXN0L2NoYWtyYS11aS1zZWxlY3QuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9za2VsZXRvbi9kaXN0L2NoYWtyYS11aS1za2VsZXRvbi5lc20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL3NsaWRlci9kaXN0L2NoYWtyYS11aS1zbGlkZXIuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9zdGF0L2Rpc3QvY2hha3JhLXVpLXN0YXQuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS9zd2l0Y2gvZGlzdC9jaGFrcmEtdWktc3dpdGNoLmVzbS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BjaGFrcmEtdWkvdGFibGUvZGlzdC9jaGFrcmEtdWktdGFibGUuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS90YWJzL2Rpc3QvY2hha3JhLXVpLXRhYnMuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS90YWcvZGlzdC9jaGFrcmEtdWktdGFnLmVzbS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BjaGFrcmEtdWkvdGV4dGFyZWEvZGlzdC9jaGFrcmEtdWktdGV4dGFyZWEuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS90aGVtZS10b29scy9kaXN0L2NoYWtyYS11aS10aGVtZS10b29scy5lc20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY2hha3JhLXVpL3RoZW1lL2Rpc3QvY2hha3JhLXVpLXRoZW1lLmVzbS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BjaGFrcmEtdWkvdG9hc3QvZGlzdC9jaGFrcmEtdWktdG9hc3QuZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGNoYWtyYS11aS90cmFuc2l0aW9uL2Rpc3QvY2hha3JhLXVpLXRyYW5zaXRpb24uZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGN0cmwvdGlueWNvbG9yL2Rpc3QvbW9kdWxlL2NvbnZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY3RybC90aW55Y29sb3IvZGlzdC9tb2R1bGUvY3NzLWNvbG9yLW5hbWVzLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGN0cmwvdGlueWNvbG9yL2Rpc3QvbW9kdWxlL2Zvcm1hdC1pbnB1dC5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BjdHJsL3Rpbnljb2xvci9kaXN0L21vZHVsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BjdHJsL3Rpbnljb2xvci9kaXN0L21vZHVsZS9yYW5kb20uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY3RybC90aW55Y29sb3IvZGlzdC9tb2R1bGUvcmVhZGFiaWxpdHkuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AY3RybC90aW55Y29sb3IvZGlzdC9tb2R1bGUvdXRpbC5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0ByZWFjaC9hbGVydC9kaXN0L3JlYWNoLWFsZXJ0LmVzbS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0ByZWFjaC91dGlscy9kaXN0L3JlYWNoLXV0aWxzLmVzbS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0ByZWFjaC92aXN1YWxseS1oaWRkZW4vZGlzdC9yZWFjaC12aXN1YWxseS1oaWRkZW4uZXNtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvYXJpYS1oaWRkZW4vZGlzdC9lczIwMTUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL2ZvY3VzLWxvY2svZGlzdC9lczIwMTUvZm9jdXNJbnNpZGUuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L2ZvY3VzSXNIaWRkZW4uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L2ZvY3VzTWVyZ2UuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L2ZvY3VzYWJsZXMuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L2luZGV4LmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvZm9jdXMtbG9jay9kaXN0L2VzMjAxNS9zZXRGb2N1cy5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL2ZvY3VzLWxvY2svZGlzdC9lczIwMTUvc2libGluZy5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL2ZvY3VzLWxvY2svZGlzdC9lczIwMTUvc29sdmVyLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvZm9jdXMtbG9jay9kaXN0L2VzMjAxNS90YWJIb29rLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvZm9jdXMtbG9jay9kaXN0L2VzMjAxNS91dGlscy9ET011dGlscy5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL2ZvY3VzLWxvY2svZGlzdC9lczIwMTUvdXRpbHMvYWxsLWFmZmVjdGVkLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvZm9jdXMtbG9jay9kaXN0L2VzMjAxNS91dGlscy9hcnJheS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL2ZvY3VzLWxvY2svZGlzdC9lczIwMTUvdXRpbHMvY29ycmVjdEZvY3VzLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvZm9jdXMtbG9jay9kaXN0L2VzMjAxNS91dGlscy9maXJzdEZvY3VzLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvZm9jdXMtbG9jay9kaXN0L2VzMjAxNS91dGlscy9pcy5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL2ZvY3VzLWxvY2svZGlzdC9lczIwMTUvdXRpbHMvcGFyZW50aW5nLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvZm9jdXMtbG9jay9kaXN0L2VzMjAxNS91dGlscy90YWJPcmRlci5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL2ZvY3VzLWxvY2svZGlzdC9lczIwMTUvdXRpbHMvdGFiVXRpbHMuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L3V0aWxzL3RhYmJhYmxlcy5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL2dldC1ub25jZS9kaXN0L2VzMjAxNS9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvY2hlY2tQcm9wVHlwZXMuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9wcm9wLXR5cGVzL2ZhY3RvcnlXaXRoVHlwZUNoZWNrZXJzLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL3Byb3AtdHlwZXMvbGliL1JlYWN0UHJvcFR5cGVzU2VjcmV0LmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcHJvcC10eXBlcy9saWIvaGFzLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QtY2xpZW50c2lkZS1lZmZlY3QvbGliL2luZGV4LmVzLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QtZm9jdXMtbG9jay9kaXN0L2VzMjAxNS9BdXRvRm9jdXNJbnNpZGUuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC1mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L0NvbWJpbmF0aW9uLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QtZm9jdXMtbG9jay9kaXN0L2VzMjAxNS9Gb2N1c0d1YXJkLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QtZm9jdXMtbG9jay9kaXN0L2VzMjAxNS9GcmVlRm9jdXNJbnNpZGUuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC1mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L0xvY2suanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC1mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L01vdmVGb2N1c0luc2lkZS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWZvY3VzLWxvY2svZGlzdC9lczIwMTUvVHJhcC5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LWZvY3VzLWxvY2svZGlzdC9lczIwMTUvVUkuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC1mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L2luZGV4LmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QtZm9jdXMtbG9jay9kaXN0L2VzMjAxNS9tZWRpdW0uanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC1mb2N1cy1sb2NrL2Rpc3QvZXMyMDE1L3V0aWwuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsLWJhci9kaXN0L2VzMjAxNS9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsLWJhci9kaXN0L2VzMjAxNS9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsLWJhci9kaXN0L2VzMjAxNS9pbmRleC5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwtYmFyL2Rpc3QvZXMyMDE1L3V0aWxzLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVtb3ZlLXNjcm9sbC9kaXN0L2VzMjAxNS9Db21iaW5hdGlvbi5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwvZGlzdC9lczIwMTUvU2lkZUVmZmVjdC5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwvZGlzdC9lczIwMTUvVUkuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsL2Rpc3QvZXMyMDE1L2FnZ3Jlc2l2ZUNhcHR1cmUuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9yZWFjdC1yZW1vdmUtc2Nyb2xsL2Rpc3QvZXMyMDE1L2hhbmRsZVNjcm9sbC5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LXJlbW92ZS1zY3JvbGwvZGlzdC9lczIwMTUvbWVkaXVtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVtb3ZlLXNjcm9sbC9kaXN0L2VzMjAxNS9zaWRlY2FyLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3QtcmVtb3ZlLXNjcm9sbC9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3Qtc3R5bGUtc2luZ2xldG9uL2Rpc3QvZXMyMDE1L2NvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL3JlYWN0LXN0eWxlLXNpbmdsZXRvbi9kaXN0L2VzMjAxNS9ob29rLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3Qtc3R5bGUtc2luZ2xldG9uL2Rpc3QvZXMyMDE1L2luZGV4LmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvcmVhY3Qtc3R5bGUtc2luZ2xldG9uL2Rpc3QvZXMyMDE1L3NpbmdsZXRvbi5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vc3JjL3ByZXNlbnRhdGlvbi9jb21wb25lbnRzL3dyYXBwZXIvaW5kZXgudHN4Iiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9zcmMvcHJlc2VudGF0aW9uL3N0eWxlcy9nbG9iYWwtc3R5bGVzLnRzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvdXNlLWNhbGxiYWNrLXJlZi9kaXN0L2VzMjAxNS9hc3NpZ25SZWYuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy91c2UtY2FsbGJhY2stcmVmL2Rpc3QvZXMyMDE1L3VzZU1lcmdlUmVmLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvdXNlLWNhbGxiYWNrLXJlZi9kaXN0L2VzMjAxNS91c2VSZWYuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy91c2Utc2lkZWNhci9kaXN0L2VzMjAxNS9leHBvcnRzLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvdXNlLXNpZGVjYXIvZGlzdC9lczIwMTUvbWVkaXVtLmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvdXNlLXNpZGVjYXIvbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL3dhcm5pbmcvd2FybmluZy5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5LmpzIiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHNMb29zZS5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5Ly4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UuanMiLCJ3ZWJwYWNrOi8vbGV0cy1kZWxpdmVyeS8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zZXRQcm90b3R5cGVPZi5qcyIsIndlYnBhY2s6Ly9sZXRzLWRlbGl2ZXJ5L3dlYnBhY2svcnVudGltZS9jcmVhdGUgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL2xldHMtZGVsaXZlcnkvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEljb24gfSBmcm9tICdAY2hha3JhLXVpL2ljb24nO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlTXVsdGlTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcywgU3R5bGVzUHJvdmlkZXIsIGNoYWtyYSwgdXNlU3R5bGVzIH0gZnJvbSAnQGNoYWtyYS11aS9zeXN0ZW0nO1xuaW1wb3J0IHsgQ29sbGFwc2UgfSBmcm9tICdAY2hha3JhLXVpL3RyYW5zaXRpb24nO1xuaW1wb3J0IHsgbm9ybWFsaXplRXZlbnRLZXksIGNhbGxBbGxIYW5kbGVycywgaXNVbmRlZmluZWQsIGlzQXJyYXksIHdhcm4sIGFkZEl0ZW0sIHJlbW92ZUl0ZW0sIGZvY3VzLCBjeCwgX19ERVZfXywgcnVuSWZGbiB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgbWVyZ2VSZWZzIH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdC11dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZURlc2NlbmRhbnRDb250ZXh0IH0gZnJvbSAnQGNoYWtyYS11aS9kZXNjZW5kYW50JztcbmltcG9ydCB7IHVzZVVubW91bnRFZmZlY3QsIHVzZUNvbnRyb2xsYWJsZVN0YXRlLCB1c2VJZHMgfSBmcm9tICdAY2hha3JhLXVpL2hvb2tzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBfZXhjbHVkZWQkMSA9IFtcIm9uQ2hhbmdlXCIsIFwiZGVmYXVsdEluZGV4XCIsIFwiaW5kZXhcIiwgXCJhbGxvd011bHRpcGxlXCIsIFwiYWxsb3dUb2dnbGVcIl0sXG4gICAgX2V4Y2x1ZGVkMiQxID0gW1wiaXNEaXNhYmxlZFwiLCBcImlzRm9jdXNhYmxlXCIsIFwiaWRcIl07XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgY29udGV4dCB0byB0cmFjayBkZXNjZW5kYW50cyBhbmQgdGhlaXIgaW5kaWNlc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG52YXIgX2NyZWF0ZURlc2NlbmRhbnRDb250ID0gY3JlYXRlRGVzY2VuZGFudENvbnRleHQoKSxcbiAgICBBY2NvcmRpb25EZXNjZW5kYW50c1Byb3ZpZGVyID0gX2NyZWF0ZURlc2NlbmRhbnRDb250WzBdLFxuICAgIHVzZUFjY29yZGlvbkRlc2NlbmRhbnRzQ29udGV4dCA9IF9jcmVhdGVEZXNjZW5kYW50Q29udFsxXSxcbiAgICB1c2VBY2NvcmRpb25EZXNjZW5kYW50cyA9IF9jcmVhdGVEZXNjZW5kYW50Q29udFsyXSxcbiAgICB1c2VBY2NvcmRpb25EZXNjZW5kYW50ID0gX2NyZWF0ZURlc2NlbmRhbnRDb250WzNdO1xuXG4vKipcbiAqIHVzZUFjY29yZGlvbiBob29rIHByb3ZpZGVzIGFsbCB0aGUgc3RhdGUgYW5kIGZvY3VzIG1hbmFnZW1lbnQgbG9naWNcbiAqIGZvciBhY2NvcmRpb24gaXRlbXMuXG4gKi9cbmZ1bmN0aW9uIHVzZUFjY29yZGlvbihwcm9wcykge1xuICB2YXIgb25DaGFuZ2UgPSBwcm9wcy5vbkNoYW5nZSxcbiAgICAgIGRlZmF1bHRJbmRleCA9IHByb3BzLmRlZmF1bHRJbmRleCxcbiAgICAgIGluZGV4UHJvcCA9IHByb3BzLmluZGV4LFxuICAgICAgYWxsb3dNdWx0aXBsZSA9IHByb3BzLmFsbG93TXVsdGlwbGUsXG4gICAgICBhbGxvd1RvZ2dsZSA9IHByb3BzLmFsbG93VG9nZ2xlLFxuICAgICAgaHRtbFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZCQxKTsgLy8gdmFsaWRhdGUgdGhlIHByb3BzIGFuZCBgd2FybmAgaWYgdXNlZCBpbmNvcnJlY3RseVxuXG5cbiAgYWxsb3dNdWx0aXBsZVdhcm5pbmcocHJvcHMpO1xuICBhbGxvd011bHRpcGxlQW5kQWxsb3dUb2dnbGVXYXJuaW5nKHByb3BzKTtcbiAgLyoqXG4gICAqIFRoaW5rIG9mIHRoaXMgYXMgdGhlIHJlZ2lzdGVyIHRvIGVhY2ggYWNjb3JkaW9uIGl0ZW0uXG4gICAqIFdlIHVzZWQgdG8gbWFuYWdlIGZvY3VzIGJldHdlZW4gYWNjb3JkaW9uIGl0ZW0gYnV0dG9ucy5cbiAgICpcbiAgICogRXZlcnkgYWNjb3JkaW9uIGl0ZW0sIHJlZ2lzdGVycyB0aGVpciBidXR0b24gcmVmcyBpbiB0aGlzIGNvbnRleHRcbiAgICovXG5cbiAgdmFyIGRlc2NlbmRhbnRzID0gdXNlQWNjb3JkaW9uRGVzY2VuZGFudHMoKTtcbiAgLyoqXG4gICAqIFRoaXMgc3RhdGUgaXMgdXNlZCB0byB0cmFjayB0aGUgaW5kZXggZm9jdXNlZCBhY2NvcmRpb25cbiAgICogYnV0dG9uIHdoZW4gY2xpY2sgb24gdGhlIGJ1dHRvbiwgdGFiIG9uIHRoZSBidXR0b24sIG9yXG4gICAqIHVzZSB0aGUgZG93bi91cCBhcnJvdyB0byBuYXZpZ2F0ZS5cbiAgICovXG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKC0xKSxcbiAgICAgIGZvY3VzZWRJbmRleCA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEZvY3VzZWRJbmRleCA9IF91c2VTdGF0ZVsxXTtcbiAgLyoqXG4gICAqIFJlc2V0IGZvY3VzZWQgaW5kZXggd2hlbiBhY2NvcmRpb24gdW5tb3VudHNcbiAgICogb3IgZGVzY2VuZGFudHMgY2hhbmdlXG4gICAqL1xuXG5cbiAgdXNlVW5tb3VudEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0Rm9jdXNlZEluZGV4KC0xKTtcbiAgfSk7XG4gIC8qKlxuICAgKiBIb29rIHRoYXQgbWFuYWdlcyB0aGUgY29udHJvbGxlZCBhbmQgdW4tY29udHJvbGxlZCBzdGF0ZVxuICAgKiBmb3IgdGhlIGFjY29yZGlvbi5cbiAgICovXG5cbiAgdmFyIF91c2VDb250cm9sbGFibGVTdGF0ZSA9IHVzZUNvbnRyb2xsYWJsZVN0YXRlKHtcbiAgICB2YWx1ZTogaW5kZXhQcm9wLFxuICAgIGRlZmF1bHRWYWx1ZTogZnVuY3Rpb24gZGVmYXVsdFZhbHVlKCkge1xuICAgICAgaWYgKGFsbG93TXVsdGlwbGUpIHJldHVybiBkZWZhdWx0SW5kZXggIT0gbnVsbCA/IGRlZmF1bHRJbmRleCA6IFtdO1xuICAgICAgcmV0dXJuIGRlZmF1bHRJbmRleCAhPSBudWxsID8gZGVmYXVsdEluZGV4IDogLTE7XG4gICAgfSxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VcbiAgfSksXG4gICAgICBpbmRleCA9IF91c2VDb250cm9sbGFibGVTdGF0ZVswXSxcbiAgICAgIHNldEluZGV4ID0gX3VzZUNvbnRyb2xsYWJsZVN0YXRlWzFdO1xuICAvKipcbiAgICogR2V0cyB0aGUgYGlzT3BlbmAgYW5kIGBvbkNoYW5nZWAgcHJvcHMgZm9yIGEgY2hpbGQgYWNjb3JkaW9uIGl0ZW0gYmFzZWQgb25cbiAgICogdGhlIGNoaWxkJ3MgaW5kZXguXG4gICAqXG4gICAqIEBwYXJhbSBpZHgge251bWJlcn0gVGhlIGluZGV4IG9mIHRoZSBjaGlsZCBhY2NvcmRpb24gaXRlbVxuICAgKi9cblxuXG4gIHZhciBnZXRBY2NvcmRpb25JdGVtUHJvcHMgPSBmdW5jdGlvbiBnZXRBY2NvcmRpb25JdGVtUHJvcHMoaWR4KSB7XG4gICAgdmFyIGlzT3BlbiA9IGZhbHNlO1xuXG4gICAgaWYgKGlkeCAhPT0gbnVsbCkge1xuICAgICAgaXNPcGVuID0gaXNBcnJheShpbmRleCkgPyBpbmRleC5pbmNsdWRlcyhpZHgpIDogaW5kZXggPT09IGlkeDtcbiAgICB9XG5cbiAgICB2YXIgb25DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoYW5nZShpc09wZW4pIHtcbiAgICAgIGlmIChpZHggPT09IG51bGwpIHJldHVybjtcblxuICAgICAgaWYgKGFsbG93TXVsdGlwbGUgJiYgaXNBcnJheShpbmRleCkpIHtcbiAgICAgICAgdmFyIG5leHRTdGF0ZSA9IGlzT3BlbiA/IGFkZEl0ZW0oaW5kZXgsIGlkeCkgOiByZW1vdmVJdGVtKGluZGV4LCBpZHgpO1xuICAgICAgICBzZXRJbmRleChuZXh0U3RhdGUpO1xuICAgICAgfSBlbHNlIGlmIChpc09wZW4pIHtcbiAgICAgICAgc2V0SW5kZXgoaWR4KTtcbiAgICAgIH0gZWxzZSBpZiAoYWxsb3dUb2dnbGUpIHtcbiAgICAgICAgc2V0SW5kZXgoLTEpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgaXNPcGVuOiBpc09wZW4sXG4gICAgICBvbkNoYW5nZTogb25DaGFuZ2VcbiAgICB9O1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgaW5kZXg6IGluZGV4LFxuICAgIHNldEluZGV4OiBzZXRJbmRleCxcbiAgICBodG1sUHJvcHM6IGh0bWxQcm9wcyxcbiAgICBnZXRBY2NvcmRpb25JdGVtUHJvcHM6IGdldEFjY29yZGlvbkl0ZW1Qcm9wcyxcbiAgICBmb2N1c2VkSW5kZXg6IGZvY3VzZWRJbmRleCxcbiAgICBzZXRGb2N1c2VkSW5kZXg6IHNldEZvY3VzZWRJbmRleCxcbiAgICBkZXNjZW5kYW50czogZGVzY2VuZGFudHNcbiAgfTtcbn1cblxudmFyIF9jcmVhdGVDb250ZXh0JDEgPSBjcmVhdGVDb250ZXh0KHtcbiAgbmFtZTogXCJBY2NvcmRpb25Db250ZXh0XCIsXG4gIGVycm9yTWVzc2FnZTogXCJ1c2VBY2NvcmRpb25Db250ZXh0OiBgY29udGV4dGAgaXMgdW5kZWZpbmVkLiBTZWVtcyB5b3UgZm9yZ290IHRvIHdyYXAgdGhlIGFjY29yZGlvbiBjb21wb25lbnRzIGluIGA8QWNjb3JkaW9uIC8+YFwiXG59KSxcbiAgICBBY2NvcmRpb25Qcm92aWRlciA9IF9jcmVhdGVDb250ZXh0JDFbMF0sXG4gICAgdXNlQWNjb3JkaW9uQ29udGV4dCA9IF9jcmVhdGVDb250ZXh0JDFbMV07XG5cbi8qKlxuICogdXNlQWNjb3JkaW9uSXRlbVxuICpcbiAqIFJlYWN0IGhvb2sgdGhhdCBwcm92aWRlcyB0aGUgb3Blbi9jbG9zZSBmdW5jdGlvbmFsaXR5XG4gKiBmb3IgYW4gYWNjb3JkaW9uIGl0ZW0gYW5kIGl0cyBjaGlsZHJlblxuICovXG5mdW5jdGlvbiB1c2VBY2NvcmRpb25JdGVtKHByb3BzKSB7XG4gIHZhciBpc0Rpc2FibGVkID0gcHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgIGlzRm9jdXNhYmxlID0gcHJvcHMuaXNGb2N1c2FibGUsXG4gICAgICBpZCA9IHByb3BzLmlkLFxuICAgICAgaHRtbFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZDIkMSk7XG5cbiAgdmFyIF91c2VBY2NvcmRpb25Db250ZXh0ID0gdXNlQWNjb3JkaW9uQ29udGV4dCgpLFxuICAgICAgZ2V0QWNjb3JkaW9uSXRlbVByb3BzID0gX3VzZUFjY29yZGlvbkNvbnRleHQuZ2V0QWNjb3JkaW9uSXRlbVByb3BzLFxuICAgICAgc2V0Rm9jdXNlZEluZGV4ID0gX3VzZUFjY29yZGlvbkNvbnRleHQuc2V0Rm9jdXNlZEluZGV4O1xuXG4gIHZhciBidXR0b25SZWYgPSB1c2VSZWYobnVsbCk7XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSB1bmlxdWUgaWRzIGZvciBhbGwgYWNjb3JkaW9uIGl0ZW0gY29tcG9uZW50cyAoYnV0dG9uIGFuZCBwYW5lbClcbiAgICovXG5cbiAgdmFyIF91c2VJZHMgPSB1c2VJZHMoaWQsIFwiYWNjb3JkaW9uLWJ1dHRvblwiLCBcImFjY29yZGlvbi1wYW5lbFwiKSxcbiAgICAgIGJ1dHRvbklkID0gX3VzZUlkc1swXSxcbiAgICAgIHBhbmVsSWQgPSBfdXNlSWRzWzFdO1xuXG4gIGZvY3VzYWJsZU5vdERpc2FibGVkV2FybmluZyhwcm9wcyk7XG4gIC8qKlxuICAgKiBUaGluayBvZiB0aGlzIGFzIGEgd2F5IHRvIHJlZ2lzdGVyIHRoaXMgYWNjb3JkaW9uIGl0ZW1cbiAgICogd2l0aCBpdHMgcGFyZW50IGB1c2VBY2NvcmRpb25gXG4gICAqL1xuXG4gIHZhciBfdXNlQWNjb3JkaW9uRGVzY2VuZGEgPSB1c2VBY2NvcmRpb25EZXNjZW5kYW50KHtcbiAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCAmJiAhaXNGb2N1c2FibGVcbiAgfSksXG4gICAgICByZWdpc3RlciA9IF91c2VBY2NvcmRpb25EZXNjZW5kYS5yZWdpc3RlcixcbiAgICAgIGluZGV4ID0gX3VzZUFjY29yZGlvbkRlc2NlbmRhLmluZGV4LFxuICAgICAgZGVzY2VuZGFudHMgPSBfdXNlQWNjb3JkaW9uRGVzY2VuZGEuZGVzY2VuZGFudHM7XG5cbiAgdmFyIF9nZXRBY2NvcmRpb25JdGVtUHJvcCA9IGdldEFjY29yZGlvbkl0ZW1Qcm9wcyhpbmRleCA9PT0gLTEgPyBudWxsIDogaW5kZXgpLFxuICAgICAgaXNPcGVuID0gX2dldEFjY29yZGlvbkl0ZW1Qcm9wLmlzT3BlbixcbiAgICAgIG9uQ2hhbmdlID0gX2dldEFjY29yZGlvbkl0ZW1Qcm9wLm9uQ2hhbmdlO1xuXG4gIHdhcm5JZk9wZW5BbmREaXNhYmxlZCh7XG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZFxuICB9KTtcblxuICB2YXIgb25PcGVuID0gZnVuY3Rpb24gb25PcGVuKCkge1xuICAgIG9uQ2hhbmdlID09IG51bGwgPyB2b2lkIDAgOiBvbkNoYW5nZSh0cnVlKTtcbiAgfTtcblxuICB2YXIgb25DbG9zZSA9IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7XG4gICAgb25DaGFuZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ2hhbmdlKGZhbHNlKTtcbiAgfTtcbiAgLyoqXG4gICAqIFRvZ2dsZSB0aGUgdmlzaWJpbGl0eSBvZiB0aGUgYWNjb3JkaW9uIGl0ZW1cbiAgICovXG5cblxuICB2YXIgb25DbGljayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBvbkNoYW5nZSA9PSBudWxsID8gdm9pZCAwIDogb25DaGFuZ2UoIWlzT3Blbik7XG4gICAgc2V0Rm9jdXNlZEluZGV4KGluZGV4KTtcbiAgfSwgW2luZGV4LCBzZXRGb2N1c2VkSW5kZXgsIGlzT3Blbiwgb25DaGFuZ2VdKTtcbiAgLyoqXG4gICAqIE1hbmFnZSBrZXlib2FyZCBuYXZpZ2F0aW9uIGJldHdlZW4gYWNjb3JkaW9uIGl0ZW1zLlxuICAgKi9cblxuICB2YXIgb25LZXlEb3duID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGV2ZW50S2V5ID0gbm9ybWFsaXplRXZlbnRLZXkoZXZlbnQpO1xuICAgIHZhciBrZXlNYXAgPSB7XG4gICAgICBBcnJvd0Rvd246IGZ1bmN0aW9uIEFycm93RG93bigpIHtcbiAgICAgICAgdmFyIG5leHQgPSBkZXNjZW5kYW50cy5uZXh0RW5hYmxlZChpbmRleCk7XG4gICAgICAgIGlmIChuZXh0KSBmb2N1cyhuZXh0Lm5vZGUpO1xuICAgICAgfSxcbiAgICAgIEFycm93VXA6IGZ1bmN0aW9uIEFycm93VXAoKSB7XG4gICAgICAgIHZhciBwcmV2ID0gZGVzY2VuZGFudHMucHJldkVuYWJsZWQoaW5kZXgpO1xuICAgICAgICBpZiAocHJldikgZm9jdXMocHJldi5ub2RlKTtcbiAgICAgIH0sXG4gICAgICBIb21lOiBmdW5jdGlvbiBIb21lKCkge1xuICAgICAgICB2YXIgZmlyc3QgPSBkZXNjZW5kYW50cy5maXJzdEVuYWJsZWQoKTtcbiAgICAgICAgaWYgKGZpcnN0KSBmb2N1cyhmaXJzdC5ub2RlKTtcbiAgICAgIH0sXG4gICAgICBFbmQ6IGZ1bmN0aW9uIEVuZCgpIHtcbiAgICAgICAgdmFyIGxhc3QgPSBkZXNjZW5kYW50cy5sYXN0RW5hYmxlZCgpO1xuICAgICAgICBpZiAobGFzdCkgZm9jdXMobGFzdC5ub2RlKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBhY3Rpb24gPSBrZXlNYXBbZXZlbnRLZXldO1xuXG4gICAgaWYgKGFjdGlvbikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGFjdGlvbihldmVudCk7XG4gICAgfVxuICB9LCBbZGVzY2VuZGFudHMsIGluZGV4XSk7XG4gIC8qKlxuICAgKiBTaW5jZSBlYWNoIGFjY29yZGlvbiBpdGVtJ3MgYnV0dG9uIHN0aWxsIHJlbWFpbnMgdGFiYmFibGUsIGxldCdzXG4gICAqIHVwZGF0ZSB0aGUgZm9jdXNlZEluZGV4IHdoZW4gaXQgcmVjZWl2ZXMgZm9jdXNcbiAgICovXG5cbiAgdmFyIG9uRm9jdXMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgc2V0Rm9jdXNlZEluZGV4KGluZGV4KTtcbiAgfSwgW3NldEZvY3VzZWRJbmRleCwgaW5kZXhdKTtcbiAgdmFyIGdldEJ1dHRvblByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIHJlZjogbWVyZ2VSZWZzKHJlZ2lzdGVyLCBidXR0b25SZWYsIHJlZiksXG4gICAgICBpZDogYnV0dG9uSWQsXG4gICAgICBkaXNhYmxlZDogISFpc0Rpc2FibGVkLFxuICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6ICEhaXNPcGVuLFxuICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IHBhbmVsSWQsXG4gICAgICBvbkNsaWNrOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25DbGljaywgb25DbGljayksXG4gICAgICBvbkZvY3VzOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Gb2N1cywgb25Gb2N1cyksXG4gICAgICBvbktleURvd246IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbktleURvd24sIG9uS2V5RG93bilcbiAgICB9KTtcbiAgfSwgW2J1dHRvbklkLCBpc0Rpc2FibGVkLCBpc09wZW4sIG9uQ2xpY2ssIG9uRm9jdXMsIG9uS2V5RG93biwgcGFuZWxJZCwgcmVnaXN0ZXJdKTtcbiAgdmFyIGdldFBhbmVsUHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChyZWYgPT09IHZvaWQgMCkge1xuICAgICAgcmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICByZWY6IHJlZixcbiAgICAgIHJvbGU6IFwicmVnaW9uXCIsXG4gICAgICBpZDogcGFuZWxJZCxcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGJ1dHRvbklkLFxuICAgICAgaGlkZGVuOiAhaXNPcGVuXG4gICAgfSk7XG4gIH0sIFtidXR0b25JZCwgaXNPcGVuLCBwYW5lbElkXSk7XG4gIHJldHVybiB7XG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICBpc0ZvY3VzYWJsZTogaXNGb2N1c2FibGUsXG4gICAgb25PcGVuOiBvbk9wZW4sXG4gICAgb25DbG9zZTogb25DbG9zZSxcbiAgICBnZXRCdXR0b25Qcm9wczogZ2V0QnV0dG9uUHJvcHMsXG4gICAgZ2V0UGFuZWxQcm9wczogZ2V0UGFuZWxQcm9wcyxcbiAgICBodG1sUHJvcHM6IGh0bWxQcm9wc1xuICB9O1xufVxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBWYWxpZGF0ZSBhY2NvcmRpb24gYW5kIGFjY29yZGlvbiBpdGVtIHByb3BzLCBhbmQgZW1pdCB3YXJuaW5ncy5cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmZ1bmN0aW9uIGFsbG93TXVsdGlwbGVXYXJuaW5nKHByb3BzKSB7XG4gIHZhciBpbmRleCA9IHByb3BzLmluZGV4IHx8IHByb3BzLmRlZmF1bHRJbmRleDtcbiAgdmFyIGNvbmRpdGlvbiA9ICFpc1VuZGVmaW5lZChpbmRleCkgJiYgIWlzQXJyYXkoaW5kZXgpICYmIHByb3BzLmFsbG93TXVsdGlwbGU7XG4gIHdhcm4oe1xuICAgIGNvbmRpdGlvbjogISFjb25kaXRpb24sXG4gICAgbWVzc2FnZTogXCJJZiAnYWxsb3dNdWx0aXBsZScgaXMgcGFzc2VkLCB0aGVuICdpbmRleCcgb3IgJ2RlZmF1bHRJbmRleCcgbXVzdCBiZSBhbiBhcnJheS4gWW91IHBhc3NlZDogXCIgKyB0eXBlb2YgaW5kZXggKyBcIixcIlxuICB9KTtcbn1cblxuZnVuY3Rpb24gYWxsb3dNdWx0aXBsZUFuZEFsbG93VG9nZ2xlV2FybmluZyhwcm9wcykge1xuICB3YXJuKHtcbiAgICBjb25kaXRpb246ICEhKHByb3BzLmFsbG93TXVsdGlwbGUgJiYgcHJvcHMuYWxsb3dUb2dnbGUpLFxuICAgIG1lc3NhZ2U6IFwiSWYgJ2FsbG93TXVsdGlwbGUnIGlzIHBhc3NlZCwgJ2FsbG93VG9nZ2xlJyB3aWxsIGJlIGlnbm9yZWQuIEVpdGhlciByZW1vdmUgJ2FsbG93VG9nZ2xlJyBvciAnYWxsb3dNdWx0aXBsZScgZGVwZW5kaW5nIG9uIHdoZXRoZXIgeW91IHdhbnQgbXVsdGlwbGUgYWNjb3JkaW9ucyB2aXNpYmxlIG9yIG5vdFwiXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBmb2N1c2FibGVOb3REaXNhYmxlZFdhcm5pbmcocHJvcHMpIHtcbiAgd2Fybih7XG4gICAgY29uZGl0aW9uOiAhIShwcm9wcy5pc0ZvY3VzYWJsZSAmJiAhcHJvcHMuaXNEaXNhYmxlZCksXG4gICAgbWVzc2FnZTogXCJVc2luZyBvbmx5ICdpc0ZvY3VzYWJsZScsIHRoaXMgcHJvcCBpcyByZXNlcnZlZCBmb3Igc2l0dWF0aW9ucyB3aGVyZSB5b3UgcGFzcyAnaXNEaXNhYmxlZCcgYnV0IHlvdSBzdGlsbCB3YW50IHRoZSBlbGVtZW50IHRvIHJlY2VpdmUgZm9jdXMgKEExMXkpLiBFaXRoZXIgcmVtb3ZlIGl0IG9yIHBhc3MgJ2lzRGlzYWJsZWQnIGFzIHdlbGwuXFxuICAgIFwiXG4gIH0pO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZPcGVuQW5kRGlzYWJsZWQocHJvcHMpIHtcbiAgd2Fybih7XG4gICAgY29uZGl0aW9uOiBwcm9wcy5pc09wZW4gJiYgISFwcm9wcy5pc0Rpc2FibGVkLFxuICAgIG1lc3NhZ2U6IFwiQ2Fubm90IG9wZW4gYSBkaXNhYmxlZCBhY2NvcmRpb24gaXRlbVwiXG4gIH0pO1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1wiY2hpbGRyZW5cIiwgXCJyZWR1Y2VNb3Rpb25cIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcImh0bWxQcm9wc1wiLCBcImRlc2NlbmRhbnRzXCJdLFxuICAgIF9leGNsdWRlZDMgPSBbXCJodG1sUHJvcHNcIl07XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBY2NvcmRpb24gLSBUaGUgd3JhcHBlciB0aGF0IHByb3ZpZGVzIGNvbnRleHQgZm9yIGFsbCBhY2NvcmRpb24gaXRlbXNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuLyoqXG4gKiBUaGUgd3JhcHBlciB0aGF0IHByb3ZpZGVzIGNvbnRleHQgYW5kIGZvY3VzIG1hbmFnZW1lbnRcbiAqIGZvciBhbGwgYWNjb3JkaW9uIGl0ZW1zLlxuICpcbiAqIEl0IHdyYXBzIGFsbCBhY2NvcmRpb24gaXRlbXMgaW4gYSBgZGl2YCBmb3IgYmV0dGVyIGdyb3VwaW5nLlxuICogQHNlZSBEb2NzIGh0dHBzOi8vY2hha3JhLXVpLmNvbS9hY2NvcmRpb25cbiAqL1xudmFyIEFjY29yZGlvbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgIHJlZHVjZU1vdGlvbiA9IF9yZWYucmVkdWNlTW90aW9uLFxuICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmLCBfZXhjbHVkZWQpO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VNdWx0aVN0eWxlQ29uZmlnKFwiQWNjb3JkaW9uXCIsIHByb3BzKTtcbiAgdmFyIG93blByb3BzID0gb21pdFRoZW1pbmdQcm9wcyhwcm9wcyk7XG5cbiAgdmFyIF91c2VBY2NvcmRpb24gPSB1c2VBY2NvcmRpb24ob3duUHJvcHMpLFxuICAgICAgaHRtbFByb3BzID0gX3VzZUFjY29yZGlvbi5odG1sUHJvcHMsXG4gICAgICBkZXNjZW5kYW50cyA9IF91c2VBY2NvcmRpb24uZGVzY2VuZGFudHMsXG4gICAgICBjb250ZXh0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3VzZUFjY29yZGlvbiwgX2V4Y2x1ZGVkMik7XG5cbiAgdmFyIGN0eCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgY29udGV4dCwge1xuICAgICAgcmVkdWNlTW90aW9uOiAhIXJlZHVjZU1vdGlvblxuICAgIH0pO1xuICB9LCBbY29udGV4dCwgcmVkdWNlTW90aW9uXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBY2NvcmRpb25EZXNjZW5kYW50c1Byb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGRlc2NlbmRhbnRzXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFjY29yZGlvblByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGN0eFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZXNQcm92aWRlciwge1xuICAgIHZhbHVlOiBzdHlsZXNcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmXG4gIH0sIGh0bWxQcm9wcywge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtYWNjb3JkaW9uXCIsIHByb3BzLmNsYXNzTmFtZSlcbiAgfSksIGNoaWxkcmVuKSkpKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBBY2NvcmRpb24uZGlzcGxheU5hbWUgPSBcIkFjY29yZGlvblwiO1xufVxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWNjb3JkaW9uIEl0ZW1cbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXG52YXIgX2NyZWF0ZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgbmFtZTogXCJBY2NvcmRpb25JdGVtQ29udGV4dFwiLFxuICBlcnJvck1lc3NhZ2U6IFwidXNlQWNjb3JkaW9uSXRlbUNvbnRleHQ6IGBjb250ZXh0YCBpcyB1bmRlZmluZWQuIFNlZW1zIHlvdSBmb3Jnb3QgdG8gd3JhcCB0aGUgYWNjb3JkaW9uIGl0ZW0gcGFydHMgaW4gYDxBY2NvcmRpb25JdGVtIC8+YCBcIlxufSksXG4gICAgQWNjb3JkaW9uSXRlbVByb3ZpZGVyID0gX2NyZWF0ZUNvbnRleHRbMF0sXG4gICAgdXNlQWNjb3JkaW9uSXRlbUNvbnRleHQgPSBfY3JlYXRlQ29udGV4dFsxXTtcblxuLyoqXG4gKiBBY2NvcmRpb25JdGVtIGlzIGEgc2luZ2xlIGFjY29yZGlvbiB0aGF0IHByb3ZpZGVzIHRoZSBvcGVuLWNsb3NlXG4gKiBiZWhhdmlvciB3aGVuIHRoZSBhY2NvcmRpb24gYnV0dG9uIGlzIGNsaWNrZWQuXG4gKlxuICogSXQgYWxzbyBwcm92aWRlcyBjb250ZXh0IGZvciB0aGUgYWNjb3JkaW9uIGJ1dHRvbiBhbmQgcGFuZWwuXG4gKi9cbnZhciBBY2NvcmRpb25JdGVtID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWU7XG5cbiAgdmFyIF91c2VBY2NvcmRpb25JdGVtID0gdXNlQWNjb3JkaW9uSXRlbShwcm9wcyksXG4gICAgICBodG1sUHJvcHMgPSBfdXNlQWNjb3JkaW9uSXRlbS5odG1sUHJvcHMsXG4gICAgICBjb250ZXh0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3VzZUFjY29yZGlvbkl0ZW0sIF9leGNsdWRlZDMpO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcblxuICB2YXIgY29udGFpbmVyU3R5bGVzID0gX2V4dGVuZHMoe30sIHN0eWxlcy5jb250YWluZXIsIHtcbiAgICBvdmVyZmxvd0FuY2hvcjogXCJub25lXCJcbiAgfSk7XG5cbiAgdmFyIGN0eCA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjb250ZXh0O1xuICB9LCBbY29udGV4dF0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQWNjb3JkaW9uSXRlbVByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGN0eFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWZcbiAgfSwgaHRtbFByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1hY2NvcmRpb25fX2l0ZW1cIiwgY2xhc3NOYW1lKSxcbiAgICBfX2NzczogY29udGFpbmVyU3R5bGVzXG4gIH0pLCBydW5JZkZuKGNoaWxkcmVuLCB7XG4gICAgaXNFeHBhbmRlZDogISFjb250ZXh0LmlzT3BlbixcbiAgICBpc0Rpc2FibGVkOiAhIWNvbnRleHQuaXNEaXNhYmxlZFxuICB9KSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIEFjY29yZGlvbkl0ZW0uZGlzcGxheU5hbWUgPSBcIkFjY29yZGlvbkl0ZW1cIjtcbn1cbi8qKlxuICogUmVhY3QgaG9vayB0byBnZXQgdGhlIHN0YXRlIGFuZCBhY3Rpb25zIG9mIGFuIGFjY29yZGlvbiBpdGVtXG4gKi9cblxuXG5mdW5jdGlvbiB1c2VBY2NvcmRpb25JdGVtU3RhdGUoKSB7XG4gIHZhciBfdXNlQWNjb3JkaW9uSXRlbUNvbnQgPSB1c2VBY2NvcmRpb25JdGVtQ29udGV4dCgpLFxuICAgICAgaXNPcGVuID0gX3VzZUFjY29yZGlvbkl0ZW1Db250LmlzT3BlbixcbiAgICAgIGlzRGlzYWJsZWQgPSBfdXNlQWNjb3JkaW9uSXRlbUNvbnQuaXNEaXNhYmxlZCxcbiAgICAgIG9uQ2xvc2UgPSBfdXNlQWNjb3JkaW9uSXRlbUNvbnQub25DbG9zZSxcbiAgICAgIG9uT3BlbiA9IF91c2VBY2NvcmRpb25JdGVtQ29udC5vbk9wZW47XG5cbiAgcmV0dXJuIHtcbiAgICBpc09wZW46IGlzT3BlbixcbiAgICBvbkNsb3NlOiBvbkNsb3NlLFxuICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgb25PcGVuOiBvbk9wZW5cbiAgfTtcbn1cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEFjY29yZGlvbiBJdGVtID0+IEJ1dHRvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKipcbiAqIEFjY29yZGlvbkJ1dHRvbiBpcyB1c2VkIGV4cGFuZHMgYW5kIGNvbGxhcHNlcyBhbiBhY2NvcmRpb24gaXRlbS5cbiAqIEl0IG11c3QgYmUgYSBjaGlsZCBvZiBgQWNjb3JkaW9uSXRlbWAuXG4gKlxuICogTm90ZSDwn5qoOiBFYWNoIGFjY29yZGlvbiBidXR0b24gbXVzdCBiZSB3cmFwcGVkIGluIGFuIGhlYWRpbmcgdGFnLFxuICogdGhhdCBpcyBhcHByb3ByaWF0ZSBmb3IgdGhlIGluZm9ybWF0aW9uIGFyY2hpdGVjdHVyZSBvZiB0aGUgcGFnZS5cbiAqL1xudmFyIEFjY29yZGlvbkJ1dHRvbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfdXNlQWNjb3JkaW9uSXRlbUNvbnQyID0gdXNlQWNjb3JkaW9uSXRlbUNvbnRleHQoKSxcbiAgICAgIGdldEJ1dHRvblByb3BzID0gX3VzZUFjY29yZGlvbkl0ZW1Db250Mi5nZXRCdXR0b25Qcm9wcztcblxuICB2YXIgYnV0dG9uUHJvcHMgPSBnZXRCdXR0b25Qcm9wcyhwcm9wcywgcmVmKTtcbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBidXR0b25TdHlsZXMgPSBfZXh0ZW5kcyh7XG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgb3V0bGluZTogMFxuICB9LCBzdHlsZXMuYnV0dG9uKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmJ1dHRvbiwgX2V4dGVuZHMoe30sIGJ1dHRvblByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1hY2NvcmRpb25fX2J1dHRvblwiLCBwcm9wcy5jbGFzc05hbWUpLFxuICAgIF9fY3NzOiBidXR0b25TdHlsZXNcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIEFjY29yZGlvbkJ1dHRvbi5kaXNwbGF5TmFtZSA9IFwiQWNjb3JkaW9uQnV0dG9uXCI7XG59XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBBY2NvcmRpb24gSXRlbSA9PiBQYW5lbFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cbi8qKlxuICogQWNjb3JkaW9uIHBhbmVsIHRoYXQgaG9sZHMgdGhlIGNvbnRlbnQgZm9yIGVhY2ggYWNjb3JkaW9uLlxuICogSXQgc2hvd3MgYW5kIGhpZGVzIGJhc2VkIG9uIHRoZSBzdGF0ZSBsb2dpbiBmcm9tIHRoZSBgQWNjb3JkaW9uSXRlbWAuXG4gKlxuICogSXQgdXNlcyB0aGUgYENvbGxhcHNlYCBjb21wb25lbnQgdG8gYW5pbWF0ZSBpdHMgaGVpZ2h0LlxuICovXG52YXIgQWNjb3JkaW9uUGFuZWwgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3VzZUFjY29yZGlvbkNvbnRleHQgPSB1c2VBY2NvcmRpb25Db250ZXh0KCksXG4gICAgICByZWR1Y2VNb3Rpb24gPSBfdXNlQWNjb3JkaW9uQ29udGV4dC5yZWR1Y2VNb3Rpb247XG5cbiAgdmFyIF91c2VBY2NvcmRpb25JdGVtQ29udDMgPSB1c2VBY2NvcmRpb25JdGVtQ29udGV4dCgpLFxuICAgICAgZ2V0UGFuZWxQcm9wcyA9IF91c2VBY2NvcmRpb25JdGVtQ29udDMuZ2V0UGFuZWxQcm9wcyxcbiAgICAgIGlzT3BlbiA9IF91c2VBY2NvcmRpb25JdGVtQ29udDMuaXNPcGVuOyAvLyByZW1vdmUgYGhpZGRlbmAgcHJvcCwgJ2NveiB3ZSdyZSB1c2luZyBoZWlnaHQgYW5pbWF0aW9uXG5cblxuICB2YXIgcGFuZWxQcm9wcyA9IGdldFBhbmVsUHJvcHMocHJvcHMsIHJlZik7XG5cbiAgdmFyIF9jbGFzc05hbWUgPSBjeChcImNoYWtyYS1hY2NvcmRpb25fX3BhbmVsXCIsIHByb3BzLmNsYXNzTmFtZSk7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuXG4gIGlmICghcmVkdWNlTW90aW9uKSB7XG4gICAgZGVsZXRlIHBhbmVsUHJvcHMuaGlkZGVuO1xuICB9XG5cbiAgdmFyIGNoaWxkID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe30sIHBhbmVsUHJvcHMsIHtcbiAgICBfX2Nzczogc3R5bGVzLnBhbmVsLFxuICAgIGNsYXNzTmFtZTogX2NsYXNzTmFtZVxuICB9KSk7XG5cbiAgaWYgKCFyZWR1Y2VNb3Rpb24pIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sbGFwc2UsIHtcbiAgICAgIFwiaW5cIjogaXNPcGVuXG4gICAgfSwgY2hpbGQpO1xuICB9XG5cbiAgcmV0dXJuIGNoaWxkO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIEFjY29yZGlvblBhbmVsLmRpc3BsYXlOYW1lID0gXCJBY2NvcmRpb25QYW5lbFwiO1xufVxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQWNjb3JkaW9uIEl0ZW0gPT4gSWNvblxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKipcbiAqIEFjY29yZGlvbkljb24gdGhhdCBnaXZlcyBhIHZpc3VhbCBjdWUgb2YgdGhlIG9wZW4vY2xvc2Ugc3RhdGUgb2YgdGhlIGFjY29yZGlvbiBpdGVtLlxuICogSXQgcm90YXRlcyBgMTgwZGVnYCBiYXNlZCBvbiB0aGUgb3Blbi9jbG9zZSBzdGF0ZS5cbiAqL1xuXG5cbnZhciBBY2NvcmRpb25JY29uID0gZnVuY3Rpb24gQWNjb3JkaW9uSWNvbihwcm9wcykge1xuICB2YXIgX3VzZUFjY29yZGlvbkl0ZW1Db250NCA9IHVzZUFjY29yZGlvbkl0ZW1Db250ZXh0KCksXG4gICAgICBpc09wZW4gPSBfdXNlQWNjb3JkaW9uSXRlbUNvbnQ0LmlzT3BlbixcbiAgICAgIGlzRGlzYWJsZWQgPSBfdXNlQWNjb3JkaW9uSXRlbUNvbnQ0LmlzRGlzYWJsZWQ7XG5cbiAgdmFyIF91c2VBY2NvcmRpb25Db250ZXh0MiA9IHVzZUFjY29yZGlvbkNvbnRleHQoKSxcbiAgICAgIHJlZHVjZU1vdGlvbiA9IF91c2VBY2NvcmRpb25Db250ZXh0Mi5yZWR1Y2VNb3Rpb247XG5cbiAgdmFyIF9jbGFzc05hbWUgPSBjeChcImNoYWtyYS1hY2NvcmRpb25fX2ljb25cIiwgcHJvcHMuY2xhc3NOYW1lKTtcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG5cbiAgdmFyIGljb25TdHlsZXMgPSBfZXh0ZW5kcyh7XG4gICAgb3BhY2l0eTogaXNEaXNhYmxlZCA/IDAuNCA6IDEsXG4gICAgdHJhbnNmb3JtOiBpc09wZW4gPyBcInJvdGF0ZSgtMTgwZGVnKVwiIDogdW5kZWZpbmVkLFxuICAgIHRyYW5zaXRpb246IHJlZHVjZU1vdGlvbiA/IHVuZGVmaW5lZCA6IFwidHJhbnNmb3JtIDAuMnNcIixcbiAgICB0cmFuc2Zvcm1PcmlnaW46IFwiY2VudGVyXCJcbiAgfSwgc3R5bGVzLmljb24pO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIixcbiAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgY2xhc3NOYW1lOiBfY2xhc3NOYW1lLFxuICAgIF9fY3NzOiBpY29uU3R5bGVzXG4gIH0sIHByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGQ6IFwiTTE2LjU5IDguNTlMMTIgMTMuMTcgNy40MSA4LjU5IDYgMTBsNiA2IDYtNnpcIlxuICB9KSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBBY2NvcmRpb25JY29uLmRpc3BsYXlOYW1lID0gXCJBY2NvcmRpb25JY29uXCI7XG59XG5cbmV4cG9ydCB7IEFjY29yZGlvbiwgQWNjb3JkaW9uQnV0dG9uLCBBY2NvcmRpb25EZXNjZW5kYW50c1Byb3ZpZGVyLCBBY2NvcmRpb25JY29uLCBBY2NvcmRpb25JdGVtLCBBY2NvcmRpb25QYW5lbCwgQWNjb3JkaW9uUHJvdmlkZXIsIHVzZUFjY29yZGlvbiwgdXNlQWNjb3JkaW9uQ29udGV4dCwgdXNlQWNjb3JkaW9uRGVzY2VuZGFudCwgdXNlQWNjb3JkaW9uRGVzY2VuZGFudHMsIHVzZUFjY29yZGlvbkRlc2NlbmRhbnRzQ29udGV4dCwgdXNlQWNjb3JkaW9uSXRlbSwgdXNlQWNjb3JkaW9uSXRlbVN0YXRlIH07XG4iLCJpbXBvcnQgeyBmb3J3YXJkUmVmLCBvbWl0VGhlbWluZ1Byb3BzLCB1c2VNdWx0aVN0eWxlQ29uZmlnLCBTdHlsZXNQcm92aWRlciwgY2hha3JhLCB1c2VTdHlsZXMgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBjeCB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QtdXRpbHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BjaGFrcmEtdWkvaWNvbic7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG52YXIgQ2hlY2tJY29uID0gZnVuY3Rpb24gQ2hlY2tJY29uKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIlxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBkOiBcIk0xMiwwQTEyLDEyLDAsMSwwLDI0LDEyLDEyLjAxNCwxMi4wMTQsMCwwLDAsMTIsMFptNi45MjcsOC4yLTYuODQ1LDkuMjg5YTEuMDExLDEuMDExLDAsMCwxLTEuNDMuMTg4TDUuNzY0LDEzLjc2OWExLDEsMCwxLDEsMS4yNS0xLjU2Mmw0LjA3NiwzLjI2MSw2LjIyNy04LjQ1MUExLDEsMCwxLDEsMTguOTI3LDguMlpcIlxuICB9KSk7XG59O1xudmFyIEluZm9JY29uID0gZnVuY3Rpb24gSW5mb0ljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiXG4gIH0sIHByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGQ6IFwiTTEyLDBBMTIsMTIsMCwxLDAsMjQsMTIsMTIuMDEzLDEyLjAxMywwLDAsMCwxMiwwWm0uMjUsNWExLjUsMS41LDAsMSwxLTEuNSwxLjVBMS41LDEuNSwwLDAsMSwxMi4yNSw1Wk0xNC41LDE4LjVoLTRhMSwxLDAsMCwxLDAtMmguNzVhLjI1LjI1LDAsMCwwLC4yNS0uMjV2LTQuNWEuMjUuMjUsMCwwLDAtLjI1LS4yNUgxMC41YTEsMSwwLDAsMSwwLTJoMWEyLDIsMCwwLDEsMiwydjQuNzVhLjI1LjI1LDAsMCwwLC4yNS4yNWguNzVhMSwxLDAsMSwxLDAsMlpcIlxuICB9KSk7XG59O1xudmFyIFdhcm5pbmdJY29uID0gZnVuY3Rpb24gV2FybmluZ0ljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiXG4gIH0sIHByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGQ6IFwiTTExLjk4MywwYTEyLjIwNiwxMi4yMDYsMCwwLDAtOC41MSwzLjY1M0ExMS44LDExLjgsMCwwLDAsMCwxMi4yMDcsMTEuNzc5LDExLjc3OSwwLDAsMCwxMS44LDI0aC4yMTRBMTIuMTExLDEyLjExMSwwLDAsMCwyNCwxMS43OTFoMEExMS43NjYsMTEuNzY2LDAsMCwwLDExLjk4MywwWk0xMC41LDE2LjU0MmExLjQ3NiwxLjQ3NiwwLDAsMSwxLjQ0OS0xLjUzaC4wMjdhMS41MjcsMS41MjcsMCwwLDEsMS41MjMsMS40NywxLjQ3NSwxLjQ3NSwwLDAsMS0xLjQ0OSwxLjUzaC0uMDI3QTEuNTI5LDEuNTI5LDAsMCwxLDEwLjUsMTYuNTQyWk0xMSwxMi41di02YTEsMSwwLDAsMSwyLDB2NmExLDEsMCwxLDEtMiwwWlwiXG4gIH0pKTtcbn07XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJzdGF0dXNcIl07XG52YXIgU1RBVFVTRVMgPSB7XG4gIGluZm86IHtcbiAgICBpY29uOiBJbmZvSWNvbixcbiAgICBjb2xvclNjaGVtZTogXCJibHVlXCJcbiAgfSxcbiAgd2FybmluZzoge1xuICAgIGljb246IFdhcm5pbmdJY29uLFxuICAgIGNvbG9yU2NoZW1lOiBcIm9yYW5nZVwiXG4gIH0sXG4gIHN1Y2Nlc3M6IHtcbiAgICBpY29uOiBDaGVja0ljb24sXG4gICAgY29sb3JTY2hlbWU6IFwiZ3JlZW5cIlxuICB9LFxuICBlcnJvcjoge1xuICAgIGljb246IFdhcm5pbmdJY29uLFxuICAgIGNvbG9yU2NoZW1lOiBcInJlZFwiXG4gIH1cbn07XG5cbnZhciBfY3JlYXRlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICBuYW1lOiBcIkFsZXJ0Q29udGV4dFwiLFxuICBlcnJvck1lc3NhZ2U6IFwidXNlQWxlcnRDb250ZXh0OiBgY29udGV4dGAgaXMgdW5kZWZpbmVkLiBTZWVtcyB5b3UgZm9yZ290IHRvIHdyYXAgYWxlcnQgY29tcG9uZW50cyBpbiBgPEFsZXJ0IC8+YFwiXG59KSxcbiAgICBBbGVydFByb3ZpZGVyID0gX2NyZWF0ZUNvbnRleHRbMF0sXG4gICAgdXNlQWxlcnRDb250ZXh0ID0gX2NyZWF0ZUNvbnRleHRbMV07XG5cbi8qKlxuICogQWxlcnQgaXMgdXNlZCB0byBjb21tdW5pY2F0ZSB0aGUgc3RhdGUgb3Igc3RhdHVzIG9mIGFcbiAqIHBhZ2UsIGZlYXR1cmUgb3IgYWN0aW9uXG4gKi9cbnZhciBBbGVydCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfcHJvcHMkY29sb3JTY2hlbWU7XG5cbiAgdmFyIF9vbWl0VGhlbWluZ1Byb3BzID0gb21pdFRoZW1pbmdQcm9wcyhwcm9wcyksXG4gICAgICBfb21pdFRoZW1pbmdQcm9wcyRzdGEgPSBfb21pdFRoZW1pbmdQcm9wcy5zdGF0dXMsXG4gICAgICBzdGF0dXMgPSBfb21pdFRoZW1pbmdQcm9wcyRzdGEgPT09IHZvaWQgMCA/IFwiaW5mb1wiIDogX29taXRUaGVtaW5nUHJvcHMkc3RhLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9vbWl0VGhlbWluZ1Byb3BzLCBfZXhjbHVkZWQpO1xuXG4gIHZhciBjb2xvclNjaGVtZSA9IChfcHJvcHMkY29sb3JTY2hlbWUgPSBwcm9wcy5jb2xvclNjaGVtZSkgIT0gbnVsbCA/IF9wcm9wcyRjb2xvclNjaGVtZSA6IFNUQVRVU0VTW3N0YXR1c10uY29sb3JTY2hlbWU7XG4gIHZhciBzdHlsZXMgPSB1c2VNdWx0aVN0eWxlQ29uZmlnKFwiQWxlcnRcIiwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgY29sb3JTY2hlbWU6IGNvbG9yU2NoZW1lXG4gIH0pKTtcblxuICB2YXIgYWxlcnRTdHlsZXMgPSBfZXh0ZW5kcyh7XG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICBvdmVyZmxvdzogXCJoaWRkZW5cIlxuICB9LCBzdHlsZXMuY29udGFpbmVyKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQWxlcnRQcm92aWRlciwge1xuICAgIHZhbHVlOiB7XG4gICAgICBzdGF0dXM6IHN0YXR1c1xuICAgIH1cbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVzUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogc3R5bGVzXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICByb2xlOiBcImFsZXJ0XCIsXG4gICAgcmVmOiByZWZcbiAgfSwgcmVzdCwge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtYWxlcnRcIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBfX2NzczogYWxlcnRTdHlsZXNcbiAgfSkpKSk7XG59KTtcbnZhciBBbGVydFRpdGxlID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmXG4gIH0sIHByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1hbGVydF9fdGl0bGVcIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBfX2Nzczogc3R5bGVzLnRpdGxlXG4gIH0pKTtcbn0pO1xudmFyIEFsZXJ0RGVzY3JpcHRpb24gPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG5cbiAgdmFyIGRlc2NyaXB0aW9uU3R5bGVzID0gX2V4dGVuZHMoe1xuICAgIGRpc3BsYXk6IFwiaW5saW5lXCJcbiAgfSwgc3R5bGVzLmRlc2NyaXB0aW9uKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmXG4gIH0sIHByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1hbGVydF9fZGVzY1wiLCBwcm9wcy5jbGFzc05hbWUpLFxuICAgIF9fY3NzOiBkZXNjcmlwdGlvblN0eWxlc1xuICB9KSk7XG59KTtcbnZhciBBbGVydEljb24gPSBmdW5jdGlvbiBBbGVydEljb24ocHJvcHMpIHtcbiAgdmFyIF91c2VBbGVydENvbnRleHQgPSB1c2VBbGVydENvbnRleHQoKSxcbiAgICAgIHN0YXR1cyA9IF91c2VBbGVydENvbnRleHQuc3RhdHVzO1xuXG4gIHZhciBCYXNlSWNvbiA9IFNUQVRVU0VTW3N0YXR1c10uaWNvbjtcbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnNwYW4sIF9leHRlbmRzKHtcbiAgICBkaXNwbGF5OiBcImluaGVyaXRcIlxuICB9LCBwcm9wcywge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtYWxlcnRfX2ljb25cIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBfX2Nzczogc3R5bGVzLmljb25cbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEJhc2VJY29uLCB7XG4gICAgdzogXCIxMDAlXCIsXG4gICAgaDogXCIxMDAlXCJcbiAgfSkpO1xufTtcblxuZXhwb3J0IHsgQWxlcnQsIEFsZXJ0RGVzY3JpcHRpb24sIEFsZXJ0SWNvbiwgQWxlcnRUaXRsZSB9O1xuIiwiaW1wb3J0IHsgYW5hdG9teSB9IGZyb20gJ0BjaGFrcmEtdWkvdGhlbWUtdG9vbHMnO1xuXG4vKipcbiAqICoqQWNjb3JkaW9uIGFuYXRvbXkqKlxuICogLSBJdGVtOiB0aGUgYWNjb3JkaW9uIGl0ZW0gY29udGFpbnMgdGhlIGJ1dHRvbiBhbmQgcGFuZWxcbiAqIC0gQnV0dG9uOiB0aGUgYnV0dG9uIGlzIHRoZSB0cmlnZ2VyIGZvciB0aGUgcGFuZWxcbiAqIC0gUGFuZWw6IHRoZSBwYW5lbCBpcyB0aGUgY29udGVudCBvZiB0aGUgYWNjb3JkaW9uIGl0ZW1cbiAqIC0gSWNvbjogdGhlIGV4cGFuZGVkL2NvbGxhcHNlZCBpY29uXG4gKi9cblxudmFyIGFjY29yZGlvbkFuYXRvbXkgPSBhbmF0b215KFwiYWNjb3JkaW9uXCIpLnBhcnRzKFwiY29udGFpbmVyXCIsIFwiaXRlbVwiLCBcImJ1dHRvblwiLCBcInBhbmVsXCIpLmV4dGVuZChcImljb25cIik7XG4vKipcbiAqICoqQWxlcnQgYW5hdG9teSoqXG4gKiAtIFRpdGxlOiB0aGUgYWxlcnQncyB0aXRsZVxuICogLSBEZXNjcmlwdGlvbjogdGhlIGFsZXJ0J3MgZGVzY3JpcHRpb25cbiAqIC0gSWNvbjogdGhlIGFsZXJ0J3MgaWNvblxuICovXG5cbnZhciBhbGVydEFuYXRvbXkgPSBhbmF0b215KFwiYWxlcnRcIikucGFydHMoXCJ0aXRsZVwiLCBcImRlc2NyaXB0aW9uXCIsIFwiY29udGFpbmVyXCIpLmV4dGVuZChcImljb25cIik7XG4vKipcbiAqICoqQXZhdGFyIGFuYXRvbXkqKlxuICogLSBDb250YWluZXI6IHRoZSBjb250YWluZXIgZm9yIHRoZSBhdmF0YXJcbiAqIC0gTGFiZWw6IHRoZSBhdmF0YXIgaW5pdGlhbHMgdGV4dFxuICogLSBFeGNlc3MgTGFiZWw6IHRoZSBsYWJlbCBvciB0ZXh0IHRoYXQgcmVwcmVzZW50cyBleGNlc3MgYXZhdGFyIGNvdW50LlxuICogVHlwaWNhbGx5IHVzZWQgaW4gYXZhdGFyIGdyb3Vwcy5cbiAqIC0gR3JvdXA6IHRoZSBjb250YWluZXIgZm9yIHRoZSBhdmF0YXIgZ3JvdXBcbiAqL1xuXG52YXIgYXZhdGFyQW5hdG9teSA9IGFuYXRvbXkoXCJhdmF0YXJcIikucGFydHMoXCJsYWJlbFwiLCBcImJhZGdlXCIsIFwiY29udGFpbmVyXCIpLmV4dGVuZChcImV4Y2Vzc0xhYmVsXCIsIFwiZ3JvdXBcIik7XG4vKipcbiAqICoqQnJlYWRjcnVtYiBhbmF0b215KipcbiAqIC0gSXRlbTogdGhlIGNvbnRhaW5lciBmb3IgYSBicmVhZGNydW1iIGl0ZW1cbiAqIC0gTGluazogdGhlIGVsZW1lbnQgdGhhdCByZXByZXNlbnRzIHRoZSBicmVhZGNydW1iIGxpbmtcbiAqIC0gQ29udGFpbmVyOiB0aGUgY29udGFpbmVyIGZvciB0aGUgYnJlYWRjcnVtYiBpdGVtc1xuICogLSBTZXBhcmF0b3I6IHRoZSBzZXBhcmF0b3IgYmV0d2VlbiBicmVhZGNydW1iIGl0ZW1zXG4gKi9cblxudmFyIGJyZWFkY3J1bWJBbmF0b215ID0gYW5hdG9teShcImJyZWFkY3J1bWJcIikucGFydHMoXCJsaW5rXCIsIFwiaXRlbVwiLCBcImNvbnRhaW5lclwiKS5leHRlbmQoXCJzZXBhcmF0b3JcIik7XG52YXIgYnV0dG9uQW5hdG9teSA9IGFuYXRvbXkoXCJidXR0b25cIikucGFydHMoKTtcbnZhciBjaGVja2JveEFuYXRvbXkgPSBhbmF0b215KFwiY2hlY2tib3hcIikucGFydHMoXCJjb250cm9sXCIsIFwiaWNvblwiLCBcImNvbnRhaW5lclwiKS5leHRlbmQoXCJsYWJlbFwiKTtcbnZhciBjaXJjdWxhclByb2dyZXNzQW5hdG9teSA9IGFuYXRvbXkoXCJwcm9ncmVzc1wiKS5wYXJ0cyhcInRyYWNrXCIsIFwiZmlsbGVkVHJhY2tcIikuZXh0ZW5kKFwibGFiZWxcIik7XG52YXIgZHJhd2VyQW5hdG9teSA9IGFuYXRvbXkoXCJkcmF3ZXJcIikucGFydHMoXCJvdmVybGF5XCIsIFwiZGlhbG9nQ29udGFpbmVyXCIsIFwiZGlhbG9nXCIpLmV4dGVuZChcImhlYWRlclwiLCBcImNsb3NlQnV0dG9uXCIsIFwiYm9keVwiLCBcImZvb3RlclwiKTtcbnZhciBlZGl0YWJsZUFuYXRvbXkgPSBhbmF0b215KFwiZWRpdGFibGVcIikucGFydHMoXCJwcmV2aWV3XCIsIFwiaW5wdXRcIik7XG52YXIgZm9ybUFuYXRvbXkgPSBhbmF0b215KFwiZm9ybVwiKS5wYXJ0cyhcImNvbnRhaW5lclwiLCBcInJlcXVpcmVkSW5kaWNhdG9yXCIsIFwiaGVscGVyVGV4dFwiKTtcbnZhciBmb3JtRXJyb3JBbmF0b215ID0gYW5hdG9teShcImZvcm1FcnJvclwiKS5wYXJ0cyhcInRleHRcIiwgXCJpY29uXCIpO1xudmFyIGlucHV0QW5hdG9teSA9IGFuYXRvbXkoXCJpbnB1dFwiKS5wYXJ0cyhcImFkZG9uXCIsIFwiZmllbGRcIiwgXCJlbGVtZW50XCIpO1xudmFyIGxpc3RBbmF0b215ID0gYW5hdG9teShcImxpc3RcIikucGFydHMoXCJjb250YWluZXJcIiwgXCJpdGVtXCIsIFwiaWNvblwiKTtcbnZhciBtZW51QW5hdG9teSA9IGFuYXRvbXkoXCJtZW51XCIpLnBhcnRzKFwiYnV0dG9uXCIsIFwibGlzdFwiLCBcIml0ZW1cIikuZXh0ZW5kKFwiZ3JvdXBUaXRsZVwiLCBcImNvbW1hbmRcIiwgXCJkaXZpZGVyXCIpO1xudmFyIG1vZGFsQW5hdG9teSA9IGFuYXRvbXkoXCJtb2RhbFwiKS5wYXJ0cyhcIm92ZXJsYXlcIiwgXCJkaWFsb2dDb250YWluZXJcIiwgXCJkaWFsb2dcIikuZXh0ZW5kKFwiaGVhZGVyXCIsIFwiY2xvc2VCdXR0b25cIiwgXCJib2R5XCIsIFwiZm9vdGVyXCIpO1xudmFyIG51bWJlcklucHV0QW5hdG9teSA9IGFuYXRvbXkoXCJudW1iZXJpbnB1dFwiKS5wYXJ0cyhcInJvb3RcIiwgXCJmaWVsZFwiLCBcInN0ZXBwZXJHcm91cFwiLCBcInN0ZXBwZXJcIik7XG52YXIgcGluSW5wdXRBbmF0b215ID0gYW5hdG9teShcInBpbmlucHV0XCIpLnBhcnRzKFwiZmllbGRcIik7XG52YXIgcG9wb3ZlckFuYXRvbXkgPSBhbmF0b215KFwicG9wb3ZlclwiKS5wYXJ0cyhcImNvbnRlbnRcIiwgXCJoZWFkZXJcIiwgXCJib2R5XCIsIFwiZm9vdGVyXCIpLmV4dGVuZChcInBvcHBlclwiLCBcImFycm93XCIsIFwiY2xvc2VCdXR0b25cIik7XG52YXIgcHJvZ3Jlc3NBbmF0b215ID0gYW5hdG9teShcInByb2dyZXNzXCIpLnBhcnRzKFwibGFiZWxcIiwgXCJmaWxsZWRUcmFja1wiLCBcInRyYWNrXCIpO1xudmFyIHJhZGlvQW5hdG9teSA9IGFuYXRvbXkoXCJyYWRpb1wiKS5wYXJ0cyhcImNvbnRhaW5lclwiLCBcImNvbnRyb2xcIiwgXCJsYWJlbFwiKTtcbnZhciBzZWxlY3RBbmF0b215ID0gYW5hdG9teShcInNlbGVjdFwiKS5wYXJ0cyhcImZpZWxkXCIsIFwiaWNvblwiKTtcbnZhciBzbGlkZXJBbmF0b215ID0gYW5hdG9teShcInNsaWRlclwiKS5wYXJ0cyhcImNvbnRhaW5lclwiLCBcInRyYWNrXCIsIFwidGh1bWJcIiwgXCJmaWxsZWRUcmFja1wiKTtcbnZhciBzdGF0QW5hdG9teSA9IGFuYXRvbXkoXCJzdGF0XCIpLnBhcnRzKFwiY29udGFpbmVyXCIsIFwibGFiZWxcIiwgXCJoZWxwVGV4dFwiLCBcIm51bWJlclwiLCBcImljb25cIik7XG52YXIgc3dpdGNoQW5hdG9teSA9IGFuYXRvbXkoXCJzd2l0Y2hcIikucGFydHMoXCJjb250YWluZXJcIiwgXCJ0cmFja1wiLCBcInRodW1iXCIpO1xudmFyIHRhYmxlQW5hdG9teSA9IGFuYXRvbXkoXCJ0YWJsZVwiKS5wYXJ0cyhcInRhYmxlXCIsIFwidGhlYWRcIiwgXCJ0Ym9keVwiLCBcInRyXCIsIFwidGhcIiwgXCJ0ZFwiLCBcInRmb290XCIsIFwiY2FwdGlvblwiKTtcbnZhciB0YWJzQW5hdG9teSA9IGFuYXRvbXkoXCJ0YWJzXCIpLnBhcnRzKFwicm9vdFwiLCBcInRhYlwiLCBcInRhYmxpc3RcIiwgXCJ0YWJwYW5lbFwiLCBcInRhYnBhbmVsc1wiLCBcImluZGljYXRvclwiKTtcbi8qKlxuICogKipUYWcgYW5hdG9teSoqXG4gKiAtIENvbnRhaW5lcjogdGhlIGNvbnRhaW5lciBmb3IgdGhlIHRhZ1xuICogLSBMYWJlbDogdGhlIHRleHQgY29udGVudCBvZiB0aGUgdGFnXG4gKiAtIGNsb3NlQnV0dG9uOiB0aGUgY2xvc2UgYnV0dG9uIGZvciB0aGUgdGFnXG4gKi9cblxudmFyIHRhZ0FuYXRvbXkgPSBhbmF0b215KFwidGFnXCIpLnBhcnRzKFwiY29udGFpbmVyXCIsIFwibGFiZWxcIiwgXCJjbG9zZUJ1dHRvblwiKTtcblxuZXhwb3J0IHsgYWNjb3JkaW9uQW5hdG9teSwgYWxlcnRBbmF0b215LCBhdmF0YXJBbmF0b215LCBicmVhZGNydW1iQW5hdG9teSwgYnV0dG9uQW5hdG9teSwgY2hlY2tib3hBbmF0b215LCBjaXJjdWxhclByb2dyZXNzQW5hdG9teSwgZHJhd2VyQW5hdG9teSwgZWRpdGFibGVBbmF0b215LCBmb3JtQW5hdG9teSwgZm9ybUVycm9yQW5hdG9teSwgaW5wdXRBbmF0b215LCBsaXN0QW5hdG9teSwgbWVudUFuYXRvbXksIG1vZGFsQW5hdG9teSwgbnVtYmVySW5wdXRBbmF0b215LCBwaW5JbnB1dEFuYXRvbXksIHBvcG92ZXJBbmF0b215LCBwcm9ncmVzc0FuYXRvbXksIHJhZGlvQW5hdG9teSwgc2VsZWN0QW5hdG9teSwgc2xpZGVyQW5hdG9teSwgc3RhdEFuYXRvbXksIHN3aXRjaEFuYXRvbXksIHRhYmxlQW5hdG9teSwgdGFic0FuYXRvbXksIHRhZ0FuYXRvbXkgfTtcbiIsImltcG9ydCB7IHVzZUltYWdlIH0gZnJvbSAnQGNoYWtyYS11aS9pbWFnZSc7XG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VTdHlsZXMsIGNoYWtyYSwgdXNlTXVsdGlTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcywgU3R5bGVzUHJvdmlkZXIgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBjeCwgX19ERVZfXywgZmlsdGVyVW5kZWZpbmVkIH0gZnJvbSAnQGNoYWtyYS11aS91dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBnZXRWYWxpZENoaWxkcmVuIH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdC11dGlscyc7XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgX2V4Y2x1ZGVkJDEgPSBbXCJuYW1lXCIsIFwiZ2V0SW5pdGlhbHNcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcInNyY1wiLCBcIm5hbWVcIiwgXCJzaG93Qm9yZGVyXCIsIFwiYm9yZGVyUmFkaXVzXCIsIFwib25FcnJvclwiLCBcImdldEluaXRpYWxzXCIsIFwiaWNvblwiLCBcImljb25MYWJlbFwiLCBcImxvYWRpbmdcIiwgXCJjaGlsZHJlblwiLCBcImJvcmRlckNvbG9yXCIsIFwiaWdub3JlRmFsbGJhY2tcIl07XG5cbi8qKlxuICogQXZhdGFyQmFkZ2UgdXNlZCB0byBzaG93IGV4dHJhIGJhZGdlIHRvIHRoZSB0b3AtcmlnaHRcbiAqIG9yIGJvdHRvbS1yaWdodCBjb3JuZXIgb2YgYW4gYXZhdGFyLlxuICovXG52YXIgQXZhdGFyQmFkZ2UgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG5cbiAgdmFyIGJhZGdlU3R5bGVzID0gX2V4dGVuZHMoe1xuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICBpbnNldEVuZDogXCIwXCIsXG4gICAgYm90dG9tOiBcIjBcIlxuICB9LCBzdHlsZXMuYmFkZ2UpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWZcbiAgfSwgcHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLWF2YXRhcl9fYmFkZ2VcIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBfX2NzczogYmFkZ2VTdHlsZXNcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIEF2YXRhckJhZGdlLmRpc3BsYXlOYW1lID0gXCJBdmF0YXJCYWRnZVwiO1xufVxuXG5mdW5jdGlvbiBpbml0aWFscyhuYW1lKSB7XG4gIHZhciBfbmFtZSRzcGxpdCA9IG5hbWUuc3BsaXQoXCIgXCIpLFxuICAgICAgZmlyc3ROYW1lID0gX25hbWUkc3BsaXRbMF0sXG4gICAgICBsYXN0TmFtZSA9IF9uYW1lJHNwbGl0WzFdO1xuXG4gIHJldHVybiBmaXJzdE5hbWUgJiYgbGFzdE5hbWUgPyBcIlwiICsgZmlyc3ROYW1lLmNoYXJBdCgwKSArIGxhc3ROYW1lLmNoYXJBdCgwKSA6IGZpcnN0TmFtZS5jaGFyQXQoMCk7XG59XG5cbi8qKlxuICogVGhlIGF2YXRhciBuYW1lIGNvbnRhaW5lclxuICovXG52YXIgQXZhdGFyTmFtZSA9IGZ1bmN0aW9uIEF2YXRhck5hbWUocHJvcHMpIHtcbiAgdmFyIG5hbWUgPSBwcm9wcy5uYW1lLFxuICAgICAgZ2V0SW5pdGlhbHMgPSBwcm9wcy5nZXRJbml0aWFscyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkJDEpO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICByb2xlOiBcImltZ1wiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBuYW1lXG4gIH0sIHJlc3QsIHtcbiAgICBfX2Nzczogc3R5bGVzLmxhYmVsXG4gIH0pLCBuYW1lID8gZ2V0SW5pdGlhbHMgPT0gbnVsbCA/IHZvaWQgMCA6IGdldEluaXRpYWxzKG5hbWUpIDogbnVsbCk7XG59O1xuLyoqXG4gKiBGYWxsYmFjayBhdmF0YXIgcmVhY3QgY29tcG9uZW50LlxuICogVGhpcyBzaG91bGQgYmUgYSBnZW5lcmljIHN2ZyB1c2VkIHRvIHJlcHJlc2VudCBhbiBhdmF0YXJcbiAqL1xuXG5cbnZhciBEZWZhdWx0SWNvbiA9IGZ1bmN0aW9uIERlZmF1bHRJY29uKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuc3ZnLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTI4IDEyOFwiLFxuICAgIGNvbG9yOiBcIiNmZmZcIixcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLWF2YXRhcl9fc3ZnXCJcbiAgfSwgcHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZDogXCJNMTAzLDEwMi4xMzg4IEM5My4wOTQsMTExLjkyIDc5LjM1MDQsMTE4IDY0LjE2MzgsMTE4IEM0OC44MDU2LDExOCAzNC45Mjk0LDExMS43NjggMjUsMTAxLjc4OTIgTDI1LDk1LjIgQzI1LDg2LjgwOTYgMzEuOTgxLDgwIDQwLjYsODAgTDg3LjQsODAgQzk2LjAxOSw4MCAxMDMsODYuODA5NiAxMDMsOTUuMiBMMTAzLDEwMi4xMzg4IFpcIlxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGQ6IFwiTTYzLjk5NjE2NDcsMjQgQzUxLjI5MzgxMzYsMjQgNDEsMzQuMjkzODEzNiA0MSw0Ni45OTYxNjQ3IEM0MSw1OS43MDYxODY0IDUxLjI5MzgxMzYsNzAgNjMuOTk2MTY0Nyw3MCBDNzYuNjk4NTE1OSw3MCA4Nyw1OS43MDYxODY0IDg3LDQ2Ljk5NjE2NDcgQzg3LDM0LjI5MzgxMzYgNzYuNjk4NTE1OSwyNCA2My45OTYxNjQ3LDI0XCJcbiAgfSkpO1xufTtcblxudmFyIGJhc2VTdHlsZSA9IHtcbiAgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLFxuICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICB0ZXh0VHJhbnNmb3JtOiBcInVwcGVyY2FzZVwiLFxuICBmb250V2VpZ2h0OiBcIm1lZGl1bVwiLFxuICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICBmbGV4U2hyaW5rOiAwXG59O1xuXG4vKipcbiAqIEF2YXRhciBjb21wb25lbnQgdGhhdCByZW5kZXJzIGFuIHVzZXIgYXZhdGFyIHdpdGhcbiAqIHN1cHBvcnQgZm9yIGZhbGxiYWNrIGF2YXRhciBhbmQgbmFtZS1vbmx5IGF2YXRhcnNcbiAqL1xudmFyIEF2YXRhciA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VNdWx0aVN0eWxlQ29uZmlnKFwiQXZhdGFyXCIsIHByb3BzKTtcblxuICB2YXIgX29taXRUaGVtaW5nUHJvcHMgPSBvbWl0VGhlbWluZ1Byb3BzKHByb3BzKSxcbiAgICAgIHNyYyA9IF9vbWl0VGhlbWluZ1Byb3BzLnNyYyxcbiAgICAgIG5hbWUgPSBfb21pdFRoZW1pbmdQcm9wcy5uYW1lLFxuICAgICAgc2hvd0JvcmRlciA9IF9vbWl0VGhlbWluZ1Byb3BzLnNob3dCb3JkZXIsXG4gICAgICBfb21pdFRoZW1pbmdQcm9wcyRib3IgPSBfb21pdFRoZW1pbmdQcm9wcy5ib3JkZXJSYWRpdXMsXG4gICAgICBib3JkZXJSYWRpdXMgPSBfb21pdFRoZW1pbmdQcm9wcyRib3IgPT09IHZvaWQgMCA/IFwiZnVsbFwiIDogX29taXRUaGVtaW5nUHJvcHMkYm9yLFxuICAgICAgb25FcnJvciA9IF9vbWl0VGhlbWluZ1Byb3BzLm9uRXJyb3IsXG4gICAgICBfb21pdFRoZW1pbmdQcm9wcyRnZXQgPSBfb21pdFRoZW1pbmdQcm9wcy5nZXRJbml0aWFscyxcbiAgICAgIGdldEluaXRpYWxzID0gX29taXRUaGVtaW5nUHJvcHMkZ2V0ID09PSB2b2lkIDAgPyBpbml0aWFscyA6IF9vbWl0VGhlbWluZ1Byb3BzJGdldCxcbiAgICAgIF9vbWl0VGhlbWluZ1Byb3BzJGljbyA9IF9vbWl0VGhlbWluZ1Byb3BzLmljb24sXG4gICAgICBpY29uID0gX29taXRUaGVtaW5nUHJvcHMkaWNvID09PSB2b2lkIDAgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEZWZhdWx0SWNvbiwgbnVsbCkgOiBfb21pdFRoZW1pbmdQcm9wcyRpY28sXG4gICAgICBfb21pdFRoZW1pbmdQcm9wcyRpY28yID0gX29taXRUaGVtaW5nUHJvcHMuaWNvbkxhYmVsLFxuICAgICAgaWNvbkxhYmVsID0gX29taXRUaGVtaW5nUHJvcHMkaWNvMiA9PT0gdm9pZCAwID8gXCIgYXZhdGFyXCIgOiBfb21pdFRoZW1pbmdQcm9wcyRpY28yLFxuICAgICAgbG9hZGluZyA9IF9vbWl0VGhlbWluZ1Byb3BzLmxvYWRpbmcsXG4gICAgICBjaGlsZHJlbiA9IF9vbWl0VGhlbWluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgYm9yZGVyQ29sb3IgPSBfb21pdFRoZW1pbmdQcm9wcy5ib3JkZXJDb2xvcixcbiAgICAgIGlnbm9yZUZhbGxiYWNrID0gX29taXRUaGVtaW5nUHJvcHMuaWdub3JlRmFsbGJhY2ssXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX29taXRUaGVtaW5nUHJvcHMsIF9leGNsdWRlZDIpO1xuXG4gIHZhciBhdmF0YXJTdHlsZXMgPSBfZXh0ZW5kcyh7XG4gICAgYm9yZGVyUmFkaXVzOiBib3JkZXJSYWRpdXMsXG4gICAgYm9yZGVyV2lkdGg6IHNob3dCb3JkZXIgPyBcIjJweFwiIDogdW5kZWZpbmVkXG4gIH0sIGJhc2VTdHlsZSwgc3R5bGVzLmNvbnRhaW5lcik7XG5cbiAgaWYgKGJvcmRlckNvbG9yKSB7XG4gICAgYXZhdGFyU3R5bGVzLmJvcmRlckNvbG9yID0gYm9yZGVyQ29sb3I7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnNwYW4sIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZlxuICB9LCByZXN0LCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1hdmF0YXJcIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBfX2NzczogYXZhdGFyU3R5bGVzXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZXNQcm92aWRlciwge1xuICAgIHZhbHVlOiBzdHlsZXNcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQXZhdGFySW1hZ2UsIHtcbiAgICBzcmM6IHNyYyxcbiAgICBsb2FkaW5nOiBsb2FkaW5nLFxuICAgIG9uRXJyb3I6IG9uRXJyb3IsXG4gICAgZ2V0SW5pdGlhbHM6IGdldEluaXRpYWxzLFxuICAgIG5hbWU6IG5hbWUsXG4gICAgYm9yZGVyUmFkaXVzOiBib3JkZXJSYWRpdXMsXG4gICAgaWNvbjogaWNvbixcbiAgICBpY29uTGFiZWw6IGljb25MYWJlbCxcbiAgICBpZ25vcmVGYWxsYmFjazogaWdub3JlRmFsbGJhY2tcbiAgfSksIGNoaWxkcmVuKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgQXZhdGFyLmRpc3BsYXlOYW1lID0gXCJBdmF0YXJcIjtcbn1cblxudmFyIEF2YXRhckltYWdlID0gZnVuY3Rpb24gQXZhdGFySW1hZ2UocHJvcHMpIHtcbiAgdmFyIHNyYyA9IHByb3BzLnNyYyxcbiAgICAgIG9uRXJyb3IgPSBwcm9wcy5vbkVycm9yLFxuICAgICAgZ2V0SW5pdGlhbHMgPSBwcm9wcy5nZXRJbml0aWFscyxcbiAgICAgIG5hbWUgPSBwcm9wcy5uYW1lLFxuICAgICAgYm9yZGVyUmFkaXVzID0gcHJvcHMuYm9yZGVyUmFkaXVzLFxuICAgICAgbG9hZGluZyA9IHByb3BzLmxvYWRpbmcsXG4gICAgICBpY29uTGFiZWwgPSBwcm9wcy5pY29uTGFiZWwsXG4gICAgICBfcHJvcHMkaWNvbiA9IHByb3BzLmljb24sXG4gICAgICBpY29uID0gX3Byb3BzJGljb24gPT09IHZvaWQgMCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERlZmF1bHRJY29uLCBudWxsKSA6IF9wcm9wcyRpY29uLFxuICAgICAgaWdub3JlRmFsbGJhY2sgPSBwcm9wcy5pZ25vcmVGYWxsYmFjaztcbiAgLyoqXG4gICAqIHVzZSB0aGUgaW1hZ2UgaG9vayB0byBvbmx5IHNob3cgdGhlIGltYWdlIHdoZW4gaXQgaGFzIGxvYWRlZFxuICAgKi9cblxuICB2YXIgc3RhdHVzID0gdXNlSW1hZ2Uoe1xuICAgIHNyYzogc3JjLFxuICAgIG9uRXJyb3I6IG9uRXJyb3IsXG4gICAgaWdub3JlRmFsbGJhY2s6IGlnbm9yZUZhbGxiYWNrXG4gIH0pO1xuICB2YXIgaGFzTG9hZGVkID0gc3RhdHVzID09PSBcImxvYWRlZFwiO1xuICAvKipcbiAgICogRmFsbGJhY2sgYXZhdGFyIGFwcGxpZXMgdW5kZXIgMiBjb25kaXRpb25zOlxuICAgKiAtIElmIGBzcmNgIHdhcyBwYXNzZWQgYW5kIHRoZSBpbWFnZSBoYXMgbm90IGxvYWRlZCBvciBmYWlsZWQgdG8gbG9hZFxuICAgKiAtIElmIGBzcmNgIHdhc24ndCBwYXNzZWRcbiAgICpcbiAgICogSW4gdGhpcyBjYXNlLCB3ZSdsbCBzaG93IGVpdGhlciB0aGUgbmFtZSBhdmF0YXIgb3IgZGVmYXVsdCBhdmF0YXJcbiAgICovXG5cbiAgdmFyIHNob3dGYWxsYmFjayA9ICFzcmMgfHwgIWhhc0xvYWRlZDtcblxuICBpZiAoc2hvd0ZhbGxiYWNrKSB7XG4gICAgcmV0dXJuIG5hbWUgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBdmF0YXJOYW1lLCB7XG4gICAgICBjbGFzc05hbWU6IFwiY2hha3JhLWF2YXRhcl9faW5pdGlhbHNcIixcbiAgICAgIGdldEluaXRpYWxzOiBnZXRJbml0aWFscyxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KSA6IC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoaWNvbiwge1xuICAgICAgcm9sZTogXCJpbWdcIixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBpY29uTGFiZWxcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogSWYgYHNyY2Agd2FzIHBhc3NlZCBhbmQgdGhlIGltYWdlIGhhcyBsb2FkZWQsIHdlJ2xsIHNob3cgaXRcbiAgICovXG5cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmltZywge1xuICAgIHNyYzogc3JjLFxuICAgIGFsdDogbmFtZSxcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLWF2YXRhcl9faW1nXCIsXG4gICAgbG9hZGluZzogbG9hZGluZyxcbiAgICBfX2Nzczoge1xuICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgICAgIG9iamVjdEZpdDogXCJjb3ZlclwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBib3JkZXJSYWRpdXNcbiAgICB9XG4gIH0pO1xufTtcblxuaWYgKF9fREVWX18pIHtcbiAgQXZhdGFySW1hZ2UuZGlzcGxheU5hbWUgPSBcIkF2YXRhckltYWdlXCI7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJjaGlsZHJlblwiLCBcImJvcmRlckNvbG9yXCIsIFwibWF4XCIsIFwic3BhY2luZ1wiLCBcImJvcmRlclJhZGl1c1wiXTtcblxuLyoqXG4gKiBBdmF0YXJHcm91cCBkaXNwbGF5cyBhIG51bWJlciBvZiBhdmF0YXJzIGdyb3VwZWQgdG9nZXRoZXIgaW4gYSBzdGFjay5cbiAqL1xudmFyIEF2YXRhckdyb3VwID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZU11bHRpU3R5bGVDb25maWcoXCJBdmF0YXJcIiwgcHJvcHMpO1xuXG4gIHZhciBfb21pdFRoZW1pbmdQcm9wcyA9IG9taXRUaGVtaW5nUHJvcHMocHJvcHMpLFxuICAgICAgY2hpbGRyZW4gPSBfb21pdFRoZW1pbmdQcm9wcy5jaGlsZHJlbixcbiAgICAgIGJvcmRlckNvbG9yID0gX29taXRUaGVtaW5nUHJvcHMuYm9yZGVyQ29sb3IsXG4gICAgICBtYXggPSBfb21pdFRoZW1pbmdQcm9wcy5tYXgsXG4gICAgICBfb21pdFRoZW1pbmdQcm9wcyRzcGEgPSBfb21pdFRoZW1pbmdQcm9wcy5zcGFjaW5nLFxuICAgICAgc3BhY2luZyA9IF9vbWl0VGhlbWluZ1Byb3BzJHNwYSA9PT0gdm9pZCAwID8gXCItMC43NXJlbVwiIDogX29taXRUaGVtaW5nUHJvcHMkc3BhLFxuICAgICAgX29taXRUaGVtaW5nUHJvcHMkYm9yID0gX29taXRUaGVtaW5nUHJvcHMuYm9yZGVyUmFkaXVzLFxuICAgICAgYm9yZGVyUmFkaXVzID0gX29taXRUaGVtaW5nUHJvcHMkYm9yID09PSB2b2lkIDAgPyBcImZ1bGxcIiA6IF9vbWl0VGhlbWluZ1Byb3BzJGJvcixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfb21pdFRoZW1pbmdQcm9wcywgX2V4Y2x1ZGVkKTtcblxuICB2YXIgdmFsaWRDaGlsZHJlbiA9IGdldFZhbGlkQ2hpbGRyZW4oY2hpbGRyZW4pO1xuICAvKipcbiAgICogZ2V0IHRoZSBhdmF0YXJzIHdpdGhpbiB0aGUgbWF4XG4gICAqL1xuXG4gIHZhciBjaGlsZHJlbldpdGhpbk1heCA9IG1heCA/IHZhbGlkQ2hpbGRyZW4uc2xpY2UoMCwgbWF4KSA6IHZhbGlkQ2hpbGRyZW47XG4gIC8qKlxuICAgKiBnZXQgdGhlIHJlbWFpbmluZyBhdmF0YXIgY291bnRcbiAgICovXG5cbiAgdmFyIGV4Y2VzcyA9IG1heCAhPSBudWxsICYmIHZhbGlkQ2hpbGRyZW4ubGVuZ3RoIC0gbWF4O1xuICAvKipcbiAgICogUmV2ZXJzaW5nIHRoZSBjaGlsZHJlbiBpcyBhIGdyZWF0IHdheSB0byBhdm9pZCB1c2luZyB6SW5kZXhcbiAgICogdG8gb3ZlcmxhcCB0aGUgYXZhdGFyc1xuICAgKi9cblxuICB2YXIgcmV2ZXJzZWRDaGlsZHJlbiA9IGNoaWxkcmVuV2l0aGluTWF4LnJldmVyc2UoKTtcbiAgdmFyIGNsb25lcyA9IHJldmVyc2VkQ2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICB2YXIgX2NoaWxkJHByb3BzJGJvcmRlckNvO1xuXG4gICAgdmFyIGlzRmlyc3RBdmF0YXIgPSBpbmRleCA9PT0gMDtcbiAgICB2YXIgY2hpbGRQcm9wcyA9IHtcbiAgICAgIG1hcmdpbkVuZDogaXNGaXJzdEF2YXRhciA/IDAgOiBzcGFjaW5nLFxuICAgICAgc2l6ZTogcHJvcHMuc2l6ZSxcbiAgICAgIGJvcmRlckNvbG9yOiAoX2NoaWxkJHByb3BzJGJvcmRlckNvID0gY2hpbGQucHJvcHMuYm9yZGVyQ29sb3IpICE9IG51bGwgPyBfY2hpbGQkcHJvcHMkYm9yZGVyQ28gOiBib3JkZXJDb2xvcixcbiAgICAgIHNob3dCb3JkZXI6IHRydWVcbiAgICB9O1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCBmaWx0ZXJVbmRlZmluZWQoY2hpbGRQcm9wcykpO1xuICB9KTtcbiAgdmFyIGdyb3VwU3R5bGVzID0ge1xuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAganVzdGlmeUNvbnRlbnQ6IFwiZmxleC1lbmRcIixcbiAgICBmbGV4RGlyZWN0aW9uOiBcInJvdy1yZXZlcnNlXCJcbiAgfTtcblxuICB2YXIgZXhjZXNzU3R5bGVzID0gX2V4dGVuZHMoe1xuICAgIGJvcmRlclJhZGl1czogYm9yZGVyUmFkaXVzLFxuICAgIG1hcmdpblN0YXJ0OiBzcGFjaW5nXG4gIH0sIGJhc2VTdHlsZSwgc3R5bGVzLmV4Y2Vzc0xhYmVsKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIHJvbGU6IFwiZ3JvdXBcIixcbiAgICBfX2NzczogZ3JvdXBTdHlsZXNcbiAgfSwgcmVzdCwge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtYXZhdGFyX19ncm91cFwiLCBwcm9wcy5jbGFzc05hbWUpXG4gIH0pLCBleGNlc3MgPiAwICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5zcGFuLCB7XG4gICAgY2xhc3NOYW1lOiBcImNoYWtyYS1hdmF0YXJfX2V4Y2Vzc1wiLFxuICAgIF9fY3NzOiBleGNlc3NTdHlsZXNcbiAgfSwgXCIrXCIgKyBleGNlc3MpLCBjbG9uZXMpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIEF2YXRhckdyb3VwLmRpc3BsYXlOYW1lID0gXCJBdmF0YXJHcm91cFwiO1xufVxuXG5leHBvcnQgeyBBdmF0YXIsIEF2YXRhckJhZGdlLCBBdmF0YXJHcm91cCwgYmFzZVN0eWxlIH07XG4iLCJpbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VTdHlsZXMsIGNoYWtyYSwgdXNlTXVsdGlTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcywgU3R5bGVzUHJvdmlkZXIgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBfX0RFVl9fLCBjeCB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0IHsgZ2V0VmFsaWRDaGlsZHJlbiB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QtdXRpbHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIF9leGNsdWRlZCA9IFtcInNwYWNpbmdcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcImlzQ3VycmVudFBhZ2VcIiwgXCJhc1wiLCBcImNsYXNzTmFtZVwiLCBcImhyZWZcIl0sXG4gICAgX2V4Y2x1ZGVkMyA9IFtcImlzQ3VycmVudFBhZ2VcIiwgXCJzZXBhcmF0b3JcIiwgXCJpc0xhc3RDaGlsZFwiLCBcInNwYWNpbmdcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiXSxcbiAgICBfZXhjbHVkZWQ0ID0gW1wiY2hpbGRyZW5cIiwgXCJzcGFjaW5nXCIsIFwic2VwYXJhdG9yXCIsIFwiY2xhc3NOYW1lXCJdO1xuXG4vKipcbiAqIFJlYWN0IGNvbXBvbmVudCB0aGF0IHNlcGFyYXRlcyBlYWNoIGJyZWFkY3J1bWIgbGlua1xuICovXG52YXIgQnJlYWRjcnVtYlNlcGFyYXRvciA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzcGFjaW5nID0gcHJvcHMuc3BhY2luZyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkKTtcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG5cbiAgdmFyIHNlcGFyYXRvclN0eWxlcyA9IF9leHRlbmRzKHtcbiAgICBteDogc3BhY2luZ1xuICB9LCBzdHlsZXMuc2VwYXJhdG9yKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnNwYW4sIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICByb2xlOiBcInByZXNlbnRhdGlvblwiXG4gIH0sIHJlc3QsIHtcbiAgICBfX2Nzczogc2VwYXJhdG9yU3R5bGVzXG4gIH0pKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBCcmVhZGNydW1iU2VwYXJhdG9yLmRpc3BsYXlOYW1lID0gXCJCcmVhZGNydW1iU2VwYXJhdG9yXCI7XG59XG5cbi8qKlxuICogQnJlYWRjcnVtYiBsaW5rLlxuICpcbiAqIEl0IHJlbmRlcnMgYSBgc3BhbmAgd2hlbiBpdCBtYXRjaGVzIHRoZSBjdXJyZW50IGxpbmsuIE90aGVyd2lzZSxcbiAqIGl0IHJlbmRlcnMgYW4gYW5jaG9yIHRhZy5cbiAqL1xudmFyIEJyZWFkY3J1bWJMaW5rID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIGlzQ3VycmVudFBhZ2UgPSBwcm9wcy5pc0N1cnJlbnRQYWdlLFxuICAgICAgYXMgPSBwcm9wcy5hcyxcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIGhyZWYgPSBwcm9wcy5ocmVmLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQyKTtcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG5cbiAgdmFyIHNoYXJlZFByb3BzID0gX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGFzOiBhcyxcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLWJyZWFkY3J1bWJfX2xpbmtcIiwgY2xhc3NOYW1lKVxuICB9LCByZXN0KTtcblxuICBpZiAoaXNDdXJyZW50UGFnZSkge1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuc3BhbiwgX2V4dGVuZHMoe1xuICAgICAgXCJhcmlhLWN1cnJlbnRcIjogXCJwYWdlXCIsXG4gICAgICBfX2Nzczogc3R5bGVzLmxpbmtcbiAgICB9LCBzaGFyZWRQcm9wcykpO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5hLCBfZXh0ZW5kcyh7XG4gICAgX19jc3M6IHN0eWxlcy5saW5rLFxuICAgIGhyZWY6IGhyZWZcbiAgfSwgc2hhcmVkUHJvcHMpKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBCcmVhZGNydW1iTGluay5kaXNwbGF5TmFtZSA9IFwiQnJlYWRjcnVtYkxpbmtcIjtcbn1cblxuLyoqXG4gKiBCcmVhZGNydW1iSXRlbSBpcyB1c2VkIHRvIGdyb3VwIGEgYnJlYWRjcnVtYiBsaW5rLlxuICogSXQgcmVuZGVycyBhIGBsaWAgZWxlbWVudCB0byBkZW5vdGUgaXQgYmVsb25ncyB0byBhbiBvcmRlciBsaXN0IG9mIGxpbmtzLlxuICpcbiAqIEBzZWUgRG9jcyBodHRwczovL2NoYWtyYS11aS5jb20vYnJlYWRjcnVtYlxuICovXG52YXIgQnJlYWRjcnVtYkl0ZW0gPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgaXNDdXJyZW50UGFnZSA9IHByb3BzLmlzQ3VycmVudFBhZ2UsXG4gICAgICBzZXBhcmF0b3IgPSBwcm9wcy5zZXBhcmF0b3IsXG4gICAgICBpc0xhc3RDaGlsZCA9IHByb3BzLmlzTGFzdENoaWxkLFxuICAgICAgc3BhY2luZyA9IHByb3BzLnNwYWNpbmcsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQzKTtcblxuICB2YXIgdmFsaWRDaGlsZHJlbiA9IGdldFZhbGlkQ2hpbGRyZW4oY2hpbGRyZW4pO1xuICB2YXIgY2xvbmVzID0gdmFsaWRDaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgaWYgKGNoaWxkLnR5cGUgPT09IEJyZWFkY3J1bWJMaW5rKSB7XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgICBpc0N1cnJlbnRQYWdlOiBpc0N1cnJlbnRQYWdlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGQudHlwZSA9PT0gQnJlYWRjcnVtYlNlcGFyYXRvcikge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgICAgc3BhY2luZzogc3BhY2luZyxcbiAgICAgICAgY2hpbGRyZW46IGNoaWxkLnByb3BzLmNoaWxkcmVuIHx8IHNlcGFyYXRvclxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNoaWxkO1xuICB9KTtcbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBpdGVtU3R5bGVzID0gX2V4dGVuZHMoe1xuICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiXG4gIH0sIHN0eWxlcy5pdGVtKTtcblxuICB2YXIgX2NsYXNzTmFtZSA9IGN4KFwiY2hha3JhLWJyZWFkY3J1bWJfX2xpc3QtaXRlbVwiLCBjbGFzc05hbWUpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEubGksIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IF9jbGFzc05hbWVcbiAgfSwgcmVzdCwge1xuICAgIF9fY3NzOiBpdGVtU3R5bGVzXG4gIH0pLCBjbG9uZXMsICFpc0xhc3RDaGlsZCAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChCcmVhZGNydW1iU2VwYXJhdG9yLCB7XG4gICAgc3BhY2luZzogc3BhY2luZ1xuICB9LCBzZXBhcmF0b3IpKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBCcmVhZGNydW1iSXRlbS5kaXNwbGF5TmFtZSA9IFwiQnJlYWRjcnVtYkl0ZW1cIjtcbn1cblxuLyoqXG4gKiBCcmVhZGNydW1iIGlzIHVzZWQgdG8gcmVuZGVyIGEgYnJlYWRjcnVtYiBuYXZpZ2F0aW9uIGxhbmRtYXJrLlxuICogSXQgcmVuZGVycyBhIGBuYXZgIGVsZW1lbnQgd2l0aCBgYXJpYS1sYWJlbGAgc2V0IHRvIGBCcmVhZGNydW1iYFxuICpcbiAqIEBzZWUgRG9jcyBodHRwczovL2NoYWtyYS11aS5jb20vYnJlYWRjcnVtYlxuICovXG52YXIgQnJlYWRjcnVtYiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VNdWx0aVN0eWxlQ29uZmlnKFwiQnJlYWRjcnVtYlwiLCBwcm9wcyk7XG4gIHZhciBvd25Qcm9wcyA9IG9taXRUaGVtaW5nUHJvcHMocHJvcHMpO1xuXG4gIHZhciBjaGlsZHJlbiA9IG93blByb3BzLmNoaWxkcmVuLFxuICAgICAgX293blByb3BzJHNwYWNpbmcgPSBvd25Qcm9wcy5zcGFjaW5nLFxuICAgICAgc3BhY2luZyA9IF9vd25Qcm9wcyRzcGFjaW5nID09PSB2b2lkIDAgPyBcIjAuNXJlbVwiIDogX293blByb3BzJHNwYWNpbmcsXG4gICAgICBfb3duUHJvcHMkc2VwYXJhdG9yID0gb3duUHJvcHMuc2VwYXJhdG9yLFxuICAgICAgc2VwYXJhdG9yID0gX293blByb3BzJHNlcGFyYXRvciA9PT0gdm9pZCAwID8gXCIvXCIgOiBfb3duUHJvcHMkc2VwYXJhdG9yLFxuICAgICAgY2xhc3NOYW1lID0gb3duUHJvcHMuY2xhc3NOYW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKG93blByb3BzLCBfZXhjbHVkZWQ0KTtcblxuICB2YXIgdmFsaWRDaGlsZHJlbiA9IGdldFZhbGlkQ2hpbGRyZW4oY2hpbGRyZW4pO1xuICB2YXIgY291bnQgPSB2YWxpZENoaWxkcmVuLmxlbmd0aDtcbiAgdmFyIGNsb25lcyA9IHZhbGlkQ2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgc2VwYXJhdG9yOiBzZXBhcmF0b3IsXG4gICAgICBzcGFjaW5nOiBzcGFjaW5nLFxuICAgICAgaXNMYXN0Q2hpbGQ6IGNvdW50ID09PSBpbmRleCArIDFcbiAgICB9KTtcbiAgfSk7XG5cbiAgdmFyIF9jbGFzc05hbWUgPSBjeChcImNoYWtyYS1icmVhZGNydW1iXCIsIGNsYXNzTmFtZSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5uYXYsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBcImFyaWEtbGFiZWxcIjogXCJicmVhZGNydW1iXCIsXG4gICAgY2xhc3NOYW1lOiBfY2xhc3NOYW1lLFxuICAgIF9fY3NzOiBzdHlsZXMuY29udGFpbmVyXG4gIH0sIHJlc3QpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZXNQcm92aWRlciwge1xuICAgIHZhbHVlOiBzdHlsZXNcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLm9sLCB7XG4gICAgY2xhc3NOYW1lOiBcImNoYWtyYS1icmVhZGNydW1iX19saXN0XCJcbiAgfSwgY2xvbmVzKSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIEJyZWFkY3J1bWIuZGlzcGxheU5hbWUgPSBcIkJyZWFkY3J1bWJcIjtcbn1cblxuZXhwb3J0IHsgQnJlYWRjcnVtYiwgQnJlYWRjcnVtYkl0ZW0sIEJyZWFkY3J1bWJMaW5rLCBCcmVhZGNydW1iU2VwYXJhdG9yIH07XG4iLCJpbXBvcnQgeyBpc0lucHV0RXZlbnQsIGFkZEl0ZW0sIHJlbW92ZUl0ZW0sIF9fREVWX18sIHdhcm4sIGRhdGFBdHRyLCBjYWxsQWxsSGFuZGxlcnMsIGZvY3VzLCBjYWxsQWxsLCBjeCB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgbWVyZ2VSZWZzIH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdC11dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlUmVmLCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNhbGxiYWNrUmVmLCB1c2VDb250cm9sbGFibGVTdGF0ZSwgdXNlQm9vbGVhbiwgdXNlQ29udHJvbGxhYmxlUHJvcCwgdXNlU2FmZUxheW91dEVmZmVjdCB9IGZyb20gJ0BjaGFrcmEtdWkvaG9va3MnO1xuaW1wb3J0IHsgY2hha3JhLCBmb3J3YXJkUmVmLCB1c2VNdWx0aVN0eWxlQ29uZmlnLCBvbWl0VGhlbWluZ1Byb3BzIH0gZnJvbSAnQGNoYWtyYS11aS9zeXN0ZW0nO1xuaW1wb3J0IHsgbW90aW9uLCBBbmltYXRlUHJlc2VuY2UgfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCB7IHZpc3VhbGx5SGlkZGVuU3R5bGUgfSBmcm9tICdAY2hha3JhLXVpL3Zpc3VhbGx5LWhpZGRlbic7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogUmVhY3QgaG9vayB0aGF0IHByb3ZpZGVzIGFsbCB0aGUgc3RhdGUgbWFuYWdlbWVudCBsb2dpY1xuICogZm9yIGEgZ3JvdXAgb2YgY2hlY2tib3hlcy5cbiAqXG4gKiBJdCBpcyBjb25zdW1lZCBieSB0aGUgYENoZWNrYm94R3JvdXBgIGNvbXBvbmVudFxuICovXG5mdW5jdGlvbiB1c2VDaGVja2JveEdyb3VwKHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IF9wcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICB2YWx1ZVByb3AgPSBfcHJvcHMudmFsdWUsXG4gICAgICBvbkNoYW5nZSA9IF9wcm9wcy5vbkNoYW5nZSxcbiAgICAgIGlzRGlzYWJsZWQgPSBfcHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgIGlzTmF0aXZlID0gX3Byb3BzLmlzTmF0aXZlO1xuICB2YXIgb25DaGFuZ2VQcm9wID0gdXNlQ2FsbGJhY2tSZWYob25DaGFuZ2UpO1xuXG4gIHZhciBfdXNlQ29udHJvbGxhYmxlU3RhdGUgPSB1c2VDb250cm9sbGFibGVTdGF0ZSh7XG4gICAgdmFsdWU6IHZhbHVlUHJvcCxcbiAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSB8fCBbXSxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VQcm9wXG4gIH0pLFxuICAgICAgdmFsdWUgPSBfdXNlQ29udHJvbGxhYmxlU3RhdGVbMF0sXG4gICAgICBzZXRWYWx1ZSA9IF91c2VDb250cm9sbGFibGVTdGF0ZVsxXTtcblxuICB2YXIgaGFuZGxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50T3JWYWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHJldHVybjtcbiAgICB2YXIgaXNDaGVja2VkID0gaXNJbnB1dEV2ZW50KGV2ZW50T3JWYWx1ZSkgPyBldmVudE9yVmFsdWUudGFyZ2V0LmNoZWNrZWQgOiAhdmFsdWUuaW5jbHVkZXMoZXZlbnRPclZhbHVlKTtcbiAgICB2YXIgc2VsZWN0ZWRWYWx1ZSA9IGlzSW5wdXRFdmVudChldmVudE9yVmFsdWUpID8gZXZlbnRPclZhbHVlLnRhcmdldC52YWx1ZSA6IGV2ZW50T3JWYWx1ZTtcbiAgICB2YXIgbmV4dFZhbHVlID0gaXNDaGVja2VkID8gYWRkSXRlbSh2YWx1ZSwgc2VsZWN0ZWRWYWx1ZSkgOiByZW1vdmVJdGVtKHZhbHVlLCBzZWxlY3RlZFZhbHVlKTtcbiAgICBzZXRWYWx1ZShuZXh0VmFsdWUpO1xuICB9LCBbc2V0VmFsdWUsIHZhbHVlXSk7XG4gIHZhciBnZXRDaGVja2JveFByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIF9leHRlbmRzMjtcblxuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBjaGVja2VkS2V5ID0gaXNOYXRpdmUgPyBcImNoZWNrZWRcIiA6IFwiaXNDaGVja2VkXCI7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbY2hlY2tlZEtleV0gPSB2YWx1ZS5pbmNsdWRlcyhwcm9wcy52YWx1ZSksIF9leHRlbmRzMi5vbkNoYW5nZSA9IGhhbmRsZUNoYW5nZSwgX2V4dGVuZHMyKSk7XG4gIH0sIFtoYW5kbGVDaGFuZ2UsIGlzTmF0aXZlLCB2YWx1ZV0pO1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgc2V0VmFsdWU6IHNldFZhbHVlLFxuICAgIGdldENoZWNrYm94UHJvcHM6IGdldENoZWNrYm94UHJvcHNcbiAgfTtcbn1cblxudmFyIF9jcmVhdGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gIG5hbWU6IFwiQ2hlY2tib3hHcm91cENvbnRleHRcIixcbiAgc3RyaWN0OiBmYWxzZVxufSksXG4gICAgQ2hlY2tib3hHcm91cFByb3ZpZGVyID0gX2NyZWF0ZUNvbnRleHRbMF0sXG4gICAgdXNlQ2hlY2tib3hHcm91cENvbnRleHQgPSBfY3JlYXRlQ29udGV4dFsxXTtcbi8qKlxuICogVXNlZCBmb3IgbXVsdGlwbGUgY2hlY2tib3hlcyB3aGljaCBhcmUgYm91bmQgaW4gb25lIGdyb3VwLFxuICogYW5kIGl0IGluZGljYXRlcyB3aGV0aGVyIG9uZSBvciBtb3JlIG9wdGlvbnMgYXJlIHNlbGVjdGVkLlxuICpcbiAqIEBzZWUgRG9jcyBodHRwczovL2NoYWtyYS11aS5jb20vY2hlY2tib3hcbiAqL1xuXG52YXIgQ2hlY2tib3hHcm91cCA9IGZ1bmN0aW9uIENoZWNrYm94R3JvdXAocHJvcHMpIHtcbiAgdmFyIGNvbG9yU2NoZW1lID0gcHJvcHMuY29sb3JTY2hlbWUsXG4gICAgICBzaXplID0gcHJvcHMuc2l6ZSxcbiAgICAgIHZhcmlhbnQgPSBwcm9wcy52YXJpYW50LFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGlzRGlzYWJsZWQgPSBwcm9wcy5pc0Rpc2FibGVkO1xuXG4gIHZhciBfdXNlQ2hlY2tib3hHcm91cCA9IHVzZUNoZWNrYm94R3JvdXAocHJvcHMpLFxuICAgICAgdmFsdWUgPSBfdXNlQ2hlY2tib3hHcm91cC52YWx1ZSxcbiAgICAgIG9uQ2hhbmdlID0gX3VzZUNoZWNrYm94R3JvdXAub25DaGFuZ2U7XG5cbiAgdmFyIGdyb3VwID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNpemU6IHNpemUsXG4gICAgICBvbkNoYW5nZTogb25DaGFuZ2UsXG4gICAgICBjb2xvclNjaGVtZTogY29sb3JTY2hlbWUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICB2YXJpYW50OiB2YXJpYW50LFxuICAgICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZFxuICAgIH07XG4gIH0sIFtzaXplLCBvbkNoYW5nZSwgY29sb3JTY2hlbWUsIHZhbHVlLCB2YXJpYW50LCBpc0Rpc2FibGVkXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveEdyb3VwUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogZ3JvdXBcbiAgfSwgY2hpbGRyZW4pO1xufTtcblxuaWYgKF9fREVWX18pIHtcbiAgQ2hlY2tib3hHcm91cC5kaXNwbGF5TmFtZSA9IFwiQ2hlY2tib3hHcm91cFwiO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIF9leGNsdWRlZCQyID0gW1wiaXNJbmRldGVybWluYXRlXCIsIFwiaXNDaGVja2VkXCJdO1xuXG52YXIgTW90aW9uU3ZnID0gXCJjdXN0b21cIiBpbiBtb3Rpb24gPyBtb3Rpb24uY3VzdG9tKGNoYWtyYS5zdmcpIDogbW90aW9uKGNoYWtyYS5zdmcpO1xuXG52YXIgQ2hlY2tJY29uID0gZnVuY3Rpb24gQ2hlY2tJY29uKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb3Rpb25TdmcsIF9leHRlbmRzKHtcbiAgICB3aWR0aDogXCIxLjJlbVwiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDEyIDEwXCIsXG4gICAgdmFyaWFudHM6IHtcbiAgICAgIHVuY2hlY2tlZDoge1xuICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICBzdHJva2VEYXNob2Zmc2V0OiAxNlxuICAgICAgfSxcbiAgICAgIGNoZWNrZWQ6IHtcbiAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgc3Ryb2tlRGFzaG9mZnNldDogMCxcbiAgICAgICAgdHJhbnNpdGlvbjoge1xuICAgICAgICAgIGR1cmF0aW9uOiAwLjJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIGZpbGw6IFwibm9uZVwiLFxuICAgICAgc3Ryb2tlV2lkdGg6IDIsXG4gICAgICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gICAgICBzdHJva2VEYXNoYXJyYXk6IDE2XG4gICAgfVxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicG9seWxpbmVcIiwge1xuICAgIHBvaW50czogXCIxLjUgNiA0LjUgOSAxMC41IDFcIlxuICB9KSk7XG59O1xuXG52YXIgSW5kZXRlcm1pbmF0ZUljb24gPSBmdW5jdGlvbiBJbmRldGVybWluYXRlSWNvbihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTW90aW9uU3ZnLCBfZXh0ZW5kcyh7XG4gICAgd2lkdGg6IFwiMS4yZW1cIixcbiAgICB2aWV3Qm94OiBcIjAgMCAyNCAyNFwiLFxuICAgIHZhcmlhbnRzOiB7XG4gICAgICB1bmNoZWNrZWQ6IHtcbiAgICAgICAgc2NhbGVYOiAwLjY1LFxuICAgICAgICBvcGFjaXR5OiAwXG4gICAgICB9LFxuICAgICAgY2hlY2tlZDoge1xuICAgICAgICBzY2FsZVg6IDEsXG4gICAgICAgIG9wYWNpdHk6IDEsXG4gICAgICAgIHRyYW5zaXRpb246IHtcbiAgICAgICAgICBzY2FsZVg6IHtcbiAgICAgICAgICAgIGR1cmF0aW9uOiAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcGFjaXR5OiB7XG4gICAgICAgICAgICBkdXJhdGlvbjogMC4wMlxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgc3R5bGU6IHtcbiAgICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgIHN0cm9rZVdpZHRoOiA0XG4gICAgfVxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwibGluZVwiLCB7XG4gICAgeDE6IFwiMjFcIixcbiAgICB4MjogXCIzXCIsXG4gICAgeTE6IFwiMTJcIixcbiAgICB5MjogXCIxMlwiXG4gIH0pKTtcbn07XG5cbnZhciBDaGVja2JveFRyYW5zaXRpb24gPSBmdW5jdGlvbiBDaGVja2JveFRyYW5zaXRpb24oX3JlZikge1xuICB2YXIgb3BlbiA9IF9yZWYub3BlbixcbiAgICAgIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFuaW1hdGVQcmVzZW5jZSwge1xuICAgIGluaXRpYWw6IGZhbHNlXG4gIH0sIG9wZW4gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQobW90aW9uLmRpdiwge1xuICAgIHZhcmlhbnRzOiB7XG4gICAgICB1bmNoZWNrZWQ6IHtcbiAgICAgICAgc2NhbGU6IDAuNVxuICAgICAgfSxcbiAgICAgIGNoZWNrZWQ6IHtcbiAgICAgICAgc2NhbGU6IDFcbiAgICAgIH1cbiAgICB9LFxuICAgIGluaXRpYWw6IFwidW5jaGVja2VkXCIsXG4gICAgYW5pbWF0ZTogXCJjaGVja2VkXCIsXG4gICAgZXhpdDogXCJ1bmNoZWNrZWRcIixcbiAgICBzdHlsZToge1xuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICBoZWlnaHQ6IFwiMTAwJVwiXG4gICAgfVxuICB9LCBjaGlsZHJlbikpO1xufTtcblxuLyoqXG4gKiBDaGVja2JveEljb24gaXMgdXNlZCB0byB2aXN1YWxseSBpbmRpY2F0ZSB0aGUgY2hlY2tlZCBvciBpbmRldGVybWluYXRlXG4gKiBzdGF0ZSBvZiBhIGNoZWNrYm94LlxuICpcbiAqIEB0b2RvIGFsbG93IHVzZXJzIHBhc3MgdGhlaXIgb3duIGljb24gc3Znc1xuICovXG52YXIgQ2hlY2tib3hJY29uID0gZnVuY3Rpb24gQ2hlY2tib3hJY29uKHByb3BzKSB7XG4gIHZhciBpc0luZGV0ZXJtaW5hdGUgPSBwcm9wcy5pc0luZGV0ZXJtaW5hdGUsXG4gICAgICBpc0NoZWNrZWQgPSBwcm9wcy5pc0NoZWNrZWQsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZCQyKTtcblxuICB2YXIgSWNvbkVsID0gaXNJbmRldGVybWluYXRlID8gSW5kZXRlcm1pbmF0ZUljb24gOiBDaGVja0ljb247XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveFRyYW5zaXRpb24sIHtcbiAgICBvcGVuOiBpc0NoZWNrZWQgfHwgaXNJbmRldGVybWluYXRlXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEljb25FbCwgcmVzdCkpO1xufTtcblxudmFyIF9leGNsdWRlZCQxID0gW1wiZGVmYXVsdElzQ2hlY2tlZFwiLCBcImRlZmF1bHRDaGVja2VkXCIsIFwiaXNDaGVja2VkXCIsIFwiaXNGb2N1c2FibGVcIiwgXCJpc0Rpc2FibGVkXCIsIFwiaXNSZWFkT25seVwiLCBcImlzUmVxdWlyZWRcIiwgXCJvbkNoYW5nZVwiLCBcImlzSW5kZXRlcm1pbmF0ZVwiLCBcImlzSW52YWxpZFwiLCBcIm5hbWVcIiwgXCJ2YWx1ZVwiLCBcImlkXCIsIFwib25CbHVyXCIsIFwib25Gb2N1c1wiLCBcInRhYkluZGV4XCIsIFwiYXJpYS1sYWJlbFwiLCBcImFyaWEtbGFiZWxsZWRieVwiLCBcImFyaWEtaW52YWxpZFwiLCBcImFyaWEtZGVzY3JpYmVkYnlcIl07XG5cbi8qKlxuICogdXNlQ2hlY2tib3ggdGhhdCBwcm92aWRlcyBhbGwgdGhlIHN0YXRlIGFuZCBmb2N1cyBtYW5hZ2VtZW50IGxvZ2ljXG4gKiBmb3IgYSBjaGVja2JveC4gSXQgaXMgY29uc3VtZWQgYnkgdGhlIGBDaGVja2JveGAgY29tcG9uZW50XG4gKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vY2hha3JhLXVpLmNvbS9jaGVja2JveCNob29rc1xuICovXG5mdW5jdGlvbiB1c2VDaGVja2JveChwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBkZWZhdWx0SXNDaGVja2VkID0gX3Byb3BzLmRlZmF1bHRJc0NoZWNrZWQsXG4gICAgICBfcHJvcHMkZGVmYXVsdENoZWNrZWQgPSBfcHJvcHMuZGVmYXVsdENoZWNrZWQsXG4gICAgICBkZWZhdWx0Q2hlY2tlZCA9IF9wcm9wcyRkZWZhdWx0Q2hlY2tlZCA9PT0gdm9pZCAwID8gZGVmYXVsdElzQ2hlY2tlZCA6IF9wcm9wcyRkZWZhdWx0Q2hlY2tlZCxcbiAgICAgIGNoZWNrZWRQcm9wID0gX3Byb3BzLmlzQ2hlY2tlZCxcbiAgICAgIGlzRm9jdXNhYmxlID0gX3Byb3BzLmlzRm9jdXNhYmxlLFxuICAgICAgaXNEaXNhYmxlZCA9IF9wcm9wcy5pc0Rpc2FibGVkLFxuICAgICAgaXNSZWFkT25seSA9IF9wcm9wcy5pc1JlYWRPbmx5LFxuICAgICAgaXNSZXF1aXJlZCA9IF9wcm9wcy5pc1JlcXVpcmVkLFxuICAgICAgb25DaGFuZ2UgPSBfcHJvcHMub25DaGFuZ2UsXG4gICAgICBpc0luZGV0ZXJtaW5hdGUgPSBfcHJvcHMuaXNJbmRldGVybWluYXRlLFxuICAgICAgaXNJbnZhbGlkID0gX3Byb3BzLmlzSW52YWxpZCxcbiAgICAgIG5hbWUgPSBfcHJvcHMubmFtZSxcbiAgICAgIHZhbHVlID0gX3Byb3BzLnZhbHVlLFxuICAgICAgaWQgPSBfcHJvcHMuaWQsXG4gICAgICBvbkJsdXIgPSBfcHJvcHMub25CbHVyLFxuICAgICAgb25Gb2N1cyA9IF9wcm9wcy5vbkZvY3VzLFxuICAgICAgX3Byb3BzJHRhYkluZGV4ID0gX3Byb3BzLnRhYkluZGV4LFxuICAgICAgdGFiSW5kZXggPSBfcHJvcHMkdGFiSW5kZXggPT09IHZvaWQgMCA/IHVuZGVmaW5lZCA6IF9wcm9wcyR0YWJJbmRleCxcbiAgICAgIGFyaWFMYWJlbCA9IF9wcm9wc1tcImFyaWEtbGFiZWxcIl0sXG4gICAgICBhcmlhTGFiZWxsZWRCeSA9IF9wcm9wc1tcImFyaWEtbGFiZWxsZWRieVwiXSxcbiAgICAgIGFyaWFJbnZhbGlkID0gX3Byb3BzW1wiYXJpYS1pbnZhbGlkXCJdLFxuICAgICAgYXJpYURlc2NyaWJlZEJ5ID0gX3Byb3BzW1wiYXJpYS1kZXNjcmliZWRieVwiXSxcbiAgICAgIGh0bWxQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9wcm9wcywgX2V4Y2x1ZGVkJDEpO1xuXG4gIHZhciBvbkNoYW5nZVByb3AgPSB1c2VDYWxsYmFja1JlZihvbkNoYW5nZSk7XG4gIHZhciBvbkJsdXJQcm9wID0gdXNlQ2FsbGJhY2tSZWYob25CbHVyKTtcbiAgdmFyIG9uRm9jdXNQcm9wID0gdXNlQ2FsbGJhY2tSZWYob25Gb2N1cyk7XG5cbiAgdmFyIF91c2VCb29sZWFuID0gdXNlQm9vbGVhbigpLFxuICAgICAgaXNGb2N1c2VkID0gX3VzZUJvb2xlYW5bMF0sXG4gICAgICBzZXRGb2N1c2VkID0gX3VzZUJvb2xlYW5bMV07XG5cbiAgdmFyIF91c2VCb29sZWFuMiA9IHVzZUJvb2xlYW4oKSxcbiAgICAgIGlzSG92ZXJlZCA9IF91c2VCb29sZWFuMlswXSxcbiAgICAgIHNldEhvdmVyZWQgPSBfdXNlQm9vbGVhbjJbMV07XG5cbiAgdmFyIF91c2VCb29sZWFuMyA9IHVzZUJvb2xlYW4oKSxcbiAgICAgIGlzQWN0aXZlID0gX3VzZUJvb2xlYW4zWzBdLFxuICAgICAgc2V0QWN0aXZlID0gX3VzZUJvb2xlYW4zWzFdO1xuXG4gIHZhciBpbnB1dFJlZiA9IHVzZVJlZihudWxsKTtcblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUodHJ1ZSksXG4gICAgICByb290SXNMYWJlbEVsZW1lbnQgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRSb290SXNMYWJlbEVsZW1lbnQgPSBfdXNlU3RhdGVbMV07XG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZSghIWRlZmF1bHRDaGVja2VkKSxcbiAgICAgIGNoZWNrZWRTdGF0ZSA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRDaGVja2VkU3RhdGUgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfdXNlQ29udHJvbGxhYmxlUHJvcCA9IHVzZUNvbnRyb2xsYWJsZVByb3AoY2hlY2tlZFByb3AsIGNoZWNrZWRTdGF0ZSksXG4gICAgICBpc0NvbnRyb2xsZWQgPSBfdXNlQ29udHJvbGxhYmxlUHJvcFswXSxcbiAgICAgIGlzQ2hlY2tlZCA9IF91c2VDb250cm9sbGFibGVQcm9wWzFdO1xuXG4gIHdhcm4oe1xuICAgIGNvbmRpdGlvbjogISFkZWZhdWx0SXNDaGVja2VkLFxuICAgIG1lc3NhZ2U6ICdUaGUgXCJkZWZhdWx0SXNDaGVja2VkXCIgcHJvcCBoYXMgYmVlbiBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvbi4gJyArICdQbGVhc2UgdXNlIHRoZSBcImRlZmF1bHRDaGVja2VkXCIgcHJvcCBpbnN0ZWFkLCB3aGljaCBtaXJyb3JzIGRlZmF1bHQgUmVhY3QgY2hlY2tib3ggYmVoYXZpb3IuJ1xuICB9KTtcbiAgdmFyIGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChpc1JlYWRPbmx5IHx8IGlzRGlzYWJsZWQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFpc0NvbnRyb2xsZWQpIHtcbiAgICAgIGlmIChpc0NoZWNrZWQpIHtcbiAgICAgICAgc2V0Q2hlY2tlZFN0YXRlKGV2ZW50LnRhcmdldC5jaGVja2VkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldENoZWNrZWRTdGF0ZShpc0luZGV0ZXJtaW5hdGUgPyB0cnVlIDogZXZlbnQudGFyZ2V0LmNoZWNrZWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2hhbmdlUHJvcCA9PSBudWxsID8gdm9pZCAwIDogb25DaGFuZ2VQcm9wKGV2ZW50KTtcbiAgfSwgW2lzUmVhZE9ubHksIGlzRGlzYWJsZWQsIGlzQ2hlY2tlZCwgaXNDb250cm9sbGVkLCBpc0luZGV0ZXJtaW5hdGUsIG9uQ2hhbmdlUHJvcF0pO1xuICB1c2VTYWZlTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgaW5wdXRSZWYuY3VycmVudC5pbmRldGVybWluYXRlID0gQm9vbGVhbihpc0luZGV0ZXJtaW5hdGUpO1xuICAgIH1cbiAgfSwgW2lzSW5kZXRlcm1pbmF0ZV0pO1xuICB2YXIgdHJ1bHlEaXNhYmxlZCA9IGlzRGlzYWJsZWQgJiYgIWlzRm9jdXNhYmxlO1xuICB2YXIgb25LZXlEb3duID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCIgXCIpIHtcbiAgICAgIHNldEFjdGl2ZS5vbigpO1xuICAgIH1cbiAgfSwgW3NldEFjdGl2ZV0pO1xuICB2YXIgb25LZXlVcCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBzZXRBY3RpdmUub2ZmKCk7XG4gICAgfVxuICB9LCBbc2V0QWN0aXZlXSk7XG4gIC8qKlxuICAgKiBTeW5jIHN0YXRlIHdpdGggdW5jb250cm9sbGVkIGZvcm0gbGlicmFyaWVzIGxpa2UgYHJlYWN0LWhvb2stZm9ybWAuXG4gICAqXG4gICAqIFRoZXNlIGxpYnJhcmllcyBzZXQgdGhlIGNoZWNrZWQgdmFsdWUgZm9yIGlucHV0IGZpZWxkc1xuICAgKiB1c2luZyB0aGVpciByZWZzLiBGb3IgdGhlIGNoZWNrYm94LCBpdCBzZXRzIGByZWYuY3VycmVudC5jaGVja2VkID0gdHJ1ZSB8IGZhbHNlYCBkaXJlY3RseS5cbiAgICpcbiAgICogVGhpcyBtZWFucyB0aGUgYGlzQ2hlY2tlZGAgc3RhdGUgd2lsbCBnZXQgb3V0IG9mIHN5bmMgd2l0aCBgcmVmLmN1cnJlbnQuY2hlY2tlZGAsXG4gICAqIGV2ZW4gdGhvdWdoIHRoZSBpbnB1dCB2YWxpZGF0aW9uIHdpdGggd29yaywgdGhlIFVJIHdpbGwgbm90IGJlIHVwIHRvIGRhdGUuXG4gICAqXG4gICAqIExldCdzIGNvcnJlY3QgdGhhdCBieSBjaGVja2luZyBhbmQgc3luY2luZyB0aGUgc3RhdGUgYWNjb3JkaW5nbHkuXG4gICAqL1xuXG4gIHVzZVNhZmVMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaW5wdXRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIHZhciBub3RJblN5bmMgPSBpbnB1dFJlZi5jdXJyZW50LmNoZWNrZWQgIT09IGlzQ2hlY2tlZDtcblxuICAgIGlmIChub3RJblN5bmMpIHtcbiAgICAgIHNldENoZWNrZWRTdGF0ZShpbnB1dFJlZi5jdXJyZW50LmNoZWNrZWQpO1xuICAgIH1cbiAgfSwgW2lucHV0UmVmLmN1cnJlbnRdKTtcbiAgdmFyIGdldENoZWNrYm94UHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChmb3J3YXJkZWRSZWYgPT09IHZvaWQgMCkge1xuICAgICAgZm9yd2FyZGVkUmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgb25QcmVzc0Rvd24gPSBmdW5jdGlvbiBvblByZXNzRG93bihldmVudCkge1xuICAgICAgLy8gT24gbW91c2Vkb3duLCB0aGUgaW5wdXQgYmx1cnMgYW5kIHJldHVybnMgZm9jdXMgdG8gdGhlIGBib2R5YCxcbiAgICAgIC8vIHdlIG5lZWQgdG8gcHJldmVudCB0aGlzLiBOYXRpdmUgY2hlY2tib3hlcyBrZWVwcyBmb2N1cyBvbiBgaW5wdXRgXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2V0QWN0aXZlLm9uKCk7XG4gICAgfTtcblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgXCJkYXRhLWFjdGl2ZVwiOiBkYXRhQXR0cihpc0FjdGl2ZSksXG4gICAgICBcImRhdGEtaG92ZXJcIjogZGF0YUF0dHIoaXNIb3ZlcmVkKSxcbiAgICAgIFwiZGF0YS1jaGVja2VkXCI6IGRhdGFBdHRyKGlzQ2hlY2tlZCksXG4gICAgICBcImRhdGEtZm9jdXNcIjogZGF0YUF0dHIoaXNGb2N1c2VkKSxcbiAgICAgIFwiZGF0YS1pbmRldGVybWluYXRlXCI6IGRhdGFBdHRyKGlzSW5kZXRlcm1pbmF0ZSksXG4gICAgICBcImRhdGEtZGlzYWJsZWRcIjogZGF0YUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpLFxuICAgICAgXCJkYXRhLXJlYWRvbmx5XCI6IGRhdGFBdHRyKGlzUmVhZE9ubHkpLFxuICAgICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgICAgb25Nb3VzZURvd246IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbk1vdXNlRG93biwgb25QcmVzc0Rvd24pLFxuICAgICAgb25Nb3VzZVVwOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Nb3VzZVVwLCBzZXRBY3RpdmUub2ZmKSxcbiAgICAgIG9uTW91c2VFbnRlcjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uTW91c2VFbnRlciwgc2V0SG92ZXJlZC5vbiksXG4gICAgICBvbk1vdXNlTGVhdmU6IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbk1vdXNlTGVhdmUsIHNldEhvdmVyZWQub2ZmKVxuICAgIH0pO1xuICB9LCBbaXNBY3RpdmUsIGlzQ2hlY2tlZCwgaXNEaXNhYmxlZCwgaXNGb2N1c2VkLCBpc0hvdmVyZWQsIGlzSW5kZXRlcm1pbmF0ZSwgaXNJbnZhbGlkLCBpc1JlYWRPbmx5LCBzZXRBY3RpdmUsIHNldEhvdmVyZWQub2ZmLCBzZXRIb3ZlcmVkLm9uXSk7XG4gIHZhciBnZXRSb290UHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChmb3J3YXJkZWRSZWYgPT09IHZvaWQgMCkge1xuICAgICAgZm9yd2FyZGVkUmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGh0bWxQcm9wcywgcHJvcHMsIHtcbiAgICAgIHJlZjogbWVyZ2VSZWZzKGZvcndhcmRlZFJlZiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgaWYgKCFub2RlKSByZXR1cm47XG4gICAgICAgIHNldFJvb3RJc0xhYmVsRWxlbWVudChub2RlLnRhZ05hbWUgPT09IFwiTEFCRUxcIik7XG4gICAgICB9KSxcbiAgICAgIG9uQ2xpY2s6IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbkNsaWNrLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBY2Nlc3NpYmlsaXR5OlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZGVhbGx5LCBgZ2V0Um9vdFByb3BzYCBzaG91bGQgYmUgc3ByZWFkIHVudG8gYSBgbGFiZWxgIGVsZW1lbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBlbGVtZW50IHdhcyBjaGFuZ2VkIHVzaW5nIHRoZSBgYXNgIHByb3Agb3IgY2hhbmdpbmdcbiAgICAgICAgICogdGhlIGRvbSBub2RlIGBnZXRSb290UHJvcHNgIGlzIHNwcmVhZCB1bnRvICh0byBhIGBkaXZgIG9yIGBzcGFuYCksIHdlJ2xsIHRyaWdnZXJcbiAgICAgICAgICogY2xpY2sgb24gdGhlIGlucHV0IHdoZW4gdGhlIGVsZW1lbnQgaXMgY2xpY2tlZC5cbiAgICAgICAgICogQHNlZSBJc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vY2hha3JhLXVpL2NoYWtyYS11aS9pc3N1ZXMvMzQ4MFxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKCFyb290SXNMYWJlbEVsZW1lbnQpIHtcbiAgICAgICAgICB2YXIgX2lucHV0UmVmJGN1cnJlbnQ7XG5cbiAgICAgICAgICAoX2lucHV0UmVmJGN1cnJlbnQgPSBpbnB1dFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2lucHV0UmVmJGN1cnJlbnQuY2xpY2soKTtcbiAgICAgICAgICBmb2N1cyhpbnB1dFJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgICBuZXh0VGljazogdHJ1ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1jaGVja2VkXCI6IGRhdGFBdHRyKGlzQ2hlY2tlZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpXG4gICAgfSk7XG4gIH0sIFtodG1sUHJvcHMsIGlzRGlzYWJsZWQsIGlzQ2hlY2tlZCwgaXNJbnZhbGlkLCByb290SXNMYWJlbEVsZW1lbnRdKTtcbiAgdmFyIGdldElucHV0UHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChmb3J3YXJkZWRSZWYgPT09IHZvaWQgMCkge1xuICAgICAgZm9yd2FyZGVkUmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICByZWY6IG1lcmdlUmVmcyhpbnB1dFJlZiwgZm9yd2FyZGVkUmVmKSxcbiAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBpZDogaWQsXG4gICAgICB0YWJJbmRleDogdGFiSW5kZXgsXG4gICAgICBvbkNoYW5nZTogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uQ2hhbmdlLCBoYW5kbGVDaGFuZ2UpLFxuICAgICAgb25CbHVyOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25CbHVyLCBvbkJsdXJQcm9wLCBzZXRGb2N1c2VkLm9mZiksXG4gICAgICBvbkZvY3VzOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Gb2N1cywgb25Gb2N1c1Byb3AsIHNldEZvY3VzZWQub24pLFxuICAgICAgb25LZXlEb3duOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25LZXlEb3duLCBvbktleURvd24pLFxuICAgICAgb25LZXlVcDogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uS2V5VXAsIG9uS2V5VXApLFxuICAgICAgcmVxdWlyZWQ6IGlzUmVxdWlyZWQsXG4gICAgICBjaGVja2VkOiBpc0NoZWNrZWQsXG4gICAgICBkaXNhYmxlZDogdHJ1bHlEaXNhYmxlZCxcbiAgICAgIHJlYWRPbmx5OiBpc1JlYWRPbmx5LFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IGFyaWFMYWJlbCxcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGFyaWFMYWJlbGxlZEJ5LFxuICAgICAgXCJhcmlhLWludmFsaWRcIjogYXJpYUludmFsaWQgPyBCb29sZWFuKGFyaWFJbnZhbGlkKSA6IGlzSW52YWxpZCxcbiAgICAgIFwiYXJpYS1kZXNjcmliZWRieVwiOiBhcmlhRGVzY3JpYmVkQnksXG4gICAgICBcImFyaWEtZGlzYWJsZWRcIjogaXNEaXNhYmxlZCxcbiAgICAgIHN0eWxlOiB2aXN1YWxseUhpZGRlblN0eWxlXG4gICAgfSk7XG4gIH0sIFtuYW1lLCB2YWx1ZSwgaWQsIGhhbmRsZUNoYW5nZSwgc2V0Rm9jdXNlZC5vZmYsIHNldEZvY3VzZWQub24sIG9uQmx1clByb3AsIG9uRm9jdXNQcm9wLCBvbktleURvd24sIG9uS2V5VXAsIGlzUmVxdWlyZWQsIGlzQ2hlY2tlZCwgdHJ1bHlEaXNhYmxlZCwgaXNSZWFkT25seSwgYXJpYUxhYmVsLCBhcmlhTGFiZWxsZWRCeSwgYXJpYUludmFsaWQsIGlzSW52YWxpZCwgYXJpYURlc2NyaWJlZEJ5LCBpc0Rpc2FibGVkLCB0YWJJbmRleF0pO1xuICB2YXIgZ2V0TGFiZWxQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wcywgZm9yd2FyZGVkUmVmKSB7XG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKGZvcndhcmRlZFJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICBmb3J3YXJkZWRSZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgb25Nb3VzZURvd246IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbk1vdXNlRG93biwgc3RvcEV2ZW50KSxcbiAgICAgIG9uVG91Y2hTdGFydDogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uVG91Y2hTdGFydCwgc3RvcEV2ZW50KSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1jaGVja2VkXCI6IGRhdGFBdHRyKGlzQ2hlY2tlZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpXG4gICAgfSk7XG4gIH0sIFtpc0NoZWNrZWQsIGlzRGlzYWJsZWQsIGlzSW52YWxpZF0pO1xuICByZXR1cm4ge1xuICAgIHN0YXRlOiB7XG4gICAgICBpc0ludmFsaWQ6IGlzSW52YWxpZCxcbiAgICAgIGlzRm9jdXNlZDogaXNGb2N1c2VkLFxuICAgICAgaXNDaGVja2VkOiBpc0NoZWNrZWQsXG4gICAgICBpc0FjdGl2ZTogaXNBY3RpdmUsXG4gICAgICBpc0hvdmVyZWQ6IGlzSG92ZXJlZCxcbiAgICAgIGlzSW5kZXRlcm1pbmF0ZTogaXNJbmRldGVybWluYXRlLFxuICAgICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIGlzUmVhZE9ubHk6IGlzUmVhZE9ubHksXG4gICAgICBpc1JlcXVpcmVkOiBpc1JlcXVpcmVkXG4gICAgfSxcbiAgICBnZXRSb290UHJvcHM6IGdldFJvb3RQcm9wcyxcbiAgICBnZXRDaGVja2JveFByb3BzOiBnZXRDaGVja2JveFByb3BzLFxuICAgIGdldElucHV0UHJvcHM6IGdldElucHV0UHJvcHMsXG4gICAgZ2V0TGFiZWxQcm9wczogZ2V0TGFiZWxQcm9wcyxcbiAgICBodG1sUHJvcHM6IGh0bWxQcm9wc1xuICB9O1xufVxuLyoqXG4gKiBQcmV2ZW50IGBvbkJsdXJgIGJlaW5nIGZpcmVkIHdoZW4gdGhlIGNoZWNrYm94IGxhYmVsIGlzIHRvdWNoZWRcbiAqL1xuXG5mdW5jdGlvbiBzdG9wRXZlbnQoZXZlbnQpIHtcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJzcGFjaW5nXCIsIFwiY2xhc3NOYW1lXCIsIFwiY2hpbGRyZW5cIiwgXCJpY29uQ29sb3JcIiwgXCJpY29uU2l6ZVwiLCBcImljb25cIiwgXCJpc0NoZWNrZWRcIiwgXCJpc0Rpc2FibGVkXCIsIFwib25DaGFuZ2VcIl07XG52YXIgQ2hlY2tib3hDb250cm9sID0gY2hha3JhKFwic3BhblwiLCB7XG4gIGJhc2VTdHlsZToge1xuICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgIHZlcnRpY2FsQWxpZ246IFwidG9wXCIsXG4gICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgZmxleFNocmluazogMFxuICB9XG59KTtcbnZhciBMYWJlbCA9IGNoYWtyYShcImxhYmVsXCIsIHtcbiAgYmFzZVN0eWxlOiB7XG4gICAgY3Vyc29yOiBcInBvaW50ZXJcIixcbiAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICB2ZXJ0aWNhbEFsaWduOiBcInRvcFwiLFxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgX2Rpc2FibGVkOiB7XG4gICAgICBjdXJzb3I6IFwibm90LWFsbG93ZWRcIlxuICAgIH1cbiAgfVxufSk7XG5cbi8qKlxuICogQ2hlY2tib3hcbiAqXG4gKiBSZWFjdCBjb21wb25lbnQgdXNlZCBpbiBmb3JtcyB3aGVuIGEgdXNlciBuZWVkcyB0byBzZWxlY3RcbiAqIG11bHRpcGxlIHZhbHVlcyBmcm9tIHNldmVyYWwgb3B0aW9ucy5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL2NoZWNrYm94XG4gKi9cbnZhciBDaGVja2JveCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBncm91cCA9IHVzZUNoZWNrYm94R3JvdXBDb250ZXh0KCk7XG5cbiAgdmFyIG1lcmdlZFByb3BzID0gX2V4dGVuZHMoe30sIGdyb3VwLCBwcm9wcyk7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZU11bHRpU3R5bGVDb25maWcoXCJDaGVja2JveFwiLCBtZXJnZWRQcm9wcyk7XG4gIHZhciBvd25Qcm9wcyA9IG9taXRUaGVtaW5nUHJvcHMocHJvcHMpO1xuXG4gIHZhciBfb3duUHJvcHMkc3BhY2luZyA9IG93blByb3BzLnNwYWNpbmcsXG4gICAgICBzcGFjaW5nID0gX293blByb3BzJHNwYWNpbmcgPT09IHZvaWQgMCA/IFwiMC41cmVtXCIgOiBfb3duUHJvcHMkc3BhY2luZyxcbiAgICAgIGNsYXNzTmFtZSA9IG93blByb3BzLmNsYXNzTmFtZSxcbiAgICAgIGNoaWxkcmVuID0gb3duUHJvcHMuY2hpbGRyZW4sXG4gICAgICBpY29uQ29sb3IgPSBvd25Qcm9wcy5pY29uQ29sb3IsXG4gICAgICBpY29uU2l6ZSA9IG93blByb3BzLmljb25TaXplLFxuICAgICAgX293blByb3BzJGljb24gPSBvd25Qcm9wcy5pY29uLFxuICAgICAgaWNvbiA9IF9vd25Qcm9wcyRpY29uID09PSB2b2lkIDAgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDaGVja2JveEljb24sIG51bGwpIDogX293blByb3BzJGljb24sXG4gICAgICBpc0NoZWNrZWRQcm9wID0gb3duUHJvcHMuaXNDaGVja2VkLFxuICAgICAgX293blByb3BzJGlzRGlzYWJsZWQgPSBvd25Qcm9wcy5pc0Rpc2FibGVkLFxuICAgICAgaXNEaXNhYmxlZCA9IF9vd25Qcm9wcyRpc0Rpc2FibGVkID09PSB2b2lkIDAgPyBncm91cCA9PSBudWxsID8gdm9pZCAwIDogZ3JvdXAuaXNEaXNhYmxlZCA6IF9vd25Qcm9wcyRpc0Rpc2FibGVkLFxuICAgICAgb25DaGFuZ2VQcm9wID0gb3duUHJvcHMub25DaGFuZ2UsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uob3duUHJvcHMsIF9leGNsdWRlZCk7XG5cbiAgdmFyIGlzQ2hlY2tlZCA9IGlzQ2hlY2tlZFByb3A7XG5cbiAgaWYgKGdyb3VwICE9IG51bGwgJiYgZ3JvdXAudmFsdWUgJiYgb3duUHJvcHMudmFsdWUpIHtcbiAgICBpc0NoZWNrZWQgPSBncm91cC52YWx1ZS5pbmNsdWRlcyhvd25Qcm9wcy52YWx1ZSk7XG4gIH1cblxuICB2YXIgb25DaGFuZ2UgPSBvbkNoYW5nZVByb3A7XG5cbiAgaWYgKGdyb3VwICE9IG51bGwgJiYgZ3JvdXAub25DaGFuZ2UgJiYgb3duUHJvcHMudmFsdWUpIHtcbiAgICBvbkNoYW5nZSA9IGNhbGxBbGwoZ3JvdXAub25DaGFuZ2UsIG9uQ2hhbmdlUHJvcCk7XG4gIH1cblxuICB2YXIgX3VzZUNoZWNrYm94ID0gdXNlQ2hlY2tib3goX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgIGlzQ2hlY2tlZDogaXNDaGVja2VkLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVxuICB9KSksXG4gICAgICBzdGF0ZSA9IF91c2VDaGVja2JveC5zdGF0ZSxcbiAgICAgIGdldElucHV0UHJvcHMgPSBfdXNlQ2hlY2tib3guZ2V0SW5wdXRQcm9wcyxcbiAgICAgIGdldENoZWNrYm94UHJvcHMgPSBfdXNlQ2hlY2tib3guZ2V0Q2hlY2tib3hQcm9wcyxcbiAgICAgIGdldExhYmVsUHJvcHMgPSBfdXNlQ2hlY2tib3guZ2V0TGFiZWxQcm9wcyxcbiAgICAgIGdldFJvb3RQcm9wcyA9IF91c2VDaGVja2JveC5nZXRSb290UHJvcHM7XG5cbiAgdmFyIGljb25TdHlsZXMgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgb3BhY2l0eTogc3RhdGUuaXNDaGVja2VkIHx8IHN0YXRlLmlzSW5kZXRlcm1pbmF0ZSA/IDEgOiAwLFxuICAgICAgdHJhbnNmb3JtOiBzdGF0ZS5pc0NoZWNrZWQgfHwgc3RhdGUuaXNJbmRldGVybWluYXRlID8gXCJzY2FsZSgxKVwiIDogXCJzY2FsZSgwLjk1KVwiLFxuICAgICAgZm9udFNpemU6IGljb25TaXplLFxuICAgICAgY29sb3I6IGljb25Db2xvclxuICAgIH0sIHN0eWxlcy5pY29uKTtcbiAgfSwgW2ljb25Db2xvciwgaWNvblNpemUsIHN0YXRlLmlzQ2hlY2tlZCwgc3RhdGUuaXNJbmRldGVybWluYXRlLCBzdHlsZXMuaWNvbl0pO1xuICB2YXIgY2xvbmVkSWNvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoaWNvbiwge1xuICAgIF9fY3NzOiBpY29uU3R5bGVzLFxuICAgIGlzSW5kZXRlcm1pbmF0ZTogc3RhdGUuaXNJbmRldGVybWluYXRlLFxuICAgIGlzQ2hlY2tlZDogc3RhdGUuaXNDaGVja2VkXG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTGFiZWwsIF9leHRlbmRzKHtcbiAgICBfX2Nzczogc3R5bGVzLmNvbnRhaW5lcixcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLWNoZWNrYm94XCIsIGNsYXNzTmFtZSlcbiAgfSwgZ2V0Um9vdFByb3BzKCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLWNoZWNrYm94X19pbnB1dFwiXG4gIH0sIGdldElucHV0UHJvcHMoe30sIHJlZikpKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tib3hDb250cm9sLCBfZXh0ZW5kcyh7XG4gICAgX19jc3M6IHN0eWxlcy5jb250cm9sLFxuICAgIGNsYXNzTmFtZTogXCJjaGFrcmEtY2hlY2tib3hfX2NvbnRyb2xcIlxuICB9LCBnZXRDaGVja2JveFByb3BzKCkpLCBjbG9uZWRJY29uKSwgY2hpbGRyZW4gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnNwYW4sIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLWNoZWNrYm94X19sYWJlbFwiXG4gIH0sIGdldExhYmVsUHJvcHMoKSwge1xuICAgIF9fY3NzOiBfZXh0ZW5kcyh7XG4gICAgICBtYXJnaW5TdGFydDogc3BhY2luZ1xuICAgIH0sIHN0eWxlcy5sYWJlbClcbiAgfSksIGNoaWxkcmVuKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgQ2hlY2tib3guZGlzcGxheU5hbWUgPSBcIkNoZWNrYm94XCI7XG59XG5cbmV4cG9ydCB7IENoZWNrYm94LCBDaGVja2JveEdyb3VwLCB1c2VDaGVja2JveCwgdXNlQ2hlY2tib3hHcm91cCwgdXNlQ2hlY2tib3hHcm91cENvbnRleHQgfTtcbiIsImltcG9ydCB7IGlzUmlnaHRDbGljaywgZGF0YUF0dHIgfSBmcm9tICdAY2hha3JhLXVpL3V0aWxzJztcbmltcG9ydCB7IG1lcmdlUmVmcyB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QtdXRpbHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gdXNlRXZlbnRMaXN0ZW5lcnMoKSB7XG4gIHZhciBsaXN0ZW5lcnMgPSBSZWFjdC51c2VSZWYobmV3IE1hcCgpKTtcbiAgdmFyIGN1cnJlbnRMaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuY3VycmVudDtcbiAgdmFyIGFkZCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlbCwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBsaXN0ZW5lcnMuY3VycmVudC5zZXQobGlzdGVuZXIsIHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBlbDogZWwsXG4gICAgICBvcHRpb25zOiBvcHRpb25zXG4gICAgfSk7XG4gICAgZWwuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gIH0sIFtdKTtcbiAgdmFyIHJlbW92ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChlbCwgdHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgICBsaXN0ZW5lcnMuY3VycmVudFtcImRlbGV0ZVwiXShsaXN0ZW5lcik7XG4gIH0sIFtdKTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgY3VycmVudExpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgIHJlbW92ZSh2YWx1ZS5lbCwgdmFsdWUudHlwZSwga2V5LCB2YWx1ZS5vcHRpb25zKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0sIFtyZW1vdmUsIGN1cnJlbnRMaXN0ZW5lcnNdKTtcbiAgcmV0dXJuIHtcbiAgICBhZGQ6IGFkZCxcbiAgICByZW1vdmU6IHJlbW92ZVxuICB9O1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1wicmVmXCIsIFwiaXNEaXNhYmxlZFwiLCBcImlzRm9jdXNhYmxlXCIsIFwiY2xpY2tPbkVudGVyXCIsIFwiY2xpY2tPblNwYWNlXCIsIFwib25Nb3VzZURvd25cIiwgXCJvbk1vdXNlVXBcIiwgXCJvbkNsaWNrXCIsIFwib25LZXlEb3duXCIsIFwib25LZXlVcFwiLCBcInRhYkluZGV4XCIsIFwib25Nb3VzZU92ZXJcIiwgXCJvbk1vdXNlTGVhdmVcIl07XG5cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KGV2ZW50KSB7XG4gIHZhciBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xuICB2YXIgdGFnTmFtZSA9IGVsZW1lbnQudGFnTmFtZSxcbiAgICAgIGlzQ29udGVudEVkaXRhYmxlID0gZWxlbWVudC5pc0NvbnRlbnRFZGl0YWJsZTtcbiAgcmV0dXJuIHRhZ05hbWUgIT09IFwiSU5QVVRcIiAmJiB0YWdOYW1lICE9PSBcIlRFWFRBUkVBXCIgJiYgaXNDb250ZW50RWRpdGFibGUgIT09IHRydWU7XG59XG4vKipcbiAqIHVzZUNsaWNrYWJsZSBpbXBsZW1lbnRzIGFsbCB0aGUgaW50ZXJhY3Rpb25zIG9mIGEgbmF0aXZlIGBidXR0b25gXG4gKiBjb21wb25lbnQgd2l0aCBzdXBwb3J0IGZvciBtYWtpbmcgaXQgZm9jdXNhYmxlIGV2ZW4gaWYgaXQgaXMgZGlzYWJsZWQuXG4gKlxuICogSXQgY2FuIGJlIHVzZWQgd2l0aCBib3RoIG5hdGl2ZSBidXR0b24gZWxlbWVudHMgb3Igb3RoZXIgZWxlbWVudHMgKGxpa2UgYGRpdmApLlxuICovXG5cblxuZnVuY3Rpb24gdXNlQ2xpY2thYmxlKHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgIGh0bWxSZWYgPSBfcHJvcHMucmVmLFxuICAgICAgaXNEaXNhYmxlZCA9IF9wcm9wcy5pc0Rpc2FibGVkLFxuICAgICAgaXNGb2N1c2FibGUgPSBfcHJvcHMuaXNGb2N1c2FibGUsXG4gICAgICBfcHJvcHMkY2xpY2tPbkVudGVyID0gX3Byb3BzLmNsaWNrT25FbnRlcixcbiAgICAgIGNsaWNrT25FbnRlciA9IF9wcm9wcyRjbGlja09uRW50ZXIgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMkY2xpY2tPbkVudGVyLFxuICAgICAgX3Byb3BzJGNsaWNrT25TcGFjZSA9IF9wcm9wcy5jbGlja09uU3BhY2UsXG4gICAgICBjbGlja09uU3BhY2UgPSBfcHJvcHMkY2xpY2tPblNwYWNlID09PSB2b2lkIDAgPyB0cnVlIDogX3Byb3BzJGNsaWNrT25TcGFjZSxcbiAgICAgIG9uTW91c2VEb3duID0gX3Byb3BzLm9uTW91c2VEb3duLFxuICAgICAgb25Nb3VzZVVwID0gX3Byb3BzLm9uTW91c2VVcCxcbiAgICAgIG9uQ2xpY2sgPSBfcHJvcHMub25DbGljayxcbiAgICAgIG9uS2V5RG93biA9IF9wcm9wcy5vbktleURvd24sXG4gICAgICBvbktleVVwID0gX3Byb3BzLm9uS2V5VXAsXG4gICAgICB0YWJJbmRleFByb3AgPSBfcHJvcHMudGFiSW5kZXgsXG4gICAgICBvbk1vdXNlT3ZlciA9IF9wcm9wcy5vbk1vdXNlT3ZlcixcbiAgICAgIG9uTW91c2VMZWF2ZSA9IF9wcm9wcy5vbk1vdXNlTGVhdmUsXG4gICAgICBodG1sUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcHJvcHMsIF9leGNsdWRlZCk7XG4gIC8qKlxuICAgKiBXZSdsbCB1c2UgdGhpcyB0byB0cmFjayBpZiB0aGUgZWxlbWVudCBpcyBhIGJ1dHRvbiBlbGVtZW50XG4gICAqL1xuXG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKHRydWUpLFxuICAgICAgaXNCdXR0b24gPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICBzZXRJc0J1dHRvbiA9IF9SZWFjdCR1c2VTdGF0ZVsxXTtcbiAgLyoqXG4gICAqIEZvciBjdXN0b20gYnV0dG9uIGltcGxlbWVudGF0aW9uLCB3ZSdsbCB1c2UgdGhpcyB0byB0cmFjayB3aGVuXG4gICAqIHdlIG1vdXNlIGRvd24gb24gdGhlIGJ1dHRvbiwgdG8gZW5hYmxlIHVzZSBzdHlsZSBpdHMgXCI6YWN0aXZlXCIgc3R5bGVcbiAgICovXG5cblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMiA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIGlzUHJlc3NlZCA9IF9SZWFjdCR1c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRJc1ByZXNzZWQgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBsaXN0ZW5lcnMgPSB1c2VFdmVudExpc3RlbmVycygpO1xuICAvKipcbiAgICogVGhlIHJlZiBjYWxsYmFjayB0aGF0IGZpcmVzIGFzIHNvb24gYXMgdGhlIGRvbSBub2RlIGlzIHJlYWR5XG4gICAqL1xuXG4gIHZhciByZWZDYWxsYmFjayA9IGZ1bmN0aW9uIHJlZkNhbGxiYWNrKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUpIHJldHVybjtcblxuICAgIGlmIChub2RlLnRhZ05hbWUgIT09IFwiQlVUVE9OXCIpIHtcbiAgICAgIHNldElzQnV0dG9uKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHRhYkluZGV4ID0gaXNCdXR0b24gPyB0YWJJbmRleFByb3AgOiB0YWJJbmRleFByb3AgfHwgMDtcbiAgdmFyIHRydWx5RGlzYWJsZWQgPSBpc0Rpc2FibGVkICYmICFpc0ZvY3VzYWJsZTtcbiAgdmFyIGhhbmRsZUNsaWNrID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGlzRGlzYWJsZWQpIHtcbiAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgc2VsZi5mb2N1cygpO1xuICAgIG9uQ2xpY2sgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ2xpY2soZXZlbnQpO1xuICB9LCBbaXNEaXNhYmxlZCwgb25DbGlja10pO1xuICB2YXIgb25Eb2N1bWVudEtleVVwID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoaXNQcmVzc2VkICYmIGlzVmFsaWRFbGVtZW50KGUpKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgc2V0SXNQcmVzc2VkKGZhbHNlKTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuXG4gICAgICBsaXN0ZW5lcnMucmVtb3ZlKGRvY3VtZW50LCBcImtleXVwXCIsIG9uRG9jdW1lbnRLZXlVcCwgZmFsc2UpO1xuICAgIH1cbiAgfSwgW2lzUHJlc3NlZCwgbGlzdGVuZXJzXSk7XG4gIHZhciBoYW5kbGVLZXlEb3duID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgb25LZXlEb3duID09IG51bGwgPyB2b2lkIDAgOiBvbktleURvd24oZXZlbnQpO1xuXG4gICAgaWYgKGlzRGlzYWJsZWQgfHwgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCB8fCBldmVudC5tZXRhS2V5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFpc1ZhbGlkRWxlbWVudChldmVudC5uYXRpdmVFdmVudCkgfHwgaXNCdXR0b24pIHJldHVybjtcbiAgICB2YXIgc2hvdWxkQ2xpY2tPbkVudGVyID0gY2xpY2tPbkVudGVyICYmIGV2ZW50LmtleSA9PT0gXCJFbnRlclwiO1xuICAgIHZhciBzaG91bGRDbGlja09uU3BhY2UgPSBjbGlja09uU3BhY2UgJiYgZXZlbnQua2V5ID09PSBcIiBcIjtcblxuICAgIGlmIChzaG91bGRDbGlja09uU3BhY2UpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZXRJc1ByZXNzZWQodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHNob3VsZENsaWNrT25FbnRlcikge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciBzZWxmID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgIHNlbGYuY2xpY2soKTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lcnMuYWRkKGRvY3VtZW50LCBcImtleXVwXCIsIG9uRG9jdW1lbnRLZXlVcCwgZmFsc2UpO1xuICB9LCBbaXNEaXNhYmxlZCwgaXNCdXR0b24sIG9uS2V5RG93biwgY2xpY2tPbkVudGVyLCBjbGlja09uU3BhY2UsIGxpc3RlbmVycywgb25Eb2N1bWVudEtleVVwXSk7XG4gIHZhciBoYW5kbGVLZXlVcCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIG9uS2V5VXAgPT0gbnVsbCA/IHZvaWQgMCA6IG9uS2V5VXAoZXZlbnQpO1xuICAgIGlmIChpc0Rpc2FibGVkIHx8IGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgfHwgZXZlbnQubWV0YUtleSkgcmV0dXJuO1xuICAgIGlmICghaXNWYWxpZEVsZW1lbnQoZXZlbnQubmF0aXZlRXZlbnQpIHx8IGlzQnV0dG9uKSByZXR1cm47XG4gICAgdmFyIHNob3VsZENsaWNrT25TcGFjZSA9IGNsaWNrT25TcGFjZSAmJiBldmVudC5rZXkgPT09IFwiIFwiO1xuXG4gICAgaWYgKHNob3VsZENsaWNrT25TcGFjZSkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNldElzUHJlc3NlZChmYWxzZSk7XG4gICAgICB2YXIgc2VsZiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICBzZWxmLmNsaWNrKCk7XG4gICAgfVxuICB9LCBbY2xpY2tPblNwYWNlLCBpc0J1dHRvbiwgaXNEaXNhYmxlZCwgb25LZXlVcF0pO1xuICB2YXIgb25Eb2N1bWVudE1vdXNlVXAgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuYnV0dG9uICE9PSAwKSByZXR1cm47XG4gICAgc2V0SXNQcmVzc2VkKGZhbHNlKTtcbiAgICBsaXN0ZW5lcnMucmVtb3ZlKGRvY3VtZW50LCBcIm1vdXNldXBcIiwgb25Eb2N1bWVudE1vdXNlVXAsIGZhbHNlKTtcbiAgfSwgW2xpc3RlbmVyc10pO1xuICB2YXIgaGFuZGxlTW91c2VEb3duID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGlzUmlnaHRDbGljayhldmVudCkpIHJldHVybjtcblxuICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFpc0J1dHRvbikge1xuICAgICAgc2V0SXNQcmVzc2VkKHRydWUpO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXQgPSBldmVudC5jdXJyZW50VGFyZ2V0O1xuICAgIHRhcmdldC5mb2N1cyh7XG4gICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgfSk7XG4gICAgbGlzdGVuZXJzLmFkZChkb2N1bWVudCwgXCJtb3VzZXVwXCIsIG9uRG9jdW1lbnRNb3VzZVVwLCBmYWxzZSk7XG4gICAgb25Nb3VzZURvd24gPT0gbnVsbCA/IHZvaWQgMCA6IG9uTW91c2VEb3duKGV2ZW50KTtcbiAgfSwgW2lzRGlzYWJsZWQsIGlzQnV0dG9uLCBvbk1vdXNlRG93biwgbGlzdGVuZXJzLCBvbkRvY3VtZW50TW91c2VVcF0pO1xuICB2YXIgaGFuZGxlTW91c2VVcCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChpc1JpZ2h0Q2xpY2soZXZlbnQpKSByZXR1cm47XG5cbiAgICBpZiAoIWlzQnV0dG9uKSB7XG4gICAgICBzZXRJc1ByZXNzZWQoZmFsc2UpO1xuICAgIH1cblxuICAgIG9uTW91c2VVcCA9PSBudWxsID8gdm9pZCAwIDogb25Nb3VzZVVwKGV2ZW50KTtcbiAgfSwgW29uTW91c2VVcCwgaXNCdXR0b25dKTtcbiAgdmFyIGhhbmRsZU1vdXNlT3ZlciA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChpc0Rpc2FibGVkKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG9uTW91c2VPdmVyID09IG51bGwgPyB2b2lkIDAgOiBvbk1vdXNlT3ZlcihldmVudCk7XG4gIH0sIFtpc0Rpc2FibGVkLCBvbk1vdXNlT3Zlcl0pO1xuICB2YXIgaGFuZGxlTW91c2VMZWF2ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChpc1ByZXNzZWQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZXRJc1ByZXNzZWQoZmFsc2UpO1xuICAgIH1cblxuICAgIG9uTW91c2VMZWF2ZSA9PSBudWxsID8gdm9pZCAwIDogb25Nb3VzZUxlYXZlKGV2ZW50KTtcbiAgfSwgW2lzUHJlc3NlZCwgb25Nb3VzZUxlYXZlXSk7XG4gIHZhciByZWYgPSBtZXJnZVJlZnMoaHRtbFJlZiwgcmVmQ2FsbGJhY2spO1xuXG4gIGlmIChpc0J1dHRvbikge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgaHRtbFByb3BzLCB7XG4gICAgICByZWY6IHJlZixcbiAgICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgICBcImFyaWEtZGlzYWJsZWRcIjogdHJ1bHlEaXNhYmxlZCA/IHVuZGVmaW5lZCA6IGlzRGlzYWJsZWQsXG4gICAgICBkaXNhYmxlZDogdHJ1bHlEaXNhYmxlZCxcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLFxuICAgICAgb25Nb3VzZURvd246IG9uTW91c2VEb3duLFxuICAgICAgb25Nb3VzZVVwOiBvbk1vdXNlVXAsXG4gICAgICBvbktleVVwOiBvbktleVVwLFxuICAgICAgb25LZXlEb3duOiBvbktleURvd24sXG4gICAgICBvbk1vdXNlT3Zlcjogb25Nb3VzZU92ZXIsXG4gICAgICBvbk1vdXNlTGVhdmU6IG9uTW91c2VMZWF2ZVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBodG1sUHJvcHMsIHtcbiAgICByZWY6IHJlZixcbiAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgIFwiZGF0YS1hY3RpdmVcIjogZGF0YUF0dHIoaXNQcmVzc2VkKSxcbiAgICBcImFyaWEtZGlzYWJsZWRcIjogaXNEaXNhYmxlZCA/IFwidHJ1ZVwiIDogdW5kZWZpbmVkLFxuICAgIHRhYkluZGV4OiB0cnVseURpc2FibGVkID8gdW5kZWZpbmVkIDogdGFiSW5kZXgsXG4gICAgb25DbGljazogaGFuZGxlQ2xpY2ssXG4gICAgb25Nb3VzZURvd246IGhhbmRsZU1vdXNlRG93bixcbiAgICBvbk1vdXNlVXA6IGhhbmRsZU1vdXNlVXAsXG4gICAgb25LZXlVcDogaGFuZGxlS2V5VXAsXG4gICAgb25LZXlEb3duOiBoYW5kbGVLZXlEb3duLFxuICAgIG9uTW91c2VPdmVyOiBoYW5kbGVNb3VzZU92ZXIsXG4gICAgb25Nb3VzZUxlYXZlOiBoYW5kbGVNb3VzZUxlYXZlXG4gIH0pO1xufVxuXG5leHBvcnQgeyB1c2VDbGlja2FibGUgfTtcbiIsImltcG9ydCB7IEljb24gfSBmcm9tICdAY2hha3JhLXVpL2ljb24nO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlU3R5bGVDb25maWcsIG9taXRUaGVtaW5nUHJvcHMsIGNoYWtyYSB9IGZyb20gJ0BjaGFrcmEtdWkvc3lzdGVtJztcbmltcG9ydCB7IF9fREVWX18gfSBmcm9tICdAY2hha3JhLXVpL3V0aWxzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJjaGlsZHJlblwiLCBcImlzRGlzYWJsZWRcIiwgXCJfX2Nzc1wiXTtcblxudmFyIENsb3NlSWNvbiA9IGZ1bmN0aW9uIENsb3NlSWNvbihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwgX2V4dGVuZHMoe1xuICAgIGZvY3VzYWJsZTogXCJmYWxzZVwiLFxuICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZVxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBkOiBcIk0uNDM5LDIxLjQ0YTEuNSwxLjUsMCwwLDAsMi4xMjIsMi4xMjFMMTEuODIzLDE0LjNhLjI1LjI1LDAsMCwxLC4zNTQsMGw5LjI2Miw5LjI2M2ExLjUsMS41LDAsMSwwLDIuMTIyLTIuMTIxTDE0LjMsMTIuMTc3YS4yNS4yNSwwLDAsMSwwLS4zNTRsOS4yNjMtOS4yNjJBMS41LDEuNSwwLDAsMCwyMS40MzkuNDRMMTIuMTc3LDkuN2EuMjUuMjUsMCwwLDEtLjM1NCwwTDIuNTYxLjQ0QTEuNSwxLjUsMCwwLDAsLjQzOSwyLjU2MUw5LjcsMTEuODIzYS4yNS4yNSwwLDAsMSwwLC4zNTRaXCJcbiAgfSkpO1xufTtcblxuLyoqXG4gKiBBIGJ1dHRvbiB3aXRoIGEgY2xvc2UgaWNvbi5cbiAqXG4gKiBJdCBpcyB1c2VkIHRvIGhhbmRsZSB0aGUgY2xvc2UgZnVuY3Rpb25hbGl0eSBpbiBmZWVkYmFjayBhbmQgb3ZlcmxheSBjb21wb25lbnRzXG4gKiBsaWtlIEFsZXJ0cywgVG9hc3RzLCBEcmF3ZXJzIGFuZCBNb2RhbHMuXG4gKi9cbnZhciBDbG9zZUJ1dHRvbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZUNvbmZpZyhcIkNsb3NlQnV0dG9uXCIsIHByb3BzKTtcblxuICB2YXIgX29taXRUaGVtaW5nUHJvcHMgPSBvbWl0VGhlbWluZ1Byb3BzKHByb3BzKSxcbiAgICAgIGNoaWxkcmVuID0gX29taXRUaGVtaW5nUHJvcHMuY2hpbGRyZW4sXG4gICAgICBpc0Rpc2FibGVkID0gX29taXRUaGVtaW5nUHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgIF9fY3NzID0gX29taXRUaGVtaW5nUHJvcHMuX19jc3MsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX29taXRUaGVtaW5nUHJvcHMsIF9leGNsdWRlZCk7XG5cbiAgdmFyIGJhc2VTdHlsZSA9IHtcbiAgICBvdXRsaW5lOiAwLFxuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgZmxleFNocmluazogMFxuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmJ1dHRvbiwgX2V4dGVuZHMoe1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwiQ2xvc2VcIixcbiAgICByZWY6IHJlZixcbiAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICBfX2NzczogX2V4dGVuZHMoe30sIGJhc2VTdHlsZSwgc3R5bGVzLCBfX2NzcylcbiAgfSwgcmVzdCksIGNoaWxkcmVuIHx8IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENsb3NlSWNvbiwge1xuICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgIGhlaWdodDogXCIxZW1cIlxuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgQ2xvc2VCdXR0b24uZGlzcGxheU5hbWUgPSBcIkNsb3NlQnV0dG9uXCI7XG59XG5cbmV4cG9ydCB7IENsb3NlQnV0dG9uIH07XG4iLCJpbXBvcnQgeyBjaGFrcmEgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBfX0RFVl9fIH0gZnJvbSAnQGNoYWtyYS11aS91dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1widHlwZVwiLCBcIl9ob3ZlclwiLCBcIl9pbnZhbGlkXCIsIFwiX2Rpc2FibGVkXCIsIFwiX2ZvY3VzXCIsIFwiX2NoZWNrZWRcIiwgXCJfY2hpbGRcIiwgXCJfY2hlY2tlZEFuZENoaWxkXCIsIFwiX2NoZWNrZWRBbmREaXNhYmxlZFwiLCBcIl9jaGVja2VkQW5kRm9jdXNcIiwgXCJfY2hlY2tlZEFuZEhvdmVyXCIsIFwiY2hpbGRyZW5cIl07XG52YXIgQ29udHJvbEJveCA9IGZ1bmN0aW9uIENvbnRyb2xCb3gocHJvcHMpIHtcbiAgdmFyIF9leHRlbmRzMiwgX3JlZjtcblxuICB2YXIgX3Byb3BzJHR5cGUgPSBwcm9wcy50eXBlLFxuICAgICAgdHlwZSA9IF9wcm9wcyR0eXBlID09PSB2b2lkIDAgPyBcImNoZWNrYm94XCIgOiBfcHJvcHMkdHlwZSxcbiAgICAgIF9ob3ZlciA9IHByb3BzLl9ob3ZlcixcbiAgICAgIF9pbnZhbGlkID0gcHJvcHMuX2ludmFsaWQsXG4gICAgICBfZGlzYWJsZWQgPSBwcm9wcy5fZGlzYWJsZWQsXG4gICAgICBfZm9jdXMgPSBwcm9wcy5fZm9jdXMsXG4gICAgICBfY2hlY2tlZCA9IHByb3BzLl9jaGVja2VkLFxuICAgICAgX3Byb3BzJF9jaGlsZCA9IHByb3BzLl9jaGlsZCxcbiAgICAgIF9jaGlsZCA9IF9wcm9wcyRfY2hpbGQgPT09IHZvaWQgMCA/IHtcbiAgICBvcGFjaXR5OiAwXG4gIH0gOiBfcHJvcHMkX2NoaWxkLFxuICAgICAgX3Byb3BzJF9jaGVja2VkQW5kQ2hpID0gcHJvcHMuX2NoZWNrZWRBbmRDaGlsZCxcbiAgICAgIF9jaGVja2VkQW5kQ2hpbGQgPSBfcHJvcHMkX2NoZWNrZWRBbmRDaGkgPT09IHZvaWQgMCA/IHtcbiAgICBvcGFjaXR5OiAxXG4gIH0gOiBfcHJvcHMkX2NoZWNrZWRBbmRDaGksXG4gICAgICBfY2hlY2tlZEFuZERpc2FibGVkID0gcHJvcHMuX2NoZWNrZWRBbmREaXNhYmxlZCxcbiAgICAgIF9jaGVja2VkQW5kRm9jdXMgPSBwcm9wcy5fY2hlY2tlZEFuZEZvY3VzLFxuICAgICAgX2NoZWNrZWRBbmRIb3ZlciA9IHByb3BzLl9jaGVja2VkQW5kSG92ZXIsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQpO1xuXG4gIHZhciBjaGVja2VkQW5kRGlzYWJsZWQgPSBcImlucHV0W3R5cGU9XCIgKyB0eXBlICsgXCJdOmNoZWNrZWQ6ZGlzYWJsZWQgKyAmXCI7XG4gIHZhciBjaGVja2VkQW5kSG92ZXIgPSBcImlucHV0W3R5cGU9XCIgKyB0eXBlICsgXCJdOmNoZWNrZWQ6aG92ZXI6bm90KDpkaXNhYmxlZCkgKyAmXCI7XG4gIHZhciBjaGVja2VkQW5kRm9jdXMgPSBcImlucHV0W3R5cGU9XCIgKyB0eXBlICsgXCJdOmNoZWNrZWQ6Zm9jdXMgKyAmXCI7XG4gIHZhciBkaXNhYmxlZCA9IFwiaW5wdXRbdHlwZT1cIiArIHR5cGUgKyBcIl06ZGlzYWJsZWQgKyAmXCI7XG4gIHZhciBmb2N1cyA9IFwiaW5wdXRbdHlwZT1cIiArIHR5cGUgKyBcIl06Zm9jdXMgKyAmXCI7XG4gIHZhciBob3ZlciA9IFwiaW5wdXRbdHlwZT1cIiArIHR5cGUgKyBcIl06aG92ZXI6bm90KDpkaXNhYmxlZCk6bm90KDpjaGVja2VkKSArICZcIjtcbiAgdmFyIGNoZWNrZWQgPSBcImlucHV0W3R5cGU9XCIgKyB0eXBlICsgXCJdOmNoZWNrZWQgKyAmLCBpbnB1dFt0eXBlPVwiICsgdHlwZSArIFwiXVthcmlhLWNoZWNrZWQ9bWl4ZWRdICsgJlwiO1xuICB2YXIgaW52YWxpZCA9IFwiaW5wdXRbdHlwZT1cIiArIHR5cGUgKyBcIl1bYXJpYS1pbnZhbGlkPXRydWVdICsgJlwiO1xuICB2YXIgY2hpbGQgPSBcIiYgPiAqXCI7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICBfX2NzczogKF9yZWYgPSB7XG4gICAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICB0cmFuc2l0aW9uUHJvcGVydHk6IFwiY29tbW9uXCIsXG4gICAgICB0cmFuc2l0aW9uRHVyYXRpb246IFwiZmFzdFwiLFxuICAgICAgZmxleFNocmluazogMFxuICAgIH0sIF9yZWZbZm9jdXNdID0gX2ZvY3VzLCBfcmVmW2hvdmVyXSA9IF9ob3ZlciwgX3JlZltkaXNhYmxlZF0gPSBfZGlzYWJsZWQsIF9yZWZbaW52YWxpZF0gPSBfaW52YWxpZCwgX3JlZltjaGVja2VkQW5kRGlzYWJsZWRdID0gX2NoZWNrZWRBbmREaXNhYmxlZCwgX3JlZltjaGVja2VkQW5kRm9jdXNdID0gX2NoZWNrZWRBbmRGb2N1cywgX3JlZltjaGVja2VkQW5kSG92ZXJdID0gX2NoZWNrZWRBbmRIb3ZlciwgX3JlZltjaGlsZF0gPSBfY2hpbGQsIF9yZWZbY2hlY2tlZF0gPSBfZXh0ZW5kcyh7fSwgX2NoZWNrZWQsIChfZXh0ZW5kczIgPSB7fSwgX2V4dGVuZHMyW2NoaWxkXSA9IF9jaGVja2VkQW5kQ2hpbGQsIF9leHRlbmRzMikpLCBfcmVmKVxuICB9KSwgY2hpbGRyZW4pO1xufTtcblxuaWYgKF9fREVWX18pIHtcbiAgQ29udHJvbEJveC5kaXNwbGF5TmFtZSA9IFwiQ29udHJvbEJveFwiO1xufVxuXG5leHBvcnQgeyBDb250cm9sQm94IH07XG4iLCJpbXBvcnQgeyB1c2VDYWxsYmFja1JlZiwgdXNlQ29udHJvbGxhYmxlUHJvcCB9IGZyb20gJ0BjaGFrcmEtdWkvaG9va3MnO1xuaW1wb3J0IHsgY291bnREZWNpbWFsUGxhY2VzLCBjbGFtcFZhbHVlLCB0b1ByZWNpc2lvbiwgbWluU2FmZUludGVnZXIsIG1heFNhZmVJbnRlZ2VyIH0gZnJvbSAnQGNoYWtyYS11aS91dGlscyc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIHVzZUNvdW50ZXIocHJvcHMpIHtcbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgdmFyIF9wcm9wcyA9IHByb3BzLFxuICAgICAgb25DaGFuZ2UgPSBfcHJvcHMub25DaGFuZ2UsXG4gICAgICBwcmVjaXNpb25Qcm9wID0gX3Byb3BzLnByZWNpc2lvbixcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IF9wcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICB2YWx1ZVByb3AgPSBfcHJvcHMudmFsdWUsXG4gICAgICBfcHJvcHMkc3RlcCA9IF9wcm9wcy5zdGVwLFxuICAgICAgc3RlcFByb3AgPSBfcHJvcHMkc3RlcCA9PT0gdm9pZCAwID8gMSA6IF9wcm9wcyRzdGVwLFxuICAgICAgX3Byb3BzJG1pbiA9IF9wcm9wcy5taW4sXG4gICAgICBtaW4gPSBfcHJvcHMkbWluID09PSB2b2lkIDAgPyBtaW5TYWZlSW50ZWdlciA6IF9wcm9wcyRtaW4sXG4gICAgICBfcHJvcHMkbWF4ID0gX3Byb3BzLm1heCxcbiAgICAgIG1heCA9IF9wcm9wcyRtYXggPT09IHZvaWQgMCA/IG1heFNhZmVJbnRlZ2VyIDogX3Byb3BzJG1heCxcbiAgICAgIF9wcm9wcyRrZWVwV2l0aGluUmFuZyA9IF9wcm9wcy5rZWVwV2l0aGluUmFuZ2UsXG4gICAgICBrZWVwV2l0aGluUmFuZ2UgPSBfcHJvcHMka2VlcFdpdGhpblJhbmcgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMka2VlcFdpdGhpblJhbmc7XG4gIHZhciBvbkNoYW5nZVByb3AgPSB1c2VDYWxsYmFja1JlZihvbkNoYW5nZSk7XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2Nhc3Q7XG5cbiAgICBpZiAoZGVmYXVsdFZhbHVlID09IG51bGwpIHJldHVybiBcIlwiO1xuICAgIHJldHVybiAoX2Nhc3QgPSBjYXN0KGRlZmF1bHRWYWx1ZSwgc3RlcFByb3AsIHByZWNpc2lvblByb3ApKSAhPSBudWxsID8gX2Nhc3QgOiBcIlwiO1xuICB9KSxcbiAgICAgIHZhbHVlU3RhdGUgPSBfdXNlU3RhdGVbMF0sXG4gICAgICBzZXRWYWx1ZSA9IF91c2VTdGF0ZVsxXTtcbiAgLyoqXG4gICAqIEJlY2F1c2UgdGhlIGNvbXBvbmVudCB0aGF0IGNvbnN1bWVzIHRoaXMgaG9vayBjYW4gYmUgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWRcbiAgICogd2UnbGwga2VlcCB0cmFjayBvZiB0aGF0XG4gICAqL1xuXG5cbiAgdmFyIF91c2VDb250cm9sbGFibGVQcm9wID0gdXNlQ29udHJvbGxhYmxlUHJvcCh2YWx1ZVByb3AsIHZhbHVlU3RhdGUpLFxuICAgICAgaXNDb250cm9sbGVkID0gX3VzZUNvbnRyb2xsYWJsZVByb3BbMF0sXG4gICAgICB2YWx1ZSA9IF91c2VDb250cm9sbGFibGVQcm9wWzFdO1xuXG4gIHZhciBkZWNpbWFsUGxhY2VzID0gZ2V0RGVjaW1hbFBsYWNlcyhwYXJzZSh2YWx1ZSksIHN0ZXBQcm9wKTtcbiAgdmFyIHByZWNpc2lvbiA9IHByZWNpc2lvblByb3AgIT0gbnVsbCA/IHByZWNpc2lvblByb3AgOiBkZWNpbWFsUGxhY2VzO1xuICB2YXIgdXBkYXRlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5leHQpIHtcbiAgICBpZiAobmV4dCA9PT0gdmFsdWUpIHJldHVybjtcblxuICAgIGlmICghaXNDb250cm9sbGVkKSB7XG4gICAgICBzZXRWYWx1ZShuZXh0LnRvU3RyaW5nKCkpO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlUHJvcCA9PSBudWxsID8gdm9pZCAwIDogb25DaGFuZ2VQcm9wKG5leHQudG9TdHJpbmcoKSwgcGFyc2UobmV4dCkpO1xuICB9LCBbb25DaGFuZ2VQcm9wLCBpc0NvbnRyb2xsZWQsIHZhbHVlXSk7IC8vIEZ1bmN0aW9uIHRvIGNsYW1wIHRoZSB2YWx1ZSBhbmQgcm91bmQgaXQgdG8gdGhlIHByZWNpc2lvblxuXG4gIHZhciBjbGFtcCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHZhciBuZXh0VmFsdWUgPSB2YWx1ZTtcblxuICAgIGlmIChrZWVwV2l0aGluUmFuZ2UpIHtcbiAgICAgIG5leHRWYWx1ZSA9IGNsYW1wVmFsdWUobmV4dFZhbHVlLCBtaW4sIG1heCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRvUHJlY2lzaW9uKG5leHRWYWx1ZSwgcHJlY2lzaW9uKTtcbiAgfSwgW3ByZWNpc2lvbiwga2VlcFdpdGhpblJhbmdlLCBtYXgsIG1pbl0pO1xuICB2YXIgaW5jcmVtZW50ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHN0ZXApIHtcbiAgICBpZiAoc3RlcCA9PT0gdm9pZCAwKSB7XG4gICAgICBzdGVwID0gc3RlcFByb3A7XG4gICAgfVxuXG4gICAgdmFyIG5leHQ7XG4gICAgLyoqXG4gICAgICogTGV0J3MgZm9sbG93IHRoZSBuYXRpdmUgYnJvd3NlciBiZWhhdmlvciBmb3JcbiAgICAgKiBzY2VuYXJpb3Mgd2hlcmUgdGhlIGlucHV0IHN0YXJ0cyBlbXB0eSAoXCJcIilcbiAgICAgKi9cblxuICAgIGlmICh2YWx1ZSA9PT0gXCJcIikge1xuICAgICAgLyoqXG4gICAgICAgKiBJZiBgbWluYCBpcyBzZXQsIG5hdGl2ZSBpbnB1dCwgc3RhcnRzIGF0IHRoZSBgbWluYC5cbiAgICAgICAqIEVsc2UsIGl0IHN0YXJ0cyBhdCBgc3RlcGBcbiAgICAgICAqL1xuICAgICAgbmV4dCA9IHBhcnNlKHN0ZXApO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXh0ID0gcGFyc2UodmFsdWUpICsgc3RlcDtcbiAgICB9XG5cbiAgICBuZXh0ID0gY2xhbXAobmV4dCk7XG4gICAgdXBkYXRlKG5leHQpO1xuICB9LCBbY2xhbXAsIHN0ZXBQcm9wLCB1cGRhdGUsIHZhbHVlXSk7XG4gIHZhciBkZWNyZW1lbnQgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RlcCkge1xuICAgIGlmIChzdGVwID09PSB2b2lkIDApIHtcbiAgICAgIHN0ZXAgPSBzdGVwUHJvcDtcbiAgICB9XG5cbiAgICB2YXIgbmV4dDsgLy8gU2FtZSB0aGluZyBoZXJlLiBXZSdsbCBmb2xsb3cgbmF0aXZlIGltcGxlbWVudGF0aW9uXG5cbiAgICBpZiAodmFsdWUgPT09IFwiXCIpIHtcbiAgICAgIG5leHQgPSBwYXJzZSgtc3RlcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5leHQgPSBwYXJzZSh2YWx1ZSkgLSBzdGVwO1xuICAgIH1cblxuICAgIG5leHQgPSBjbGFtcChuZXh0KTtcbiAgICB1cGRhdGUobmV4dCk7XG4gIH0sIFtjbGFtcCwgc3RlcFByb3AsIHVwZGF0ZSwgdmFsdWVdKTtcbiAgdmFyIHJlc2V0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXh0O1xuXG4gICAgaWYgKGRlZmF1bHRWYWx1ZSA9PSBudWxsKSB7XG4gICAgICBuZXh0ID0gXCJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9jYXN0MjtcblxuICAgICAgbmV4dCA9IChfY2FzdDIgPSBjYXN0KGRlZmF1bHRWYWx1ZSwgc3RlcFByb3AsIHByZWNpc2lvblByb3ApKSAhPSBudWxsID8gX2Nhc3QyIDogbWluO1xuICAgIH1cblxuICAgIHVwZGF0ZShuZXh0KTtcbiAgfSwgW2RlZmF1bHRWYWx1ZSwgcHJlY2lzaW9uUHJvcCwgc3RlcFByb3AsIHVwZGF0ZSwgbWluXSk7XG4gIHZhciBjYXN0VmFsdWUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAodmFsdWUpIHtcbiAgICB2YXIgX2Nhc3QzO1xuXG4gICAgdmFyIG5leHRWYWx1ZSA9IChfY2FzdDMgPSBjYXN0KHZhbHVlLCBzdGVwUHJvcCwgcHJlY2lzaW9uKSkgIT0gbnVsbCA/IF9jYXN0MyA6IG1pbjtcbiAgICB1cGRhdGUobmV4dFZhbHVlKTtcbiAgfSwgW3ByZWNpc2lvbiwgc3RlcFByb3AsIHVwZGF0ZSwgbWluXSk7XG4gIHZhciB2YWx1ZUFzTnVtYmVyID0gcGFyc2UodmFsdWUpO1xuICAvKipcbiAgICogQ29tbW9uIHJhbmdlIGNoZWNrc1xuICAgKi9cblxuICB2YXIgaXNPdXRPZlJhbmdlID0gdmFsdWVBc051bWJlciA+IG1heCB8fCB2YWx1ZUFzTnVtYmVyIDwgbWluO1xuICB2YXIgaXNBdE1heCA9IHZhbHVlQXNOdW1iZXIgPT09IG1heDtcbiAgdmFyIGlzQXRNaW4gPSB2YWx1ZUFzTnVtYmVyID09PSBtaW47XG4gIHJldHVybiB7XG4gICAgaXNPdXRPZlJhbmdlOiBpc091dE9mUmFuZ2UsXG4gICAgaXNBdE1heDogaXNBdE1heCxcbiAgICBpc0F0TWluOiBpc0F0TWluLFxuICAgIHByZWNpc2lvbjogcHJlY2lzaW9uLFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICB2YWx1ZUFzTnVtYmVyOiB2YWx1ZUFzTnVtYmVyLFxuICAgIHVwZGF0ZTogdXBkYXRlLFxuICAgIHJlc2V0OiByZXNldCxcbiAgICBpbmNyZW1lbnQ6IGluY3JlbWVudCxcbiAgICBkZWNyZW1lbnQ6IGRlY3JlbWVudCxcbiAgICBjbGFtcDogY2xhbXAsXG4gICAgY2FzdDogY2FzdFZhbHVlLFxuICAgIHNldFZhbHVlOiBzZXRWYWx1ZVxuICB9O1xufVxuXG5mdW5jdGlvbiBwYXJzZSh2YWx1ZSkge1xuICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZS50b1N0cmluZygpLnJlcGxhY2UoL1teXFx3Li1dKy9nLCBcIlwiKSk7XG59XG5cbmZ1bmN0aW9uIGdldERlY2ltYWxQbGFjZXModmFsdWUsIHN0ZXApIHtcbiAgcmV0dXJuIE1hdGgubWF4KGNvdW50RGVjaW1hbFBsYWNlcyhzdGVwKSwgY291bnREZWNpbWFsUGxhY2VzKHZhbHVlKSk7XG59XG5cbmZ1bmN0aW9uIGNhc3QodmFsdWUsIHN0ZXAsIHByZWNpc2lvbikge1xuICB2YXIgcGFyc2VkVmFsdWUgPSBwYXJzZSh2YWx1ZSk7XG4gIGlmIChOdW1iZXIuaXNOYU4ocGFyc2VkVmFsdWUpKSByZXR1cm4gdW5kZWZpbmVkO1xuICB2YXIgZGVjaW1hbFBsYWNlcyA9IGdldERlY2ltYWxQbGFjZXMocGFyc2VkVmFsdWUsIHN0ZXApO1xuICByZXR1cm4gdG9QcmVjaXNpb24ocGFyc2VkVmFsdWUsIHByZWNpc2lvbiAhPSBudWxsID8gcHJlY2lzaW9uIDogZGVjaW1hbFBsYWNlcyk7XG59XG5cbmV4cG9ydCB7IHVzZUNvdW50ZXIgfTtcbiIsImltcG9ydCB7IEdsb2JhbCB9IGZyb20gJ0BlbW90aW9uL3JlYWN0JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxudmFyIENTU1Jlc2V0ID0gZnVuY3Rpb24gQ1NTUmVzZXQoKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChHbG9iYWwsIHtcbiAgICBzdHlsZXM6IFwiXFxuICAgICAgaHRtbCB7XFxuICAgICAgICBsaW5lLWhlaWdodDogMS41O1xcbiAgICAgICAgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiAxMDAlO1xcbiAgICAgICAgZm9udC1mYW1pbHk6IHN5c3RlbS11aSwgc2Fucy1zZXJpZjtcXG4gICAgICAgIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xcbiAgICAgICAgdGV4dC1yZW5kZXJpbmc6IG9wdGltaXplTGVnaWJpbGl0eTtcXG4gICAgICAgIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XFxuICAgICAgICB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbjtcXG4gICAgICB9XFxuXFxuICAgICAgYm9keSB7XFxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICAgICAgICBtaW4taGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgZm9udC1mZWF0dXJlLXNldHRpbmdzOiAna2Vybic7XFxuICAgICAgfVxcblxcbiAgICAgICosXFxuICAgICAgKjo6YmVmb3JlLFxcbiAgICAgICo6OmFmdGVyIHtcXG4gICAgICAgIGJvcmRlci13aWR0aDogMDtcXG4gICAgICAgIGJvcmRlci1zdHlsZTogc29saWQ7XFxuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgIH1cXG5cXG4gICAgICBtYWluIHtcXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgIH1cXG5cXG4gICAgICBociB7XFxuICAgICAgICBib3JkZXItdG9wLXdpZHRoOiAxcHg7XFxuICAgICAgICBib3gtc2l6aW5nOiBjb250ZW50LWJveDtcXG4gICAgICAgIGhlaWdodDogMDtcXG4gICAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xcbiAgICAgIH1cXG5cXG4gICAgICBwcmUsXFxuICAgICAgY29kZSxcXG4gICAgICBrYmQsXFxuICAgICAgc2FtcCB7XFxuICAgICAgICBmb250LWZhbWlseTogU0ZNb25vLVJlZ3VsYXIsICBNZW5sbywgTW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlO1xcbiAgICAgICAgZm9udC1zaXplOiAxZW07XFxuICAgICAgfVxcblxcbiAgICAgIGEge1xcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgICAgICBjb2xvcjogaW5oZXJpdDtcXG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogaW5oZXJpdDtcXG4gICAgICB9XFxuXFxuICAgICAgYWJiclt0aXRsZV0ge1xcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcXG4gICAgICAgIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xcbiAgICAgICAgLXdlYmtpdC10ZXh0LWRlY29yYXRpb246IHVuZGVybGluZSBkb3R0ZWQ7XFxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZSBkb3R0ZWQ7XFxuICAgICAgfVxcblxcbiAgICAgIGIsXFxuICAgICAgc3Ryb25nIHtcXG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xcbiAgICAgIH1cXG5cXG4gICAgICBzbWFsbCB7XFxuICAgICAgICBmb250LXNpemU6IDgwJTtcXG4gICAgICB9XFxuXFxuICAgICAgc3ViLFxcbiAgICAgIHN1cCB7XFxuICAgICAgICBmb250LXNpemU6IDc1JTtcXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAwO1xcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgICAgICAgdmVydGljYWwtYWxpZ246IGJhc2VsaW5lO1xcbiAgICAgIH1cXG5cXG4gICAgICBzdWIge1xcbiAgICAgICAgYm90dG9tOiAtMC4yNWVtO1xcbiAgICAgIH1cXG5cXG4gICAgICBzdXAge1xcbiAgICAgICAgdG9wOiAtMC41ZW07XFxuICAgICAgfVxcblxcbiAgICAgIGltZyB7XFxuICAgICAgICBib3JkZXItc3R5bGU6IG5vbmU7XFxuICAgICAgfVxcblxcbiAgICAgIGJ1dHRvbixcXG4gICAgICBpbnB1dCxcXG4gICAgICBvcHRncm91cCxcXG4gICAgICBzZWxlY3QsXFxuICAgICAgdGV4dGFyZWEge1xcbiAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XFxuICAgICAgICBmb250LXNpemU6IDEwMCU7XFxuICAgICAgICBsaW5lLWhlaWdodDogMS4xNTtcXG4gICAgICAgIG1hcmdpbjogMDtcXG4gICAgICB9XFxuXFxuICAgICAgYnV0dG9uLFxcbiAgICAgIGlucHV0IHtcXG4gICAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xcbiAgICAgIH1cXG5cXG4gICAgICBidXR0b24sXFxuICAgICAgc2VsZWN0IHtcXG4gICAgICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xcbiAgICAgIH1cXG5cXG4gICAgICBidXR0b246Oi1tb3otZm9jdXMtaW5uZXIsXFxuICAgICAgW3R5cGU9XFxcImJ1dHRvblxcXCJdOjotbW96LWZvY3VzLWlubmVyLFxcbiAgICAgIFt0eXBlPVxcXCJyZXNldFxcXCJdOjotbW96LWZvY3VzLWlubmVyLFxcbiAgICAgIFt0eXBlPVxcXCJzdWJtaXRcXFwiXTo6LW1vei1mb2N1cy1pbm5lciB7XFxuICAgICAgICBib3JkZXItc3R5bGU6IG5vbmU7XFxuICAgICAgICBwYWRkaW5nOiAwO1xcbiAgICAgIH1cXG5cXG4gICAgICBmaWVsZHNldCB7XFxuICAgICAgICBwYWRkaW5nOiAwLjM1ZW0gMC43NWVtIDAuNjI1ZW07XFxuICAgICAgfVxcblxcbiAgICAgIGxlZ2VuZCB7XFxuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgY29sb3I6IGluaGVyaXQ7XFxuICAgICAgICBkaXNwbGF5OiB0YWJsZTtcXG4gICAgICAgIG1heC13aWR0aDogMTAwJTtcXG4gICAgICAgIHBhZGRpbmc6IDA7XFxuICAgICAgICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xcbiAgICAgIH1cXG5cXG4gICAgICBwcm9ncmVzcyB7XFxuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogYmFzZWxpbmU7XFxuICAgICAgfVxcblxcbiAgICAgIHRleHRhcmVhIHtcXG4gICAgICAgIG92ZXJmbG93OiBhdXRvO1xcbiAgICAgIH1cXG5cXG4gICAgICBbdHlwZT1cXFwiY2hlY2tib3hcXFwiXSxcXG4gICAgICBbdHlwZT1cXFwicmFkaW9cXFwiXSB7XFxuICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgcGFkZGluZzogMDtcXG4gICAgICB9XFxuXFxuICAgICAgW3R5cGU9XFxcIm51bWJlclxcXCJdOjotd2Via2l0LWlubmVyLXNwaW4tYnV0dG9uLFxcbiAgICAgIFt0eXBlPVxcXCJudW1iZXJcXFwiXTo6LXdlYmtpdC1vdXRlci1zcGluLWJ1dHRvbiB7XFxuICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmUgIWltcG9ydGFudDtcXG4gICAgICB9XFxuXFxuICAgICAgaW5wdXRbdHlwZT1cXFwibnVtYmVyXFxcIl0ge1xcbiAgICAgICAgLW1vei1hcHBlYXJhbmNlOiB0ZXh0ZmllbGQ7XFxuICAgICAgfVxcblxcbiAgICAgIFt0eXBlPVxcXCJzZWFyY2hcXFwiXSB7XFxuICAgICAgICAtd2Via2l0LWFwcGVhcmFuY2U6IHRleHRmaWVsZDtcXG4gICAgICAgIG91dGxpbmUtb2Zmc2V0OiAtMnB4O1xcbiAgICAgIH1cXG5cXG4gICAgICBbdHlwZT1cXFwic2VhcmNoXFxcIl06Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb24ge1xcbiAgICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lICFpbXBvcnRhbnQ7XFxuICAgICAgfVxcblxcbiAgICAgIDo6LXdlYmtpdC1maWxlLXVwbG9hZC1idXR0b24ge1xcbiAgICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247XFxuICAgICAgICBmb250OiBpbmhlcml0O1xcbiAgICAgIH1cXG5cXG4gICAgICBkZXRhaWxzIHtcXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgIH1cXG5cXG4gICAgICBzdW1tYXJ5IHtcXG4gICAgICAgIGRpc3BsYXk6IGxpc3QtaXRlbTtcXG4gICAgICB9XFxuXFxuICAgICAgdGVtcGxhdGUge1xcbiAgICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICB9XFxuXFxuICAgICAgW2hpZGRlbl0ge1xcbiAgICAgICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xcbiAgICAgIH1cXG5cXG4gICAgICBib2R5LFxcbiAgICAgIGJsb2NrcXVvdGUsXFxuICAgICAgZGwsXFxuICAgICAgZGQsXFxuICAgICAgaDEsXFxuICAgICAgaDIsXFxuICAgICAgaDMsXFxuICAgICAgaDQsXFxuICAgICAgaDUsXFxuICAgICAgaDYsXFxuICAgICAgaHIsXFxuICAgICAgZmlndXJlLFxcbiAgICAgIHAsXFxuICAgICAgcHJlIHtcXG4gICAgICAgIG1hcmdpbjogMDtcXG4gICAgICB9XFxuXFxuICAgICAgYnV0dG9uIHtcXG4gICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xcbiAgICAgICAgcGFkZGluZzogMDtcXG4gICAgICB9XFxuXFxuICAgICAgZmllbGRzZXQge1xcbiAgICAgICAgbWFyZ2luOiAwO1xcbiAgICAgICAgcGFkZGluZzogMDtcXG4gICAgICB9XFxuXFxuICAgICAgb2wsXFxuICAgICAgdWwge1xcbiAgICAgICAgbWFyZ2luOiAwO1xcbiAgICAgICAgcGFkZGluZzogMDtcXG4gICAgICB9XFxuXFxuICAgICAgdGV4dGFyZWEge1xcbiAgICAgICAgcmVzaXplOiB2ZXJ0aWNhbDtcXG4gICAgICB9XFxuXFxuICAgICAgYnV0dG9uLFxcbiAgICAgIFtyb2xlPVxcXCJidXR0b25cXFwiXSB7XFxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgICAgfVxcblxcbiAgICAgIGJ1dHRvbjo6LW1vei1mb2N1cy1pbm5lciB7XFxuICAgICAgICBib3JkZXI6IDAgIWltcG9ydGFudDtcXG4gICAgICB9XFxuXFxuICAgICAgdGFibGUge1xcbiAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXG4gICAgICB9XFxuXFxuICAgICAgaDEsXFxuICAgICAgaDIsXFxuICAgICAgaDMsXFxuICAgICAgaDQsXFxuICAgICAgaDUsXFxuICAgICAgaDYge1xcbiAgICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xcbiAgICAgICAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XFxuICAgICAgfVxcblxcbiAgICAgIGJ1dHRvbixcXG4gICAgICBpbnB1dCxcXG4gICAgICBvcHRncm91cCxcXG4gICAgICBzZWxlY3QsXFxuICAgICAgdGV4dGFyZWEge1xcbiAgICAgICAgcGFkZGluZzogMDtcXG4gICAgICAgIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xcbiAgICAgICAgY29sb3I6IGluaGVyaXQ7XFxuICAgICAgfVxcblxcbiAgICAgIGltZyxcXG4gICAgICBzdmcsXFxuICAgICAgdmlkZW8sXFxuICAgICAgY2FudmFzLFxcbiAgICAgIGF1ZGlvLFxcbiAgICAgIGlmcmFtZSxcXG4gICAgICBlbWJlZCxcXG4gICAgICBvYmplY3Qge1xcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgfVxcblxcbiAgICAgIGltZyxcXG4gICAgICB2aWRlbyB7XFxuICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICAgICAgICBoZWlnaHQ6IGF1dG87XFxuICAgICAgfVxcblxcbiAgICAgIFtkYXRhLWpzLWZvY3VzLXZpc2libGVdIDpmb2N1czpub3QoW2RhdGEtZm9jdXMtdmlzaWJsZS1hZGRlZF0pIHtcXG4gICAgICAgIG91dGxpbmU6IG5vbmU7XFxuICAgICAgICBib3gtc2hhZG93OiBub25lO1xcbiAgICAgIH1cXG5cXG4gICAgICBzZWxlY3Q6Oi1tcy1leHBhbmQge1xcbiAgICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICB9XFxuICAgIFwiXG4gIH0pO1xufTtcbnZhciBDU1NSZXNldCQxID0gQ1NTUmVzZXQ7XG5cbmV4cG9ydCB7IENTU1Jlc2V0LCBDU1NSZXNldCQxIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIG1lcmdlUmVmcyB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QtdXRpbHMnO1xuaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0LCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogU29ydCBhbiBhcnJheSBvZiBET00gbm9kZXMgYWNjb3JkaW5nIHRvIHRoZSBIVE1MIHRyZWUgb3JkZXJcbiAqIEBzZWUgaHR0cDovL3d3dy53My5vcmcvVFIvaHRtbDUvaW5mcmFzdHJ1Y3R1cmUuaHRtbCN0cmVlLW9yZGVyXG4gKi9cblxuZnVuY3Rpb24gc29ydE5vZGVzKG5vZGVzKSB7XG4gIHJldHVybiBub2Rlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgdmFyIGNvbXBhcmUgPSBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGIpO1xuXG4gICAgaWYgKGNvbXBhcmUgJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lORyB8fCBjb21wYXJlICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpIHtcbiAgICAgIC8vIGEgPCBiXG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgaWYgKGNvbXBhcmUgJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX1BSRUNFRElORyB8fCBjb21wYXJlICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlOUykge1xuICAgICAgLy8gYSA+IGJcbiAgICAgIHJldHVybiAxO1xuICAgIH1cblxuICAgIGlmIChjb21wYXJlICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9ESVNDT05ORUNURUQgfHwgY29tcGFyZSAmIE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fSU1QTEVNRU5UQVRJT05fU1BFQ0lGSUMpIHtcbiAgICAgIHRocm93IEVycm9yKFwiQ2Fubm90IHNvcnQgdGhlIGdpdmVuIG5vZGVzLlwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICB9KTtcbn1cbnZhciBpc0VsZW1lbnQgPSBmdW5jdGlvbiBpc0VsZW1lbnQoZWwpIHtcbiAgcmV0dXJuIHR5cGVvZiBlbCA9PSBcIm9iamVjdFwiICYmIFwibm9kZVR5cGVcIiBpbiBlbCAmJiBlbC5ub2RlVHlwZSA9PT0gTm9kZS5FTEVNRU5UX05PREU7XG59O1xuZnVuY3Rpb24gZ2V0TmV4dEluZGV4KGN1cnJlbnQsIG1heCwgbG9vcCkge1xuICB2YXIgbmV4dCA9IGN1cnJlbnQgKyAxO1xuICBpZiAobG9vcCAmJiBuZXh0ID49IG1heCkgbmV4dCA9IDA7XG4gIHJldHVybiBuZXh0O1xufVxuZnVuY3Rpb24gZ2V0UHJldkluZGV4KGN1cnJlbnQsIG1heCwgbG9vcCkge1xuICB2YXIgbmV4dCA9IGN1cnJlbnQgLSAxO1xuICBpZiAobG9vcCAmJiBuZXh0IDwgMCkgbmV4dCA9IG1heDtcbiAgcmV0dXJuIG5leHQ7XG59XG52YXIgdXNlU2FmZUxheW91dEVmZmVjdCA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyB1c2VMYXlvdXRFZmZlY3QgOiB1c2VFZmZlY3Q7XG52YXIgY2FzdCA9IGZ1bmN0aW9uIGNhc3QodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlO1xufTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqXG4gKiBDbGFzcyB0byBtYW5hZ2UgZGVzY2VuZGFudHMgYW5kIHRoZWlyIHJlbGF0aXZlIGluZGljZXMgaW4gdGhlIERPTS5cbiAqIEl0IHVzZXMgYG5vZGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24oLi4uKWAgdW5kZXIgdGhlIGhvb2RcbiAqL1xudmFyIERlc2NlbmRhbnRzTWFuYWdlciA9IGZ1bmN0aW9uIERlc2NlbmRhbnRzTWFuYWdlcigpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLmRlc2NlbmRhbnRzID0gbmV3IE1hcCgpO1xuXG4gIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbiAobm9kZU9yT3B0aW9ucykge1xuICAgIGlmIChub2RlT3JPcHRpb25zID09IG51bGwpIHJldHVybjtcblxuICAgIGlmIChpc0VsZW1lbnQobm9kZU9yT3B0aW9ucykpIHtcbiAgICAgIHJldHVybiBfdGhpcy5yZWdpc3Rlck5vZGUobm9kZU9yT3B0aW9ucyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBfdGhpcy5yZWdpc3Rlck5vZGUobm9kZSwgbm9kZU9yT3B0aW9ucyk7XG4gICAgfTtcbiAgfTtcblxuICB0aGlzLnVucmVnaXN0ZXIgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIF90aGlzLmRlc2NlbmRhbnRzW1wiZGVsZXRlXCJdKG5vZGUpO1xuXG4gICAgdmFyIHNvcnRlZCA9IHNvcnROb2RlcyhBcnJheS5mcm9tKF90aGlzLmRlc2NlbmRhbnRzLmtleXMoKSkpO1xuXG4gICAgX3RoaXMuYXNzaWduSW5kZXgoc29ydGVkKTtcbiAgfTtcblxuICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgX3RoaXMuZGVzY2VuZGFudHMuY2xlYXIoKTtcbiAgfTtcblxuICB0aGlzLmFzc2lnbkluZGV4ID0gZnVuY3Rpb24gKGRlc2NlbmRhbnRzKSB7XG4gICAgX3RoaXMuZGVzY2VuZGFudHMuZm9yRWFjaChmdW5jdGlvbiAoZGVzY2VuZGFudCkge1xuICAgICAgdmFyIGluZGV4ID0gZGVzY2VuZGFudHMuaW5kZXhPZihkZXNjZW5kYW50Lm5vZGUpO1xuICAgICAgZGVzY2VuZGFudC5pbmRleCA9IGluZGV4O1xuICAgICAgZGVzY2VuZGFudC5ub2RlLmRhdGFzZXQuaW5kZXggPSBkZXNjZW5kYW50LmluZGV4LnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5jb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXMuZGVzY2VuZGFudHMuc2l6ZTtcbiAgfTtcblxuICB0aGlzLmVuYWJsZWRDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXMuZW5hYmxlZFZhbHVlcygpLmxlbmd0aDtcbiAgfTtcblxuICB0aGlzLnZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdmFsdWVzID0gQXJyYXkuZnJvbShfdGhpcy5kZXNjZW5kYW50cy52YWx1ZXMoKSk7XG4gICAgcmV0dXJuIHZhbHVlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYS5pbmRleCAtIGIuaW5kZXg7XG4gICAgfSk7XG4gIH07XG5cbiAgdGhpcy5lbmFibGVkVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdGhpcy52YWx1ZXMoKS5maWx0ZXIoZnVuY3Rpb24gKGRlc2NlbmRhbnQpIHtcbiAgICAgIHJldHVybiAhZGVzY2VuZGFudC5kaXNhYmxlZDtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLml0ZW0gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICBpZiAoX3RoaXMuY291bnQoKSA9PT0gMCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICByZXR1cm4gX3RoaXMudmFsdWVzKClbaW5kZXhdO1xuICB9O1xuXG4gIHRoaXMuZW5hYmxlZEl0ZW0gPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICBpZiAoX3RoaXMuZW5hYmxlZENvdW50KCkgPT09IDApIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIF90aGlzLmVuYWJsZWRWYWx1ZXMoKVtpbmRleF07XG4gIH07XG5cbiAgdGhpcy5maXJzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXMuaXRlbSgwKTtcbiAgfTtcblxuICB0aGlzLmZpcnN0RW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3RoaXMuZW5hYmxlZEl0ZW0oMCk7XG4gIH07XG5cbiAgdGhpcy5sYXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdGhpcy5pdGVtKF90aGlzLmRlc2NlbmRhbnRzLnNpemUgLSAxKTtcbiAgfTtcblxuICB0aGlzLmxhc3RFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsYXN0SW5kZXggPSBfdGhpcy5lbmFibGVkVmFsdWVzKCkubGVuZ3RoIC0gMTtcbiAgICByZXR1cm4gX3RoaXMuZW5hYmxlZEl0ZW0obGFzdEluZGV4KTtcbiAgfTtcblxuICB0aGlzLmluZGV4T2YgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIHZhciBfdGhpcyRkZXNjZW5kYW50cyRnZXQsIF90aGlzJGRlc2NlbmRhbnRzJGdldDI7XG5cbiAgICBpZiAoIW5vZGUpIHJldHVybiAtMTtcbiAgICByZXR1cm4gKF90aGlzJGRlc2NlbmRhbnRzJGdldCA9IChfdGhpcyRkZXNjZW5kYW50cyRnZXQyID0gX3RoaXMuZGVzY2VuZGFudHMuZ2V0KG5vZGUpKSA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMkZGVzY2VuZGFudHMkZ2V0Mi5pbmRleCkgIT0gbnVsbCA/IF90aGlzJGRlc2NlbmRhbnRzJGdldCA6IC0xO1xuICB9O1xuXG4gIHRoaXMuZW5hYmxlZEluZGV4T2YgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChub2RlID09IG51bGwpIHJldHVybiAtMTtcbiAgICByZXR1cm4gX3RoaXMuZW5hYmxlZFZhbHVlcygpLmZpbmRJbmRleChmdW5jdGlvbiAoaSkge1xuICAgICAgcmV0dXJuIGkubm9kZS5pc1NhbWVOb2RlKG5vZGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMubmV4dCA9IGZ1bmN0aW9uIChpbmRleCwgbG9vcCkge1xuICAgIGlmIChsb29wID09PSB2b2lkIDApIHtcbiAgICAgIGxvb3AgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBuZXh0ID0gZ2V0TmV4dEluZGV4KGluZGV4LCBfdGhpcy5jb3VudCgpLCBsb29wKTtcbiAgICByZXR1cm4gX3RoaXMuaXRlbShuZXh0KTtcbiAgfTtcblxuICB0aGlzLm5leHRFbmFibGVkID0gZnVuY3Rpb24gKGluZGV4LCBsb29wKSB7XG4gICAgaWYgKGxvb3AgPT09IHZvaWQgMCkge1xuICAgICAgbG9vcCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGl0ZW0gPSBfdGhpcy5pdGVtKGluZGV4KTtcblxuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgdmFyIGVuYWJsZWRJbmRleCA9IF90aGlzLmVuYWJsZWRJbmRleE9mKGl0ZW0ubm9kZSk7XG5cbiAgICB2YXIgbmV4dEVuYWJsZWRJbmRleCA9IGdldE5leHRJbmRleChlbmFibGVkSW5kZXgsIF90aGlzLmVuYWJsZWRDb3VudCgpLCBsb29wKTtcbiAgICByZXR1cm4gX3RoaXMuZW5hYmxlZEl0ZW0obmV4dEVuYWJsZWRJbmRleCk7XG4gIH07XG5cbiAgdGhpcy5wcmV2ID0gZnVuY3Rpb24gKGluZGV4LCBsb29wKSB7XG4gICAgaWYgKGxvb3AgPT09IHZvaWQgMCkge1xuICAgICAgbG9vcCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIHByZXYgPSBnZXRQcmV2SW5kZXgoaW5kZXgsIF90aGlzLmNvdW50KCkgLSAxLCBsb29wKTtcbiAgICByZXR1cm4gX3RoaXMuaXRlbShwcmV2KTtcbiAgfTtcblxuICB0aGlzLnByZXZFbmFibGVkID0gZnVuY3Rpb24gKGluZGV4LCBsb29wKSB7XG4gICAgaWYgKGxvb3AgPT09IHZvaWQgMCkge1xuICAgICAgbG9vcCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGl0ZW0gPSBfdGhpcy5pdGVtKGluZGV4KTtcblxuICAgIGlmICghaXRlbSkgcmV0dXJuO1xuXG4gICAgdmFyIGVuYWJsZWRJbmRleCA9IF90aGlzLmVuYWJsZWRJbmRleE9mKGl0ZW0ubm9kZSk7XG5cbiAgICB2YXIgcHJldkVuYWJsZWRJbmRleCA9IGdldFByZXZJbmRleChlbmFibGVkSW5kZXgsIF90aGlzLmVuYWJsZWRDb3VudCgpIC0gMSwgbG9vcCk7XG4gICAgcmV0dXJuIF90aGlzLmVuYWJsZWRJdGVtKHByZXZFbmFibGVkSW5kZXgpO1xuICB9O1xuXG4gIHRoaXMucmVnaXN0ZXJOb2RlID0gZnVuY3Rpb24gKG5vZGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW5vZGUgfHwgX3RoaXMuZGVzY2VuZGFudHMuaGFzKG5vZGUpKSByZXR1cm47XG4gICAgdmFyIGtleXMgPSBBcnJheS5mcm9tKF90aGlzLmRlc2NlbmRhbnRzLmtleXMoKSkuY29uY2F0KG5vZGUpO1xuICAgIHZhciBzb3J0ZWQgPSBzb3J0Tm9kZXMoa2V5cyk7XG5cbiAgICBpZiAob3B0aW9ucyAhPSBudWxsICYmIG9wdGlvbnMuZGlzYWJsZWQpIHtcbiAgICAgIG9wdGlvbnMuZGlzYWJsZWQgPSAhIW9wdGlvbnMuZGlzYWJsZWQ7XG4gICAgfVxuXG4gICAgdmFyIGRlc2NlbmRhbnQgPSBfZXh0ZW5kcyh7XG4gICAgICBub2RlOiBub2RlLFxuICAgICAgaW5kZXg6IC0xXG4gICAgfSwgb3B0aW9ucyk7XG5cbiAgICBfdGhpcy5kZXNjZW5kYW50cy5zZXQobm9kZSwgZGVzY2VuZGFudCk7XG5cbiAgICBfdGhpcy5hc3NpZ25JbmRleChzb3J0ZWQpO1xuICB9O1xufTtcblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIFJlYWN0IGhvb2sgdGhhdCBpbml0aWFsaXplcyB0aGUgRGVzY2VuZGFudHNNYW5hZ2VyXG4gKi9cblxuZnVuY3Rpb24gdXNlRGVzY2VuZGFudHMoKSB7XG4gIHZhciBkZXNjZW5kYW50cyA9IHVzZVJlZihuZXcgRGVzY2VuZGFudHNNYW5hZ2VyKCkpO1xuICB1c2VTYWZlTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRlc2NlbmRhbnRzLmN1cnJlbnQuZGVzdHJveSgpO1xuICAgIH07XG4gIH0pO1xuICByZXR1cm4gZGVzY2VuZGFudHMuY3VycmVudDtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRGVzY2VuZGFudHMgY29udGV4dCB0byBiZSB1c2VkIGluIGNvbXBvbmVudC1sYW5kLlxuICAtIE1vdW50IHRoZSBgRGVzY2VuZGFudHNDb250ZXh0UHJvdmlkZXJgIGF0IHRoZSByb290IG9mIHRoZSBjb21wb25lbnRcbiAgLSBDYWxsIGB1c2VEZXNjZW5kYW50c0NvbnRleHRgIGFueXdoZXJlIHlvdSBuZWVkIGFjY2VzcyB0byB0aGUgZGVzY2VuZGFudHMgaW5mb3JtYXRpb25cblxuICBOQjogIEkgcmVjb21tZW5kIHVzaW5nIGBjcmVhdGVEZXNjZW5kYW50Q29udGV4dGAgYmVsb3dcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbnZhciBfY3JlYXRlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICBuYW1lOiBcIkRlc2NlbmRhbnRzUHJvdmlkZXJcIixcbiAgZXJyb3JNZXNzYWdlOiBcInVzZURlc2NlbmRhbnRzQ29udGV4dCBtdXN0IGJlIHVzZWQgd2l0aGluIERlc2NlbmRhbnRzUHJvdmlkZXJcIlxufSksXG4gICAgRGVzY2VuZGFudHNDb250ZXh0UHJvdmlkZXIgPSBfY3JlYXRlQ29udGV4dFswXSxcbiAgICB1c2VEZXNjZW5kYW50c0NvbnRleHQgPSBfY3JlYXRlQ29udGV4dFsxXTtcbi8qKlxuICogQGludGVybmFsXG4gKiBUaGlzIGhvb2sgcHJvdmlkZXMgaW5mb3JtYXRpb24gYSBkZXNjZW5kYW50IHN1Y2ggYXM6XG4gKiAtIEl0cyBpbmRleCBjb21wYXJlZCB0byBvdGhlciBkZXNjZW5kYW50c1xuICogLSByZWYgY2FsbGJhY2sgdG8gcmVnaXN0ZXIgdGhlIGRlc2NlbmRhbnRcbiAqIC0gSXRzIGVuYWJsZWQgaW5kZXggY29tcGFyZWQgdG8gb3RoZXIgZW5hYmxlZCBkZXNjZW5kYW50c1xuICovXG5cblxuZnVuY3Rpb24gdXNlRGVzY2VuZGFudChvcHRpb25zKSB7XG4gIHZhciBkZXNjZW5kYW50cyA9IHVzZURlc2NlbmRhbnRzQ29udGV4dCgpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgtMSksXG4gICAgICBpbmRleCA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEluZGV4ID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciByZWYgPSB1c2VSZWYobnVsbCk7XG4gIHVzZVNhZmVMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXJlZi5jdXJyZW50KSByZXR1cm47XG4gICAgICBkZXNjZW5kYW50cy51bnJlZ2lzdGVyKHJlZi5jdXJyZW50KTtcbiAgICB9O1xuICB9LCBbXSk7XG4gIHVzZVNhZmVMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghcmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICB2YXIgZGF0YUluZGV4ID0gTnVtYmVyKHJlZi5jdXJyZW50LmRhdGFzZXQuaW5kZXgpO1xuXG4gICAgaWYgKGluZGV4ICE9IGRhdGFJbmRleCAmJiAhTnVtYmVyLmlzTmFOKGRhdGFJbmRleCkpIHtcbiAgICAgIHNldEluZGV4KGRhdGFJbmRleCk7XG4gICAgfVxuICB9KTtcbiAgdmFyIHJlZkNhbGxiYWNrID0gb3B0aW9ucyA/IGNhc3QoZGVzY2VuZGFudHMucmVnaXN0ZXIob3B0aW9ucykpIDogY2FzdChkZXNjZW5kYW50cy5yZWdpc3Rlcik7XG4gIHJldHVybiB7XG4gICAgZGVzY2VuZGFudHM6IGRlc2NlbmRhbnRzLFxuICAgIGluZGV4OiBpbmRleCxcbiAgICBlbmFibGVkSW5kZXg6IGRlc2NlbmRhbnRzLmVuYWJsZWRJbmRleE9mKHJlZi5jdXJyZW50KSxcbiAgICByZWdpc3RlcjogbWVyZ2VSZWZzKHJlZkNhbGxiYWNrLCByZWYpXG4gIH07XG59XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBGdW5jdGlvbiB0aGF0IHByb3ZpZGVzIHN0cm9uZ2x5IHR5cGVkIHZlcnNpb25zIG9mIHRoZSBjb250ZXh0IHByb3ZpZGVyIGFuZCBob29rcyBhYm92ZS5cbiAgIFRvIGJlIHVzZWQgaW4gY29tcG9uZW50LWxhbmRcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuXG5mdW5jdGlvbiBjcmVhdGVEZXNjZW5kYW50Q29udGV4dCgpIHtcbiAgdmFyIENvbnRleHRQcm92aWRlciA9IGNhc3QoRGVzY2VuZGFudHNDb250ZXh0UHJvdmlkZXIpO1xuXG4gIHZhciBfdXNlRGVzY2VuZGFudHNDb250ZXh0ID0gZnVuY3Rpb24gX3VzZURlc2NlbmRhbnRzQ29udGV4dCgpIHtcbiAgICByZXR1cm4gY2FzdCh1c2VEZXNjZW5kYW50c0NvbnRleHQoKSk7XG4gIH07XG5cbiAgdmFyIF91c2VEZXNjZW5kYW50ID0gZnVuY3Rpb24gX3VzZURlc2NlbmRhbnQob3B0aW9ucykge1xuICAgIHJldHVybiB1c2VEZXNjZW5kYW50KG9wdGlvbnMpO1xuICB9O1xuXG4gIHZhciBfdXNlRGVzY2VuZGFudHMgPSBmdW5jdGlvbiBfdXNlRGVzY2VuZGFudHMoKSB7XG4gICAgcmV0dXJuIHVzZURlc2NlbmRhbnRzKCk7XG4gIH07XG5cbiAgcmV0dXJuIFsvLyBjb250ZXh0IHByb3ZpZGVyXG4gIENvbnRleHRQcm92aWRlciwgLy8gY2FsbCB0aGlzIHdoZW4geW91IG5lZWQgdG8gcmVhZCBmcm9tIGNvbnRleHRcbiAgX3VzZURlc2NlbmRhbnRzQ29udGV4dCwgLy8gZGVzY2VuZGFudHMgc3RhdGUgaW5mb3JtYXRpb24sIHRvIGJlIGNhbGxlZCBhbmQgcGFzc2VkIHRvIGBDb250ZXh0UHJvdmlkZXJgXG4gIF91c2VEZXNjZW5kYW50cywgLy8gZGVzY2VuZGFudCBpbmRleCBpbmZvcm1hdGlvblxuICBfdXNlRGVzY2VuZGFudF07XG59XG5cbmV4cG9ydCB7IGNyZWF0ZURlc2NlbmRhbnRDb250ZXh0LCBjcmVhdGVEZXNjZW5kYW50Q29udGV4dCBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VNdWx0aVN0eWxlQ29uZmlnLCBvbWl0VGhlbWluZ1Byb3BzLCBTdHlsZXNQcm92aWRlciwgY2hha3JhLCB1c2VTdHlsZXMgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBmb2N1cywgbm9ybWFsaXplRXZlbnRLZXksIGlzRW1wdHksIGdldFJlbGF0ZWRUYXJnZXQsIGNvbnRhaW5zLCBhcmlhQXR0ciwgY2FsbEFsbEhhbmRsZXJzLCBjeCwgcnVuSWZGbiwgX19ERVZfXyB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0IHsgbWVyZ2VSZWZzLCBjcmVhdGVDb250ZXh0IH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdC11dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNvbnRyb2xsYWJsZVN0YXRlLCB1c2VGb2N1c09uUG9pbnRlckRvd24sIHVzZVVwZGF0ZUVmZmVjdCB9IGZyb20gJ0BjaGFrcmEtdWkvaG9va3MnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIF9leGNsdWRlZCQxID0gW1wib25DaGFuZ2VcIiwgXCJvbkNhbmNlbFwiLCBcIm9uU3VibWl0XCIsIFwidmFsdWVcIiwgXCJpc0Rpc2FibGVkXCIsIFwiZGVmYXVsdFZhbHVlXCIsIFwic3RhcnRXaXRoRWRpdFZpZXdcIiwgXCJpc1ByZXZpZXdGb2N1c2FibGVcIiwgXCJzdWJtaXRPbkJsdXJcIiwgXCJzZWxlY3RBbGxPbkZvY3VzXCIsIFwicGxhY2Vob2xkZXJcIiwgXCJvbkVkaXRcIl07XG5cbi8qKlxuICogUmVhY3QgaG9vayBmb3IgbWFuYWdpbmcgdGhlIGlubGluZSByZW5hbWluZyBvZiBzb21lIHRleHQuXG4gKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vY2hha3JhLXVpLmNvbS9lZGl0YWJsZVxuICovXG5mdW5jdGlvbiB1c2VFZGl0YWJsZShwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBvbkNoYW5nZVByb3AgPSBfcHJvcHMub25DaGFuZ2UsXG4gICAgICBvbkNhbmNlbFByb3AgPSBfcHJvcHMub25DYW5jZWwsXG4gICAgICBvblN1Ym1pdFByb3AgPSBfcHJvcHMub25TdWJtaXQsXG4gICAgICB2YWx1ZVByb3AgPSBfcHJvcHMudmFsdWUsXG4gICAgICBpc0Rpc2FibGVkID0gX3Byb3BzLmlzRGlzYWJsZWQsXG4gICAgICBkZWZhdWx0VmFsdWUgPSBfcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgc3RhcnRXaXRoRWRpdFZpZXcgPSBfcHJvcHMuc3RhcnRXaXRoRWRpdFZpZXcsXG4gICAgICBfcHJvcHMkaXNQcmV2aWV3Rm9jdXMgPSBfcHJvcHMuaXNQcmV2aWV3Rm9jdXNhYmxlLFxuICAgICAgaXNQcmV2aWV3Rm9jdXNhYmxlID0gX3Byb3BzJGlzUHJldmlld0ZvY3VzID09PSB2b2lkIDAgPyB0cnVlIDogX3Byb3BzJGlzUHJldmlld0ZvY3VzLFxuICAgICAgX3Byb3BzJHN1Ym1pdE9uQmx1ciA9IF9wcm9wcy5zdWJtaXRPbkJsdXIsXG4gICAgICBzdWJtaXRPbkJsdXIgPSBfcHJvcHMkc3VibWl0T25CbHVyID09PSB2b2lkIDAgPyB0cnVlIDogX3Byb3BzJHN1Ym1pdE9uQmx1cixcbiAgICAgIF9wcm9wcyRzZWxlY3RBbGxPbkZvYyA9IF9wcm9wcy5zZWxlY3RBbGxPbkZvY3VzLFxuICAgICAgc2VsZWN0QWxsT25Gb2N1cyA9IF9wcm9wcyRzZWxlY3RBbGxPbkZvYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRzZWxlY3RBbGxPbkZvYyxcbiAgICAgIHBsYWNlaG9sZGVyID0gX3Byb3BzLnBsYWNlaG9sZGVyLFxuICAgICAgb25FZGl0UHJvcCA9IF9wcm9wcy5vbkVkaXQsXG4gICAgICBodG1sUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcHJvcHMsIF9leGNsdWRlZCQxKTtcblxuICB2YXIgZGVmYXVsdElzRWRpdGluZyA9IEJvb2xlYW4oc3RhcnRXaXRoRWRpdFZpZXcgJiYgIWlzRGlzYWJsZWQpO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShkZWZhdWx0SXNFZGl0aW5nKSxcbiAgICAgIGlzRWRpdGluZyA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldElzRWRpdGluZyA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgX3VzZUNvbnRyb2xsYWJsZVN0YXRlID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlIHx8IFwiXCIsXG4gICAgdmFsdWU6IHZhbHVlUHJvcCxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VQcm9wXG4gIH0pLFxuICAgICAgdmFsdWUgPSBfdXNlQ29udHJvbGxhYmxlU3RhdGVbMF0sXG4gICAgICBzZXRWYWx1ZSA9IF91c2VDb250cm9sbGFibGVTdGF0ZVsxXTtcbiAgLyoqXG4gICAqIEtlZXAgdHJhY2sgb2YgdGhlIHByZXZpb3VzIHZhbHVlLCBzbyBpZiB1c2Vyc1xuICAgKiBwcmVzc2VzIGBjYW5jZWxgLCB3ZSBjYW4gcmV2ZXJ0IHRvIGl0LlxuICAgKi9cblxuXG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUodmFsdWUpLFxuICAgICAgcHJldlZhbHVlID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFByZXZWYWx1ZSA9IF91c2VTdGF0ZTJbMV07XG4gIC8qKlxuICAgKiBSZWYgdG8gaGVscCBmb2N1cyB0aGUgaW5wdXQgaW4gZWRpdCBtb2RlXG4gICAqL1xuXG5cbiAgdmFyIGlucHV0UmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgcHJldmlld1JlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIGVkaXRCdXR0b25SZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBjYW5jZWxCdXR0b25SZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBzdWJtaXRCdXR0b25SZWYgPSB1c2VSZWYobnVsbCk7XG4gIHVzZUZvY3VzT25Qb2ludGVyRG93bih7XG4gICAgcmVmOiBpbnB1dFJlZixcbiAgICBlbmFibGVkOiBpc0VkaXRpbmcsXG4gICAgZWxlbWVudHM6IFtjYW5jZWxCdXR0b25SZWYsIHN1Ym1pdEJ1dHRvblJlZl1cbiAgfSk7XG4gIHZhciBpc0ludGVyYWN0aXZlID0gIWlzRWRpdGluZyB8fCAhaXNEaXNhYmxlZDtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWlzRWRpdGluZykge1xuICAgICAgZm9jdXMoZWRpdEJ1dHRvblJlZi5jdXJyZW50KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb2N1cyhpbnB1dFJlZi5jdXJyZW50LCB7XG4gICAgICBzZWxlY3RUZXh0SWZJbnB1dDogc2VsZWN0QWxsT25Gb2N1c1xuICAgIH0pO1xuICAgIG9uRWRpdFByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRWRpdFByb3AoKTtcbiAgfSwgW2lzRWRpdGluZywgb25FZGl0UHJvcCwgc2VsZWN0QWxsT25Gb2N1c10pO1xuICB2YXIgb25FZGl0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGlmIChpc0ludGVyYWN0aXZlKSB7XG4gICAgICBzZXRJc0VkaXRpbmcodHJ1ZSk7XG4gICAgfVxuICB9LCBbaXNJbnRlcmFjdGl2ZV0pO1xuICB2YXIgb25DYW5jZWwgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgc2V0SXNFZGl0aW5nKGZhbHNlKTtcbiAgICBzZXRWYWx1ZShwcmV2VmFsdWUpO1xuICAgIG9uQ2FuY2VsUHJvcCA9PSBudWxsID8gdm9pZCAwIDogb25DYW5jZWxQcm9wKHByZXZWYWx1ZSk7XG4gIH0sIFtvbkNhbmNlbFByb3AsIHNldFZhbHVlLCBwcmV2VmFsdWVdKTtcbiAgdmFyIG9uU3VibWl0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHNldElzRWRpdGluZyhmYWxzZSk7XG4gICAgc2V0UHJldlZhbHVlKHZhbHVlKTtcbiAgICBvblN1Ym1pdFByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IG9uU3VibWl0UHJvcCh2YWx1ZSk7XG4gIH0sIFt2YWx1ZSwgb25TdWJtaXRQcm9wXSk7XG4gIHZhciBvbkNoYW5nZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHNldFZhbHVlKGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH0sIFtzZXRWYWx1ZV0pO1xuICB2YXIgb25LZXlEb3duID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGV2ZW50S2V5ID0gbm9ybWFsaXplRXZlbnRLZXkoZXZlbnQpO1xuICAgIHZhciBrZXlNYXAgPSB7XG4gICAgICBFc2NhcGU6IG9uQ2FuY2VsLFxuICAgICAgRW50ZXI6IGZ1bmN0aW9uIEVudGVyKGV2ZW50KSB7XG4gICAgICAgIGlmICghZXZlbnQuc2hpZnRLZXkgJiYgIWV2ZW50Lm1ldGFLZXkpIHtcbiAgICAgICAgICBvblN1Ym1pdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgYWN0aW9uID0ga2V5TWFwW2V2ZW50S2V5XTtcblxuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBhY3Rpb24oZXZlbnQpO1xuICAgIH1cbiAgfSwgW29uQ2FuY2VsLCBvblN1Ym1pdF0pO1xuICB2YXIgaXNWYWx1ZUVtcHR5ID0gaXNFbXB0eSh2YWx1ZSk7XG4gIHZhciBvbkJsdXIgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgcmVsYXRlZFRhcmdldCA9IGdldFJlbGF0ZWRUYXJnZXQoZXZlbnQpO1xuICAgIHZhciB0YXJnZXRJc0NhbmNlbCA9IGNvbnRhaW5zKGNhbmNlbEJ1dHRvblJlZi5jdXJyZW50LCByZWxhdGVkVGFyZ2V0KTtcbiAgICB2YXIgdGFyZ2V0SXNTdWJtaXQgPSBjb250YWlucyhzdWJtaXRCdXR0b25SZWYuY3VycmVudCwgcmVsYXRlZFRhcmdldCk7XG4gICAgdmFyIGlzVmFsaWRCbHVyID0gIXRhcmdldElzQ2FuY2VsICYmICF0YXJnZXRJc1N1Ym1pdDtcblxuICAgIGlmIChpc1ZhbGlkQmx1ciAmJiBzdWJtaXRPbkJsdXIpIHtcbiAgICAgIG9uU3VibWl0KCk7XG4gICAgfVxuICB9LCBbc3VibWl0T25CbHVyLCBvblN1Ym1pdF0pO1xuICB2YXIgZ2V0UHJldmlld1Byb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHRhYkluZGV4ID0gaXNJbnRlcmFjdGl2ZSAmJiBpc1ByZXZpZXdGb2N1c2FibGUgPyAwIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHJlZjogbWVyZ2VSZWZzKHJlZiwgcHJldmlld1JlZiksXG4gICAgICBjaGlsZHJlbjogaXNWYWx1ZUVtcHR5ID8gcGxhY2Vob2xkZXIgOiB2YWx1ZSxcbiAgICAgIGhpZGRlbjogaXNFZGl0aW5nLFxuICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGFyaWFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgdGFiSW5kZXg6IHRhYkluZGV4LFxuICAgICAgb25Gb2N1czogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uRm9jdXMsIG9uRWRpdClcbiAgICB9KTtcbiAgfSwgW2lzRGlzYWJsZWQsIGlzRWRpdGluZywgaXNJbnRlcmFjdGl2ZSwgaXNQcmV2aWV3Rm9jdXNhYmxlLCBpc1ZhbHVlRW1wdHksIG9uRWRpdCwgcGxhY2Vob2xkZXIsIHZhbHVlXSk7XG4gIHZhciBnZXRJbnB1dFByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgaGlkZGVuOiAhaXNFZGl0aW5nLFxuICAgICAgcGxhY2Vob2xkZXI6IHBsYWNlaG9sZGVyLFxuICAgICAgcmVmOiBtZXJnZVJlZnMocmVmLCBpbnB1dFJlZiksXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBhcmlhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIG9uQmx1cjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uQmx1ciwgb25CbHVyKSxcbiAgICAgIG9uQ2hhbmdlOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25DaGFuZ2UsIG9uQ2hhbmdlKSxcbiAgICAgIG9uS2V5RG93bjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgb25LZXlEb3duKVxuICAgIH0pO1xuICB9LCBbaXNEaXNhYmxlZCwgaXNFZGl0aW5nLCBvbkJsdXIsIG9uQ2hhbmdlLCBvbktleURvd24sIHBsYWNlaG9sZGVyLCB2YWx1ZV0pO1xuICB2YXIgZ2V0RWRpdEJ1dHRvblByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIkVkaXRcIlxuICAgIH0sIHByb3BzLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgb25DbGljazogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uQ2xpY2ssIG9uRWRpdCksXG4gICAgICByZWY6IG1lcmdlUmVmcyhyZWYsIGVkaXRCdXR0b25SZWYpXG4gICAgfSk7XG4gIH0sIFtvbkVkaXRdKTtcbiAgdmFyIGdldFN1Ym1pdEJ1dHRvblByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiU3VibWl0XCIsXG4gICAgICByZWY6IG1lcmdlUmVmcyhzdWJtaXRCdXR0b25SZWYsIHJlZiksXG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgb25DbGljazogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uQ2xpY2ssIG9uU3VibWl0KVxuICAgIH0pO1xuICB9LCBbb25TdWJtaXRdKTtcbiAgdmFyIGdldENhbmNlbEJ1dHRvblByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBcIkNhbmNlbFwiLFxuICAgICAgaWQ6IFwiY2FuY2VsXCJcbiAgICB9LCBwcm9wcywge1xuICAgICAgcmVmOiBtZXJnZVJlZnMoY2FuY2VsQnV0dG9uUmVmLCByZWYpLFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIG9uQ2xpY2s6IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbkNsaWNrLCBvbkNhbmNlbClcbiAgICB9KTtcbiAgfSwgW29uQ2FuY2VsXSk7XG4gIHJldHVybiB7XG4gICAgaXNFZGl0aW5nOiBpc0VkaXRpbmcsXG4gICAgaXNEaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICBpc1ZhbHVlRW1wdHk6IGlzVmFsdWVFbXB0eSxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgb25FZGl0OiBvbkVkaXQsXG4gICAgb25DYW5jZWw6IG9uQ2FuY2VsLFxuICAgIG9uU3VibWl0OiBvblN1Ym1pdCxcbiAgICBnZXRQcmV2aWV3UHJvcHM6IGdldFByZXZpZXdQcm9wcyxcbiAgICBnZXRJbnB1dFByb3BzOiBnZXRJbnB1dFByb3BzLFxuICAgIGdldEVkaXRCdXR0b25Qcm9wczogZ2V0RWRpdEJ1dHRvblByb3BzLFxuICAgIGdldFN1Ym1pdEJ1dHRvblByb3BzOiBnZXRTdWJtaXRCdXR0b25Qcm9wcyxcbiAgICBnZXRDYW5jZWxCdXR0b25Qcm9wczogZ2V0Q2FuY2VsQnV0dG9uUHJvcHMsXG4gICAgaHRtbFByb3BzOiBodG1sUHJvcHNcbiAgfTtcbn1cblxudmFyIF9leGNsdWRlZCA9IFtcImh0bWxQcm9wc1wiXTtcblxudmFyIF9jcmVhdGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gIG5hbWU6IFwiRWRpdGFibGVDb250ZXh0XCIsXG4gIGVycm9yTWVzc2FnZTogXCJ1c2VFZGl0YWJsZUNvbnRleHQ6IGNvbnRleHQgaXMgdW5kZWZpbmVkLiBTZWVtcyB5b3UgZm9yZ290IHRvIHdyYXAgdGhlIGVkaXRhYmxlIGNvbXBvbmVudHMgaW4gYDxFZGl0YWJsZSAvPmBcIlxufSksXG4gICAgRWRpdGFibGVQcm92aWRlciA9IF9jcmVhdGVDb250ZXh0WzBdLFxuICAgIHVzZUVkaXRhYmxlQ29udGV4dCA9IF9jcmVhdGVDb250ZXh0WzFdO1xuXG4vKipcbiAqIEVkaXRhYmxlXG4gKlxuICogVGhlIHdyYXBwZXIgdGhhdCBwcm92aWRlcyBjb250ZXh0IGFuZCBsb2dpYyBmb3IgYWxsIGVkaXRhYmxlXG4gKiBjb21wb25lbnRzLiBJdCByZW5kZXJzIGEgYGRpdmBcbiAqL1xudmFyIEVkaXRhYmxlID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZU11bHRpU3R5bGVDb25maWcoXCJFZGl0YWJsZVwiLCBwcm9wcyk7XG4gIHZhciBvd25Qcm9wcyA9IG9taXRUaGVtaW5nUHJvcHMocHJvcHMpO1xuXG4gIHZhciBfdXNlRWRpdGFibGUgPSB1c2VFZGl0YWJsZShvd25Qcm9wcyksXG4gICAgICBodG1sUHJvcHMgPSBfdXNlRWRpdGFibGUuaHRtbFByb3BzLFxuICAgICAgY29udGV4dCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF91c2VFZGl0YWJsZSwgX2V4Y2x1ZGVkKTtcblxuICB2YXIgaXNFZGl0aW5nID0gY29udGV4dC5pc0VkaXRpbmcsXG4gICAgICBvblN1Ym1pdCA9IGNvbnRleHQub25TdWJtaXQsXG4gICAgICBvbkNhbmNlbCA9IGNvbnRleHQub25DYW5jZWwsXG4gICAgICBvbkVkaXQgPSBjb250ZXh0Lm9uRWRpdDtcblxuICB2YXIgX2NsYXNzTmFtZSA9IGN4KFwiY2hha3JhLWVkaXRhYmxlXCIsIHByb3BzLmNsYXNzTmFtZSk7XG5cbiAgdmFyIGNoaWxkcmVuID0gcnVuSWZGbihwcm9wcy5jaGlsZHJlbiwge1xuICAgIGlzRWRpdGluZzogaXNFZGl0aW5nLFxuICAgIG9uU3VibWl0OiBvblN1Ym1pdCxcbiAgICBvbkNhbmNlbDogb25DYW5jZWwsXG4gICAgb25FZGl0OiBvbkVkaXRcbiAgfSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChFZGl0YWJsZVByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGNvbnRleHRcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVzUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogc3R5bGVzXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZlxuICB9LCBodG1sUHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IF9jbGFzc05hbWVcbiAgfSksIGNoaWxkcmVuKSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIEVkaXRhYmxlLmRpc3BsYXlOYW1lID0gXCJFZGl0YWJsZVwiO1xufVxuXG52YXIgY29tbW9uU3R5bGVzID0ge1xuICBmb250U2l6ZTogXCJpbmhlcml0XCIsXG4gIGZvbnRXZWlnaHQ6IFwiaW5oZXJpdFwiLFxuICB0ZXh0QWxpZ246IFwiaW5oZXJpdFwiLFxuICBiZzogXCJ0cmFuc3BhcmVudFwiXG59O1xuXG4vKipcbiAqIEVkaXRhYmxlUHJldmlld1xuICpcbiAqIFRoZSBgc3BhbmAgdXNlZCB0byBkaXNwbGF5IHRoZSBmaW5hbCB2YWx1ZSwgaW4gdGhlIGBwcmV2aWV3YCBtb2RlXG4gKi9cbnZhciBFZGl0YWJsZVByZXZpZXcgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3VzZUVkaXRhYmxlQ29udGV4dCA9IHVzZUVkaXRhYmxlQ29udGV4dCgpLFxuICAgICAgZ2V0UHJldmlld1Byb3BzID0gX3VzZUVkaXRhYmxlQ29udGV4dC5nZXRQcmV2aWV3UHJvcHM7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICB2YXIgcHJldmlld1Byb3BzID0gZ2V0UHJldmlld1Byb3BzKHByb3BzLCByZWYpO1xuXG4gIHZhciBfY2xhc3NOYW1lID0gY3goXCJjaGFrcmEtZWRpdGFibGVfX3ByZXZpZXdcIiwgcHJvcHMuY2xhc3NOYW1lKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnNwYW4sIF9leHRlbmRzKHt9LCBwcmV2aWV3UHJvcHMsIHtcbiAgICBfX2NzczogX2V4dGVuZHMoe1xuICAgICAgY3Vyc29yOiBcInRleHRcIixcbiAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCJcbiAgICB9LCBjb21tb25TdHlsZXMsIHN0eWxlcy5wcmV2aWV3KSxcbiAgICBjbGFzc05hbWU6IF9jbGFzc05hbWVcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIEVkaXRhYmxlUHJldmlldy5kaXNwbGF5TmFtZSA9IFwiRWRpdGFibGVQcmV2aWV3XCI7XG59XG5cbi8qKlxuICogRWRpdGFibGVJbnB1dFxuICpcbiAqIFRoZSBpbnB1dCB1c2VkIGluIHRoZSBgZWRpdGAgbW9kZVxuICovXG52YXIgRWRpdGFibGVJbnB1dCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfdXNlRWRpdGFibGVDb250ZXh0MiA9IHVzZUVkaXRhYmxlQ29udGV4dCgpLFxuICAgICAgZ2V0SW5wdXRQcm9wcyA9IF91c2VFZGl0YWJsZUNvbnRleHQyLmdldElucHV0UHJvcHM7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICB2YXIgaW5wdXRQcm9wcyA9IGdldElucHV0UHJvcHMocHJvcHMsIHJlZik7XG5cbiAgdmFyIF9jbGFzc05hbWUgPSBjeChcImNoYWtyYS1lZGl0YWJsZV9faW5wdXRcIiwgcHJvcHMuY2xhc3NOYW1lKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmlucHV0LCBfZXh0ZW5kcyh7fSwgaW5wdXRQcm9wcywge1xuICAgIF9fY3NzOiBfZXh0ZW5kcyh7XG4gICAgICBvdXRsaW5lOiAwXG4gICAgfSwgY29tbW9uU3R5bGVzLCBzdHlsZXMuaW5wdXQpLFxuICAgIGNsYXNzTmFtZTogX2NsYXNzTmFtZVxuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgRWRpdGFibGVJbnB1dC5kaXNwbGF5TmFtZSA9IFwiRWRpdGFibGVJbnB1dFwiO1xufVxuLyoqXG4gKiBSZWFjdCBob29rIHVzZSB0byBnYWluIGFjY2VzcyB0byB0aGUgZWRpdGFibGUgc3RhdGUgYW5kIGFjdGlvbnMuXG4gKi9cblxuXG5mdW5jdGlvbiB1c2VFZGl0YWJsZVN0YXRlKCkge1xuICB2YXIgX3VzZUVkaXRhYmxlQ29udGV4dDMgPSB1c2VFZGl0YWJsZUNvbnRleHQoKSxcbiAgICAgIGlzRWRpdGluZyA9IF91c2VFZGl0YWJsZUNvbnRleHQzLmlzRWRpdGluZyxcbiAgICAgIG9uU3VibWl0ID0gX3VzZUVkaXRhYmxlQ29udGV4dDMub25TdWJtaXQsXG4gICAgICBvbkNhbmNlbCA9IF91c2VFZGl0YWJsZUNvbnRleHQzLm9uQ2FuY2VsLFxuICAgICAgb25FZGl0ID0gX3VzZUVkaXRhYmxlQ29udGV4dDMub25FZGl0LFxuICAgICAgaXNEaXNhYmxlZCA9IF91c2VFZGl0YWJsZUNvbnRleHQzLmlzRGlzYWJsZWQ7XG5cbiAgcmV0dXJuIHtcbiAgICBpc0VkaXRpbmc6IGlzRWRpdGluZyxcbiAgICBvblN1Ym1pdDogb25TdWJtaXQsXG4gICAgb25DYW5jZWw6IG9uQ2FuY2VsLFxuICAgIG9uRWRpdDogb25FZGl0LFxuICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWRcbiAgfTtcbn1cbi8qKlxuICogUmVhY3QgaG9vayB1c2UgdG8gY3JlYXRlIGNvbnRyb2xzIGZvciB0aGUgZWRpdGFibGUgY29tcG9uZW50XG4gKi9cblxuZnVuY3Rpb24gdXNlRWRpdGFibGVDb250cm9scygpIHtcbiAgdmFyIF91c2VFZGl0YWJsZUNvbnRleHQ0ID0gdXNlRWRpdGFibGVDb250ZXh0KCksXG4gICAgICBpc0VkaXRpbmcgPSBfdXNlRWRpdGFibGVDb250ZXh0NC5pc0VkaXRpbmcsXG4gICAgICBnZXRFZGl0QnV0dG9uUHJvcHMgPSBfdXNlRWRpdGFibGVDb250ZXh0NC5nZXRFZGl0QnV0dG9uUHJvcHMsXG4gICAgICBnZXRDYW5jZWxCdXR0b25Qcm9wcyA9IF91c2VFZGl0YWJsZUNvbnRleHQ0LmdldENhbmNlbEJ1dHRvblByb3BzLFxuICAgICAgZ2V0U3VibWl0QnV0dG9uUHJvcHMgPSBfdXNlRWRpdGFibGVDb250ZXh0NC5nZXRTdWJtaXRCdXR0b25Qcm9wcztcblxuICByZXR1cm4ge1xuICAgIGlzRWRpdGluZzogaXNFZGl0aW5nLFxuICAgIGdldEVkaXRCdXR0b25Qcm9wczogZ2V0RWRpdEJ1dHRvblByb3BzLFxuICAgIGdldENhbmNlbEJ1dHRvblByb3BzOiBnZXRDYW5jZWxCdXR0b25Qcm9wcyxcbiAgICBnZXRTdWJtaXRCdXR0b25Qcm9wczogZ2V0U3VibWl0QnV0dG9uUHJvcHNcbiAgfTtcbn1cblxuZXhwb3J0IHsgRWRpdGFibGUsIEVkaXRhYmxlSW5wdXQsIEVkaXRhYmxlUHJldmlldywgdXNlRWRpdGFibGUsIHVzZUVkaXRhYmxlQ29udHJvbHMsIHVzZUVkaXRhYmxlU3RhdGUgfTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdEZvY3VzTG9jayBmcm9tICdyZWFjdC1mb2N1cy1sb2NrJztcbmltcG9ydCB7IGdldEFsbEZvY3VzYWJsZSwgZm9jdXMsIF9fREVWX18gfSBmcm9tICdAY2hha3JhLXVpL3V0aWxzJztcblxudmFyIEZvY3VzTG9jayA9IGZ1bmN0aW9uIEZvY3VzTG9jayhwcm9wcykge1xuICB2YXIgaW5pdGlhbEZvY3VzUmVmID0gcHJvcHMuaW5pdGlhbEZvY3VzUmVmLFxuICAgICAgZmluYWxGb2N1c1JlZiA9IHByb3BzLmZpbmFsRm9jdXNSZWYsXG4gICAgICBjb250ZW50UmVmID0gcHJvcHMuY29udGVudFJlZixcbiAgICAgIHJlc3RvcmVGb2N1cyA9IHByb3BzLnJlc3RvcmVGb2N1cyxcbiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBpc0Rpc2FibGVkID0gcHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgIGF1dG9Gb2N1cyA9IHByb3BzLmF1dG9Gb2N1cyxcbiAgICAgIHBlcnNpc3RlbnRGb2N1cyA9IHByb3BzLnBlcnNpc3RlbnRGb2N1cyxcbiAgICAgIGxvY2tGb2N1c0Fjcm9zc0ZyYW1lcyA9IHByb3BzLmxvY2tGb2N1c0Fjcm9zc0ZyYW1lcztcbiAgdmFyIG9uQWN0aXZhdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaW5pdGlhbEZvY3VzUmVmICE9IG51bGwgJiYgaW5pdGlhbEZvY3VzUmVmLmN1cnJlbnQpIHtcbiAgICAgIGluaXRpYWxGb2N1c1JlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgfSBlbHNlIGlmIChjb250ZW50UmVmICE9IG51bGwgJiYgY29udGVudFJlZi5jdXJyZW50KSB7XG4gICAgICB2YXIgZm9jdXNhYmxlcyA9IGdldEFsbEZvY3VzYWJsZShjb250ZW50UmVmLmN1cnJlbnQpO1xuXG4gICAgICBpZiAoZm9jdXNhYmxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZm9jdXMoY29udGVudFJlZi5jdXJyZW50LCB7XG4gICAgICAgICAgbmV4dFRpY2s6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbaW5pdGlhbEZvY3VzUmVmLCBjb250ZW50UmVmXSk7XG4gIHZhciBvbkRlYWN0aXZhdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgX2ZpbmFsRm9jdXNSZWYkY3VycmVuO1xuXG4gICAgZmluYWxGb2N1c1JlZiA9PSBudWxsID8gdm9pZCAwIDogKF9maW5hbEZvY3VzUmVmJGN1cnJlbiA9IGZpbmFsRm9jdXNSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9maW5hbEZvY3VzUmVmJGN1cnJlbi5mb2N1cygpO1xuICB9LCBbZmluYWxGb2N1c1JlZl0pO1xuICB2YXIgcmV0dXJuRm9jdXMgPSByZXN0b3JlRm9jdXMgJiYgIWZpbmFsRm9jdXNSZWY7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdEZvY3VzTG9jaywge1xuICAgIGNyb3NzRnJhbWU6IGxvY2tGb2N1c0Fjcm9zc0ZyYW1lcyxcbiAgICBwZXJzaXN0ZW50Rm9jdXM6IHBlcnNpc3RlbnRGb2N1cyxcbiAgICBhdXRvRm9jdXM6IGF1dG9Gb2N1cyxcbiAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICBvbkFjdGl2YXRpb246IG9uQWN0aXZhdGlvbixcbiAgICBvbkRlYWN0aXZhdGlvbjogb25EZWFjdGl2YXRpb24sXG4gICAgcmV0dXJuRm9jdXM6IHJldHVybkZvY3VzXG4gIH0sIGNoaWxkcmVuKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIEZvY3VzTG9jay5kaXNwbGF5TmFtZSA9IFwiRm9jdXNMb2NrXCI7XG59XG5cbmV4cG9ydCB7IEZvY3VzTG9jaywgRm9jdXNMb2NrIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCB7IHVzZVRoZW1lIH0gZnJvbSAnQGNoYWtyYS11aS9zeXN0ZW0nO1xuaW1wb3J0IHsgaXNCcm93c2VyLCBfX0RFVl9fLCBtZW1vaXplZEdldCwgaXNOdW1iZXIsIGJyZWFrcG9pbnRzLCBpc0FycmF5LCBmcm9tRW50cmllcywgYXJyYXlUb09iamVjdE5vdGF0aW9uIH0gZnJvbSAnQGNoYWtyYS11aS91dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRW52aXJvbm1lbnQgfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0LWVudic7XG5cbnZhciB1c2VTYWZlTGF5b3V0RWZmZWN0ID0gaXNCcm93c2VyID8gUmVhY3QudXNlTGF5b3V0RWZmZWN0IDogUmVhY3QudXNlRWZmZWN0O1xuLyoqXG4gKiBSZWFjdCBob29rIHRoYXQgdHJhY2tzIHN0YXRlIG9mIGEgQ1NTIG1lZGlhIHF1ZXJ5XG4gKlxuICogQHBhcmFtIHF1ZXJ5IHRoZSBtZWRpYSBxdWVyeSB0byBtYXRjaFxuICovXG5cbmZ1bmN0aW9uIHVzZU1lZGlhUXVlcnkocXVlcnkpIHtcbiAgdmFyIGVudiA9IHVzZUVudmlyb25tZW50KCk7XG4gIHZhciBxdWVyaWVzID0gQXJyYXkuaXNBcnJheShxdWVyeSkgPyBxdWVyeSA6IFtxdWVyeV07XG4gIHZhciBpc1N1cHBvcnRlZCA9IGlzQnJvd3NlciAmJiBcIm1hdGNoTWVkaWFcIiBpbiBlbnYud2luZG93O1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShxdWVyaWVzLm1hcChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICByZXR1cm4gaXNTdXBwb3J0ZWQgPyAhIWVudi53aW5kb3cubWF0Y2hNZWRpYShxdWVyeSkubWF0Y2hlcyA6IGZhbHNlO1xuICB9KSksXG4gICAgICBtYXRjaGVzID0gX1JlYWN0JHVzZVN0YXRlWzBdLFxuICAgICAgc2V0TWF0Y2hlcyA9IF9SZWFjdCR1c2VTdGF0ZVsxXTsgLy8gU3BlY2lmeWluZyBtYXRjaGVzIGluIHRoZSBkZXBlbmRlbmN5IGxpc3Qgd2lsbCBjYXVzZSB0aGUgZXZlbnQgbGlzdGVuZXJzXG4gIC8vIHRvIHVubG9hZCBhbmQgdGhlbiBsb2FkIGVhY2ggdGltZSB0aGUgZGVwZW5kZW5jeSBjaGFuZ2VzLiBUaGlzIGNhdXNlc1xuICAvLyBNZWRpYSBRdWVyeSBFdmVudHMgdG8gYmUgbWlzc2VkLiBUaGUgZXZlbnQgbGlzdGVuZXJzIHNob3VsZCBvbmx5IGJlIHVubG9hZGVkXG4gIC8vIHdoZW4gdGhlIGNvbXBvbmVudCB1bmxvYWRzLlxuXG5cbiAgdXNlU2FmZUxheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpc1N1cHBvcnRlZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB2YXIgbWVkaWFRdWVyeUxpc3QgPSBxdWVyaWVzLm1hcChmdW5jdGlvbiAocXVlcnkpIHtcbiAgICAgIHJldHVybiBlbnYud2luZG93Lm1hdGNoTWVkaWEocXVlcnkpO1xuICAgIH0pO1xuICAgIHZhciBsaXN0ZW5lckxpc3QgPSBtZWRpYVF1ZXJ5TGlzdC5tYXAoZnVuY3Rpb24gKF8sIGluZGV4KSB7XG4gICAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiBsaXN0ZW5lcihtcWxFdmVudCkge1xuICAgICAgICB2YXIgcXVlcnlJbmRleCA9IG1lZGlhUXVlcnlMaXN0LmZpbmRJbmRleChmdW5jdGlvbiAobWVkaWFRdWVyeSkge1xuICAgICAgICAgIHJldHVybiBtZWRpYVF1ZXJ5Lm1lZGlhID09PSBtcWxFdmVudC5tZWRpYTtcbiAgICAgICAgfSk7IC8vIEFzIHRoZSBldmVudCBsaXN0ZW5lciBpcyBvbiB0aGUgbWVkaWEgcXVlcnkgbGlzdCwgYW55IHRpbWUgdGhlXG4gICAgICAgIC8vIGxpc3RlbmVyIGlzIGNhbGxlZCwgd2Uga25vdyB0aGVyZSBpcyBhIGNoYW5nZS4gVGhlcmUncyBubyBuZWVkXG4gICAgICAgIC8vIHRvIGNvbXBhcmUgdGhlIHByZXZpb3VzIG1hdGNoZXMgd2l0aCBjdXJyZW50LiBVc2luZ1xuICAgICAgICAvLyBzZXRNYXRjaGVzKG1hdGNoZXMgPT4gey4uLn0pIHByb3ZpZGVzIGFjY2VzcyB0byB0aGUgY3VycmVudCBtYXRjaGVzXG4gICAgICAgIC8vIHN0YXRlLiAgVHJ5aW5nIHRvIGFjY2VzcyBtYXRjaGVzIG91dHNpZGUgdGhlIHNldE1hdGNoZXMgZnVuY3Rpb25cbiAgICAgICAgLy8gd291bGQgcHJvdmlkZSBkYXRhIGZyb20gdGhlIHRoZSB0aW1lIG9mIGluc3RhbnRpYXRpb24gKHN0YWxlKS5cblxuICAgICAgICBzZXRNYXRjaGVzKGZ1bmN0aW9uIChtYXRjaGVzKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRNYXRjaGVzID0gbWF0Y2hlcy5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGN1cnJlbnRNYXRjaGVzW3F1ZXJ5SW5kZXhdID0gbXFsRXZlbnQubWF0Y2hlcztcbiAgICAgICAgICByZXR1cm4gY3VycmVudE1hdGNoZXM7XG4gICAgICAgIH0pO1xuICAgICAgfTsgLy8gTGlzdGVuaW5nIHRvIHRoZSAnY2hhbmdlJyBldmVudCBvbiB0aGUgTWVkaWEgUXVlcnkgTGlzdCBPYmplY3RcbiAgICAgIC8vIGlzIG1vcmUgcGVyZm9ybWFudCBhcyB0aGUgY2FsbGJhY2sgaXMgb25seSBpbnZva2VkIHdoZW4gYSBzcGVjaWZpZWRcbiAgICAgIC8vIG1lZGlhIHF1ZXJ5IGlzIG1hdGNoZWQuIFVzaW5nIGFkZEV2ZW50TGlzdGVuZXIgb24gdGhlIHdpbmRvdyBvYmplY3RcbiAgICAgIC8vIHRvIGxpc3RlbiBmb3IgdGhlIHJlc2l6ZSBldmVudCB3aWxsIGNhbGwgdGhlIGNhbGxiYWNrIG9uIGV2ZXJ5XG4gICAgICAvLyB2aWV3cG9ydCByZXNpemUuXG5cblxuICAgICAgbWVkaWFRdWVyeUxpc3RbaW5kZXhdLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgbGlzdGVuZXIpO1xuICAgICAgcmV0dXJuIGxpc3RlbmVyO1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBtZWRpYVF1ZXJ5TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChfLCBpbmRleCkge1xuICAgICAgICBtZWRpYVF1ZXJ5TGlzdFtpbmRleF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCBsaXN0ZW5lckxpc3RbaW5kZXhdKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgcmV0dXJuIG1hdGNoZXM7XG59XG5cbi8qKlxuICogVmlzaWJpbGl0eVxuICpcbiAqIFJlYWN0IGNvbXBvbmVudCB0byBjb250cm9sIHRoZSB2aXNpYmlsaXR5IG9mIGl0c1xuICogY2hpbGRyZW4gYmFzZWQgb24gdGhlIGN1cnJlbnQgYnJlYWtwb2ludFxuICovXG52YXIgVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIFZpc2liaWxpdHkocHJvcHMpIHtcbiAgdmFyIGJyZWFrcG9pbnQgPSBwcm9wcy5icmVha3BvaW50LFxuICAgICAgaGlkZSA9IHByb3BzLmhpZGUsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuXG4gIHZhciBfdXNlTWVkaWFRdWVyeSA9IHVzZU1lZGlhUXVlcnkoYnJlYWtwb2ludCksXG4gICAgICBzaG93ID0gX3VzZU1lZGlhUXVlcnlbMF07XG5cbiAgdmFyIGlzVmlzaWJsZSA9IGhpZGUgPyAhc2hvdyA6IHNob3c7XG4gIHZhciByZW5kZXJlZCA9IGlzVmlzaWJsZSA/IGNoaWxkcmVuIDogbnVsbDtcbiAgcmV0dXJuIHJlbmRlcmVkO1xufTtcblxudmFyIEhpZGUgPSBmdW5jdGlvbiBIaWRlKHByb3BzKSB7XG4gIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICB2YXIgcXVlcnkgPSB1c2VRdWVyeShwcm9wcyk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChWaXNpYmlsaXR5LCB7XG4gICAgYnJlYWtwb2ludDogcXVlcnksXG4gICAgaGlkZTogdHJ1ZVxuICB9LCBjaGlsZHJlbik7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBIaWRlLmRpc3BsYXlOYW1lID0gXCJIaWRlXCI7XG59XG5cbnZhciBTaG93ID0gZnVuY3Rpb24gU2hvdyhwcm9wcykge1xuICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcbiAgdmFyIHF1ZXJ5ID0gdXNlUXVlcnkocHJvcHMpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaWJpbGl0eSwge1xuICAgIGJyZWFrcG9pbnQ6IHF1ZXJ5XG4gIH0sIGNoaWxkcmVuKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIFNob3cuZGlzcGxheU5hbWUgPSBcIlNob3dcIjtcbn1cblxudmFyIGdldEJyZWFrcG9pbnQgPSBmdW5jdGlvbiBnZXRCcmVha3BvaW50KHRoZW1lLCB2YWx1ZSkge1xuICByZXR1cm4gbWVtb2l6ZWRHZXQodGhlbWUsIFwiYnJlYWtwb2ludHMuXCIgKyB2YWx1ZSwgdmFsdWUpO1xufTtcblxuZnVuY3Rpb24gdXNlUXVlcnkocHJvcHMpIHtcbiAgdmFyIF9wcm9wcyRicmVha3BvaW50ID0gcHJvcHMuYnJlYWtwb2ludCxcbiAgICAgIGJyZWFrcG9pbnQgPSBfcHJvcHMkYnJlYWtwb2ludCA9PT0gdm9pZCAwID8gXCJcIiA6IF9wcm9wcyRicmVha3BvaW50LFxuICAgICAgYmVsb3cgPSBwcm9wcy5iZWxvdyxcbiAgICAgIGFib3ZlID0gcHJvcHMuYWJvdmU7XG4gIHZhciB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIHZhciBicEJlbG93ID0gZ2V0QnJlYWtwb2ludCh0aGVtZSwgYmVsb3cpO1xuICB2YXIgYnBBYm92ZSA9IGdldEJyZWFrcG9pbnQodGhlbWUsIGFib3ZlKTtcbiAgdmFyIHF1ZXJ5ID0gYnJlYWtwb2ludDtcblxuICBpZiAoYnBCZWxvdykge1xuICAgIHF1ZXJ5ID0gXCIobWF4LXdpZHRoOiBcIiArIGJwQmVsb3cgKyBcIilcIjtcbiAgfSBlbHNlIGlmIChicEFib3ZlKSB7XG4gICAgcXVlcnkgPSBcIihtaW4td2lkdGg6IFwiICsgYnBBYm92ZSArIFwiKVwiO1xuICB9XG5cbiAgcmV0dXJuIHF1ZXJ5O1xufVxuXG4vKipcbiAqIFJlYWN0IGhvb2sgdXNlZCB0byBnZXQgdGhlIHVzZXIncyBhbmltYXRpb24gcHJlZmVyZW5jZS5cbiAqL1xuXG5mdW5jdGlvbiB1c2VQcmVmZXJzUmVkdWNlZE1vdGlvbigpIHtcbiAgdmFyIF91c2VNZWRpYVF1ZXJ5ID0gdXNlTWVkaWFRdWVyeShcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCIpLFxuICAgICAgcHJlZmVyc1JlZHVjZWRNb3Rpb24gPSBfdXNlTWVkaWFRdWVyeVswXTtcblxuICByZXR1cm4gcHJlZmVyc1JlZHVjZWRNb3Rpb247XG59XG4vKipcbiAqIFJlYWN0IGhvb2sgZm9yIGdldHRpbmcgdGhlIHVzZXIncyBjb2xvciBtb2RlIHByZWZlcmVuY2UuXG4gKi9cblxuZnVuY3Rpb24gdXNlQ29sb3JNb2RlUHJlZmVyZW5jZSgpIHtcbiAgdmFyIF91c2VNZWRpYVF1ZXJ5MiA9IHVzZU1lZGlhUXVlcnkoW1wiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBsaWdodClcIiwgXCIocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspXCJdKSxcbiAgICAgIGlzTGlnaHQgPSBfdXNlTWVkaWFRdWVyeTJbMF0sXG4gICAgICBpc0RhcmsgPSBfdXNlTWVkaWFRdWVyeTJbMV07XG5cbiAgaWYgKGlzTGlnaHQpIHJldHVybiBcImxpZ2h0XCI7XG4gIGlmIChpc0RhcmspIHJldHVybiBcImRhcmtcIjtcbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZU1lZGlhUXVlcmllcyhicmVha3BvaW50cykge1xuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoYnJlYWtwb2ludHMpIC8vIHNvcnQgY3NzIHVuaXRzIGluIGFzY2VuZGluZyBvcmRlciB0byBlbnN1cmUgbWVkaWEgcXVlcmllcyBhcmUgZ2VuZXJhdGVkXG4gIC8vIGluIHRoZSBjb3JyZWN0IG9yZGVyIGFuZCByZWZlcmVuY2UgdG8gZWFjaCBvdGhlciBjb3JyZWN0bHkgYXN3ZWxsXG4gIC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIE51bWJlci5wYXJzZUludChhWzFdLCAxMCkgPiBOdW1iZXIucGFyc2VJbnQoYlsxXSwgMTApID8gMSA6IC0xO1xuICB9KS5tYXAoZnVuY3Rpb24gKF9yZWYsIGluZGV4LCBhcnIpIHtcbiAgICB2YXIgYnJlYWtwb2ludCA9IF9yZWZbMF0sXG4gICAgICAgIG1pbldpZHRoID0gX3JlZlsxXTtcbiAgICAvLyBnaXZlbiBhIGZvbGxvd2luZyBicmVha3BvaW50XG4gICAgdmFyIG5leHQgPSBhcnJbaW5kZXggKyAxXTsgLy8gdGhpcyBicmVha3BvaW50IG11c3QgZW5kIHByaW9yIHRoZSB0aHJlc2hvbGQgb2YgdGhlIG5leHRcblxuICAgIHZhciBtYXhXaWR0aCA9IG5leHQgPyBuZXh0WzFdIDogdW5kZWZpbmVkO1xuICAgIHZhciBxdWVyeSA9IGNyZWF0ZU1lZGlhUXVlcnlTdHJpbmcobWluV2lkdGgsIG1heFdpZHRoKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWluV2lkdGg6IG1pbldpZHRoLFxuICAgICAgbWF4V2lkdGg6IG1heFdpZHRoLFxuICAgICAgYnJlYWtwb2ludDogYnJlYWtwb2ludCxcbiAgICAgIHF1ZXJ5OiBxdWVyeVxuICAgIH07XG4gIH0pO1xufVxuLyoqXG4gKiBDcmVhdGUgYSBtZWRpYSBxdWVyeSBzdHJpbmcgZnJvbSB0aGUgYnJlYWtwb2ludHMsXG4gKiB1c2luZyBhIGNvbWJpbmF0aW9uIG9mIGBtaW4td2lkdGhgIGFuZCBgbWF4LXdpZHRoYC5cbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVNZWRpYVF1ZXJ5U3RyaW5nKG1pbldpZHRoLCBtYXhXaWR0aCkge1xuICB2YXIgaGFzTWluV2lkdGggPSBwYXJzZUludChtaW5XaWR0aCwgMTApID49IDA7XG5cbiAgaWYgKCFoYXNNaW5XaWR0aCAmJiAhbWF4V2lkdGgpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuXG4gIHZhciBxdWVyeSA9IFwiKG1pbi13aWR0aDogXCIgKyB0b01lZGlhU3RyaW5nKG1pbldpZHRoKSArIFwiKVwiO1xuXG4gIGlmICghbWF4V2lkdGgpIHtcbiAgICByZXR1cm4gcXVlcnk7XG4gIH1cblxuICBpZiAocXVlcnkpIHtcbiAgICBxdWVyeSArPSBcIiBhbmQgXCI7XG4gIH1cblxuICBxdWVyeSArPSBcIihtYXgtd2lkdGg6IFwiICsgdG9NZWRpYVN0cmluZyhzdWJ0cmFjdChtYXhXaWR0aCkpICsgXCIpXCI7XG4gIHJldHVybiBxdWVyeTtcbn1cblxudmFyIG1lYXN1cmVtZW50UmVnZXggPSAvKFswLTldK1xcLj9bMC05XSopLztcblxudmFyIGNhbGN1bGF0ZU1lYXN1cmVtZW50ID0gZnVuY3Rpb24gY2FsY3VsYXRlTWVhc3VyZW1lbnQodmFsdWUsIG1vZGlmaWVyKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gXCJcIiArICh2YWx1ZSArIG1vZGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKG1lYXN1cmVtZW50UmVnZXgsIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgIHJldHVybiBcIlwiICsgKHBhcnNlRmxvYXQobWF0Y2gpICsgbW9kaWZpZXIpO1xuICB9KTtcbn07XG4vKipcbiAqIDAuMDEgYW5kIDAuMSBhcmUgdG9vIHNtYWxsIG9mIGEgZGlmZmVyZW5jZSBmb3IgYHB4YCBicmVha3BvaW50IHZhbHVlc1xuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2NoYWtyYS11aS9jaGFrcmEtdWkvaXNzdWVzLzIxODgjaXNzdWVjb21tZW50LTcxMjc3NDc4NVxuICovXG5cblxuZnVuY3Rpb24gc3VidHJhY3QodmFsdWUpIHtcbiAgcmV0dXJuIGNhbGN1bGF0ZU1lYXN1cmVtZW50KHZhbHVlLCB2YWx1ZS5lbmRzV2l0aChcInB4XCIpID8gLTEgOiAtMC4wMSk7XG59XG4vKipcbiAqIENvbnZlcnQgbWVkaWEgcXVlcnkgdmFsdWUgdG8gc3RyaW5nXG4gKi9cblxuXG5mdW5jdGlvbiB0b01lZGlhU3RyaW5nKHZhbHVlKSB7XG4gIHJldHVybiBpc051bWJlcih2YWx1ZSkgPyB2YWx1ZSArIFwicHhcIiA6IHZhbHVlO1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1wicXVlcnlcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcInF1ZXJ5XCJdO1xuXG4vKipcbiAqIFJlYWN0IGhvb2sgdXNlZCB0byBnZXQgdGhlIGN1cnJlbnQgcmVzcG9uc2l2ZSBtZWRpYSBicmVha3BvaW50LlxuICpcbiAqIEBwYXJhbSBkZWZhdWx0QnJlYWtwb2ludCBkZWZhdWx0IGJyZWFrcG9pbnQgbmFtZVxuICogKGluIG5vbi13aW5kb3cgZW52aXJvbm1lbnRzIGxpa2UgU1NSKVxuICpcbiAqIEZvciBTU1IsIHlvdSBjYW4gdXNlIGEgcGFja2FnZSBsaWtlIFtpcy1tb2JpbGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9rYWltYWxsZWEvaXNNb2JpbGUpXG4gKiB0byBnZXQgdGhlIGRlZmF1bHQgYnJlYWtwb2ludCB2YWx1ZSBmcm9tIHRoZSB1c2VyLWFnZW50XG4gKi9cbmZ1bmN0aW9uIHVzZUJyZWFrcG9pbnQoZGVmYXVsdEJyZWFrcG9pbnQpIHtcbiAgdmFyIF91c2VUaGVtZSA9IHVzZVRoZW1lKCksXG4gICAgICBicmVha3BvaW50cyA9IF91c2VUaGVtZS5icmVha3BvaW50cztcblxuICB2YXIgZW52ID0gdXNlRW52aXJvbm1lbnQoKTtcbiAgdmFyIG1lZGlhUXVlcmllcyA9IFJlYWN0X19kZWZhdWx0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjcmVhdGVNZWRpYVF1ZXJpZXMoX2V4dGVuZHMoe1xuICAgICAgYmFzZTogXCIwcHhcIlxuICAgIH0sIGJyZWFrcG9pbnRzKSk7XG4gIH0sIFticmVha3BvaW50c10pO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdF9fZGVmYXVsdC51c2VTdGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFkZWZhdWx0QnJlYWtwb2ludCkge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICB2YXIgbWVkaWFRdWVyeSA9IG1lZGlhUXVlcmllcy5maW5kKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgYnJlYWtwb2ludCA9IF9yZWYuYnJlYWtwb2ludDtcbiAgICAgIHJldHVybiBicmVha3BvaW50ID09PSBkZWZhdWx0QnJlYWtwb2ludDtcbiAgICB9KTtcblxuICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICBtZWRpYVF1ZXJ5LnF1ZXJ5O1xuICAgICAgICAgIHZhciBicmVha3BvaW50ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UobWVkaWFRdWVyeSwgX2V4Y2x1ZGVkKTtcblxuICAgICAgcmV0dXJuIGJyZWFrcG9pbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSksXG4gICAgICBjdXJyZW50QnJlYWtwb2ludCA9IF9SZWFjdCR1c2VTdGF0ZVswXSxcbiAgICAgIHNldEN1cnJlbnRCcmVha3BvaW50ID0gX1JlYWN0JHVzZVN0YXRlWzFdO1xuXG4gIHZhciBjdXJyZW50ID0gY3VycmVudEJyZWFrcG9pbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGN1cnJlbnRCcmVha3BvaW50LmJyZWFrcG9pbnQ7XG4gIHZhciB1cGRhdGUgPSBSZWFjdF9fZGVmYXVsdC51c2VDYWxsYmFjayhmdW5jdGlvbiAocXVlcnksIGJyZWFrcG9pbnQpIHtcbiAgICBpZiAocXVlcnkubWF0Y2hlcyAmJiBjdXJyZW50ICE9PSBicmVha3BvaW50LmJyZWFrcG9pbnQpIHtcbiAgICAgIHNldEN1cnJlbnRCcmVha3BvaW50KGJyZWFrcG9pbnQpO1xuICAgIH1cbiAgfSwgW2N1cnJlbnRdKTtcbiAgUmVhY3RfX2RlZmF1bHQudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgIG1lZGlhUXVlcmllcy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIHF1ZXJ5ID0gX3JlZjIucXVlcnksXG4gICAgICAgICAgYnJlYWtwb2ludCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYyLCBfZXhjbHVkZWQyKTtcblxuICAgICAgdmFyIG1lZGlhUXVlcnkgPSBlbnYud2luZG93Lm1hdGNoTWVkaWEocXVlcnkpOyAvLyB0cmlnZ2VyIGFuIGluaXRpYWwgdXBkYXRlIHRvIGRldGVybWluZSBtZWRpYSBxdWVyeVxuXG4gICAgICB1cGRhdGUobWVkaWFRdWVyeSwgYnJlYWtwb2ludCk7XG5cbiAgICAgIHZhciBoYW5kbGVDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgICAgIHVwZGF0ZShtZWRpYVF1ZXJ5LCBicmVha3BvaW50KTtcbiAgICAgIH07IC8vIGFkZCBtZWRpYSBxdWVyeS1saXN0ZW5lclxuXG5cbiAgICAgIG1lZGlhUXVlcnkuYWRkTGlzdGVuZXIoaGFuZGxlQ2hhbmdlKTsgLy8gcHVzaCB0aGUgbWVkaWEgcXVlcnkgbGlzdCBoYW5kbGVDaGFuZ2VcbiAgICAgIC8vIHNvIHdlIGNhbiB1c2UgaXQgdG8gcmVtb3ZlIExpc3RlbmVyXG5cbiAgICAgIGxpc3RlbmVycy5hZGQoe1xuICAgICAgICBtZWRpYVF1ZXJ5OiBtZWRpYVF1ZXJ5LFxuICAgICAgICBoYW5kbGVDaGFuZ2U6IGhhbmRsZUNoYW5nZVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjbGVhbiB1cCAxXG4gICAgICAgIG1lZGlhUXVlcnkucmVtb3ZlTGlzdGVuZXIoaGFuZGxlQ2hhbmdlKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIGNsZWFuIHVwIDI6IGZvciBzYWZldHlcbiAgICAgIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICB2YXIgbWVkaWFRdWVyeSA9IF9yZWYzLm1lZGlhUXVlcnksXG4gICAgICAgICAgICBoYW5kbGVDaGFuZ2UgPSBfcmVmMy5oYW5kbGVDaGFuZ2U7XG4gICAgICAgIG1lZGlhUXVlcnkucmVtb3ZlTGlzdGVuZXIoaGFuZGxlQ2hhbmdlKTtcbiAgICAgIH0pO1xuICAgICAgbGlzdGVuZXJzLmNsZWFyKCk7XG4gICAgfTtcbiAgfSwgW21lZGlhUXVlcmllcywgYnJlYWtwb2ludHMsIHVwZGF0ZSwgZW52LndpbmRvd10pO1xuICByZXR1cm4gY3VycmVudDtcbn1cblxuZnVuY3Rpb24gZ2V0Q2xvc2VzdFZhbHVlKHZhbHVlcywgYnJlYWtwb2ludCwgYnJlYWtwb2ludHMkMSkge1xuICBpZiAoYnJlYWtwb2ludHMkMSA9PT0gdm9pZCAwKSB7XG4gICAgYnJlYWtwb2ludHMkMSA9IGJyZWFrcG9pbnRzO1xuICB9XG5cbiAgdmFyIGluZGV4ID0gT2JqZWN0LmtleXModmFsdWVzKS5pbmRleE9mKGJyZWFrcG9pbnQpO1xuXG4gIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICByZXR1cm4gdmFsdWVzW2JyZWFrcG9pbnRdO1xuICB9XG5cbiAgdmFyIHN0b3BJbmRleCA9IGJyZWFrcG9pbnRzJDEuaW5kZXhPZihicmVha3BvaW50KTtcblxuICB3aGlsZSAoc3RvcEluZGV4ID49IDApIHtcbiAgICB2YXIga2V5ID0gYnJlYWtwb2ludHMkMVtzdG9wSW5kZXhdO1xuXG4gICAgaWYgKHZhbHVlc1trZXldICE9IG51bGwpIHtcbiAgICAgIGluZGV4ID0gc3RvcEluZGV4O1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgc3RvcEluZGV4IC09IDE7XG4gIH1cblxuICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgdmFyIF9rZXkgPSBicmVha3BvaW50cyQxW2luZGV4XTtcbiAgICByZXR1cm4gdmFsdWVzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBSZWFjdCBob29rIGZvciBnZXR0aW5nIHRoZSB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgYnJlYWtwb2ludCBmcm9tIHRoZVxuICogcHJvdmlkZWQgcmVzcG9uc2l2ZSB2YWx1ZXMgb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB2YWx1ZXNcbiAqIEBwYXJhbSBkZWZhdWx0QnJlYWtwb2ludCBkZWZhdWx0IGJyZWFrcG9pbnQgbmFtZVxuICogKGluIG5vbi13aW5kb3cgZW52aXJvbm1lbnRzIGxpa2UgU1NSKVxuICpcbiAqIEZvciBTU1IsIHlvdSBjYW4gdXNlIGEgcGFja2FnZSBsaWtlIFtpcy1tb2JpbGVdKGh0dHBzOi8vZ2l0aHViLmNvbS9rYWltYWxsZWEvaXNNb2JpbGUpXG4gKiB0byBnZXQgdGhlIGRlZmF1bHQgYnJlYWtwb2ludCB2YWx1ZSBmcm9tIHRoZSB1c2VyLWFnZW50XG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IHdpZHRoID0gdXNlQnJlYWtwb2ludFZhbHVlKHsgYmFzZTogJzE1MHB4JywgbWQ6ICcyNTBweCcgfSlcbiAqL1xuXG5mdW5jdGlvbiB1c2VCcmVha3BvaW50VmFsdWUodmFsdWVzLCBkZWZhdWx0QnJlYWtwb2ludCkge1xuICB2YXIgYnJlYWtwb2ludCA9IHVzZUJyZWFrcG9pbnQoZGVmYXVsdEJyZWFrcG9pbnQpO1xuICB2YXIgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICBpZiAoIWJyZWFrcG9pbnQpIHJldHVybiB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBHZXQgdGhlIG5vbi1udW1iZXIgYnJlYWtwb2ludCBrZXlzIGZyb20gdGhlIHByb3ZpZGVkIGJyZWFrcG9pbnRzXG4gICAqL1xuXG4gIHZhciBicmVha3BvaW50cyA9IE9iamVjdC5rZXlzKHRoZW1lLmJyZWFrcG9pbnRzKTtcbiAgdmFyIG9iaiA9IGlzQXJyYXkodmFsdWVzKSA/IGZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGFycmF5VG9PYmplY3ROb3RhdGlvbih2YWx1ZXMsIGJyZWFrcG9pbnRzKSkubWFwKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgdmFyIGtleSA9IF9yZWZbMF0sXG4gICAgICAgIHZhbHVlID0gX3JlZlsxXTtcbiAgICByZXR1cm4gW2tleSwgdmFsdWVdO1xuICB9KSkgOiB2YWx1ZXM7XG4gIHJldHVybiBnZXRDbG9zZXN0VmFsdWUob2JqLCBicmVha3BvaW50LCBicmVha3BvaW50cyk7XG59XG5cbmV4cG9ydCB7IEhpZGUsIFNob3csIHVzZUJyZWFrcG9pbnQsIHVzZUJyZWFrcG9pbnRWYWx1ZSwgdXNlQ29sb3JNb2RlUHJlZmVyZW5jZSwgdXNlTWVkaWFRdWVyeSwgdXNlUHJlZmVyc1JlZHVjZWRNb3Rpb24sIHVzZVF1ZXJ5IH07XG4iLCJpbXBvcnQgeyB1c2VNdWx0aVN0eWxlQ29uZmlnLCBvbWl0VGhlbWluZ1Byb3BzLCB1c2VUaGVtZSwgU3R5bGVzUHJvdmlkZXIsIGZvcndhcmRSZWYsIGNoYWtyYSwgdXNlU3R5bGVzIH0gZnJvbSAnQGNoYWtyYS11aS9zeXN0ZW0nO1xuaW1wb3J0IHsgZm9jdXMsIGdldE93bmVyRG9jdW1lbnQsIG5vcm1hbGl6ZUV2ZW50S2V5LCBkYXRhQXR0ciwgY2FsbEFsbEhhbmRsZXJzLCBpc0hUTUxFbGVtZW50LCBnZXROZXh0SXRlbUZyb21TZWFyY2gsIGRldGVybWluZUxhenlCZWhhdmlvciwgaXNBY3RpdmVFbGVtZW50LCBpc1N0cmluZywgaXNBcnJheSwgcmVtb3ZlSXRlbSwgYWRkSXRlbSwgcnVuSWZGbiwgX19ERVZfXywgY3ggfSBmcm9tICdAY2hha3JhLXVpL3V0aWxzJztcbmltcG9ydCB7IG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ2xpY2thYmxlIH0gZnJvbSAnQGNoYWtyYS11aS9jbGlja2FibGUnO1xuaW1wb3J0IHsgY3JlYXRlRGVzY2VuZGFudENvbnRleHQgfSBmcm9tICdAY2hha3JhLXVpL2Rlc2NlbmRhbnQnO1xuaW1wb3J0IHsgdXNlRGlzY2xvc3VyZSwgdXNlT3V0c2lkZUNsaWNrLCB1c2VVcGRhdGVFZmZlY3QsIHVzZUZvY3VzT25IaWRlLCB1c2VJZHMsIHVzZVVubW91bnRFZmZlY3QsIHVzZVNob3J0Y3V0LCB1c2VJZCwgdXNlQ29udHJvbGxhYmxlU3RhdGUgfSBmcm9tICdAY2hha3JhLXVpL2hvb2tzJztcbmltcG9ydCB7IHVzZVBvcHBlciB9IGZyb20gJ0BjaGFrcmEtdWkvcG9wcGVyJztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIG1lcmdlUmVmcywgZ2V0VmFsaWRDaGlsZHJlbiB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QtdXRpbHMnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIF9leGNsdWRlZCQxID0gW1wiaWRcIiwgXCJjbG9zZU9uU2VsZWN0XCIsIFwiY2xvc2VPbkJsdXJcIiwgXCJhdXRvU2VsZWN0XCIsIFwiaXNMYXp5XCIsIFwiaXNPcGVuXCIsIFwiZGVmYXVsdElzT3BlblwiLCBcIm9uQ2xvc2VcIiwgXCJvbk9wZW5cIiwgXCJwbGFjZW1lbnRcIiwgXCJsYXp5QmVoYXZpb3JcIiwgXCJkaXJlY3Rpb25cIiwgXCJjb21wdXRlUG9zaXRpb25Pbk1vdW50XCJdLFxuICAgIF9leGNsdWRlZDIkMSA9IFtcIm9uTW91c2VFbnRlclwiLCBcIm9uTW91c2VNb3ZlXCIsIFwib25Nb3VzZUxlYXZlXCIsIFwib25DbGlja1wiLCBcImlzRGlzYWJsZWRcIiwgXCJpc0ZvY3VzYWJsZVwiLCBcImNsb3NlT25TZWxlY3RcIl0sXG4gICAgX2V4Y2x1ZGVkMyQxID0gW1widHlwZVwiLCBcImlzQ2hlY2tlZFwiXSxcbiAgICBfZXhjbHVkZWQ0JDEgPSBbXCJjaGlsZHJlblwiLCBcInR5cGVcIiwgXCJ2YWx1ZVwiLCBcImRlZmF1bHRWYWx1ZVwiLCBcIm9uQ2hhbmdlXCJdO1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ3JlYXRlIGNvbnRleHQgdG8gdHJhY2sgZGVzY2VuZGFudHMgYW5kIHRoZWlyIGluZGljZXNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxudmFyIF9jcmVhdGVEZXNjZW5kYW50Q29udCA9IGNyZWF0ZURlc2NlbmRhbnRDb250ZXh0KCksXG4gICAgTWVudURlc2NlbmRhbnRzUHJvdmlkZXIgPSBfY3JlYXRlRGVzY2VuZGFudENvbnRbMF0sXG4gICAgdXNlTWVudURlc2NlbmRhbnRzQ29udGV4dCA9IF9jcmVhdGVEZXNjZW5kYW50Q29udFsxXSxcbiAgICB1c2VNZW51RGVzY2VuZGFudHMgPSBfY3JlYXRlRGVzY2VuZGFudENvbnRbMl0sXG4gICAgdXNlTWVudURlc2NlbmRhbnQgPSBfY3JlYXRlRGVzY2VuZGFudENvbnRbM107XG5cbnZhciBfY3JlYXRlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICBzdHJpY3Q6IGZhbHNlLFxuICBuYW1lOiBcIk1lbnVDb250ZXh0XCJcbn0pLFxuICAgIE1lbnVQcm92aWRlciA9IF9jcmVhdGVDb250ZXh0WzBdLFxuICAgIHVzZU1lbnVDb250ZXh0ID0gX2NyZWF0ZUNvbnRleHRbMV07XG5cbi8qKlxuICogUmVhY3QgSG9vayB0byBtYW5hZ2UgYSBtZW51XG4gKlxuICogSXQgcHJvdmlkZXMgdGhlIGxvZ2ljIGFuZCB3aWxsIGJlIHVzZWQgd2l0aCByZWFjdCBjb250ZXh0XG4gKiB0byBwcm9wYWdhdGUgaXRzIHJldHVybiB2YWx1ZSB0byBhbGwgY2hpbGRyZW5cbiAqL1xuZnVuY3Rpb24gdXNlTWVudShwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBpZCA9IF9wcm9wcy5pZCxcbiAgICAgIF9wcm9wcyRjbG9zZU9uU2VsZWN0ID0gX3Byb3BzLmNsb3NlT25TZWxlY3QsXG4gICAgICBjbG9zZU9uU2VsZWN0ID0gX3Byb3BzJGNsb3NlT25TZWxlY3QgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMkY2xvc2VPblNlbGVjdCxcbiAgICAgIF9wcm9wcyRjbG9zZU9uQmx1ciA9IF9wcm9wcy5jbG9zZU9uQmx1cixcbiAgICAgIGNsb3NlT25CbHVyID0gX3Byb3BzJGNsb3NlT25CbHVyID09PSB2b2lkIDAgPyB0cnVlIDogX3Byb3BzJGNsb3NlT25CbHVyLFxuICAgICAgX3Byb3BzJGF1dG9TZWxlY3QgPSBfcHJvcHMuYXV0b1NlbGVjdCxcbiAgICAgIGF1dG9TZWxlY3QgPSBfcHJvcHMkYXV0b1NlbGVjdCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRhdXRvU2VsZWN0LFxuICAgICAgaXNMYXp5ID0gX3Byb3BzLmlzTGF6eSxcbiAgICAgIGlzT3BlblByb3AgPSBfcHJvcHMuaXNPcGVuLFxuICAgICAgZGVmYXVsdElzT3BlbiA9IF9wcm9wcy5kZWZhdWx0SXNPcGVuLFxuICAgICAgb25DbG9zZVByb3AgPSBfcHJvcHMub25DbG9zZSxcbiAgICAgIG9uT3BlblByb3AgPSBfcHJvcHMub25PcGVuLFxuICAgICAgX3Byb3BzJHBsYWNlbWVudCA9IF9wcm9wcy5wbGFjZW1lbnQsXG4gICAgICBwbGFjZW1lbnQgPSBfcHJvcHMkcGxhY2VtZW50ID09PSB2b2lkIDAgPyBcImJvdHRvbS1zdGFydFwiIDogX3Byb3BzJHBsYWNlbWVudCxcbiAgICAgIF9wcm9wcyRsYXp5QmVoYXZpb3IgPSBfcHJvcHMubGF6eUJlaGF2aW9yLFxuICAgICAgbGF6eUJlaGF2aW9yID0gX3Byb3BzJGxhenlCZWhhdmlvciA9PT0gdm9pZCAwID8gXCJ1bm1vdW50XCIgOiBfcHJvcHMkbGF6eUJlaGF2aW9yLFxuICAgICAgZGlyZWN0aW9uID0gX3Byb3BzLmRpcmVjdGlvbixcbiAgICAgIF9wcm9wcyRjb21wdXRlUG9zaXRpbyA9IF9wcm9wcy5jb21wdXRlUG9zaXRpb25Pbk1vdW50LFxuICAgICAgY29tcHV0ZVBvc2l0aW9uT25Nb3VudCA9IF9wcm9wcyRjb21wdXRlUG9zaXRpbyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkY29tcHV0ZVBvc2l0aW8sXG4gICAgICBwb3BwZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9wcm9wcywgX2V4Y2x1ZGVkJDEpO1xuICAvKipcbiAgICogUHJlcGFyZSB0aGUgcmVmZXJlbmNlIHRvIHRoZSBtZW51IGFuZCBkaXNjbG9zdXJlXG4gICAqL1xuXG5cbiAgdmFyIG1lbnVSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBidXR0b25SZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIC8qKlxuICAgKiBDb250ZXh0IHRvIHJlZ2lzdGVyIGFsbCBtZW51IGl0ZW0gbm9kZXNcbiAgICovXG5cbiAgdmFyIGRlc2NlbmRhbnRzID0gdXNlTWVudURlc2NlbmRhbnRzKCk7XG4gIHZhciBmb2N1c01lbnUgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgZm9jdXMobWVudVJlZi5jdXJyZW50LCB7XG4gICAgICBuZXh0VGljazogdHJ1ZSxcbiAgICAgIHNlbGVjdFRleHRJZklucHV0OiBmYWxzZVxuICAgIH0pO1xuICB9LCBbXSk7XG4gIHZhciBmb2N1c0ZpcnN0SXRlbSA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgaWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBmaXJzdCA9IGRlc2NlbmRhbnRzLmZpcnN0RW5hYmxlZCgpO1xuICAgICAgaWYgKGZpcnN0KSBzZXRGb2N1c2VkSW5kZXgoZmlyc3QuaW5kZXgpO1xuICAgIH0pO1xuICAgIHRpbWVvdXRJZHMuY3VycmVudC5hZGQoaWQpO1xuICB9LCBbZGVzY2VuZGFudHNdKTtcbiAgdmFyIGZvY3VzTGFzdEl0ZW0gPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbGFzdCA9IGRlc2NlbmRhbnRzLmxhc3RFbmFibGVkKCk7XG4gICAgICBpZiAobGFzdCkgc2V0Rm9jdXNlZEluZGV4KGxhc3QuaW5kZXgpO1xuICAgIH0pO1xuICAgIHRpbWVvdXRJZHMuY3VycmVudC5hZGQoaWQpO1xuICB9LCBbZGVzY2VuZGFudHNdKTtcbiAgdmFyIG9uT3BlbkludGVybmFsID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIG9uT3BlblByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IG9uT3BlblByb3AoKTtcblxuICAgIGlmIChhdXRvU2VsZWN0KSB7XG4gICAgICBmb2N1c0ZpcnN0SXRlbSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb2N1c01lbnUoKTtcbiAgICB9XG4gIH0sIFthdXRvU2VsZWN0LCBmb2N1c0ZpcnN0SXRlbSwgZm9jdXNNZW51LCBvbk9wZW5Qcm9wXSk7XG5cbiAgdmFyIF91c2VEaXNjbG9zdXJlID0gdXNlRGlzY2xvc3VyZSh7XG4gICAgaXNPcGVuOiBpc09wZW5Qcm9wLFxuICAgIGRlZmF1bHRJc09wZW46IGRlZmF1bHRJc09wZW4sXG4gICAgb25DbG9zZTogb25DbG9zZVByb3AsXG4gICAgb25PcGVuOiBvbk9wZW5JbnRlcm5hbFxuICB9KSxcbiAgICAgIGlzT3BlbiA9IF91c2VEaXNjbG9zdXJlLmlzT3BlbixcbiAgICAgIG9uT3BlbiA9IF91c2VEaXNjbG9zdXJlLm9uT3BlbixcbiAgICAgIG9uQ2xvc2UgPSBfdXNlRGlzY2xvc3VyZS5vbkNsb3NlLFxuICAgICAgb25Ub2dnbGUgPSBfdXNlRGlzY2xvc3VyZS5vblRvZ2dsZTtcblxuICB1c2VPdXRzaWRlQ2xpY2soe1xuICAgIGVuYWJsZWQ6IGlzT3BlbiAmJiBjbG9zZU9uQmx1cixcbiAgICByZWY6IG1lbnVSZWYsXG4gICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihldmVudCkge1xuICAgICAgdmFyIF9idXR0b25SZWYkY3VycmVudDtcblxuICAgICAgaWYgKCEoKF9idXR0b25SZWYkY3VycmVudCA9IGJ1dHRvblJlZi5jdXJyZW50KSAhPSBudWxsICYmIF9idXR0b25SZWYkY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQpKSkge1xuICAgICAgICBvbkNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgLyoqXG4gICAqIEFkZCBzb21lIHBvcHBlci5qcyBmb3IgZHluYW1pYyBwb3NpdGlvbmluZ1xuICAgKi9cblxuICB2YXIgcG9wcGVyID0gdXNlUG9wcGVyKF9leHRlbmRzKHt9LCBwb3BwZXJQcm9wcywge1xuICAgIGVuYWJsZWQ6IGlzT3BlbiB8fCBjb21wdXRlUG9zaXRpb25Pbk1vdW50LFxuICAgIHBsYWNlbWVudDogcGxhY2VtZW50LFxuICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gIH0pKTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoLTEpLFxuICAgICAgZm9jdXNlZEluZGV4ID0gX1JlYWN0JHVzZVN0YXRlWzBdLFxuICAgICAgc2V0Rm9jdXNlZEluZGV4ID0gX1JlYWN0JHVzZVN0YXRlWzFdO1xuICAvKipcbiAgICogRm9jdXMgdGhlIGJ1dHRvbiB3aGVuIHdlIGNsb3NlIHRoZSBtZW51XG4gICAqL1xuXG5cbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIWlzT3Blbikge1xuICAgICAgc2V0Rm9jdXNlZEluZGV4KC0xKTtcbiAgICB9XG4gIH0sIFtpc09wZW5dKTtcbiAgdXNlRm9jdXNPbkhpZGUobWVudVJlZiwge1xuICAgIGZvY3VzUmVmOiBidXR0b25SZWYsXG4gICAgdmlzaWJsZTogaXNPcGVuLFxuICAgIHNob3VsZEZvY3VzOiB0cnVlXG4gIH0pO1xuICAvKipcbiAgICogR2VuZXJhdGUgdW5pcXVlIGlkcyBmb3IgbWVudSdzIGxpc3QgYW5kIGJ1dHRvblxuICAgKi9cblxuICB2YXIgX3VzZUlkcyA9IHVzZUlkcyhpZCwgXCJtZW51LWJ1dHRvblwiLCBcIm1lbnUtbGlzdFwiKSxcbiAgICAgIGJ1dHRvbklkID0gX3VzZUlkc1swXSxcbiAgICAgIG1lbnVJZCA9IF91c2VJZHNbMV07XG5cbiAgdmFyIG9wZW5BbmRGb2N1c01lbnUgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgb25PcGVuKCk7XG4gICAgZm9jdXNNZW51KCk7XG4gIH0sIFtvbk9wZW4sIGZvY3VzTWVudV0pO1xuICB2YXIgdGltZW91dElkcyA9IFJlYWN0LnVzZVJlZihuZXcgU2V0KFtdKSk7XG4gIHVzZVVubW91bnRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHRpbWVvdXRJZHMuY3VycmVudC5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChpZCk7XG4gICAgfSk7XG4gICAgdGltZW91dElkcy5jdXJyZW50LmNsZWFyKCk7XG4gIH0pO1xuICB2YXIgb3BlbkFuZEZvY3VzRmlyc3RJdGVtID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIG9uT3BlbigpO1xuICAgIGZvY3VzRmlyc3RJdGVtKCk7XG4gIH0sIFtmb2N1c0ZpcnN0SXRlbSwgb25PcGVuXSk7XG4gIHZhciBvcGVuQW5kRm9jdXNMYXN0SXRlbSA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBvbk9wZW4oKTtcbiAgICBmb2N1c0xhc3RJdGVtKCk7XG4gIH0sIFtvbk9wZW4sIGZvY3VzTGFzdEl0ZW1dKTtcbiAgdmFyIHJlZm9jdXMgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9tZW51UmVmJGN1cnJlbnQsIF9kZXNjZW5kYW50cyRpdGVtO1xuXG4gICAgdmFyIGRvYyA9IGdldE93bmVyRG9jdW1lbnQobWVudVJlZi5jdXJyZW50KTtcbiAgICB2YXIgaGFzRm9jdXNXaXRoaW4gPSAoX21lbnVSZWYkY3VycmVudCA9IG1lbnVSZWYuY3VycmVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9tZW51UmVmJGN1cnJlbnQuY29udGFpbnMoZG9jLmFjdGl2ZUVsZW1lbnQpO1xuICAgIHZhciBzaG91bGRSZWZvY3VzID0gaXNPcGVuICYmICFoYXNGb2N1c1dpdGhpbjtcbiAgICBpZiAoIXNob3VsZFJlZm9jdXMpIHJldHVybjtcbiAgICB2YXIgbm9kZSA9IChfZGVzY2VuZGFudHMkaXRlbSA9IGRlc2NlbmRhbnRzLml0ZW0oZm9jdXNlZEluZGV4KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kZXNjZW5kYW50cyRpdGVtLm5vZGU7XG5cbiAgICBpZiAobm9kZSkge1xuICAgICAgZm9jdXMobm9kZSwge1xuICAgICAgICBzZWxlY3RUZXh0SWZJbnB1dDogZmFsc2UsXG4gICAgICAgIHByZXZlbnRTY3JvbGw6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtpc09wZW4sIGZvY3VzZWRJbmRleCwgZGVzY2VuZGFudHNdKTtcbiAgcmV0dXJuIHtcbiAgICBvcGVuQW5kRm9jdXNNZW51OiBvcGVuQW5kRm9jdXNNZW51LFxuICAgIG9wZW5BbmRGb2N1c0ZpcnN0SXRlbTogb3BlbkFuZEZvY3VzRmlyc3RJdGVtLFxuICAgIG9wZW5BbmRGb2N1c0xhc3RJdGVtOiBvcGVuQW5kRm9jdXNMYXN0SXRlbSxcbiAgICBvblRyYW5zaXRpb25FbmQ6IHJlZm9jdXMsXG4gICAgZGVzY2VuZGFudHM6IGRlc2NlbmRhbnRzLFxuICAgIHBvcHBlcjogcG9wcGVyLFxuICAgIGJ1dHRvbklkOiBidXR0b25JZCxcbiAgICBtZW51SWQ6IG1lbnVJZCxcbiAgICBmb3JjZVVwZGF0ZTogcG9wcGVyLmZvcmNlVXBkYXRlLFxuICAgIG9yaWVudGF0aW9uOiBcInZlcnRpY2FsXCIsXG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgb25Ub2dnbGU6IG9uVG9nZ2xlLFxuICAgIG9uT3Blbjogb25PcGVuLFxuICAgIG9uQ2xvc2U6IG9uQ2xvc2UsXG4gICAgbWVudVJlZjogbWVudVJlZixcbiAgICBidXR0b25SZWY6IGJ1dHRvblJlZixcbiAgICBmb2N1c2VkSW5kZXg6IGZvY3VzZWRJbmRleCxcbiAgICBjbG9zZU9uU2VsZWN0OiBjbG9zZU9uU2VsZWN0LFxuICAgIGNsb3NlT25CbHVyOiBjbG9zZU9uQmx1cixcbiAgICBhdXRvU2VsZWN0OiBhdXRvU2VsZWN0LFxuICAgIHNldEZvY3VzZWRJbmRleDogc2V0Rm9jdXNlZEluZGV4LFxuICAgIGlzTGF6eTogaXNMYXp5LFxuICAgIGxhenlCZWhhdmlvcjogbGF6eUJlaGF2aW9yXG4gIH07XG59XG5cbi8qKlxuICogUmVhY3QgSG9vayB0byBtYW5hZ2UgYSBtZW51IGJ1dHRvbi5cbiAqXG4gKiBUaGUgYXNzdW1wdGlvbiBoZXJlIGlzIHRoYXQgdGhlIGB1c2VNZW51YCBob29rIGlzIHVzZWRcbiAqIGluIGEgY29tcG9uZW50IGhpZ2hlciB1cCB0aGUgdHJlZSwgYW5kIGl0cyByZXR1cm4gdmFsdWVcbiAqIGlzIHBhc3NlZCBhcyBgY29udGV4dGAgdG8gdGhpcyBob29rLlxuICovXG5mdW5jdGlvbiB1c2VNZW51QnV0dG9uKHByb3BzLCBleHRlcm5hbFJlZikge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICBpZiAoZXh0ZXJuYWxSZWYgPT09IHZvaWQgMCkge1xuICAgIGV4dGVybmFsUmVmID0gbnVsbDtcbiAgfVxuXG4gIHZhciBtZW51ID0gdXNlTWVudUNvbnRleHQoKTtcbiAgdmFyIG9uVG9nZ2xlID0gbWVudS5vblRvZ2dsZSxcbiAgICAgIHBvcHBlciA9IG1lbnUucG9wcGVyLFxuICAgICAgb3BlbkFuZEZvY3VzRmlyc3RJdGVtID0gbWVudS5vcGVuQW5kRm9jdXNGaXJzdEl0ZW0sXG4gICAgICBvcGVuQW5kRm9jdXNMYXN0SXRlbSA9IG1lbnUub3BlbkFuZEZvY3VzTGFzdEl0ZW07XG4gIHZhciBvbktleURvd24gPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgZXZlbnRLZXkgPSBub3JtYWxpemVFdmVudEtleShldmVudCk7XG4gICAgdmFyIGtleU1hcCA9IHtcbiAgICAgIEVudGVyOiBvcGVuQW5kRm9jdXNGaXJzdEl0ZW0sXG4gICAgICBBcnJvd0Rvd246IG9wZW5BbmRGb2N1c0ZpcnN0SXRlbSxcbiAgICAgIEFycm93VXA6IG9wZW5BbmRGb2N1c0xhc3RJdGVtXG4gICAgfTtcbiAgICB2YXIgYWN0aW9uID0ga2V5TWFwW2V2ZW50S2V5XTtcblxuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIGFjdGlvbihldmVudCk7XG4gICAgfVxuICB9LCBbb3BlbkFuZEZvY3VzRmlyc3RJdGVtLCBvcGVuQW5kRm9jdXNMYXN0SXRlbV0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgcmVmOiBtZXJnZVJlZnMobWVudS5idXR0b25SZWYsIGV4dGVybmFsUmVmLCBwb3BwZXIucmVmZXJlbmNlUmVmKSxcbiAgICBpZDogbWVudS5idXR0b25JZCxcbiAgICBcImRhdGEtYWN0aXZlXCI6IGRhdGFBdHRyKG1lbnUuaXNPcGVuKSxcbiAgICBcImFyaWEtZXhwYW5kZWRcIjogbWVudS5pc09wZW4sXG4gICAgXCJhcmlhLWhhc3BvcHVwXCI6IFwibWVudVwiLFxuICAgIFwiYXJpYS1jb250cm9sc1wiOiBtZW51Lm1lbnVJZCxcbiAgICBvbkNsaWNrOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25DbGljaywgb25Ub2dnbGUpLFxuICAgIG9uS2V5RG93bjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgb25LZXlEb3duKVxuICB9KTtcbn1cblxuZnVuY3Rpb24gaXNUYXJnZXRNZW51SXRlbSh0YXJnZXQpIHtcbiAgdmFyIF90YXJnZXQkZ2V0QXR0cmlidXRlO1xuXG4gIC8vIHRoaXMgd2lsbCBjYXRjaCBgbWVudWl0ZW1gLCBgbWVudWl0ZW1yYWRpb2AsIGBtZW51aXRlbWNoZWNrYm94YFxuICByZXR1cm4gaXNIVE1MRWxlbWVudCh0YXJnZXQpICYmICEhKChfdGFyZ2V0JGdldEF0dHJpYnV0ZSA9IHRhcmdldC5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpKSAhPSBudWxsICYmIF90YXJnZXQkZ2V0QXR0cmlidXRlLnN0YXJ0c1dpdGgoXCJtZW51aXRlbVwiKSk7XG59XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiB1c2VNZW51TGlzdFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG5cbi8qKlxuICogUmVhY3QgSG9vayB0byBtYW5hZ2UgYSBtZW51IGxpc3QuXG4gKlxuICogVGhlIGFzc3VtcHRpb24gaGVyZSBpcyB0aGF0IHRoZSBgdXNlTWVudWAgaG9vayBpcyB1c2VkXG4gKiBpbiBhIGNvbXBvbmVudCBoaWdoZXIgdXAgdGhlIHRyZWUsIGFuZCBpdHMgcmV0dXJuIHZhbHVlXG4gKiBpcyBwYXNzZWQgYXMgYGNvbnRleHRgIHRvIHRoaXMgaG9vay5cbiAqL1xuZnVuY3Rpb24gdXNlTWVudUxpc3QocHJvcHMsIHJlZikge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICByZWYgPSBudWxsO1xuICB9XG5cbiAgdmFyIG1lbnUgPSB1c2VNZW51Q29udGV4dCgpO1xuXG4gIGlmICghbWVudSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVzZU1lbnVDb250ZXh0OiBjb250ZXh0IGlzIHVuZGVmaW5lZC4gU2VlbXMgeW91IGZvcmdvdCB0byB3cmFwIGNvbXBvbmVudCB3aXRoaW4gPE1lbnU+XCIpO1xuICB9XG5cbiAgdmFyIGZvY3VzZWRJbmRleCA9IG1lbnUuZm9jdXNlZEluZGV4LFxuICAgICAgc2V0Rm9jdXNlZEluZGV4ID0gbWVudS5zZXRGb2N1c2VkSW5kZXgsXG4gICAgICBtZW51UmVmID0gbWVudS5tZW51UmVmLFxuICAgICAgaXNPcGVuID0gbWVudS5pc09wZW4sXG4gICAgICBvbkNsb3NlID0gbWVudS5vbkNsb3NlLFxuICAgICAgbWVudUlkID0gbWVudS5tZW51SWQsXG4gICAgICBpc0xhenkgPSBtZW51LmlzTGF6eSxcbiAgICAgIGxhenlCZWhhdmlvciA9IG1lbnUubGF6eUJlaGF2aW9yO1xuICB2YXIgZGVzY2VuZGFudHMgPSB1c2VNZW51RGVzY2VuZGFudHNDb250ZXh0KCk7XG4gIC8qKlxuICAgKiBIb29rIHRoYXQgY3JlYXRlcyBhIGtleWRvd24gZXZlbnQgaGFuZGxlciB0aGF0IGxpc3RlbnNcbiAgICogdG8gcHJpbnRhYmxlIGtleWJvYXJkIGNoYXJhY3RlciBwcmVzc1xuICAgKi9cblxuICB2YXIgY3JlYXRlVHlwZWFoZWFkSGFuZGxlciA9IHVzZVNob3J0Y3V0KHtcbiAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoZXZlbnQpIHtcbiAgICAgIHJldHVybiBldmVudC5rZXkgIT09IFwiIFwiICYmIGlzVGFyZ2V0TWVudUl0ZW0oZXZlbnQudGFyZ2V0KTtcbiAgICB9XG4gIH0pO1xuICB2YXIgb25LZXlEb3duID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGV2ZW50S2V5ID0gbm9ybWFsaXplRXZlbnRLZXkoZXZlbnQpO1xuICAgIHZhciBrZXlNYXAgPSB7XG4gICAgICBUYWI6IGZ1bmN0aW9uIFRhYihldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH0sXG4gICAgICBFc2NhcGU6IG9uQ2xvc2UsXG4gICAgICBBcnJvd0Rvd246IGZ1bmN0aW9uIEFycm93RG93bigpIHtcbiAgICAgICAgdmFyIG5leHQgPSBkZXNjZW5kYW50cy5uZXh0RW5hYmxlZChmb2N1c2VkSW5kZXgpO1xuICAgICAgICBpZiAobmV4dCkgc2V0Rm9jdXNlZEluZGV4KG5leHQuaW5kZXgpO1xuICAgICAgfSxcbiAgICAgIEFycm93VXA6IGZ1bmN0aW9uIEFycm93VXAoKSB7XG4gICAgICAgIHZhciBwcmV2ID0gZGVzY2VuZGFudHMucHJldkVuYWJsZWQoZm9jdXNlZEluZGV4KTtcbiAgICAgICAgaWYgKHByZXYpIHNldEZvY3VzZWRJbmRleChwcmV2LmluZGV4KTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBmbiA9IGtleU1hcFtldmVudEtleV07XG5cbiAgICBpZiAoZm4pIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBmbihldmVudCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFR5cGVhaGVhZDogQmFzZWQgb24gY3VycmVudCBjaGFyYWN0ZXIgcHJlc3NlZCxcbiAgICAgKiBmaW5kIHRoZSBuZXh0IGl0ZW0gdG8gYmUgc2VsZWN0ZWRcbiAgICAgKi9cblxuXG4gICAgdmFyIG9uVHlwZWFoZWFkID0gY3JlYXRlVHlwZWFoZWFkSGFuZGxlcihmdW5jdGlvbiAoY2hhcmFjdGVyKSB7XG4gICAgICB2YXIgbmV4dEl0ZW0gPSBnZXROZXh0SXRlbUZyb21TZWFyY2goZGVzY2VuZGFudHMudmFsdWVzKCksIGNoYXJhY3RlciwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgdmFyIF9pdGVtJG5vZGUkdGV4dENvbnRlbiwgX2l0ZW0kbm9kZTtcblxuICAgICAgICByZXR1cm4gKF9pdGVtJG5vZGUkdGV4dENvbnRlbiA9IGl0ZW0gPT0gbnVsbCA/IHZvaWQgMCA6IChfaXRlbSRub2RlID0gaXRlbS5ub2RlKSA9PSBudWxsID8gdm9pZCAwIDogX2l0ZW0kbm9kZS50ZXh0Q29udGVudCkgIT0gbnVsbCA/IF9pdGVtJG5vZGUkdGV4dENvbnRlbiA6IFwiXCI7XG4gICAgICB9LCBkZXNjZW5kYW50cy5pdGVtKGZvY3VzZWRJbmRleCkpO1xuXG4gICAgICBpZiAobmV4dEl0ZW0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gZGVzY2VuZGFudHMuaW5kZXhPZihuZXh0SXRlbS5ub2RlKTtcbiAgICAgICAgc2V0Rm9jdXNlZEluZGV4KGluZGV4KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmIChpc1RhcmdldE1lbnVJdGVtKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgIG9uVHlwZWFoZWFkKGV2ZW50KTtcbiAgICB9XG4gIH0sIFtkZXNjZW5kYW50cywgZm9jdXNlZEluZGV4LCBjcmVhdGVUeXBlYWhlYWRIYW5kbGVyLCBvbkNsb3NlLCBzZXRGb2N1c2VkSW5kZXhdKTtcbiAgdmFyIGhhc0JlZW5PcGVuZWQgPSBSZWFjdC51c2VSZWYoZmFsc2UpO1xuXG4gIGlmIChpc09wZW4pIHtcbiAgICBoYXNCZWVuT3BlbmVkLmN1cnJlbnQgPSB0cnVlO1xuICB9XG5cbiAgdmFyIHNob3VsZFJlbmRlckNoaWxkcmVuID0gZGV0ZXJtaW5lTGF6eUJlaGF2aW9yKHtcbiAgICBoYXNCZWVuU2VsZWN0ZWQ6IGhhc0JlZW5PcGVuZWQuY3VycmVudCxcbiAgICBpc0xhenk6IGlzTGF6eSxcbiAgICBsYXp5QmVoYXZpb3I6IGxhenlCZWhhdmlvcixcbiAgICBpc1NlbGVjdGVkOiBpc09wZW5cbiAgfSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICByZWY6IG1lcmdlUmVmcyhtZW51UmVmLCByZWYpLFxuICAgIGNoaWxkcmVuOiBzaG91bGRSZW5kZXJDaGlsZHJlbiA/IHByb3BzLmNoaWxkcmVuIDogbnVsbCxcbiAgICB0YWJJbmRleDogLTEsXG4gICAgcm9sZTogXCJtZW51XCIsXG4gICAgaWQ6IG1lbnVJZCxcbiAgICBzdHlsZTogX2V4dGVuZHMoe30sIHByb3BzLnN0eWxlLCB7XG4gICAgICB0cmFuc2Zvcm1PcmlnaW46IFwidmFyKC0tcG9wcGVyLXRyYW5zZm9ybS1vcmlnaW4pXCJcbiAgICB9KSxcbiAgICBcImFyaWEtb3JpZW50YXRpb25cIjogXCJ2ZXJ0aWNhbFwiLFxuICAgIG9uS2V5RG93bjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgb25LZXlEb3duKVxuICB9KTtcbn1cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHVzZU1lbnVQb3NpdGlvbjogQ29tcG9zZXMgdXNlUG9wcGVyIHRvIHBvc2l0aW9uIHRoZSBtZW51XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmZ1bmN0aW9uIHVzZU1lbnVQb3NpdGlvbmVyKHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gIHZhciBfdXNlTWVudUNvbnRleHQgPSB1c2VNZW51Q29udGV4dCgpLFxuICAgICAgcG9wcGVyID0gX3VzZU1lbnVDb250ZXh0LnBvcHBlcixcbiAgICAgIGlzT3BlbiA9IF91c2VNZW51Q29udGV4dC5pc09wZW47XG5cbiAgcmV0dXJuIHBvcHBlci5nZXRQb3BwZXJQcm9wcyhfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICBzdHlsZTogX2V4dGVuZHMoe1xuICAgICAgdmlzaWJpbGl0eTogaXNPcGVuID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiXG4gICAgfSwgcHJvcHMuc3R5bGUpXG4gIH0pKTtcbn1cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHVzZU1lbnVJdGVtOiBIb29rIGZvciBlYWNoIG1lbnUgaXRlbSB3aXRoaW4gdGhlIG1lbnUgbGlzdC5cbiAgIFdlIGFsc28gdXNlIGl0IGluIGB1c2VNZW51SXRlbU9wdGlvbmBcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuZnVuY3Rpb24gdXNlTWVudUl0ZW0ocHJvcHMsIGV4dGVybmFsUmVmKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gIGlmIChleHRlcm5hbFJlZiA9PT0gdm9pZCAwKSB7XG4gICAgZXh0ZXJuYWxSZWYgPSBudWxsO1xuICB9XG5cbiAgdmFyIF9wcm9wczIgPSBwcm9wcyxcbiAgICAgIG9uTW91c2VFbnRlclByb3AgPSBfcHJvcHMyLm9uTW91c2VFbnRlcixcbiAgICAgIG9uTW91c2VNb3ZlUHJvcCA9IF9wcm9wczIub25Nb3VzZU1vdmUsXG4gICAgICBvbk1vdXNlTGVhdmVQcm9wID0gX3Byb3BzMi5vbk1vdXNlTGVhdmUsXG4gICAgICBvbkNsaWNrUHJvcCA9IF9wcm9wczIub25DbGljayxcbiAgICAgIGlzRGlzYWJsZWQgPSBfcHJvcHMyLmlzRGlzYWJsZWQsXG4gICAgICBpc0ZvY3VzYWJsZSA9IF9wcm9wczIuaXNGb2N1c2FibGUsXG4gICAgICBjbG9zZU9uU2VsZWN0ID0gX3Byb3BzMi5jbG9zZU9uU2VsZWN0LFxuICAgICAgaHRtbFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3Byb3BzMiwgX2V4Y2x1ZGVkMiQxKTtcblxuICB2YXIgbWVudSA9IHVzZU1lbnVDb250ZXh0KCk7XG4gIHZhciBzZXRGb2N1c2VkSW5kZXggPSBtZW51LnNldEZvY3VzZWRJbmRleCxcbiAgICAgIGZvY3VzZWRJbmRleCA9IG1lbnUuZm9jdXNlZEluZGV4LFxuICAgICAgbWVudUNsb3NlT25TZWxlY3QgPSBtZW51LmNsb3NlT25TZWxlY3QsXG4gICAgICBvbkNsb3NlID0gbWVudS5vbkNsb3NlLFxuICAgICAgbWVudVJlZiA9IG1lbnUubWVudVJlZixcbiAgICAgIGlzT3BlbiA9IG1lbnUuaXNPcGVuLFxuICAgICAgbWVudUlkID0gbWVudS5tZW51SWQ7XG4gIHZhciByZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBpZCA9IG1lbnVJZCArIFwiLW1lbnVpdGVtLVwiICsgdXNlSWQoKTtcbiAgLyoqXG4gICAqIFJlZ2lzdGVyIHRoZSBtZW51aXRlbSdzIG5vZGUgaW50byB0aGUgZG9tQ29udGV4dFxuICAgKi9cblxuICB2YXIgX3VzZU1lbnVEZXNjZW5kYW50ID0gdXNlTWVudURlc2NlbmRhbnQoe1xuICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkICYmICFpc0ZvY3VzYWJsZVxuICB9KSxcbiAgICAgIGluZGV4ID0gX3VzZU1lbnVEZXNjZW5kYW50LmluZGV4LFxuICAgICAgcmVnaXN0ZXIgPSBfdXNlTWVudURlc2NlbmRhbnQucmVnaXN0ZXI7XG5cbiAgdmFyIG9uTW91c2VFbnRlciA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIG9uTW91c2VFbnRlclByb3AgPT0gbnVsbCA/IHZvaWQgMCA6IG9uTW91c2VFbnRlclByb3AoZXZlbnQpO1xuICAgIGlmIChpc0Rpc2FibGVkKSByZXR1cm47XG4gICAgc2V0Rm9jdXNlZEluZGV4KGluZGV4KTtcbiAgfSwgW3NldEZvY3VzZWRJbmRleCwgaW5kZXgsIGlzRGlzYWJsZWQsIG9uTW91c2VFbnRlclByb3BdKTtcbiAgdmFyIG9uTW91c2VNb3ZlID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgb25Nb3VzZU1vdmVQcm9wID09IG51bGwgPyB2b2lkIDAgOiBvbk1vdXNlTW92ZVByb3AoZXZlbnQpO1xuXG4gICAgaWYgKHJlZi5jdXJyZW50ICYmICFpc0FjdGl2ZUVsZW1lbnQocmVmLmN1cnJlbnQpKSB7XG4gICAgICBvbk1vdXNlRW50ZXIoZXZlbnQpO1xuICAgIH1cbiAgfSwgW29uTW91c2VFbnRlciwgb25Nb3VzZU1vdmVQcm9wXSk7XG4gIHZhciBvbk1vdXNlTGVhdmUgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBvbk1vdXNlTGVhdmVQcm9wID09IG51bGwgPyB2b2lkIDAgOiBvbk1vdXNlTGVhdmVQcm9wKGV2ZW50KTtcbiAgICBpZiAoaXNEaXNhYmxlZCkgcmV0dXJuO1xuICAgIHNldEZvY3VzZWRJbmRleCgtMSk7XG4gIH0sIFtzZXRGb2N1c2VkSW5kZXgsIGlzRGlzYWJsZWQsIG9uTW91c2VMZWF2ZVByb3BdKTtcbiAgdmFyIG9uQ2xpY2sgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBvbkNsaWNrUHJvcCA9PSBudWxsID8gdm9pZCAwIDogb25DbGlja1Byb3AoZXZlbnQpO1xuICAgIGlmICghaXNUYXJnZXRNZW51SXRlbShldmVudC5jdXJyZW50VGFyZ2V0KSkgcmV0dXJuO1xuICAgIC8qKlxuICAgICAqIENsb3NlIG1lbnUgYW5kIHBhcmVudCBtZW51cywgYWxsb3dpbmcgdGhlIE1lbnVJdGVtXG4gICAgICogdG8gb3ZlcnJpZGUgaXRzIHBhcmVudCBtZW51J3MgYGNsb3NlT25TZWxlY3RgIHByb3AuXG4gICAgICovXG5cbiAgICBpZiAoY2xvc2VPblNlbGVjdCAhPSBudWxsID8gY2xvc2VPblNlbGVjdCA6IG1lbnVDbG9zZU9uU2VsZWN0KSB7XG4gICAgICBvbkNsb3NlKCk7XG4gICAgfVxuICB9LCBbb25DbG9zZSwgb25DbGlja1Byb3AsIG1lbnVDbG9zZU9uU2VsZWN0LCBjbG9zZU9uU2VsZWN0XSk7XG4gIHZhciBpc0ZvY3VzZWQgPSBpbmRleCA9PT0gZm9jdXNlZEluZGV4O1xuICB2YXIgdHJ1bHlEaXNhYmxlZCA9IGlzRGlzYWJsZWQgJiYgIWlzRm9jdXNhYmxlO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaXNPcGVuKSByZXR1cm47XG5cbiAgICBpZiAoaXNGb2N1c2VkICYmICF0cnVseURpc2FibGVkICYmIHJlZi5jdXJyZW50KSB7XG4gICAgICBmb2N1cyhyZWYuY3VycmVudCwge1xuICAgICAgICBuZXh0VGljazogdHJ1ZSxcbiAgICAgICAgc2VsZWN0VGV4dElmSW5wdXQ6IGZhbHNlLFxuICAgICAgICBwcmV2ZW50U2Nyb2xsOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtZW51UmVmLmN1cnJlbnQgJiYgIWlzQWN0aXZlRWxlbWVudChtZW51UmVmLmN1cnJlbnQpKSB7XG4gICAgICBmb2N1cyhtZW51UmVmLmN1cnJlbnQsIHtcbiAgICAgICAgcHJldmVudFNjcm9sbDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2lzRm9jdXNlZCwgdHJ1bHlEaXNhYmxlZCwgbWVudVJlZiwgaXNPcGVuXSk7XG4gIHZhciBjbGlja2FibGVQcm9wcyA9IHVzZUNsaWNrYWJsZSh7XG4gICAgb25DbGljazogb25DbGljayxcbiAgICBvbk1vdXNlRW50ZXI6IG9uTW91c2VFbnRlcixcbiAgICBvbk1vdXNlTW92ZTogb25Nb3VzZU1vdmUsXG4gICAgb25Nb3VzZUxlYXZlOiBvbk1vdXNlTGVhdmUsXG4gICAgcmVmOiBtZXJnZVJlZnMocmVnaXN0ZXIsIHJlZiwgZXh0ZXJuYWxSZWYpLFxuICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgaXNGb2N1c2FibGU6IGlzRm9jdXNhYmxlXG4gIH0pO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGh0bWxQcm9wcywgY2xpY2thYmxlUHJvcHMsIHtcbiAgICBpZDogaWQsXG4gICAgcm9sZTogXCJtZW51aXRlbVwiLFxuICAgIHRhYkluZGV4OiBpc0ZvY3VzZWQgPyAwIDogLTFcbiAgfSk7XG59XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiB1c2VNZW51T3B0aW9uOiBDb21wb3NlcyB1c2VNZW51SXRlbSB0byBwcm92aWRlIGEgc2VsZWN0YWJsZS9jaGVja2FibGUgbWVudSBpdGVtXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmZ1bmN0aW9uIHVzZU1lbnVPcHRpb24ocHJvcHMsIHJlZikge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICByZWYgPSBudWxsO1xuICB9XG5cbiAgdmFyIF9wcm9wczMgPSBwcm9wcyxcbiAgICAgIF9wcm9wczMkdHlwZSA9IF9wcm9wczMudHlwZSxcbiAgICAgIHR5cGUgPSBfcHJvcHMzJHR5cGUgPT09IHZvaWQgMCA/IFwicmFkaW9cIiA6IF9wcm9wczMkdHlwZSxcbiAgICAgIGlzQ2hlY2tlZCA9IF9wcm9wczMuaXNDaGVja2VkLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9wcm9wczMsIF9leGNsdWRlZDMkMSk7XG5cbiAgdmFyIG93blByb3BzID0gdXNlTWVudUl0ZW0ocmVzdCwgcmVmKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBvd25Qcm9wcywge1xuICAgIHJvbGU6IFwibWVudWl0ZW1cIiArIHR5cGUsXG4gICAgXCJhcmlhLWNoZWNrZWRcIjogaXNDaGVja2VkXG4gIH0pO1xufVxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogdXNlTWVudU9wdGlvbkdyb3VwOiBNYW5hZ2VzIHRoZSBzdGF0ZSBvZiBtdWx0aXBsZSBzZWxlY3RhYmxlIG1lbnVpdGVtIG9yIG1lbnUgb3B0aW9uXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbmZ1bmN0aW9uIHVzZU1lbnVPcHRpb25Hcm91cChwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICB2YXIgX3Byb3BzNCA9IHByb3BzLFxuICAgICAgY2hpbGRyZW4gPSBfcHJvcHM0LmNoaWxkcmVuLFxuICAgICAgX3Byb3BzNCR0eXBlID0gX3Byb3BzNC50eXBlLFxuICAgICAgdHlwZSA9IF9wcm9wczQkdHlwZSA9PT0gdm9pZCAwID8gXCJyYWRpb1wiIDogX3Byb3BzNCR0eXBlLFxuICAgICAgdmFsdWVQcm9wID0gX3Byb3BzNC52YWx1ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IF9wcm9wczQuZGVmYXVsdFZhbHVlLFxuICAgICAgb25DaGFuZ2VQcm9wID0gX3Byb3BzNC5vbkNoYW5nZSxcbiAgICAgIGh0bWxQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9wcm9wczQsIF9leGNsdWRlZDQkMSk7XG5cbiAgdmFyIGlzUmFkaW8gPSB0eXBlID09PSBcInJhZGlvXCI7XG4gIHZhciBmYWxsYmFjayA9IGlzUmFkaW8gPyBcIlwiIDogW107XG5cbiAgdmFyIF91c2VDb250cm9sbGFibGVTdGF0ZSA9IHVzZUNvbnRyb2xsYWJsZVN0YXRlKHtcbiAgICBkZWZhdWx0VmFsdWU6IGRlZmF1bHRWYWx1ZSAhPSBudWxsID8gZGVmYXVsdFZhbHVlIDogZmFsbGJhY2ssXG4gICAgdmFsdWU6IHZhbHVlUHJvcCxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VQcm9wXG4gIH0pLFxuICAgICAgdmFsdWUgPSBfdXNlQ29udHJvbGxhYmxlU3RhdGVbMF0sXG4gICAgICBzZXRWYWx1ZSA9IF91c2VDb250cm9sbGFibGVTdGF0ZVsxXTtcblxuICB2YXIgb25DaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoc2VsZWN0ZWRWYWx1ZSkge1xuICAgIGlmICh0eXBlID09PSBcInJhZGlvXCIgJiYgaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgICBzZXRWYWx1ZShzZWxlY3RlZFZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gXCJjaGVja2JveFwiICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB2YXIgbmV4dFZhbHVlID0gdmFsdWUuaW5jbHVkZXMoc2VsZWN0ZWRWYWx1ZSkgPyByZW1vdmVJdGVtKHZhbHVlLCBzZWxlY3RlZFZhbHVlKSA6IGFkZEl0ZW0odmFsdWUsIHNlbGVjdGVkVmFsdWUpO1xuICAgICAgc2V0VmFsdWUobmV4dFZhbHVlKTtcbiAgICB9XG4gIH0sIFt2YWx1ZSwgc2V0VmFsdWUsIHR5cGVdKTtcbiAgdmFyIHZhbGlkQ2hpbGRyZW4gPSBnZXRWYWxpZENoaWxkcmVuKGNoaWxkcmVuKTtcbiAgdmFyIGNsb25lcyA9IHZhbGlkQ2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIC8qKlxuICAgICAqIFdlJ3ZlIGFkZGVkIGFuIGludGVybmFsIGBpZGAgdG8gZWFjaCBgTWVudUl0ZW1PcHRpb25gLFxuICAgICAqIGxldCdzIHVzZSB0aGF0IGZvciB0eXBlLWNoZWNraW5nLlxuICAgICAqXG4gICAgICogV2UgY2FuJ3QgcmVseSBvbiBkaXNwbGF5TmFtZSBvciB0aGUgZWxlbWVudCdzIHR5cGUgc2luY2VcbiAgICAgKiB0aGV5IGNhbiBiZSBjaGFuZ2VkIGJ5IHRoZSB1c2VyLlxuICAgICAqL1xuICAgIGlmIChjaGlsZC50eXBlLmlkICE9PSBcIk1lbnVJdGVtT3B0aW9uXCIpIHJldHVybiBjaGlsZDtcblxuICAgIHZhciBvbkNsaWNrID0gZnVuY3Rpb24gb25DbGljayhldmVudCkge1xuICAgICAgb25DaGFuZ2UoY2hpbGQucHJvcHMudmFsdWUpO1xuICAgICAgY2hpbGQucHJvcHMub25DbGljayA9PSBudWxsID8gdm9pZCAwIDogY2hpbGQucHJvcHMub25DbGljayhldmVudCk7XG4gICAgfTtcblxuICAgIHZhciBpc0NoZWNrZWQgPSB0eXBlID09PSBcInJhZGlvXCIgPyBjaGlsZC5wcm9wcy52YWx1ZSA9PT0gdmFsdWUgOiB2YWx1ZS5pbmNsdWRlcyhjaGlsZC5wcm9wcy52YWx1ZSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgIHR5cGU6IHR5cGUsXG4gICAgICBvbkNsaWNrOiBvbkNsaWNrLFxuICAgICAgaXNDaGVja2VkOiBpc0NoZWNrZWRcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgaHRtbFByb3BzLCB7XG4gICAgY2hpbGRyZW46IGNsb25lc1xuICB9KTtcbn1cbmZ1bmN0aW9uIHVzZU1lbnVTdGF0ZSgpIHtcbiAgdmFyIF91c2VNZW51Q29udGV4dDIgPSB1c2VNZW51Q29udGV4dCgpLFxuICAgICAgaXNPcGVuID0gX3VzZU1lbnVDb250ZXh0Mi5pc09wZW4sXG4gICAgICBvbkNsb3NlID0gX3VzZU1lbnVDb250ZXh0Mi5vbkNsb3NlO1xuXG4gIHJldHVybiB7XG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgb25DbG9zZTogb25DbG9zZVxuICB9O1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1wiZGVzY2VuZGFudHNcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcImNoaWxkcmVuXCIsIFwiYXNcIl0sXG4gICAgX2V4Y2x1ZGVkMyA9IFtcInJvb3RQcm9wc1wiXSxcbiAgICBfZXhjbHVkZWQ0ID0gW1widHlwZVwiXSxcbiAgICBfZXhjbHVkZWQ1ID0gW1wiaWNvblwiLCBcImljb25TcGFjaW5nXCIsIFwiY29tbWFuZFwiLCBcImNvbW1hbmRTcGFjaW5nXCIsIFwiY2hpbGRyZW5cIl0sXG4gICAgX2V4Y2x1ZGVkNiA9IFtcImljb25cIiwgXCJpY29uU3BhY2luZ1wiXSxcbiAgICBfZXhjbHVkZWQ3ID0gW1wiY2xhc3NOYW1lXCIsIFwidGl0bGVcIl0sXG4gICAgX2V4Y2x1ZGVkOCA9IFtcInRpdGxlXCIsIFwiY2hpbGRyZW5cIiwgXCJjbGFzc05hbWVcIl0sXG4gICAgX2V4Y2x1ZGVkOSA9IFtcImNsYXNzTmFtZVwiLCBcImNoaWxkcmVuXCJdLFxuICAgIF9leGNsdWRlZDEwID0gW1wiY2xhc3NOYW1lXCJdO1xuXG4vKipcbiAqIE1lbnUgcHJvdmlkZXMgY29udGV4dCwgc3RhdGUsIGFuZCBmb2N1cyBtYW5hZ2VtZW50XG4gKiB0byBpdHMgc3ViLWNvbXBvbmVudHMuIEl0IGRvZXNuJ3QgcmVuZGVyIGFueSBET00gbm9kZS5cbiAqL1xudmFyIE1lbnUgPSBmdW5jdGlvbiBNZW51KHByb3BzKSB7XG4gIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICB2YXIgc3R5bGVzID0gdXNlTXVsdGlTdHlsZUNvbmZpZyhcIk1lbnVcIiwgcHJvcHMpO1xuICB2YXIgb3duUHJvcHMgPSBvbWl0VGhlbWluZ1Byb3BzKHByb3BzKTtcblxuICB2YXIgX3VzZVRoZW1lID0gdXNlVGhlbWUoKSxcbiAgICAgIGRpcmVjdGlvbiA9IF91c2VUaGVtZS5kaXJlY3Rpb247XG5cbiAgdmFyIF91c2VNZW51ID0gdXNlTWVudShfZXh0ZW5kcyh7fSwgb3duUHJvcHMsIHtcbiAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICB9KSksXG4gICAgICBkZXNjZW5kYW50cyA9IF91c2VNZW51LmRlc2NlbmRhbnRzLFxuICAgICAgY3R4ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3VzZU1lbnUsIF9leGNsdWRlZCk7XG5cbiAgdmFyIGNvbnRleHQgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY3R4O1xuICB9LCBbY3R4XSk7XG4gIHZhciBpc09wZW4gPSBjb250ZXh0LmlzT3BlbixcbiAgICAgIG9uQ2xvc2UgPSBjb250ZXh0Lm9uQ2xvc2UsXG4gICAgICBmb3JjZVVwZGF0ZSA9IGNvbnRleHQuZm9yY2VVcGRhdGU7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZW51RGVzY2VuZGFudHNQcm92aWRlciwge1xuICAgIHZhbHVlOiBkZXNjZW5kYW50c1xuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZW51UHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY29udGV4dFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZXNQcm92aWRlciwge1xuICAgIHZhbHVlOiBzdHlsZXNcbiAgfSwgcnVuSWZGbihjaGlsZHJlbiwge1xuICAgIGlzT3BlbjogaXNPcGVuLFxuICAgIG9uQ2xvc2U6IG9uQ2xvc2UsXG4gICAgZm9yY2VVcGRhdGU6IGZvcmNlVXBkYXRlXG4gIH0pKSkpO1xufTtcblxuaWYgKF9fREVWX18pIHtcbiAgTWVudS5kaXNwbGF5TmFtZSA9IFwiTWVudVwiO1xufVxuXG52YXIgU3R5bGVkTWVudUJ1dHRvbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5idXR0b24sIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZlxuICB9LCBwcm9wcywge1xuICAgIF9fY3NzOiBfZXh0ZW5kcyh7XG4gICAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgICBhcHBlYXJhbmNlOiBcIm5vbmVcIixcbiAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICBvdXRsaW5lOiAwXG4gICAgfSwgc3R5bGVzLmJ1dHRvbilcbiAgfSkpO1xufSk7XG4vKipcbiAqIFRoZSB0cmlnZ2VyIGZvciB0aGUgbWVudSBsaXN0LiBNdXN0IGJlIGEgZGlyZWN0IGNoaWxkIG9mIGBNZW51YC5cbiAqL1xuXG52YXIgTWVudUJ1dHRvbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHByb3BzLmNoaWxkcmVuO1xuICAgICAgdmFyIEFzID0gcHJvcHMuYXMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZDIpO1xuXG4gIHZhciBidXR0b25Qcm9wcyA9IHVzZU1lbnVCdXR0b24ocmVzdCwgcmVmKTtcbiAgdmFyIEVsZW1lbnQgPSBBcyB8fCBTdHlsZWRNZW51QnV0dG9uO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRWxlbWVudCwgX2V4dGVuZHMoe30sIGJ1dHRvblByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1tZW51X19tZW51LWJ1dHRvblwiLCBwcm9wcy5jbGFzc05hbWUpXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuc3Bhbiwge1xuICAgIF9fY3NzOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgIGZsZXg6IFwiMSAxIGF1dG9cIixcbiAgICAgIG1pblc6IDBcbiAgICB9XG4gIH0sIHByb3BzLmNoaWxkcmVuKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgTWVudUJ1dHRvbi5kaXNwbGF5TmFtZSA9IFwiTWVudUJ1dHRvblwiO1xufVxuXG52YXIgbW90aW9uVmFyaWFudHMgPSB7XG4gIGVudGVyOiB7XG4gICAgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCIsXG4gICAgb3BhY2l0eTogMSxcbiAgICBzY2FsZTogMSxcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICBkdXJhdGlvbjogMC4yLFxuICAgICAgZWFzZTogWzAuNCwgMCwgMC4yLCAxXVxuICAgIH1cbiAgfSxcbiAgZXhpdDoge1xuICAgIHRyYW5zaXRpb25FbmQ6IHtcbiAgICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCJcbiAgICB9LFxuICAgIG9wYWNpdHk6IDAsXG4gICAgc2NhbGU6IDAuOCxcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICBkdXJhdGlvbjogMC4xLFxuICAgICAgZWFzaW5nczogXCJlYXNlT3V0XCJcbiAgICB9XG4gIH1cbn07IC8vIEBmdXR1cmU6IG9ubHkgY2FsbCBgbW90aW9uKGNoYWtyYS5kaXYpYCB3aGVuIHdlIGRyb3AgZnJhbWVyLW1vdGlvbiB2MyBzdXBwb3J0XG5cbnZhciBNb3Rpb25EaXYgPSBcImN1c3RvbVwiIGluIG1vdGlvbiA/IG1vdGlvbi5jdXN0b20oY2hha3JhLmRpdikgOiBtb3Rpb24oY2hha3JhLmRpdik7XG52YXIgTWVudUxpc3QgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3Byb3BzJHpJbmRleCwgX3N0eWxlcyRsaXN0O1xuXG4gIHZhciByb290UHJvcHMgPSBwcm9wcy5yb290UHJvcHMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZDMpO1xuXG4gIHZhciBfdXNlTWVudUNvbnRleHQgPSB1c2VNZW51Q29udGV4dCgpLFxuICAgICAgaXNPcGVuID0gX3VzZU1lbnVDb250ZXh0LmlzT3BlbixcbiAgICAgIG9uVHJhbnNpdGlvbkVuZCA9IF91c2VNZW51Q29udGV4dC5vblRyYW5zaXRpb25FbmQ7XG5cbiAgdmFyIG1lbnVsaXN0UHJvcHMgPSB1c2VNZW51TGlzdChyZXN0LCByZWYpO1xuICB2YXIgcG9zaXRpb25lclByb3BzID0gdXNlTWVudVBvc2l0aW9uZXIocm9vdFByb3BzKTtcbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe30sIHBvc2l0aW9uZXJQcm9wcywge1xuICAgIF9fY3NzOiB7XG4gICAgICB6SW5kZXg6IChfcHJvcHMkekluZGV4ID0gcHJvcHMuekluZGV4KSAhPSBudWxsID8gX3Byb3BzJHpJbmRleCA6IChfc3R5bGVzJGxpc3QgPSBzdHlsZXMubGlzdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9zdHlsZXMkbGlzdC56SW5kZXhcbiAgICB9XG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb3Rpb25EaXYsIF9leHRlbmRzKHt9LCBtZW51bGlzdFByb3BzLCB7XG4gICAgLyoqXG4gICAgICogV2UgY291bGQgY2FsbCB0aGlzIG9uIGVpdGhlciBgb25BbmltYXRpb25Db21wbGV0ZWAgb3IgYG9uVXBkYXRlYC5cbiAgICAgKiBJdCBzZWVtcyB0aGUgcmUtZm9jdXNpbmcgd29ya3MgYmV0dGVyIHdpdGggdGhlIGBvblVwZGF0ZWBcbiAgICAgKi9cbiAgICBvblVwZGF0ZTogb25UcmFuc2l0aW9uRW5kLFxuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtbWVudV9fbWVudS1saXN0XCIsIG1lbnVsaXN0UHJvcHMuY2xhc3NOYW1lKSxcbiAgICB2YXJpYW50czogbW90aW9uVmFyaWFudHMsXG4gICAgaW5pdGlhbDogZmFsc2UsXG4gICAgYW5pbWF0ZTogaXNPcGVuID8gXCJlbnRlclwiIDogXCJleGl0XCIsXG4gICAgX19jc3M6IF9leHRlbmRzKHtcbiAgICAgIG91dGxpbmU6IDBcbiAgICB9LCBzdHlsZXMubGlzdClcbiAgfSkpKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBNZW51TGlzdC5kaXNwbGF5TmFtZSA9IFwiTWVudUxpc3RcIjtcbn1cblxudmFyIFN0eWxlZE1lbnVJdGVtID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHR5cGUgPSBwcm9wcy50eXBlLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQ0KTtcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIC8qKlxuICAgKiBHaXZlbiBhbm90aGVyIGNvbXBvbmVudCwgdXNlIGl0cyB0eXBlIGlmIHByZXNlbnRcbiAgICogRWxzZSwgdXNlIG5vIHR5cGUgdG8gYXZvaWQgaW52YWxpZCBodG1sLCBlLmcuIDxhIHR5cGU9XCJidXR0b25cIiAvPlxuICAgKiBFbHNlLCBmYWxsIGJhY2sgdG8gXCJidXR0b25cIlxuICAgKi9cblxuICB2YXIgYnRuVHlwZSA9IHJlc3QuYXMgPyB0eXBlICE9IG51bGwgPyB0eXBlIDogdW5kZWZpbmVkIDogXCJidXR0b25cIjtcblxuICB2YXIgYnV0dG9uU3R5bGVzID0gX2V4dGVuZHMoe1xuICAgIHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIixcbiAgICBjb2xvcjogXCJpbmhlcml0XCIsXG4gICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgdGV4dEFsaWduOiBcInN0YXJ0XCIsXG4gICAgZmxleDogXCIwIDAgYXV0b1wiLFxuICAgIG91dGxpbmU6IDBcbiAgfSwgc3R5bGVzLml0ZW0pO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuYnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgdHlwZTogYnRuVHlwZVxuICB9LCByZXN0LCB7XG4gICAgX19jc3M6IGJ1dHRvblN0eWxlc1xuICB9KSk7XG59KTtcbnZhciBNZW51SXRlbSA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBpY29uID0gcHJvcHMuaWNvbixcbiAgICAgIF9wcm9wcyRpY29uU3BhY2luZyA9IHByb3BzLmljb25TcGFjaW5nLFxuICAgICAgaWNvblNwYWNpbmcgPSBfcHJvcHMkaWNvblNwYWNpbmcgPT09IHZvaWQgMCA/IFwiMC43NXJlbVwiIDogX3Byb3BzJGljb25TcGFjaW5nLFxuICAgICAgY29tbWFuZCA9IHByb3BzLmNvbW1hbmQsXG4gICAgICBfcHJvcHMkY29tbWFuZFNwYWNpbmcgPSBwcm9wcy5jb21tYW5kU3BhY2luZyxcbiAgICAgIGNvbW1hbmRTcGFjaW5nID0gX3Byb3BzJGNvbW1hbmRTcGFjaW5nID09PSB2b2lkIDAgPyBcIjAuNzVyZW1cIiA6IF9wcm9wcyRjb21tYW5kU3BhY2luZyxcbiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZDUpO1xuXG4gIHZhciBtZW51aXRlbVByb3BzID0gdXNlTWVudUl0ZW0ocmVzdCwgcmVmKTtcbiAgdmFyIHNob3VsZFdyYXAgPSBpY29uIHx8IGNvbW1hbmQ7XG5cbiAgdmFyIF9jaGlsZHJlbiA9IHNob3VsZFdyYXAgPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIHN0eWxlOiB7XG4gICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgIGZsZXg6IDFcbiAgICB9XG4gIH0sIGNoaWxkcmVuKSA6IGNoaWxkcmVuO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRNZW51SXRlbSwgX2V4dGVuZHMoe30sIG1lbnVpdGVtUHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLW1lbnVfX21lbnVpdGVtXCIsIG1lbnVpdGVtUHJvcHMuY2xhc3NOYW1lKVxuICB9KSwgaWNvbiAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZW51SWNvbiwge1xuICAgIGZvbnRTaXplOiBcIjAuOGVtXCIsXG4gICAgbWFyZ2luRW5kOiBpY29uU3BhY2luZ1xuICB9LCBpY29uKSwgX2NoaWxkcmVuLCBjb21tYW5kICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVDb21tYW5kLCB7XG4gICAgbWFyZ2luU3RhcnQ6IGNvbW1hbmRTcGFjaW5nXG4gIH0sIGNvbW1hbmQpKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBNZW51SXRlbS5kaXNwbGF5TmFtZSA9IFwiTWVudUl0ZW1cIjtcbn1cblxudmFyIENoZWNrSWNvbiA9IGZ1bmN0aW9uIENoZWNrSWNvbihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsXG4gICAgd2lkdGg6IFwiMWVtXCIsXG4gICAgaGVpZ2h0OiBcIjFlbVwiXG4gIH0sIHByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwb2x5Z29uXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIHBvaW50czogXCI1LjUgMTEuOTk5MzMwNCAxNCAzLjQ5OTMzMDM5IDEyLjUgMiA1LjUgOC45OTkzMzAzOSAxLjUgNC45OTY4NjUyIDAgNi40OTkzMzAzOVwiXG4gIH0pKTtcbn07XG5cbnZhciBNZW51SXRlbU9wdGlvbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBpY29uID0gcHJvcHMuaWNvbixcbiAgICAgIF9wcm9wcyRpY29uU3BhY2luZzIgPSBwcm9wcy5pY29uU3BhY2luZyxcbiAgICAgIGljb25TcGFjaW5nID0gX3Byb3BzJGljb25TcGFjaW5nMiA9PT0gdm9pZCAwID8gXCIwLjc1cmVtXCIgOiBfcHJvcHMkaWNvblNwYWNpbmcyLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQ2KTtcblxuICB2YXIgb3B0aW9uUHJvcHMgPSB1c2VNZW51T3B0aW9uKHJlc3QsIHJlZik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRNZW51SXRlbSwgX2V4dGVuZHMoe30sIG9wdGlvblByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1tZW51X19tZW51aXRlbS1vcHRpb25cIiwgcmVzdC5jbGFzc05hbWUpXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZW51SWNvbiwge1xuICAgIGZvbnRTaXplOiBcIjAuOGVtXCIsXG4gICAgbWFyZ2luRW5kOiBpY29uU3BhY2luZyxcbiAgICBvcGFjaXR5OiBwcm9wcy5pc0NoZWNrZWQgPyAxIDogMFxuICB9LCBpY29uIHx8IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENoZWNrSWNvbiwgbnVsbCkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIHN0eWxlOiB7XG4gICAgICBmbGV4OiAxXG4gICAgfVxuICB9LCBvcHRpb25Qcm9wcy5jaGlsZHJlbikpO1xufSk7XG5NZW51SXRlbU9wdGlvbi5pZCA9IFwiTWVudUl0ZW1PcHRpb25cIjtcblxuaWYgKF9fREVWX18pIHtcbiAgTWVudUl0ZW1PcHRpb24uZGlzcGxheU5hbWUgPSBcIk1lbnVJdGVtT3B0aW9uXCI7XG59XG5cbnZhciBNZW51T3B0aW9uR3JvdXAgPSBmdW5jdGlvbiBNZW51T3B0aW9uR3JvdXAocHJvcHMpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIHRpdGxlID0gcHJvcHMudGl0bGUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZDcpO1xuXG4gIHZhciBvd25Qcm9wcyA9IHVzZU1lbnVPcHRpb25Hcm91cChyZXN0KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1lbnVHcm91cCwgX2V4dGVuZHMoe1xuICAgIHRpdGxlOiB0aXRsZSxcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLW1lbnVfX29wdGlvbi1ncm91cFwiLCBjbGFzc05hbWUpXG4gIH0sIG93blByb3BzKSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBNZW51T3B0aW9uR3JvdXAuZGlzcGxheU5hbWUgPSBcIk1lbnVPcHRpb25Hcm91cFwiO1xufVxuXG52YXIgTWVudUdyb3VwID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHRpdGxlID0gcHJvcHMudGl0bGUsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQ4KTtcblxuICB2YXIgX2NsYXNzTmFtZSA9IGN4KFwiY2hha3JhLW1lbnVfX2dyb3VwX190aXRsZVwiLCBjbGFzc05hbWUpO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLW1lbnVfX2dyb3VwXCIsXG4gICAgcm9sZTogXCJncm91cFwiXG4gIH0sIHRpdGxlICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5wLCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBfY2xhc3NOYW1lXG4gIH0sIHJlc3QsIHtcbiAgICBfX2Nzczogc3R5bGVzLmdyb3VwVGl0bGVcbiAgfSksIHRpdGxlKSwgY2hpbGRyZW4pO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIE1lbnVHcm91cC5kaXNwbGF5TmFtZSA9IFwiTWVudUdyb3VwXCI7XG59XG5cbnZhciBNZW51Q29tbWFuZCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5zcGFuLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWZcbiAgfSwgcHJvcHMsIHtcbiAgICBfX2Nzczogc3R5bGVzLmNvbW1hbmQsXG4gICAgY2xhc3NOYW1lOiBcImNoYWtyYS1tZW51X19jb21tYW5kXCJcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIE1lbnVDb21tYW5kLmRpc3BsYXlOYW1lID0gXCJNZW51Q29tbWFuZFwiO1xufVxuXG52YXIgTWVudUljb24gPSBmdW5jdGlvbiBNZW51SWNvbihwcm9wcykge1xuICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkOSk7XG5cbiAgdmFyIGNoaWxkID0gUmVhY3QuQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XG4gIHZhciBjbG9uZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5pc1ZhbGlkRWxlbWVudChjaGlsZCkgPyAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCB7XG4gICAgZm9jdXNhYmxlOiBcImZhbHNlXCIsXG4gICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlLFxuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtbWVudV9faWNvblwiLCBjaGlsZC5wcm9wcy5jbGFzc05hbWUpXG4gIH0pIDogbnVsbDtcblxuICB2YXIgX2NsYXNzTmFtZSA9IGN4KFwiY2hha3JhLW1lbnVfX2ljb24td3JhcHBlclwiLCBjbGFzc05hbWUpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuc3BhbiwgX2V4dGVuZHMoe1xuICAgIGNsYXNzTmFtZTogX2NsYXNzTmFtZVxuICB9LCByZXN0LCB7XG4gICAgX19jc3M6IHtcbiAgICAgIGZsZXhTaHJpbms6IDBcbiAgICB9XG4gIH0pLCBjbG9uZSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBNZW51SWNvbi5kaXNwbGF5TmFtZSA9IFwiTWVudUljb25cIjtcbn1cblxudmFyIE1lbnVEaXZpZGVyID0gZnVuY3Rpb24gTWVudURpdmlkZXIocHJvcHMpIHtcbiAgdmFyIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkMTApO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5ociwgX2V4dGVuZHMoe1xuICAgIHJvbGU6IFwic2VwYXJhdG9yXCIsXG4gICAgXCJhcmlhLW9yaWVudGF0aW9uXCI6IFwiaG9yaXpvbnRhbFwiLFxuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtbWVudV9fZGl2aWRlclwiLCBjbGFzc05hbWUpXG4gIH0sIHJlc3QsIHtcbiAgICBfX2Nzczogc3R5bGVzLmRpdmlkZXJcbiAgfSkpO1xufTtcblxuaWYgKF9fREVWX18pIHtcbiAgTWVudURpdmlkZXIuZGlzcGxheU5hbWUgPSBcIk1lbnVEaXZpZGVyXCI7XG59XG5cbmV4cG9ydCB7IE1lbnUsIE1lbnVCdXR0b24sIE1lbnVDb21tYW5kLCBNZW51RGVzY2VuZGFudHNQcm92aWRlciwgTWVudURpdmlkZXIsIE1lbnVHcm91cCwgTWVudUljb24sIE1lbnVJdGVtLCBNZW51SXRlbU9wdGlvbiwgTWVudUxpc3QsIE1lbnVPcHRpb25Hcm91cCwgTWVudVByb3ZpZGVyLCB1c2VNZW51LCB1c2VNZW51QnV0dG9uLCB1c2VNZW51Q29udGV4dCwgdXNlTWVudURlc2NlbmRhbnQsIHVzZU1lbnVEZXNjZW5kYW50cywgdXNlTWVudURlc2NlbmRhbnRzQ29udGV4dCwgdXNlTWVudUl0ZW0sIHVzZU1lbnVMaXN0LCB1c2VNZW51T3B0aW9uLCB1c2VNZW51T3B0aW9uR3JvdXAsIHVzZU1lbnVQb3NpdGlvbmVyLCB1c2VNZW51U3RhdGUgfTtcbiIsImltcG9ydCB7IENsb3NlQnV0dG9uIH0gZnJvbSAnQGNoYWtyYS11aS9jbG9zZS1idXR0b24nO1xuaW1wb3J0IHsgRm9jdXNMb2NrIH0gZnJvbSAnQGNoYWtyYS11aS9mb2N1cy1sb2NrJztcbmltcG9ydCB7IFBvcnRhbCB9IGZyb20gJ0BjaGFrcmEtdWkvcG9ydGFsJztcbmltcG9ydCB7IGNoYWtyYSwgdXNlTXVsdGlTdHlsZUNvbmZpZywgU3R5bGVzUHJvdmlkZXIsIGZvcndhcmRSZWYsIHVzZVN0eWxlcywgdXNlVGhlbWUgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBzbGlkZUZhZGVDb25maWcsIHNjYWxlRmFkZUNvbmZpZywgZmFkZUNvbmZpZywgU2xpZGUgfSBmcm9tICdAY2hha3JhLXVpL3RyYW5zaXRpb24nO1xuaW1wb3J0IHsgY2FsbEFsbEhhbmRsZXJzLCBfX0RFVl9fLCBjeCB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0IHsgbWVyZ2VSZWZzLCBjcmVhdGVDb250ZXh0IH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdC11dGlscyc7XG5pbXBvcnQgeyBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSwgdXNlUHJlc2VuY2UgfSBmcm9tICdmcmFtZXItbW90aW9uJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBSZW1vdmVTY3JvbGwgfSBmcm9tICdyZWFjdC1yZW1vdmUtc2Nyb2xsJztcbmltcG9ydCB7IHVzZUlkcyB9IGZyb20gJ0BjaGFrcmEtdWkvaG9va3MnO1xuaW1wb3J0IHsgaGlkZU90aGVycyB9IGZyb20gJ2FyaWEtaGlkZGVuJztcblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbnZhciBfZXhjbHVkZWQkMyA9IFtcInByZXNldFwiXTtcbnZhciB0cmFuc2l0aW9ucyA9IHtcbiAgc2xpZGVJbkJvdHRvbTogX2V4dGVuZHMoe30sIHNsaWRlRmFkZUNvbmZpZywge1xuICAgIGN1c3RvbToge1xuICAgICAgb2Zmc2V0WTogMTYsXG4gICAgICByZXZlcnNlOiB0cnVlXG4gICAgfVxuICB9KSxcbiAgc2xpZGVJblJpZ2h0OiBfZXh0ZW5kcyh7fSwgc2xpZGVGYWRlQ29uZmlnLCB7XG4gICAgY3VzdG9tOiB7XG4gICAgICBvZmZzZXRYOiAxNixcbiAgICAgIHJldmVyc2U6IHRydWVcbiAgICB9XG4gIH0pLFxuICBzY2FsZTogX2V4dGVuZHMoe30sIHNjYWxlRmFkZUNvbmZpZywge1xuICAgIGN1c3RvbToge1xuICAgICAgaW5pdGlhbFNjYWxlOiAwLjk1LFxuICAgICAgcmV2ZXJzZTogdHJ1ZVxuICAgIH1cbiAgfSksXG4gIG5vbmU6IHt9XG59O1xudmFyIE1vdGlvbiA9IGNoYWtyYShtb3Rpb24uc2VjdGlvbik7XG52YXIgTW9kYWxUcmFuc2l0aW9uID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHByZXNldCA9IHByb3BzLnByZXNldCxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkJDMpO1xuXG4gIHZhciBtb3Rpb25Qcm9wcyA9IHRyYW5zaXRpb25zW3ByZXNldF07XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb3Rpb24sIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZlxuICB9LCBtb3Rpb25Qcm9wcywgcmVzdCkpO1xufSk7XG5cbi8qKlxuICogUHJvcGVyIHN0YXRlIG1hbmFnZW1lbnQgZm9yIG5lc3RlZCBtb2RhbHMuXG4gKiBTaW1wbGlmaWVkLCBidXQgaW5zcGlyZWQgYnkgbWF0ZXJpYWwtdWkncyBNb2RhbE1hbmFnZXIgY2xhc3MuXG4gKi9cblxudmFyIE1vZGFsTWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1vZGFsTWFuYWdlcigpIHtcbiAgICB0aGlzLm1vZGFscyA9IHZvaWQgMDtcbiAgICB0aGlzLm1vZGFscyA9IFtdO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IE1vZGFsTWFuYWdlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLmFkZCA9IGZ1bmN0aW9uIGFkZChtb2RhbCkge1xuICAgIHRoaXMubW9kYWxzLnB1c2gobW9kYWwpO1xuICB9O1xuXG4gIF9wcm90by5yZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUobW9kYWwpIHtcbiAgICB0aGlzLm1vZGFscyA9IHRoaXMubW9kYWxzLmZpbHRlcihmdW5jdGlvbiAoX21vZGFsKSB7XG4gICAgICByZXR1cm4gX21vZGFsICE9PSBtb2RhbDtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8uaXNUb3BNb2RhbCA9IGZ1bmN0aW9uIGlzVG9wTW9kYWwobW9kYWwpIHtcbiAgICB2YXIgdG9wbW9zdE1vZGFsID0gdGhpcy5tb2RhbHNbdGhpcy5tb2RhbHMubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHRvcG1vc3RNb2RhbCA9PT0gbW9kYWw7XG4gIH07XG5cbiAgcmV0dXJuIE1vZGFsTWFuYWdlcjtcbn0oKTtcblxudmFyIG1hbmFnZXIgPSBuZXcgTW9kYWxNYW5hZ2VyKCk7XG5mdW5jdGlvbiB1c2VNb2RhbE1hbmFnZXIocmVmLCBpc09wZW4pIHtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNPcGVuKSB7XG4gICAgICBtYW5hZ2VyLmFkZChyZWYpO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBtYW5hZ2VyLnJlbW92ZShyZWYpO1xuICAgIH07XG4gIH0sIFtpc09wZW4sIHJlZl0pO1xufVxuXG4vKipcbiAqIE1vZGFsIGhvb2sgdGhhdCBtYW5hZ2VzIGFsbCB0aGUgbG9naWMgZm9yIHRoZSBtb2RhbCBkaWFsb2cgd2lkZ2V0XG4gKiBhbmQgcmV0dXJucyBwcm9wIGdldHRlcnMsIHN0YXRlIGFuZCBhY3Rpb25zLlxuICpcbiAqIEBwYXJhbSBwcm9wc1xuICovXG5mdW5jdGlvbiB1c2VNb2RhbChwcm9wcykge1xuICB2YXIgaXNPcGVuID0gcHJvcHMuaXNPcGVuLFxuICAgICAgb25DbG9zZSA9IHByb3BzLm9uQ2xvc2UsXG4gICAgICBpZCA9IHByb3BzLmlkLFxuICAgICAgX3Byb3BzJGNsb3NlT25PdmVybGF5ID0gcHJvcHMuY2xvc2VPbk92ZXJsYXlDbGljayxcbiAgICAgIGNsb3NlT25PdmVybGF5Q2xpY2sgPSBfcHJvcHMkY2xvc2VPbk92ZXJsYXkgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMkY2xvc2VPbk92ZXJsYXksXG4gICAgICBfcHJvcHMkY2xvc2VPbkVzYyA9IHByb3BzLmNsb3NlT25Fc2MsXG4gICAgICBjbG9zZU9uRXNjID0gX3Byb3BzJGNsb3NlT25Fc2MgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMkY2xvc2VPbkVzYyxcbiAgICAgIF9wcm9wcyR1c2VJbmVydCA9IHByb3BzLnVzZUluZXJ0LFxuICAgICAgdXNlSW5lcnQgPSBfcHJvcHMkdXNlSW5lcnQgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMkdXNlSW5lcnQsXG4gICAgICBvbk92ZXJsYXlDbGlja1Byb3AgPSBwcm9wcy5vbk92ZXJsYXlDbGljayxcbiAgICAgIG9uRXNjID0gcHJvcHMub25Fc2M7XG4gIHZhciBkaWFsb2dSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBvdmVybGF5UmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIHZhciBfdXNlSWRzID0gdXNlSWRzKGlkLCBcImNoYWtyYS1tb2RhbFwiLCBcImNoYWtyYS1tb2RhbC0taGVhZGVyXCIsIFwiY2hha3JhLW1vZGFsLS1ib2R5XCIpLFxuICAgICAgZGlhbG9nSWQgPSBfdXNlSWRzWzBdLFxuICAgICAgaGVhZGVySWQgPSBfdXNlSWRzWzFdLFxuICAgICAgYm9keUlkID0gX3VzZUlkc1syXTtcbiAgLyoqXG4gICAqIEhvb2sgdXNlZCB0byBwb2x5ZmlsbCBgYXJpYS1tb2RhbGAgZm9yIG9sZGVyIGJyb3dzZXJzLlxuICAgKiBJdCB1c2VzIGBhcmlhLWhpZGRlbmAgdG8gYWxsIG90aGVyIG5vZGVzLlxuICAgKlxuICAgKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLnBhY2llbGxvZ3JvdXAuY29tL2Jsb2cvMjAxOC8wNi90aGUtY3VycmVudC1zdGF0ZS1vZi1tb2RhbC1kaWFsb2ctYWNjZXNzaWJpbGl0eS9cbiAgICovXG5cblxuICB1c2VBcmlhSGlkZGVuKGRpYWxvZ1JlZiwgaXNPcGVuICYmIHVzZUluZXJ0KTtcbiAgLyoqXG4gICAqIEhvb2sgdXNlIHRvIG1hbmFnZSBtdWx0aXBsZSBvciBuZXN0ZWQgbW9kYWxzXG4gICAqL1xuXG4gIHVzZU1vZGFsTWFuYWdlcihkaWFsb2dSZWYsIGlzT3Blbik7XG4gIHZhciBtb3VzZURvd25UYXJnZXQgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBvbk1vdXNlRG93biA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIG1vdXNlRG93blRhcmdldC5jdXJyZW50ID0gZXZlbnQudGFyZ2V0O1xuICB9LCBbXSk7XG4gIHZhciBvbktleURvd24gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgaWYgKGNsb3NlT25Fc2MpIHtcbiAgICAgICAgb25DbG9zZSA9PSBudWxsID8gdm9pZCAwIDogb25DbG9zZSgpO1xuICAgICAgfVxuXG4gICAgICBvbkVzYyA9PSBudWxsID8gdm9pZCAwIDogb25Fc2MoKTtcbiAgICB9XG4gIH0sIFtjbG9zZU9uRXNjLCBvbkNsb3NlLCBvbkVzY10pO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICBoZWFkZXJNb3VudGVkID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0SGVhZGVyTW91bnRlZCA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgIGJvZHlNb3VudGVkID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldEJvZHlNb3VudGVkID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgZ2V0RGlhbG9nUHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChyZWYgPT09IHZvaWQgMCkge1xuICAgICAgcmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgcm9sZTogXCJkaWFsb2dcIlxuICAgIH0sIHByb3BzLCB7XG4gICAgICByZWY6IG1lcmdlUmVmcyhyZWYsIGRpYWxvZ1JlZiksXG4gICAgICBpZDogZGlhbG9nSWQsXG4gICAgICB0YWJJbmRleDogLTEsXG4gICAgICBcImFyaWEtbW9kYWxcIjogdHJ1ZSxcbiAgICAgIFwiYXJpYS1sYWJlbGxlZGJ5XCI6IGhlYWRlck1vdW50ZWQgPyBoZWFkZXJJZCA6IHVuZGVmaW5lZCxcbiAgICAgIFwiYXJpYS1kZXNjcmliZWRieVwiOiBib2R5TW91bnRlZCA/IGJvZHlJZCA6IHVuZGVmaW5lZCxcbiAgICAgIG9uQ2xpY2s6IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbkNsaWNrLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfSwgW2JvZHlJZCwgYm9keU1vdW50ZWQsIGRpYWxvZ0lkLCBoZWFkZXJJZCwgaGVhZGVyTW91bnRlZF0pO1xuICB2YXIgb25PdmVybGF5Q2xpY2sgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvKipcbiAgICAgKiBNYWtlIHN1cmUgdGhlIGV2ZW50IHN0YXJ0cyBhbmQgZW5kcyBvbiB0aGUgc2FtZSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBwcmV2ZW50IHRoZSBtb2RhbCBmcm9tIGNsb3Npbmcgd2hlbiB5b3VcbiAgICAgKiBzdGFydCBkcmFnZ2luZyBmcm9tIHRoZSBjb250ZW50LCBhbmQgcmVsZWFzZSBkcmFnIG91dHNpZGUgdGhlIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBXZSBwcmV2ZW50IHRoaXMgYmVjYXVzZSBpdCBpcyB0ZWNobmljYWxseSBub3QgYSBjb25zaWRlcmVkIFwiY2xpY2sgb3V0c2lkZVwiXG4gICAgICovXG5cbiAgICBpZiAobW91c2VEb3duVGFyZ2V0LmN1cnJlbnQgIT09IGV2ZW50LnRhcmdldCkgcmV0dXJuO1xuICAgIC8qKlxuICAgICAqIFdoZW4geW91IGNsaWNrIG9uIHRoZSBvdmVybGF5LCB3ZSB3YW50IHRvIHJlbW92ZSBvbmx5IHRoZSB0b3Btb3N0IG1vZGFsXG4gICAgICovXG5cbiAgICBpZiAoIW1hbmFnZXIuaXNUb3BNb2RhbChkaWFsb2dSZWYpKSByZXR1cm47XG5cbiAgICBpZiAoY2xvc2VPbk92ZXJsYXlDbGljaykge1xuICAgICAgb25DbG9zZSA9PSBudWxsID8gdm9pZCAwIDogb25DbG9zZSgpO1xuICAgIH1cblxuICAgIG9uT3ZlcmxheUNsaWNrUHJvcCA9PSBudWxsID8gdm9pZCAwIDogb25PdmVybGF5Q2xpY2tQcm9wKCk7XG4gIH0sIFtvbkNsb3NlLCBjbG9zZU9uT3ZlcmxheUNsaWNrLCBvbk92ZXJsYXlDbGlja1Byb3BdKTtcbiAgdmFyIGdldERpYWxvZ0NvbnRhaW5lclByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgcmVmOiBtZXJnZVJlZnMocmVmLCBvdmVybGF5UmVmKSxcbiAgICAgIG9uQ2xpY2s6IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbkNsaWNrLCBvbk92ZXJsYXlDbGljayksXG4gICAgICBvbktleURvd246IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbktleURvd24sIG9uS2V5RG93biksXG4gICAgICBvbk1vdXNlRG93bjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uTW91c2VEb3duLCBvbk1vdXNlRG93bilcbiAgICB9KTtcbiAgfSwgW29uS2V5RG93biwgb25Nb3VzZURvd24sIG9uT3ZlcmxheUNsaWNrXSk7XG4gIHJldHVybiB7XG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgb25DbG9zZTogb25DbG9zZSxcbiAgICBoZWFkZXJJZDogaGVhZGVySWQsXG4gICAgYm9keUlkOiBib2R5SWQsXG4gICAgc2V0Qm9keU1vdW50ZWQ6IHNldEJvZHlNb3VudGVkLFxuICAgIHNldEhlYWRlck1vdW50ZWQ6IHNldEhlYWRlck1vdW50ZWQsXG4gICAgZGlhbG9nUmVmOiBkaWFsb2dSZWYsXG4gICAgb3ZlcmxheVJlZjogb3ZlcmxheVJlZixcbiAgICBnZXREaWFsb2dQcm9wczogZ2V0RGlhbG9nUHJvcHMsXG4gICAgZ2V0RGlhbG9nQ29udGFpbmVyUHJvcHM6IGdldERpYWxvZ0NvbnRhaW5lclByb3BzXG4gIH07XG59XG5cbi8qKlxuICogTW9kYWwgaG9vayB0byBwb2x5ZmlsbCBgYXJpYS1tb2RhbGAuXG4gKlxuICogSXQgYXBwbGllcyBgYXJpYS1oaWRkZW5gIHRvIGVsZW1lbnRzIGJlaGluZCB0aGUgbW9kYWxcbiAqIHRvIGluZGljYXRlIHRoYXQgdGhleSdyZSBgaW5lcnRgLlxuICpcbiAqIEBwYXJhbSByZWYgUmVhY3QgcmVmIG9mIHRoZSBub2RlXG4gKiBAcGFyYW0gc2hvdWxkSGlkZSB3aGV0aGVyIGBhcmlhLWhpZGRlbmAgc2hvdWxkIGJlIGFwcGxpZWRcbiAqL1xuZnVuY3Rpb24gdXNlQXJpYUhpZGRlbihyZWYsIHNob3VsZEhpZGUpIHtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXJlZi5jdXJyZW50KSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHZhciB1bmRvID0gbnVsbDtcblxuICAgIGlmIChzaG91bGRIaWRlICYmIHJlZi5jdXJyZW50KSB7XG4gICAgICB1bmRvID0gaGlkZU90aGVycyhyZWYuY3VycmVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzaG91bGRIaWRlKSB7XG4gICAgICAgIHVuZG8gPT0gbnVsbCA/IHZvaWQgMCA6IHVuZG8oKTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbc2hvdWxkSGlkZSwgcmVmXSk7XG59XG5cbnZhciBfZXhjbHVkZWQkMiA9IFtcImNsYXNzTmFtZVwiLCBcImNoaWxkcmVuXCIsIFwiY29udGFpbmVyUHJvcHNcIl0sXG4gICAgX2V4Y2x1ZGVkMiQxID0gW1wiY2xhc3NOYW1lXCIsIFwidHJhbnNpdGlvblwiXSxcbiAgICBfZXhjbHVkZWQzID0gW1wiY2xhc3NOYW1lXCJdLFxuICAgIF9leGNsdWRlZDQgPSBbXCJjbGFzc05hbWVcIl0sXG4gICAgX2V4Y2x1ZGVkNSA9IFtcImNsYXNzTmFtZVwiXSxcbiAgICBfZXhjbHVkZWQ2ID0gW1wib25DbGlja1wiLCBcImNsYXNzTmFtZVwiXTtcblxudmFyIF9jcmVhdGVDb250ZXh0JDEgPSBjcmVhdGVDb250ZXh0KHtcbiAgc3RyaWN0OiB0cnVlLFxuICBuYW1lOiBcIk1vZGFsQ29udGV4dFwiLFxuICBlcnJvck1lc3NhZ2U6IFwidXNlTW9kYWxDb250ZXh0OiBgY29udGV4dGAgaXMgdW5kZWZpbmVkLiBTZWVtcyB5b3UgZm9yZ290IHRvIHdyYXAgbW9kYWwgY29tcG9uZW50cyBpbiBgPE1vZGFsIC8+YFwiXG59KSxcbiAgICBNb2RhbENvbnRleHRQcm92aWRlciA9IF9jcmVhdGVDb250ZXh0JDFbMF0sXG4gICAgdXNlTW9kYWxDb250ZXh0ID0gX2NyZWF0ZUNvbnRleHQkMVsxXTtcbi8qKlxuICogTW9kYWwgcHJvdmlkZXMgY29udGV4dCwgdGhlbWluZywgYW5kIGFjY2Vzc2liaWxpdHkgcHJvcGVydGllc1xuICogdG8gYWxsIG90aGVyIG1vZGFsIGNvbXBvbmVudHMuXG4gKlxuICogSXQgZG9lc24ndCByZW5kZXIgYW55IERPTSBub2RlLlxuICovXG5cbnZhciBNb2RhbCA9IGZ1bmN0aW9uIE1vZGFsKHByb3BzKSB7XG4gIHZhciBwb3J0YWxQcm9wcyA9IHByb3BzLnBvcnRhbFByb3BzLFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGF1dG9Gb2N1cyA9IHByb3BzLmF1dG9Gb2N1cyxcbiAgICAgIHRyYXBGb2N1cyA9IHByb3BzLnRyYXBGb2N1cyxcbiAgICAgIGluaXRpYWxGb2N1c1JlZiA9IHByb3BzLmluaXRpYWxGb2N1c1JlZixcbiAgICAgIGZpbmFsRm9jdXNSZWYgPSBwcm9wcy5maW5hbEZvY3VzUmVmLFxuICAgICAgcmV0dXJuRm9jdXNPbkNsb3NlID0gcHJvcHMucmV0dXJuRm9jdXNPbkNsb3NlLFxuICAgICAgYmxvY2tTY3JvbGxPbk1vdW50ID0gcHJvcHMuYmxvY2tTY3JvbGxPbk1vdW50LFxuICAgICAgYWxsb3dQaW5jaFpvb20gPSBwcm9wcy5hbGxvd1BpbmNoWm9vbSxcbiAgICAgIHByZXNlcnZlU2Nyb2xsQmFyR2FwID0gcHJvcHMucHJlc2VydmVTY3JvbGxCYXJHYXAsXG4gICAgICBtb3Rpb25QcmVzZXQgPSBwcm9wcy5tb3Rpb25QcmVzZXQsXG4gICAgICBsb2NrRm9jdXNBY3Jvc3NGcmFtZXMgPSBwcm9wcy5sb2NrRm9jdXNBY3Jvc3NGcmFtZXM7XG4gIHZhciBzdHlsZXMgPSB1c2VNdWx0aVN0eWxlQ29uZmlnKFwiTW9kYWxcIiwgcHJvcHMpO1xuICB2YXIgbW9kYWwgPSB1c2VNb2RhbChwcm9wcyk7XG5cbiAgdmFyIGNvbnRleHQgPSBfZXh0ZW5kcyh7fSwgbW9kYWwsIHtcbiAgICBhdXRvRm9jdXM6IGF1dG9Gb2N1cyxcbiAgICB0cmFwRm9jdXM6IHRyYXBGb2N1cyxcbiAgICBpbml0aWFsRm9jdXNSZWY6IGluaXRpYWxGb2N1c1JlZixcbiAgICBmaW5hbEZvY3VzUmVmOiBmaW5hbEZvY3VzUmVmLFxuICAgIHJldHVybkZvY3VzT25DbG9zZTogcmV0dXJuRm9jdXNPbkNsb3NlLFxuICAgIGJsb2NrU2Nyb2xsT25Nb3VudDogYmxvY2tTY3JvbGxPbk1vdW50LFxuICAgIGFsbG93UGluY2hab29tOiBhbGxvd1BpbmNoWm9vbSxcbiAgICBwcmVzZXJ2ZVNjcm9sbEJhckdhcDogcHJlc2VydmVTY3JvbGxCYXJHYXAsXG4gICAgbW90aW9uUHJlc2V0OiBtb3Rpb25QcmVzZXQsXG4gICAgbG9ja0ZvY3VzQWNyb3NzRnJhbWVzOiBsb2NrRm9jdXNBY3Jvc3NGcmFtZXNcbiAgfSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1vZGFsQ29udGV4dFByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGNvbnRleHRcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVzUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogc3R5bGVzXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFuaW1hdGVQcmVzZW5jZSwgbnVsbCwgY29udGV4dC5pc09wZW4gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUG9ydGFsLCBwb3J0YWxQcm9wcywgY2hpbGRyZW4pKSkpO1xufTtcbk1vZGFsLmRlZmF1bHRQcm9wcyA9IHtcbiAgbG9ja0ZvY3VzQWNyb3NzRnJhbWVzOiB0cnVlLFxuICByZXR1cm5Gb2N1c09uQ2xvc2U6IHRydWUsXG4gIHNjcm9sbEJlaGF2aW9yOiBcIm91dHNpZGVcIixcbiAgdHJhcEZvY3VzOiB0cnVlLFxuICBhdXRvRm9jdXM6IHRydWUsXG4gIGJsb2NrU2Nyb2xsT25Nb3VudDogdHJ1ZSxcbiAgYWxsb3dQaW5jaFpvb206IGZhbHNlLFxuICBtb3Rpb25QcmVzZXQ6IFwic2NhbGVcIlxufTtcblxuaWYgKF9fREVWX18pIHtcbiAgTW9kYWwuZGlzcGxheU5hbWUgPSBcIk1vZGFsXCI7XG59XG5cbnZhciBNb3Rpb25EaXYgPSBjaGFrcmEobW90aW9uLmRpdik7XG4vKipcbiAqIE1vZGFsQ29udGVudCBpcyB1c2VkIHRvIGdyb3VwIG1vZGFsJ3MgY29udGVudC4gSXQgaGFzIGFsbCB0aGVcbiAqIG5lY2Vzc2FyeSBgYXJpYS0qYCBwcm9wZXJ0aWVzIHRvIGluZGljYXRlIHRoYXQgaXQgaXMgYSBtb2RhbFxuICovXG5cbnZhciBNb2RhbENvbnRlbnQgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIHJvb3RQcm9wcyA9IHByb3BzLmNvbnRhaW5lclByb3BzLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQkMik7XG5cbiAgdmFyIF91c2VNb2RhbENvbnRleHQgPSB1c2VNb2RhbENvbnRleHQoKSxcbiAgICAgIGdldERpYWxvZ1Byb3BzID0gX3VzZU1vZGFsQ29udGV4dC5nZXREaWFsb2dQcm9wcyxcbiAgICAgIGdldERpYWxvZ0NvbnRhaW5lclByb3BzID0gX3VzZU1vZGFsQ29udGV4dC5nZXREaWFsb2dDb250YWluZXJQcm9wcztcblxuICB2YXIgZGlhbG9nUHJvcHMgPSBnZXREaWFsb2dQcm9wcyhyZXN0LCByZWYpO1xuICB2YXIgY29udGFpbmVyUHJvcHMgPSBnZXREaWFsb2dDb250YWluZXJQcm9wcyhyb290UHJvcHMpO1xuXG4gIHZhciBfY2xhc3NOYW1lID0gY3goXCJjaGFrcmEtbW9kYWxfX2NvbnRlbnRcIiwgY2xhc3NOYW1lKTtcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG5cbiAgdmFyIGRpYWxvZ1N0eWxlcyA9IF9leHRlbmRzKHtcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIG91dGxpbmU6IDBcbiAgfSwgc3R5bGVzLmRpYWxvZyk7XG5cbiAgdmFyIGRpYWxvZ0NvbnRhaW5lclN0eWxlcyA9IF9leHRlbmRzKHtcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICB3aWR0aDogXCIxMDB2d1wiLFxuICAgIGhlaWdodDogXCIxMDB2aFwiLFxuICAgIFwiQHN1cHBvcnRzKGhlaWdodDogLXdlYmtpdC1maWxsLWF2YWlsYWJsZSlcIjoge1xuICAgICAgaGVpZ2h0OiBcIi13ZWJraXQtZmlsbC1hdmFpbGFibGVcIlxuICAgIH0sXG4gICAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgICBsZWZ0OiAwLFxuICAgIHRvcDogMFxuICB9LCBzdHlsZXMuZGlhbG9nQ29udGFpbmVyKTtcblxuICB2YXIgX3VzZU1vZGFsQ29udGV4dDIgPSB1c2VNb2RhbENvbnRleHQoKSxcbiAgICAgIG1vdGlvblByZXNldCA9IF91c2VNb2RhbENvbnRleHQyLm1vdGlvblByZXNldDtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTW9kYWxGb2N1c1Njb3BlLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7fSwgY29udGFpbmVyUHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLW1vZGFsX19jb250ZW50LWNvbnRhaW5lclwiIC8vIHRhYmluZGV4PVwiLTFcIiBtZWFucyB0aGF0IHRoZSBlbGVtZW50IGlzIG5vdCByZWFjaGFibGUgdmlhIHNlcXVlbnRpYWwga2V5Ym9hcmQgbmF2aWdhdGlvbiwgQHNlZSAjNDY4NlxuICAgICxcbiAgICB0YWJJbmRleDogLTEsXG4gICAgX19jc3M6IGRpYWxvZ0NvbnRhaW5lclN0eWxlc1xuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTW9kYWxUcmFuc2l0aW9uLCBfZXh0ZW5kcyh7XG4gICAgcHJlc2V0OiBtb3Rpb25QcmVzZXQsXG4gICAgY2xhc3NOYW1lOiBfY2xhc3NOYW1lXG4gIH0sIGRpYWxvZ1Byb3BzLCB7XG4gICAgX19jc3M6IGRpYWxvZ1N0eWxlc1xuICB9KSwgY2hpbGRyZW4pKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgTW9kYWxDb250ZW50LmRpc3BsYXlOYW1lID0gXCJNb2RhbENvbnRlbnRcIjtcbn1cblxuZnVuY3Rpb24gTW9kYWxGb2N1c1Njb3BlKHByb3BzKSB7XG4gIHZhciBfdXNlTW9kYWxDb250ZXh0MyA9IHVzZU1vZGFsQ29udGV4dCgpLFxuICAgICAgYXV0b0ZvY3VzID0gX3VzZU1vZGFsQ29udGV4dDMuYXV0b0ZvY3VzLFxuICAgICAgdHJhcEZvY3VzID0gX3VzZU1vZGFsQ29udGV4dDMudHJhcEZvY3VzLFxuICAgICAgZGlhbG9nUmVmID0gX3VzZU1vZGFsQ29udGV4dDMuZGlhbG9nUmVmLFxuICAgICAgaW5pdGlhbEZvY3VzUmVmID0gX3VzZU1vZGFsQ29udGV4dDMuaW5pdGlhbEZvY3VzUmVmLFxuICAgICAgYmxvY2tTY3JvbGxPbk1vdW50ID0gX3VzZU1vZGFsQ29udGV4dDMuYmxvY2tTY3JvbGxPbk1vdW50LFxuICAgICAgYWxsb3dQaW5jaFpvb20gPSBfdXNlTW9kYWxDb250ZXh0My5hbGxvd1BpbmNoWm9vbSxcbiAgICAgIGZpbmFsRm9jdXNSZWYgPSBfdXNlTW9kYWxDb250ZXh0My5maW5hbEZvY3VzUmVmLFxuICAgICAgcmV0dXJuRm9jdXNPbkNsb3NlID0gX3VzZU1vZGFsQ29udGV4dDMucmV0dXJuRm9jdXNPbkNsb3NlLFxuICAgICAgcHJlc2VydmVTY3JvbGxCYXJHYXAgPSBfdXNlTW9kYWxDb250ZXh0My5wcmVzZXJ2ZVNjcm9sbEJhckdhcCxcbiAgICAgIGxvY2tGb2N1c0Fjcm9zc0ZyYW1lcyA9IF91c2VNb2RhbENvbnRleHQzLmxvY2tGb2N1c0Fjcm9zc0ZyYW1lcztcblxuICB2YXIgX3VzZVByZXNlbmNlID0gdXNlUHJlc2VuY2UoKSxcbiAgICAgIGlzUHJlc2VudCA9IF91c2VQcmVzZW5jZVswXSxcbiAgICAgIHNhZmVUb1JlbW92ZSA9IF91c2VQcmVzZW5jZVsxXTtcblxuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaXNQcmVzZW50ICYmIHNhZmVUb1JlbW92ZSkge1xuICAgICAgc2V0VGltZW91dChzYWZlVG9SZW1vdmUpO1xuICAgIH1cbiAgfSwgW2lzUHJlc2VudCwgc2FmZVRvUmVtb3ZlXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChGb2N1c0xvY2ssIHtcbiAgICBhdXRvRm9jdXM6IGF1dG9Gb2N1cyxcbiAgICBpc0Rpc2FibGVkOiAhdHJhcEZvY3VzLFxuICAgIGluaXRpYWxGb2N1c1JlZjogaW5pdGlhbEZvY3VzUmVmLFxuICAgIGZpbmFsRm9jdXNSZWY6IGZpbmFsRm9jdXNSZWYsXG4gICAgcmVzdG9yZUZvY3VzOiByZXR1cm5Gb2N1c09uQ2xvc2UsXG4gICAgY29udGVudFJlZjogZGlhbG9nUmVmLFxuICAgIGxvY2tGb2N1c0Fjcm9zc0ZyYW1lczogbG9ja0ZvY3VzQWNyb3NzRnJhbWVzXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlbW92ZVNjcm9sbCwge1xuICAgIHJlbW92ZVNjcm9sbEJhcjogIXByZXNlcnZlU2Nyb2xsQmFyR2FwLFxuICAgIGFsbG93UGluY2hab29tOiBhbGxvd1BpbmNoWm9vbSxcbiAgICBlbmFibGVkOiBibG9ja1Njcm9sbE9uTW91bnQsXG4gICAgZm9yd2FyZFByb3BzOiB0cnVlXG4gIH0sIHByb3BzLmNoaWxkcmVuKSk7XG59XG5cbi8qKlxuICogTW9kYWxPdmVybGF5IHJlbmRlcnMgYSBiYWNrZHJvcCBiZWhpbmQgdGhlIG1vZGFsLiBJdCBpc1xuICogYWxzbyB1c2VkIGFzIGEgd3JhcHBlciBmb3IgdGhlIG1vZGFsIGNvbnRlbnQgZm9yIGJldHRlciBwb3NpdGlvbmluZy5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL21vZGFsXG4gKi9cbnZhciBNb2RhbE92ZXJsYXkgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lO1xuICAgICAgcHJvcHMudHJhbnNpdGlvbjtcbiAgICAgIHZhciByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZDIkMSk7XG5cbiAgdmFyIF9jbGFzc05hbWUgPSBjeChcImNoYWtyYS1tb2RhbF9fb3ZlcmxheVwiLCBjbGFzc05hbWUpO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcblxuICB2YXIgb3ZlcmxheVN0eWxlID0gX2V4dGVuZHMoe1xuICAgIHBvczogXCJmaXhlZFwiLFxuICAgIGxlZnQ6IFwiMFwiLFxuICAgIHRvcDogXCIwXCIsXG4gICAgdzogXCIxMDB2d1wiLFxuICAgIGg6IFwiMTAwdmhcIlxuICB9LCBzdHlsZXMub3ZlcmxheSk7XG5cbiAgdmFyIF91c2VNb2RhbENvbnRleHQ0ID0gdXNlTW9kYWxDb250ZXh0KCksXG4gICAgICBtb3Rpb25QcmVzZXQgPSBfdXNlTW9kYWxDb250ZXh0NC5tb3Rpb25QcmVzZXQ7XG5cbiAgdmFyIG1vdGlvblByb3BzID0gbW90aW9uUHJlc2V0ID09PSBcIm5vbmVcIiA/IHt9IDogZmFkZUNvbmZpZztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1vdGlvbkRpdiwgX2V4dGVuZHMoe30sIG1vdGlvblByb3BzLCB7XG4gICAgX19jc3M6IG92ZXJsYXlTdHlsZSxcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IF9jbGFzc05hbWVcbiAgfSwgcmVzdCkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIE1vZGFsT3ZlcmxheS5kaXNwbGF5TmFtZSA9IFwiTW9kYWxPdmVybGF5XCI7XG59XG5cbi8qKlxuICogTW9kYWxIZWFkZXJcbiAqXG4gKiBSZWFjdCBjb21wb25lbnQgdGhhdCBob3VzZXMgdGhlIHRpdGxlIG9mIHRoZSBtb2RhbC5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL21vZGFsXG4gKi9cbnZhciBNb2RhbEhlYWRlciA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZDMpO1xuXG4gIHZhciBfdXNlTW9kYWxDb250ZXh0NSA9IHVzZU1vZGFsQ29udGV4dCgpLFxuICAgICAgaGVhZGVySWQgPSBfdXNlTW9kYWxDb250ZXh0NS5oZWFkZXJJZCxcbiAgICAgIHNldEhlYWRlck1vdW50ZWQgPSBfdXNlTW9kYWxDb250ZXh0NS5zZXRIZWFkZXJNb3VudGVkO1xuICAvKipcbiAgICogTm90aWZ5IHVzIGlmIHRoaXMgY29tcG9uZW50IHdhcyByZW5kZXJlZCBvciB1c2VkXG4gICAqIHNvIHdlIGNhbiBhcHBlbmQgYGFyaWEtbGFiZWxsZWRieWAgYXV0b21hdGljYWxseVxuICAgKi9cblxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0SGVhZGVyTW91bnRlZCh0cnVlKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNldEhlYWRlck1vdW50ZWQoZmFsc2UpO1xuICAgIH07XG4gIH0sIFtzZXRIZWFkZXJNb3VudGVkXSk7XG5cbiAgdmFyIF9jbGFzc05hbWUgPSBjeChcImNoYWtyYS1tb2RhbF9faGVhZGVyXCIsIGNsYXNzTmFtZSk7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBoZWFkZXJTdHlsZXMgPSBfZXh0ZW5kcyh7XG4gICAgZmxleDogMFxuICB9LCBzdHlsZXMuaGVhZGVyKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmhlYWRlciwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGNsYXNzTmFtZTogX2NsYXNzTmFtZSxcbiAgICBpZDogaGVhZGVySWRcbiAgfSwgcmVzdCwge1xuICAgIF9fY3NzOiBoZWFkZXJTdHlsZXNcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIE1vZGFsSGVhZGVyLmRpc3BsYXlOYW1lID0gXCJNb2RhbEhlYWRlclwiO1xufVxuXG4vKipcbiAqIE1vZGFsQm9keVxuICpcbiAqIFJlYWN0IGNvbXBvbmVudCB0aGF0IGhvdXNlcyB0aGUgbWFpbiBjb250ZW50IG9mIHRoZSBtb2RhbC5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL21vZGFsXG4gKi9cbnZhciBNb2RhbEJvZHkgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQ0KTtcblxuICB2YXIgX3VzZU1vZGFsQ29udGV4dDYgPSB1c2VNb2RhbENvbnRleHQoKSxcbiAgICAgIGJvZHlJZCA9IF91c2VNb2RhbENvbnRleHQ2LmJvZHlJZCxcbiAgICAgIHNldEJvZHlNb3VudGVkID0gX3VzZU1vZGFsQ29udGV4dDYuc2V0Qm9keU1vdW50ZWQ7XG4gIC8qKlxuICAgKiBOb3RpZnkgdXMgaWYgdGhpcyBjb21wb25lbnQgd2FzIHJlbmRlcmVkIG9yIHVzZWRcbiAgICogc28gd2UgY2FuIGFwcGVuZCBgYXJpYS1kZXNjcmliZWRieWAgYXV0b21hdGljYWxseVxuICAgKi9cblxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0Qm9keU1vdW50ZWQodHJ1ZSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzZXRCb2R5TW91bnRlZChmYWxzZSk7XG4gICAgfTtcbiAgfSwgW3NldEJvZHlNb3VudGVkXSk7XG5cbiAgdmFyIF9jbGFzc05hbWUgPSBjeChcImNoYWtyYS1tb2RhbF9fYm9keVwiLCBjbGFzc05hbWUpO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IF9jbGFzc05hbWUsXG4gICAgaWQ6IGJvZHlJZFxuICB9LCByZXN0LCB7XG4gICAgX19jc3M6IHN0eWxlcy5ib2R5XG4gIH0pKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBNb2RhbEJvZHkuZGlzcGxheU5hbWUgPSBcIk1vZGFsQm9keVwiO1xufVxuXG4vKipcbiAqIE1vZGFsRm9vdGVyIGhvdXNlcyB0aGUgYWN0aW9uIGJ1dHRvbnMgb2YgdGhlIG1vZGFsLlxuICogQHNlZSBEb2NzIGh0dHBzOi8vY2hha3JhLXVpLmNvbS9tb2RhbFxuICovXG52YXIgTW9kYWxGb290ZXIgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQ1KTtcblxuICB2YXIgX2NsYXNzTmFtZSA9IGN4KFwiY2hha3JhLW1vZGFsX19mb290ZXJcIiwgY2xhc3NOYW1lKTtcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG5cbiAgdmFyIGZvb3RlclN0eWxlcyA9IF9leHRlbmRzKHtcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtZW5kXCJcbiAgfSwgc3R5bGVzLmZvb3Rlcik7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5mb290ZXIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZlxuICB9LCByZXN0LCB7XG4gICAgX19jc3M6IGZvb3RlclN0eWxlcyxcbiAgICBjbGFzc05hbWU6IF9jbGFzc05hbWVcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIE1vZGFsRm9vdGVyLmRpc3BsYXlOYW1lID0gXCJNb2RhbEZvb3RlclwiO1xufVxuLyoqXG4gKiBNb2RhbENsb3NlQnV0dG9uIGlzIHVzZWQgY2xvc2VzIHRoZSBtb2RhbC5cbiAqXG4gKiBZb3UgZG9uJ3QgbmVlZCB0byBwYXNzIHRoZSBgb25DbGlja2AgdG8gaXQsIGl0IHJlYWRzIHRoZVxuICogYG9uQ2xvc2VgIGFjdGlvbiBmcm9tIHRoZSBtb2RhbCBjb250ZXh0LlxuICovXG5cblxudmFyIE1vZGFsQ2xvc2VCdXR0b24gPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgb25DbGljayA9IHByb3BzLm9uQ2xpY2ssXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZDYpO1xuXG4gIHZhciBfdXNlTW9kYWxDb250ZXh0NyA9IHVzZU1vZGFsQ29udGV4dCgpLFxuICAgICAgb25DbG9zZSA9IF91c2VNb2RhbENvbnRleHQ3Lm9uQ2xvc2U7XG5cbiAgdmFyIF9jbGFzc05hbWUgPSBjeChcImNoYWtyYS1tb2RhbF9fY2xvc2UtYnRuXCIsIGNsYXNzTmFtZSk7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2xvc2VCdXR0b24sIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBfX2Nzczogc3R5bGVzLmNsb3NlQnV0dG9uLFxuICAgIGNsYXNzTmFtZTogX2NsYXNzTmFtZSxcbiAgICBvbkNsaWNrOiBjYWxsQWxsSGFuZGxlcnMob25DbGljaywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIG9uQ2xvc2UoKTtcbiAgICB9KVxuICB9LCByZXN0KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgTW9kYWxDbG9zZUJ1dHRvbi5kaXNwbGF5TmFtZSA9IFwiTW9kYWxDbG9zZUJ1dHRvblwiO1xufVxuXG52YXIgX2V4Y2x1ZGVkJDEgPSBbXCJsZWFzdERlc3RydWN0aXZlUmVmXCJdO1xuZnVuY3Rpb24gQWxlcnREaWFsb2cocHJvcHMpIHtcbiAgdmFyIGxlYXN0RGVzdHJ1Y3RpdmVSZWYgPSBwcm9wcy5sZWFzdERlc3RydWN0aXZlUmVmLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQkMSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1vZGFsLCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIGluaXRpYWxGb2N1c1JlZjogbGVhc3REZXN0cnVjdGl2ZVJlZlxuICB9KSk7XG59XG52YXIgQWxlcnREaWFsb2dDb250ZW50ID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1vZGFsQ29udGVudCwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIHJvbGU6IFwiYWxlcnRkaWFsb2dcIlxuICB9LCBwcm9wcykpO1xufSk7XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJpc09wZW5cIiwgXCJvbkNsb3NlXCIsIFwicGxhY2VtZW50XCIsIFwiY2hpbGRyZW5cIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcImNsYXNzTmFtZVwiLCBcImNoaWxkcmVuXCJdO1xuXG52YXIgX2NyZWF0ZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KCksXG4gICAgRHJhd2VyQ29udGV4dFByb3ZpZGVyID0gX2NyZWF0ZUNvbnRleHRbMF0sXG4gICAgdXNlRHJhd2VyQ29udGV4dCA9IF9jcmVhdGVDb250ZXh0WzFdO1xuXG52YXIgcGxhY2VtZW50TWFwID0ge1xuICBzdGFydDoge1xuICAgIGx0cjogXCJsZWZ0XCIsXG4gICAgcnRsOiBcInJpZ2h0XCJcbiAgfSxcbiAgZW5kOiB7XG4gICAgbHRyOiBcInJpZ2h0XCIsXG4gICAgcnRsOiBcImxlZnRcIlxuICB9XG59O1xuXG5mdW5jdGlvbiBnZXREcmF3ZXJQbGFjZW1lbnQocGxhY2VtZW50LCBkaXIpIHtcbiAgdmFyIF9wbGFjZW1lbnRNYXAkcGxhY2VtZSwgX3BsYWNlbWVudE1hcCRwbGFjZW1lMjtcblxuICBpZiAoIXBsYWNlbWVudCkgcmV0dXJuO1xuICByZXR1cm4gKF9wbGFjZW1lbnRNYXAkcGxhY2VtZSA9IChfcGxhY2VtZW50TWFwJHBsYWNlbWUyID0gcGxhY2VtZW50TWFwW3BsYWNlbWVudF0pID09IG51bGwgPyB2b2lkIDAgOiBfcGxhY2VtZW50TWFwJHBsYWNlbWUyW2Rpcl0pICE9IG51bGwgPyBfcGxhY2VtZW50TWFwJHBsYWNlbWUgOiBwbGFjZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIERyYXdlcihwcm9wcykge1xuICB2YXIgX3RoZW1lJGNvbXBvbmVudHM7XG5cbiAgdmFyIGlzT3BlbiA9IHByb3BzLmlzT3BlbixcbiAgICAgIG9uQ2xvc2UgPSBwcm9wcy5vbkNsb3NlLFxuICAgICAgX3Byb3BzJHBsYWNlbWVudCA9IHByb3BzLnBsYWNlbWVudCxcbiAgICAgIHBsYWNlbWVudFByb3AgPSBfcHJvcHMkcGxhY2VtZW50ID09PSB2b2lkIDAgPyBcInJpZ2h0XCIgOiBfcHJvcHMkcGxhY2VtZW50LFxuICAgICAgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkKTtcblxuICB2YXIgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICB2YXIgZHJhd2VyU3R5bGVDb25maWcgPSAoX3RoZW1lJGNvbXBvbmVudHMgPSB0aGVtZS5jb21wb25lbnRzKSA9PSBudWxsID8gdm9pZCAwIDogX3RoZW1lJGNvbXBvbmVudHMuRHJhd2VyO1xuICB2YXIgcGxhY2VtZW50ID0gZ2V0RHJhd2VyUGxhY2VtZW50KHBsYWNlbWVudFByb3AsIHRoZW1lLmRpcmVjdGlvbik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEcmF3ZXJDb250ZXh0UHJvdmlkZXIsIHtcbiAgICB2YWx1ZToge1xuICAgICAgcGxhY2VtZW50OiBwbGFjZW1lbnRcbiAgICB9XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KE1vZGFsLCBfZXh0ZW5kcyh7XG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgb25DbG9zZTogb25DbG9zZSxcbiAgICBzdHlsZUNvbmZpZzogZHJhd2VyU3R5bGVDb25maWdcbiAgfSwgcmVzdCksIGNoaWxkcmVuKSk7XG59XG52YXIgU3R5bGVkU2xpZGUgPSBjaGFrcmEoU2xpZGUpO1xuXG4vKipcbiAqIE1vZGFsQ29udGVudCBpcyB1c2VkIHRvIGdyb3VwIG1vZGFsJ3MgY29udGVudC4gSXQgaGFzIGFsbCB0aGVcbiAqIG5lY2Vzc2FyeSBgYXJpYS0qYCBwcm9wZXJ0aWVzIHRvIGluZGljYXRlIHRoYXQgaXQgaXMgYSBtb2RhbFxuICovXG52YXIgRHJhd2VyQ29udGVudCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQyKTtcblxuICB2YXIgX3VzZU1vZGFsQ29udGV4dCA9IHVzZU1vZGFsQ29udGV4dCgpLFxuICAgICAgZ2V0RGlhbG9nUHJvcHMgPSBfdXNlTW9kYWxDb250ZXh0LmdldERpYWxvZ1Byb3BzLFxuICAgICAgZ2V0RGlhbG9nQ29udGFpbmVyUHJvcHMgPSBfdXNlTW9kYWxDb250ZXh0LmdldERpYWxvZ0NvbnRhaW5lclByb3BzLFxuICAgICAgaXNPcGVuID0gX3VzZU1vZGFsQ29udGV4dC5pc09wZW47XG5cbiAgdmFyIGRpYWxvZ1Byb3BzID0gZ2V0RGlhbG9nUHJvcHMocmVzdCwgcmVmKTtcbiAgdmFyIGNvbnRhaW5lclByb3BzID0gZ2V0RGlhbG9nQ29udGFpbmVyUHJvcHMoKTtcblxuICB2YXIgX2NsYXNzTmFtZSA9IGN4KFwiY2hha3JhLW1vZGFsX19jb250ZW50XCIsIGNsYXNzTmFtZSk7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBkaWFsb2dTdHlsZXMgPSBfZXh0ZW5kcyh7XG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIixcbiAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICBvdXRsaW5lOiAwXG4gIH0sIHN0eWxlcy5kaWFsb2cpO1xuXG4gIHZhciBkaWFsb2dDb250YWluZXJTdHlsZXMgPSBfZXh0ZW5kcyh7XG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgd2lkdGg6IFwiMTAwdndcIixcbiAgICBoZWlnaHQ6IFwiMTAwdmhcIixcbiAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgIGxlZnQ6IDAsXG4gICAgdG9wOiAwXG4gIH0sIHN0eWxlcy5kaWFsb2dDb250YWluZXIpO1xuXG4gIHZhciBfdXNlRHJhd2VyQ29udGV4dCA9IHVzZURyYXdlckNvbnRleHQoKSxcbiAgICAgIHBsYWNlbWVudCA9IF91c2VEcmF3ZXJDb250ZXh0LnBsYWNlbWVudDtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe30sIGNvbnRhaW5lclByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBcImNoYWtyYS1tb2RhbF9fY29udGVudC1jb250YWluZXJcIixcbiAgICBfX2NzczogZGlhbG9nQ29udGFpbmVyU3R5bGVzXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNb2RhbEZvY3VzU2NvcGUsIG51bGwsIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFNsaWRlLCBfZXh0ZW5kcyh7XG4gICAgZGlyZWN0aW9uOiBwbGFjZW1lbnQsXG4gICAgXCJpblwiOiBpc09wZW4sXG4gICAgY2xhc3NOYW1lOiBfY2xhc3NOYW1lXG4gIH0sIGRpYWxvZ1Byb3BzLCB7XG4gICAgX19jc3M6IGRpYWxvZ1N0eWxlc1xuICB9KSwgY2hpbGRyZW4pKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgRHJhd2VyQ29udGVudC5kaXNwbGF5TmFtZSA9IFwiRHJhd2VyQ29udGVudFwiO1xufVxuXG5leHBvcnQgeyBBbGVydERpYWxvZywgTW9kYWxCb2R5IGFzIEFsZXJ0RGlhbG9nQm9keSwgTW9kYWxDbG9zZUJ1dHRvbiBhcyBBbGVydERpYWxvZ0Nsb3NlQnV0dG9uLCBBbGVydERpYWxvZ0NvbnRlbnQsIE1vZGFsRm9vdGVyIGFzIEFsZXJ0RGlhbG9nRm9vdGVyLCBNb2RhbEhlYWRlciBhcyBBbGVydERpYWxvZ0hlYWRlciwgTW9kYWxPdmVybGF5IGFzIEFsZXJ0RGlhbG9nT3ZlcmxheSwgRHJhd2VyLCBNb2RhbEJvZHkgYXMgRHJhd2VyQm9keSwgTW9kYWxDbG9zZUJ1dHRvbiBhcyBEcmF3ZXJDbG9zZUJ1dHRvbiwgRHJhd2VyQ29udGVudCwgTW9kYWxGb290ZXIgYXMgRHJhd2VyRm9vdGVyLCBNb2RhbEhlYWRlciBhcyBEcmF3ZXJIZWFkZXIsIE1vZGFsT3ZlcmxheSBhcyBEcmF3ZXJPdmVybGF5LCBNb2RhbCwgTW9kYWxCb2R5LCBNb2RhbENsb3NlQnV0dG9uLCBNb2RhbENvbnRlbnQsIE1vZGFsQ29udGV4dFByb3ZpZGVyLCBNb2RhbEZvY3VzU2NvcGUsIE1vZGFsRm9vdGVyLCBNb2RhbEhlYWRlciwgTW9kYWxPdmVybGF5LCB1c2VBcmlhSGlkZGVuLCB1c2VNb2RhbCwgdXNlTW9kYWxDb250ZXh0IH07XG4iLCJpbXBvcnQgeyB1c2VGb3JtQ29udHJvbFByb3BzIH0gZnJvbSAnQGNoYWtyYS11aS9mb3JtLWNvbnRyb2wnO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlTXVsdGlTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcywgU3R5bGVzUHJvdmlkZXIsIGNoYWtyYSwgdXNlU3R5bGVzIH0gZnJvbSAnQGNoYWtyYS11aS9zeXN0ZW0nO1xuaW1wb3J0IHsgbm9ybWFsaXplRXZlbnRLZXksIGlzTnVsbCwgZm9jdXMsIGlzQnJvd3NlciwgY2FsbEFsbEhhbmRsZXJzLCBhcmlhQXR0ciwgbWluU2FmZUludGVnZXIsIG1heFNhZmVJbnRlZ2VyLCBjeCwgX19ERVZfXyB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0IHsgbWVyZ2VSZWZzLCBjcmVhdGVDb250ZXh0IH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdC11dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEljb24gfSBmcm9tICdAY2hha3JhLXVpL2ljb24nO1xuaW1wb3J0IHsgdXNlQ291bnRlciB9IGZyb20gJ0BjaGFrcmEtdWkvY291bnRlcic7XG5pbXBvcnQgeyB1c2VJbnRlcnZhbCwgdXNlVW5tb3VudEVmZmVjdCwgdXNlQ2FsbGJhY2tSZWYsIHVzZUJvb2xlYW4sIHVzZVNhZmVMYXlvdXRFZmZlY3QsIHVzZUV2ZW50TGlzdGVuZXIgfSBmcm9tICdAY2hha3JhLXVpL2hvb2tzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBUcmlhbmdsZURvd25JY29uID0gZnVuY3Rpb24gVHJpYW5nbGVEb3duSWNvbihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCJcbiAgfSwgcHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZDogXCJNMjEsNUgzQzIuNjIxLDUsMi4yNzUsNS4yMTQsMi4xMDUsNS41NTNDMS45MzcsNS44OTIsMS45NzMsNi4yOTcsMi4yLDYuNmw5LDEyIGMwLjE4OCwwLjI1MiwwLjQ4NSwwLjQsMC44LDAuNHMwLjYxMS0wLjE0OCwwLjgtMC40bDktMTJjMC4yMjgtMC4zMDMsMC4yNjQtMC43MDgsMC4wOTUtMS4wNDdDMjEuNzI1LDUuMjE0LDIxLjM3OSw1LDIxLDV6XCJcbiAgfSkpO1xufTtcbnZhciBUcmlhbmdsZVVwSWNvbiA9IGZ1bmN0aW9uIFRyaWFuZ2xlVXBJY29uKHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCBfZXh0ZW5kcyh7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIlxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBkOiBcIk0xMi44LDUuNGMtMC4zNzctMC41MDQtMS4yMjMtMC41MDQtMS42LDBsLTksMTJjLTAuMjI4LDAuMzAzLTAuMjY0LDAuNzA4LTAuMDk1LDEuMDQ3IEMyLjI3NSwxOC43ODYsMi42MjEsMTksMywxOWgxOGMwLjM3OSwwLDAuNzI1LTAuMjE0LDAuODk1LTAuNTUzYzAuMTY5LTAuMzM5LDAuMTMzLTAuNzQ0LTAuMDk1LTEuMDQ3TDEyLjgsNS40elwiXG4gIH0pKTtcbn07XG5cbi8qKlxuICogV2hlbiBjbGljayBhbmQgaG9sZCBvbiBhIGJ1dHRvbiAtIHRoZSBzcGVlZCBvZiBhdXRvIGNoYW5naW5nIHRoZSB2YWx1ZS5cbiAqL1xuXG52YXIgQ09OVElOVU9VU19DSEFOR0VfSU5URVJWQUwgPSA1MDtcbi8qKlxuICogV2hlbiBjbGljayBhbmQgaG9sZCBvbiBhIGJ1dHRvbiAtIHRoZSBkZWxheSBiZWZvcmUgYXV0byBjaGFuZ2luZyB0aGUgdmFsdWUuXG4gKi9cblxudmFyIENPTlRJTlVPVVNfQ0hBTkdFX0RFTEFZID0gMzAwO1xuXG4vKipcbiAqIFJlYWN0IGhvb2sgdXNlZCBpbiB0aGUgbnVtYmVyIGlucHV0IHRvIHNwaW4gaXRzXG4gKiB2YWx1ZSBvbiBsb25nIHByZXNzIG9mIHRoZSBzcGluIGJ1dHRvbnNcbiAqXG4gKiBAcGFyYW0gaW5jcmVtZW50IHRoZSBmdW5jdGlvbiB0byBpbmNyZW1lbnRcbiAqIEBwYXJhbSBkZWNyZW1lbnQgdGhlIGZ1bmN0aW9uIHRvIGRlY3JlbWVudFxuICovXG5mdW5jdGlvbiB1c2VTcGlubmVyKGluY3JlbWVudCwgZGVjcmVtZW50KSB7XG4gIC8qKlxuICAgKiBUbyBrZWVwIGluY3JlbWVudGluZy9kZWNyZW1lbnRpbmcgb24gcHJlc3MsIHdlIGNhbGwgdGhhdCBgc3Bpbm5pbmdgXG4gICAqL1xuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgaXNTcGlubmluZyA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldElzU3Bpbm5pbmcgPSBfdXNlU3RhdGVbMV07IC8vIFRoaXMgc3RhdGUga2VlcHMgdHJhY2sgb2YgdGhlIGFjdGlvbiAoXCJpbmNyZW1lbnRcIiBvciBcImRlY3JlbWVudFwiKVxuXG5cbiAgdmFyIF91c2VTdGF0ZTIgPSB1c2VTdGF0ZShudWxsKSxcbiAgICAgIGFjdGlvbiA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRBY3Rpb24gPSBfdXNlU3RhdGUyWzFdOyAvLyBUbyBpbmNyZW1lbnQgdGhlIHZhbHVlIHRoZSBmaXJzdCB0aW1lIHlvdSBtb3VzZWRvd24sIHdlIGNhbGwgdGhhdCBgcnVuT25jZWBcblxuXG4gIHZhciBfdXNlU3RhdGUzID0gdXNlU3RhdGUodHJ1ZSksXG4gICAgICBydW5PbmNlID0gX3VzZVN0YXRlM1swXSxcbiAgICAgIHNldFJ1bk9uY2UgPSBfdXNlU3RhdGUzWzFdOyAvLyBTdG9yZSB0aGUgdGltZW91dCBpbnN0YW5jZSBpZCBpbiBhIHJlZiwgc28gd2UgY2FuIGNsZWFyIHRoZSB0aW1lb3V0IGxhdGVyXG5cblxuICB2YXIgdGltZW91dFJlZiA9IHVzZVJlZihudWxsKTsgLy8gQ2xlYXJzIHRoZSB0aW1lb3V0IGZyb20gbWVtb3J5XG5cbiAgdmFyIHJlbW92ZVRpbWVvdXQgPSBmdW5jdGlvbiByZW1vdmVUaW1lb3V0KCkge1xuICAgIHJldHVybiBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcbiAgfTtcbiAgLyoqXG4gICAqIHVzZUludGVydmFsIGhvb2sgcHJvdmlkZXMgYSBwZXJmb3JtYW50IHdheSB0b1xuICAgKiB1cGRhdGUgdGhlIHN0YXRlIHZhbHVlIGF0IHNwZWNpZmljIGludGVydmFsXG4gICAqL1xuXG5cbiAgdXNlSW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgIGlmIChhY3Rpb24gPT09IFwiaW5jcmVtZW50XCIpIHtcbiAgICAgIGluY3JlbWVudCgpO1xuICAgIH1cblxuICAgIGlmIChhY3Rpb24gPT09IFwiZGVjcmVtZW50XCIpIHtcbiAgICAgIGRlY3JlbWVudCgpO1xuICAgIH1cbiAgfSwgaXNTcGlubmluZyA/IENPTlRJTlVPVVNfQ0hBTkdFX0lOVEVSVkFMIDogbnVsbCk7IC8vIEZ1bmN0aW9uIHRvIGFjdGl2YXRlIHRoZSBzcGlubmluZyBhbmQgaW5jcmVtZW50IHRoZSB2YWx1ZVxuXG4gIHZhciB1cCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBpbmNyZW1lbnQgdGhlIGZpcnN0IGZpbWVcbiAgICBpZiAocnVuT25jZSkge1xuICAgICAgaW5jcmVtZW50KCk7XG4gICAgfSAvLyBhZnRlciBhIGRlbGF5LCBrZWVwIGluY3JlbWVudGluZyBhdCBpbnRlcnZhbCAoXCJzcGlubmluZyB1cFwiKVxuXG5cbiAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldFJ1bk9uY2UoZmFsc2UpO1xuICAgICAgc2V0SXNTcGlubmluZyh0cnVlKTtcbiAgICAgIHNldEFjdGlvbihcImluY3JlbWVudFwiKTtcbiAgICB9LCBDT05USU5VT1VTX0NIQU5HRV9ERUxBWSk7XG4gIH0sIFtpbmNyZW1lbnQsIHJ1bk9uY2VdKTsgLy8gRnVuY3Rpb24gdG8gYWN0aXZhdGUgdGhlIHNwaW5uaW5nIGFuZCBpbmNyZW1lbnQgdGhlIHZhbHVlXG5cbiAgdmFyIGRvd24gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgLy8gZGVjcmVtZW50IHRoZSBmaXJzdCBmaW1lXG4gICAgaWYgKHJ1bk9uY2UpIHtcbiAgICAgIGRlY3JlbWVudCgpO1xuICAgIH0gLy8gYWZ0ZXIgYSBkZWxheSwga2VlcCBkZWNyZW1lbnRpbmcgYXQgaW50ZXJ2YWwgKFwic3Bpbm5pbmcgZG93blwiKVxuXG5cbiAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldFJ1bk9uY2UoZmFsc2UpO1xuICAgICAgc2V0SXNTcGlubmluZyh0cnVlKTtcbiAgICAgIHNldEFjdGlvbihcImRlY3JlbWVudFwiKTtcbiAgICB9LCBDT05USU5VT1VTX0NIQU5HRV9ERUxBWSk7XG4gIH0sIFtkZWNyZW1lbnQsIHJ1bk9uY2VdKTsgLy8gRnVuY3Rpb24gdG8gc3RvcCBzcGlubmcgKHVzZWZ1bCBmb3IgbW91c2V1cCwga2V5dXAgaGFuZGxlcnMpXG5cbiAgdmFyIHN0b3AgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgc2V0UnVuT25jZSh0cnVlKTtcbiAgICBzZXRJc1NwaW5uaW5nKGZhbHNlKTtcbiAgICByZW1vdmVUaW1lb3V0KCk7XG4gIH0sIFtdKTtcbiAgLyoqXG4gICAqIElmIHRoZSBjb21wb25lbnQgdW5tb3VudHMgd2hpbGUgc3Bpbm5pbmcsXG4gICAqIGxldCdzIGNsZWFyIHRoZSB0aW1lb3V0IGFzIHdlbGxcbiAgICovXG5cbiAgdXNlVW5tb3VudEVmZmVjdChyZW1vdmVUaW1lb3V0KTtcbiAgcmV0dXJuIHtcbiAgICB1cDogdXAsXG4gICAgZG93bjogZG93bixcbiAgICBzdG9wOiBzdG9wXG4gIH07XG59XG5cbnZhciBGTE9BVElOR19QT0lOVF9SRUdFWCA9IC9eW0VlMC05K1xcLS5dJC87XG4vKipcbiAqIERldGVybWluZSBpZiBhIGNoYXJhY3RlciBpcyBhIERPTSBmbG9hdGluZyBwb2ludCBjaGFyYWN0ZXJcbiAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSLzIwMTIvV0QtaHRtbC1tYXJrdXAtMjAxMjAzMjkvZGF0YXR5cGVzLmh0bWwjY29tbW9uLmRhdGEuZmxvYXRcbiAqL1xuXG5mdW5jdGlvbiBpc0Zsb2F0aW5nUG9pbnROdW1lcmljQ2hhcmFjdGVyKGNoYXJhY3Rlcikge1xuICByZXR1cm4gRkxPQVRJTkdfUE9JTlRfUkVHRVgudGVzdChjaGFyYWN0ZXIpO1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgdGhlIGV2ZW50IGlzIGEgdmFsaWQgbnVtZXJpYyBrZXlib2FyZCBldmVudC5cbiAqIFdlIHVzZSB0aGlzIHNvIHdlIGNhbiBwcmV2ZW50IG5vbi1udW1iZXIgY2hhcmFjdGVycyBpbiB0aGUgaW5wdXRcbiAqL1xuXG5mdW5jdGlvbiBpc1ZhbGlkTnVtZXJpY0tleWJvYXJkRXZlbnQoZXZlbnQpIHtcbiAgaWYgKGV2ZW50LmtleSA9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgdmFyIGlzTW9kaWZpZXJLZXkgPSBldmVudC5jdHJsS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5tZXRhS2V5O1xuXG4gIGlmIChpc01vZGlmaWVyS2V5KSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB2YXIgaXNTaW5nbGVDaGFyYWN0ZXJLZXkgPSBldmVudC5rZXkubGVuZ3RoID09PSAxO1xuXG4gIGlmICghaXNTaW5nbGVDaGFyYWN0ZXJLZXkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBpc0Zsb2F0aW5nUG9pbnROdW1lcmljQ2hhcmFjdGVyKGV2ZW50LmtleSk7XG59XG5cbnZhciBfZXhjbHVkZWQkMSA9IFtcImZvY3VzSW5wdXRPbkNoYW5nZVwiLCBcImNsYW1wVmFsdWVPbkJsdXJcIiwgXCJrZWVwV2l0aGluUmFuZ2VcIiwgXCJtaW5cIiwgXCJtYXhcIiwgXCJzdGVwXCIsIFwiaXNSZWFkT25seVwiLCBcImlzRGlzYWJsZWRcIiwgXCJpc1JlcXVpcmVkXCIsIFwiZ2V0QXJpYVZhbHVlVGV4dFwiLCBcImlzSW52YWxpZFwiLCBcInBhdHRlcm5cIiwgXCJpbnB1dE1vZGVcIiwgXCJhbGxvd01vdXNlV2hlZWxcIiwgXCJpZFwiLCBcIm9uQ2hhbmdlXCIsIFwicHJlY2lzaW9uXCIsIFwibmFtZVwiLCBcImFyaWEtZGVzY3JpYmVkYnlcIiwgXCJhcmlhLWxhYmVsXCIsIFwiYXJpYS1sYWJlbGxlZGJ5XCIsIFwib25Gb2N1c1wiLCBcIm9uQmx1clwiXTtcblxudmFyIHNhbml0aXplID0gZnVuY3Rpb24gc2FuaXRpemUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlLnNwbGl0KFwiXCIpLmZpbHRlcihpc0Zsb2F0aW5nUG9pbnROdW1lcmljQ2hhcmFjdGVyKS5qb2luKFwiXCIpO1xufTtcbi8qKlxuICogUmVhY3QgaG9vayB0aGF0IGltcGxlbWVudHMgdGhlIFdBSS1BUklBIFNwaW4gQnV0dG9uIHdpZGdldFxuICogYW5kIHVzZWQgdG8gY3JlYXRlIG51bWVyaWMgaW5wdXQgZmllbGRzLlxuICpcbiAqIEl0IHJldHVybnMgcHJvcCBnZXR0ZXJzIHlvdSBjYW4gdXNlIHRvIGJ1aWxkIHlvdXIgb3duXG4gKiBjdXN0b20gbnVtYmVyIGlucHV0cy5cbiAqXG4gKiBAc2VlIFdBSS1BUklBIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS1wcmFjdGljZXMtMS4xLyNzcGluYnV0dG9uXG4gKiBAc2VlIERvY3MgICAgIGh0dHBzOi8vd3d3LmNoYWtyYS11aS5jb20vdXNlTnVtYmVySW5wdXRcbiAqIEBzZWUgV0hBVFdHICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5wdXQuaHRtbCNudW1iZXItc3RhdGUtKHR5cGU9bnVtYmVyKVxuICovXG5cblxuZnVuY3Rpb24gdXNlTnVtYmVySW5wdXQocHJvcHMpIHtcbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgdmFyIF9wcm9wcyA9IHByb3BzLFxuICAgICAgX3Byb3BzJGZvY3VzSW5wdXRPbkNoID0gX3Byb3BzLmZvY3VzSW5wdXRPbkNoYW5nZSxcbiAgICAgIGZvY3VzSW5wdXRPbkNoYW5nZSA9IF9wcm9wcyRmb2N1c0lucHV0T25DaCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRmb2N1c0lucHV0T25DaCxcbiAgICAgIF9wcm9wcyRjbGFtcFZhbHVlT25CbCA9IF9wcm9wcy5jbGFtcFZhbHVlT25CbHVyLFxuICAgICAgY2xhbXBWYWx1ZU9uQmx1ciA9IF9wcm9wcyRjbGFtcFZhbHVlT25CbCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRjbGFtcFZhbHVlT25CbCxcbiAgICAgIF9wcm9wcyRrZWVwV2l0aGluUmFuZyA9IF9wcm9wcy5rZWVwV2l0aGluUmFuZ2UsXG4gICAgICBrZWVwV2l0aGluUmFuZ2UgPSBfcHJvcHMka2VlcFdpdGhpblJhbmcgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMka2VlcFdpdGhpblJhbmcsXG4gICAgICBfcHJvcHMkbWluID0gX3Byb3BzLm1pbixcbiAgICAgIG1pbiA9IF9wcm9wcyRtaW4gPT09IHZvaWQgMCA/IG1pblNhZmVJbnRlZ2VyIDogX3Byb3BzJG1pbixcbiAgICAgIF9wcm9wcyRtYXggPSBfcHJvcHMubWF4LFxuICAgICAgbWF4ID0gX3Byb3BzJG1heCA9PT0gdm9pZCAwID8gbWF4U2FmZUludGVnZXIgOiBfcHJvcHMkbWF4LFxuICAgICAgX3Byb3BzJHN0ZXAgPSBfcHJvcHMuc3RlcCxcbiAgICAgIHN0ZXBQcm9wID0gX3Byb3BzJHN0ZXAgPT09IHZvaWQgMCA/IDEgOiBfcHJvcHMkc3RlcCxcbiAgICAgIGlzUmVhZE9ubHkgPSBfcHJvcHMuaXNSZWFkT25seSxcbiAgICAgIGlzRGlzYWJsZWQgPSBfcHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgIGlzUmVxdWlyZWQgPSBfcHJvcHMuaXNSZXF1aXJlZCxcbiAgICAgIGdldEFyaWFWYWx1ZVRleHQgPSBfcHJvcHMuZ2V0QXJpYVZhbHVlVGV4dCxcbiAgICAgIGlzSW52YWxpZCA9IF9wcm9wcy5pc0ludmFsaWQsXG4gICAgICBfcHJvcHMkcGF0dGVybiA9IF9wcm9wcy5wYXR0ZXJuLFxuICAgICAgcGF0dGVybiA9IF9wcm9wcyRwYXR0ZXJuID09PSB2b2lkIDAgPyBcIlswLTldKiguWzAtOV0rKT9cIiA6IF9wcm9wcyRwYXR0ZXJuLFxuICAgICAgX3Byb3BzJGlucHV0TW9kZSA9IF9wcm9wcy5pbnB1dE1vZGUsXG4gICAgICBpbnB1dE1vZGUgPSBfcHJvcHMkaW5wdXRNb2RlID09PSB2b2lkIDAgPyBcImRlY2ltYWxcIiA6IF9wcm9wcyRpbnB1dE1vZGUsXG4gICAgICBhbGxvd01vdXNlV2hlZWwgPSBfcHJvcHMuYWxsb3dNb3VzZVdoZWVsLFxuICAgICAgaWQgPSBfcHJvcHMuaWQ7XG4gICAgICBfcHJvcHMub25DaGFuZ2U7XG4gICAgICBfcHJvcHMucHJlY2lzaW9uO1xuICAgICAgdmFyIG5hbWUgPSBfcHJvcHMubmFtZSxcbiAgICAgIGFyaWFEZXNjQnkgPSBfcHJvcHNbXCJhcmlhLWRlc2NyaWJlZGJ5XCJdLFxuICAgICAgYXJpYUxhYmVsID0gX3Byb3BzW1wiYXJpYS1sYWJlbFwiXSxcbiAgICAgIGFyaWFMYWJlbGxlZEJ5ID0gX3Byb3BzW1wiYXJpYS1sYWJlbGxlZGJ5XCJdLFxuICAgICAgb25Gb2N1cyA9IF9wcm9wcy5vbkZvY3VzLFxuICAgICAgb25CbHVyID0gX3Byb3BzLm9uQmx1cixcbiAgICAgIGh0bWxQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9wcm9wcywgX2V4Y2x1ZGVkJDEpO1xuXG4gIHZhciBvbkZvY3VzUHJvcCA9IHVzZUNhbGxiYWNrUmVmKG9uRm9jdXMpO1xuICB2YXIgb25CbHVyUHJvcCA9IHVzZUNhbGxiYWNrUmVmKG9uQmx1cik7XG4gIHZhciBnZXRBcmlhVmFsdWVUZXh0UHJvcCA9IHVzZUNhbGxiYWNrUmVmKGdldEFyaWFWYWx1ZVRleHQpO1xuICAvKipcbiAgICogTGV2ZXJhZ2UgdGhlIGB1c2VDb3VudGVyYCBob29rIHNpbmNlIGl0IHByb3ZpZGVzXG4gICAqIHRoZSBmdW5jdGlvbmFsaXR5IHRvIGBpbmNyZW1lbnRgLCBgZGVjcmVtZW50YCBhbmQgYHVwZGF0ZWBcbiAgICogY291bnRlciB2YWx1ZXNcbiAgICovXG5cbiAgdmFyIGNvdW50ZXIgPSB1c2VDb3VudGVyKHByb3BzKTtcbiAgdmFyIHVwZGF0ZUZuID0gY291bnRlci51cGRhdGUsXG4gICAgICBpbmNyZW1lbnRGbiA9IGNvdW50ZXIuaW5jcmVtZW50LFxuICAgICAgZGVjcmVtZW50Rm4gPSBjb3VudGVyLmRlY3JlbWVudDtcbiAgLyoqXG4gICAqIEtlZXAgdHJhY2sgb2YgdGhlIGZvY3VzZWQgc3RhdGUgb2YgdGhlIGlucHV0LFxuICAgKiBzbyB1c2VyIGNhbiB0aGlzIHRvIGNoYW5nZSB0aGUgc3R5bGVzIG9mIHRoZVxuICAgKiBgc3Bpbm5lcnNgLCBtYXliZSA6KVxuICAgKi9cblxuICB2YXIgX3VzZUJvb2xlYW4gPSB1c2VCb29sZWFuKCksXG4gICAgICBpc0ZvY3VzZWQgPSBfdXNlQm9vbGVhblswXSxcbiAgICAgIHNldEZvY3VzZWQgPSBfdXNlQm9vbGVhblsxXTtcblxuICB2YXIgaW5wdXRSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIC8qKlxuICAgKiBTeW5jIHN0YXRlIHdpdGggdW5jb250cm9sbGVkIGZvcm0gbGlicmFyaWVzIGxpa2UgYHJlYWN0LWhvb2stZm9ybWAuXG4gICAqL1xuXG4gIHVzZVNhZmVMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGlmICghaW5wdXRSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIHZhciBub3RJblN5bmMgPSBpbnB1dFJlZi5jdXJyZW50LnZhbHVlICE9IGNvdW50ZXIudmFsdWU7XG5cbiAgICBpZiAobm90SW5TeW5jKSB7XG4gICAgICBjb3VudGVyLnNldFZhbHVlKHNhbml0aXplKGlucHV0UmVmLmN1cnJlbnQudmFsdWUpKTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgdmFyIGlzSW50ZXJhY3RpdmUgPSAhKGlzUmVhZE9ubHkgfHwgaXNEaXNhYmxlZCk7XG4gIHZhciBpbmNyZW1lbnQgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RlcCkge1xuICAgIGlmIChzdGVwID09PSB2b2lkIDApIHtcbiAgICAgIHN0ZXAgPSBzdGVwUHJvcDtcbiAgICB9XG5cbiAgICBpZiAoaXNJbnRlcmFjdGl2ZSkge1xuICAgICAgaW5jcmVtZW50Rm4oc3RlcCk7XG4gICAgfVxuICB9LCBbaW5jcmVtZW50Rm4sIGlzSW50ZXJhY3RpdmUsIHN0ZXBQcm9wXSk7XG4gIHZhciBkZWNyZW1lbnQgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoc3RlcCkge1xuICAgIGlmIChzdGVwID09PSB2b2lkIDApIHtcbiAgICAgIHN0ZXAgPSBzdGVwUHJvcDtcbiAgICB9XG5cbiAgICBpZiAoaXNJbnRlcmFjdGl2ZSkge1xuICAgICAgZGVjcmVtZW50Rm4oc3RlcCk7XG4gICAgfVxuICB9LCBbZGVjcmVtZW50Rm4sIGlzSW50ZXJhY3RpdmUsIHN0ZXBQcm9wXSk7XG4gIC8qKlxuICAgKiBMZXZlcmFnZSB0aGUgYHVzZVNwaW5uZXJgIGhvb2sgdG8gc3BpbiB0aGUgaW5wdXQncyB2YWx1ZVxuICAgKiB3aGVuIGxvbmcgcHJlc3Mgb24gdGhlIHVwIGFuZCBkb3duIGJ1dHRvbnMuXG4gICAqXG4gICAqIFRoaXMgbGV2ZXJhZ2VzIGBzZXRJbnRlcnZhbGAgaW50ZXJuYWxseVxuICAgKi9cblxuICB2YXIgc3Bpbm5lciA9IHVzZVNwaW5uZXIoaW5jcmVtZW50LCBkZWNyZW1lbnQpO1xuICAvKipcbiAgICogVGhlIGBvbkNoYW5nZWAgaGFuZGxlciBmaWx0ZXJzIG91dCBhbnkgY2hhcmFjdGVyIHR5cGVkXG4gICAqIHRoYXQgaXNuJ3QgZmxvYXRpbmcgcG9pbnQgY29tcGF0aWJsZS5cbiAgICovXG5cbiAgdmFyIG9uQ2hhbmdlID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdXBkYXRlRm4oc2FuaXRpemUoZXZlbnQudGFyZ2V0LnZhbHVlKSk7XG4gIH0sIFt1cGRhdGVGbl0pO1xuICB2YXIgb25LZXlEb3duID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgLyoqXG4gICAgICogb25seSBhbGxvdyB2YWxpZCBudW1lcmljIGtleXNcbiAgICAgKi9cbiAgICBpZiAoIWlzVmFsaWROdW1lcmljS2V5Ym9hcmRFdmVudChldmVudCkpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEtleWJvYXJkIEFjY2Vzc2liaWxpdHlcbiAgICAgKlxuICAgICAqIFdlIHdhbnQgdG8gaW5jcmVhc2Ugb3IgZGVjcmVhc2UgdGhlIGlucHV0J3MgdmFsdWVcbiAgICAgKiBiYXNlZCBvbiBpZiB0aGUgdXNlciB0aGUgYXJyb3cga2V5cy5cbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLXByYWN0aWNlcy0xLjEvI2tleWJvYXJkLWludGVyYWN0aW9uLTE3XG4gICAgICovXG5cblxuICAgIHZhciBzdGVwRmFjdG9yID0gZ2V0U3RlcEZhY3RvcihldmVudCkgKiBzdGVwUHJvcDtcbiAgICB2YXIgZXZlbnRLZXkgPSBub3JtYWxpemVFdmVudEtleShldmVudCk7XG4gICAgdmFyIGtleU1hcCA9IHtcbiAgICAgIEFycm93VXA6IGZ1bmN0aW9uIEFycm93VXAoKSB7XG4gICAgICAgIHJldHVybiBpbmNyZW1lbnQoc3RlcEZhY3Rvcik7XG4gICAgICB9LFxuICAgICAgQXJyb3dEb3duOiBmdW5jdGlvbiBBcnJvd0Rvd24oKSB7XG4gICAgICAgIHJldHVybiBkZWNyZW1lbnQoc3RlcEZhY3Rvcik7XG4gICAgICB9LFxuICAgICAgSG9tZTogZnVuY3Rpb24gSG9tZSgpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUZuKG1pbik7XG4gICAgICB9LFxuICAgICAgRW5kOiBmdW5jdGlvbiBFbmQoKSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVGbihtYXgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGFjdGlvbiA9IGtleU1hcFtldmVudEtleV07XG5cbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgYWN0aW9uKGV2ZW50KTtcbiAgICB9XG4gIH0sIFt1cGRhdGVGbiwgZGVjcmVtZW50LCBpbmNyZW1lbnQsIG1heCwgbWluLCBzdGVwUHJvcF0pO1xuXG4gIHZhciBnZXRTdGVwRmFjdG9yID0gZnVuY3Rpb24gZ2V0U3RlcEZhY3RvcihldmVudCkge1xuICAgIHZhciByYXRpbyA9IDE7XG5cbiAgICBpZiAoZXZlbnQubWV0YUtleSB8fCBldmVudC5jdHJsS2V5KSB7XG4gICAgICByYXRpbyA9IDAuMTtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIHJhdGlvID0gMTA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhdGlvO1xuICB9O1xuICAvKipcbiAgICogSWYgdXNlciB3b3VsZCBsaWtlIHRvIHVzZSBhIGh1bWFuLXJlYWRhYmxlIHJlcHJlc2VudGF0aW9uXG4gICAqIG9mIHRoZSB2YWx1ZSwgcmF0aGVyIHRoYW4gdGhlIHZhbHVlIGl0c2VsZiB0aGV5IGNhbiBwYXNzIGBnZXRBcmlhVmFsdWVUZXh0YFxuICAgKlxuICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS1wcmFjdGljZXMtMS4xLyN3YWktYXJpYS1yb2xlcy1zdGF0ZXMtYW5kLXByb3BlcnRpZXMtMThcbiAgICogQHNlZSBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtMS4xLyNhcmlhLXZhbHVldGV4dFxuICAgKi9cblxuXG4gIHZhciBhcmlhVmFsdWVUZXh0ID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRleHQgPSBnZXRBcmlhVmFsdWVUZXh0UHJvcCA9PSBudWxsID8gdm9pZCAwIDogZ2V0QXJpYVZhbHVlVGV4dFByb3AoY291bnRlci52YWx1ZSk7XG5cbiAgICBpZiAoIWlzTnVsbCh0ZXh0KSkge1xuICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgdmFyIGRlZmF1bHRUZXh0ID0gY291bnRlci52YWx1ZS50b1N0cmluZygpOyAvLyBlbXB0eSBzdHJpbmcgaXMgYW4gaW52YWxpZCBBUklBIGF0dHJpYnV0ZSB2YWx1ZVxuXG4gICAgcmV0dXJuICFkZWZhdWx0VGV4dCA/IHVuZGVmaW5lZCA6IGRlZmF1bHRUZXh0O1xuICB9LCBbY291bnRlci52YWx1ZSwgZ2V0QXJpYVZhbHVlVGV4dFByb3BdKTtcbiAgLyoqXG4gICAqIEZ1bmN0aW9uIHRoYXQgY2xhbXBzIHRoZSBpbnB1dCdzIHZhbHVlIG9uIGJsdXJcbiAgICovXG5cbiAgdmFyIHZhbGlkYXRlQW5kQ2xhbXAgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5leHQgPSBjb3VudGVyLnZhbHVlO1xuICAgIGlmIChuZXh0ID09PSBcIlwiKSByZXR1cm47XG5cbiAgICBpZiAoY291bnRlci52YWx1ZUFzTnVtYmVyIDwgbWluKSB7XG4gICAgICBuZXh0ID0gbWluO1xuICAgIH1cblxuICAgIGlmIChjb3VudGVyLnZhbHVlQXNOdW1iZXIgPiBtYXgpIHtcbiAgICAgIG5leHQgPSBtYXg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGBjb3VudGVyLmNhc3RgIGRvZXMgMiB0aGluZ3M6XG4gICAgICpcbiAgICAgKiAtIHNhbml0aXplIHRoZSB2YWx1ZSBieSB1c2luZyBwYXJzZUZsb2F0IGFuZCBzb21lIFJlZ2V4XG4gICAgICogLSB1c2VkIHRvIHJvdW5kIHZhbHVlIHRvIGNvbXB1dGVkIHByZWNpc2lvbiBvciBkZWNpbWFsIHBvaW50c1xuICAgICAqL1xuXG5cbiAgICBjb3VudGVyLmNhc3QobmV4dCk7XG4gIH0sIFtjb3VudGVyLCBtYXgsIG1pbl0pO1xuICB2YXIgb25JbnB1dEJsdXIgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgc2V0Rm9jdXNlZC5vZmYoKTtcblxuICAgIGlmIChjbGFtcFZhbHVlT25CbHVyKSB7XG4gICAgICB2YWxpZGF0ZUFuZENsYW1wKCk7XG4gICAgfVxuICB9LCBbY2xhbXBWYWx1ZU9uQmx1ciwgc2V0Rm9jdXNlZCwgdmFsaWRhdGVBbmRDbGFtcF0pO1xuICB2YXIgZm9jdXNJbnB1dCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZm9jdXNJbnB1dE9uQ2hhbmdlKSB7XG4gICAgICBmb2N1cyhpbnB1dFJlZi5jdXJyZW50LCB7XG4gICAgICAgIG5leHRUaWNrOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIFtmb2N1c0lucHV0T25DaGFuZ2VdKTtcbiAgdmFyIHNwaW5VcCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgc3Bpbm5lci51cCgpO1xuICAgIGZvY3VzSW5wdXQoKTtcbiAgfSwgW2ZvY3VzSW5wdXQsIHNwaW5uZXJdKTtcbiAgdmFyIHNwaW5Eb3duID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBzcGlubmVyLmRvd24oKTtcbiAgICBmb2N1c0lucHV0KCk7XG4gIH0sIFtmb2N1c0lucHV0LCBzcGlubmVyXSk7XG4gIHZhciBwb2ludGVyRG93biA9IGlzQnJvd3NlciAmJiAhIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5vbnRvdWNoc3RhcnQgPyBcIm9uVG91Y2hTdGFydFwiIDogXCJvbk1vdXNlRG93blwiO1xuICB1c2VFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIGlzSW5wdXRGb2N1c2VkID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gaW5wdXRSZWYuY3VycmVudDtcbiAgICBpZiAoIWFsbG93TW91c2VXaGVlbCB8fCAhaXNJbnB1dEZvY3VzZWQpIHJldHVybjtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHZhciBzdGVwRmFjdG9yID0gZ2V0U3RlcEZhY3RvcihldmVudCkgKiBzdGVwUHJvcDtcbiAgICB2YXIgZGlyZWN0aW9uID0gTWF0aC5zaWduKGV2ZW50LmRlbHRhWSk7XG5cbiAgICBpZiAoZGlyZWN0aW9uID09PSAtMSkge1xuICAgICAgaW5jcmVtZW50KHN0ZXBGYWN0b3IpO1xuICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAxKSB7XG4gICAgICBkZWNyZW1lbnQoc3RlcEZhY3Rvcik7XG4gICAgfVxuICB9LCBpbnB1dFJlZi5jdXJyZW50LCB7XG4gICAgcGFzc2l2ZTogZmFsc2VcbiAgfSk7XG4gIHZhciBnZXRJbmNyZW1lbnRCdXR0b25Qcm9wcyA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgdmFyIF9leHRlbmRzMjtcblxuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChyZWYgPT09IHZvaWQgMCkge1xuICAgICAgcmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZGlzYWJsZWQgPSBpc0Rpc2FibGVkIHx8IGtlZXBXaXRoaW5SYW5nZSAmJiBjb3VudGVyLmlzQXRNYXg7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywgKF9leHRlbmRzMiA9IHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgIHRhYkluZGV4OiAtMVxuICAgIH0sIF9leHRlbmRzMltwb2ludGVyRG93bl0gPSBjYWxsQWxsSGFuZGxlcnMocHJvcHNbcG9pbnRlckRvd25dLCBzcGluVXApLCBfZXh0ZW5kczIub25Nb3VzZVVwID0gY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uTW91c2VVcCwgc3Bpbm5lci5zdG9wKSwgX2V4dGVuZHMyLm9uTW91c2VMZWF2ZSA9IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbk1vdXNlVXAsIHNwaW5uZXIuc3RvcCksIF9leHRlbmRzMi5vblRvdWNoRW5kID0gY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uVG91Y2hFbmQsIHNwaW5uZXIuc3RvcCksIF9leHRlbmRzMi5kaXNhYmxlZCA9IGRpc2FibGVkLCBfZXh0ZW5kczJbXCJhcmlhLWRpc2FibGVkXCJdID0gYXJpYUF0dHIoZGlzYWJsZWQpLCBfZXh0ZW5kczIpKTtcbiAgfSwgW3BvaW50ZXJEb3duLCBjb3VudGVyLmlzQXRNYXgsIGtlZXBXaXRoaW5SYW5nZSwgc3BpblVwLCBzcGlubmVyLnN0b3AsIGlzRGlzYWJsZWRdKTtcbiAgdmFyIGdldERlY3JlbWVudEJ1dHRvblByb3BzID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICB2YXIgX2V4dGVuZHMzO1xuXG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICByZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBkaXNhYmxlZCA9IGlzRGlzYWJsZWQgfHwga2VlcFdpdGhpblJhbmdlICYmIGNvdW50ZXIuaXNBdE1pbjtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzLCAoX2V4dGVuZHMzID0ge1xuICAgICAgcmVmOiByZWYsXG4gICAgICByb2xlOiBcImJ1dHRvblwiLFxuICAgICAgdGFiSW5kZXg6IC0xXG4gICAgfSwgX2V4dGVuZHMzW3BvaW50ZXJEb3duXSA9IGNhbGxBbGxIYW5kbGVycyhwcm9wc1twb2ludGVyRG93bl0sIHNwaW5Eb3duKSwgX2V4dGVuZHMzLm9uTW91c2VMZWF2ZSA9IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbk1vdXNlTGVhdmUsIHNwaW5uZXIuc3RvcCksIF9leHRlbmRzMy5vbk1vdXNlVXAgPSBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Nb3VzZVVwLCBzcGlubmVyLnN0b3ApLCBfZXh0ZW5kczMub25Ub3VjaEVuZCA9IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vblRvdWNoRW5kLCBzcGlubmVyLnN0b3ApLCBfZXh0ZW5kczMuZGlzYWJsZWQgPSBkaXNhYmxlZCwgX2V4dGVuZHMzW1wiYXJpYS1kaXNhYmxlZFwiXSA9IGFyaWFBdHRyKGRpc2FibGVkKSwgX2V4dGVuZHMzKSk7XG4gIH0sIFtwb2ludGVyRG93biwgY291bnRlci5pc0F0TWluLCBrZWVwV2l0aGluUmFuZ2UsIHNwaW5Eb3duLCBzcGlubmVyLnN0b3AsIGlzRGlzYWJsZWRdKTtcbiAgdmFyIGdldElucHV0UHJvcHMgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIHZhciBfcHJvcHMkcmVhZE9ubHksIF9wcm9wcyRyZWFkT25seTIsIF9wcm9wcyRyZXF1aXJlZCwgX3Byb3BzJHJlcXVpcmVkMjtcblxuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChyZWYgPT09IHZvaWQgMCkge1xuICAgICAgcmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGlucHV0TW9kZTogaW5wdXRNb2RlLFxuICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICBwYXR0ZXJuOiBwYXR0ZXJuLFxuICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogYXJpYUxhYmVsbGVkQnksXG4gICAgICBcImFyaWEtbGFiZWxcIjogYXJpYUxhYmVsLFxuICAgICAgXCJhcmlhLWRlc2NyaWJlZGJ5XCI6IGFyaWFEZXNjQnksXG4gICAgICBpZDogaWQsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZFxuICAgIH0sIHByb3BzLCB7XG4gICAgICByZWFkT25seTogKF9wcm9wcyRyZWFkT25seSA9IHByb3BzLnJlYWRPbmx5KSAhPSBudWxsID8gX3Byb3BzJHJlYWRPbmx5IDogaXNSZWFkT25seSxcbiAgICAgIFwiYXJpYS1yZWFkb25seVwiOiAoX3Byb3BzJHJlYWRPbmx5MiA9IHByb3BzLnJlYWRPbmx5KSAhPSBudWxsID8gX3Byb3BzJHJlYWRPbmx5MiA6IGlzUmVhZE9ubHksXG4gICAgICBcImFyaWEtcmVxdWlyZWRcIjogKF9wcm9wcyRyZXF1aXJlZCA9IHByb3BzLnJlcXVpcmVkKSAhPSBudWxsID8gX3Byb3BzJHJlcXVpcmVkIDogaXNSZXF1aXJlZCxcbiAgICAgIHJlcXVpcmVkOiAoX3Byb3BzJHJlcXVpcmVkMiA9IHByb3BzLnJlcXVpcmVkKSAhPSBudWxsID8gX3Byb3BzJHJlcXVpcmVkMiA6IGlzUmVxdWlyZWQsXG4gICAgICByZWY6IG1lcmdlUmVmcyhpbnB1dFJlZiwgcmVmKSxcbiAgICAgIHZhbHVlOiBjb3VudGVyLnZhbHVlLFxuICAgICAgcm9sZTogXCJzcGluYnV0dG9uXCIsXG4gICAgICBcImFyaWEtdmFsdWVtaW5cIjogbWluLFxuICAgICAgXCJhcmlhLXZhbHVlbWF4XCI6IG1heCxcbiAgICAgIFwiYXJpYS12YWx1ZW5vd1wiOiBOdW1iZXIuaXNOYU4oY291bnRlci52YWx1ZUFzTnVtYmVyKSA/IHVuZGVmaW5lZCA6IGNvdW50ZXIudmFsdWVBc051bWJlcixcbiAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IGFyaWFBdHRyKGlzSW52YWxpZCAhPSBudWxsID8gaXNJbnZhbGlkIDogY291bnRlci5pc091dE9mUmFuZ2UpLFxuICAgICAgXCJhcmlhLXZhbHVldGV4dFwiOiBhcmlhVmFsdWVUZXh0LFxuICAgICAgYXV0b0NvbXBsZXRlOiBcIm9mZlwiLFxuICAgICAgYXV0b0NvcnJlY3Q6IFwib2ZmXCIsXG4gICAgICBvbkNoYW5nZTogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uQ2hhbmdlLCBvbkNoYW5nZSksXG4gICAgICBvbktleURvd246IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbktleURvd24sIG9uS2V5RG93biksXG4gICAgICBvbkZvY3VzOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Gb2N1cywgb25Gb2N1c1Byb3AsIHNldEZvY3VzZWQub24pLFxuICAgICAgb25CbHVyOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25CbHVyLCBvbkJsdXJQcm9wLCBvbklucHV0Qmx1cilcbiAgICB9KTtcbiAgfSwgW25hbWUsIGlucHV0TW9kZSwgcGF0dGVybiwgYXJpYUxhYmVsbGVkQnksIGFyaWFMYWJlbCwgYXJpYURlc2NCeSwgaWQsIGlzRGlzYWJsZWQsIGlzUmVxdWlyZWQsIGlzUmVhZE9ubHksIGlzSW52YWxpZCwgY291bnRlci52YWx1ZSwgY291bnRlci52YWx1ZUFzTnVtYmVyLCBjb3VudGVyLmlzT3V0T2ZSYW5nZSwgbWluLCBtYXgsIGFyaWFWYWx1ZVRleHQsIG9uQ2hhbmdlLCBvbktleURvd24sIG9uRm9jdXNQcm9wLCBzZXRGb2N1c2VkLm9uLCBvbkJsdXJQcm9wLCBvbklucHV0Qmx1cl0pO1xuICByZXR1cm4ge1xuICAgIHZhbHVlOiBjb3VudGVyLnZhbHVlLFxuICAgIHZhbHVlQXNOdW1iZXI6IGNvdW50ZXIudmFsdWVBc051bWJlcixcbiAgICBpc0ZvY3VzZWQ6IGlzRm9jdXNlZCxcbiAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgIGlzUmVhZE9ubHk6IGlzUmVhZE9ubHksXG4gICAgZ2V0SW5jcmVtZW50QnV0dG9uUHJvcHM6IGdldEluY3JlbWVudEJ1dHRvblByb3BzLFxuICAgIGdldERlY3JlbWVudEJ1dHRvblByb3BzOiBnZXREZWNyZW1lbnRCdXR0b25Qcm9wcyxcbiAgICBnZXRJbnB1dFByb3BzOiBnZXRJbnB1dFByb3BzLFxuICAgIGh0bWxQcm9wczogaHRtbFByb3BzXG4gIH07XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJodG1sUHJvcHNcIl07XG5cbi8qKlxuICogUmVhY3QgY29udGV4dCB1c2VkIHRvIGNvbW11bmljYXRlIGJldHdlZW4gY29tcG9uZW50c1xuICovXG52YXIgX2NyZWF0ZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgbmFtZTogXCJOdW1iZXJJbnB1dENvbnRleHRcIixcbiAgZXJyb3JNZXNzYWdlOiBcInVzZU51bWJlcklucHV0Q29udGV4dDogYGNvbnRleHRgIGlzIHVuZGVmaW5lZC4gU2VlbXMgeW91IGZvcmdvdCB0byB3cmFwIG51bWJlci1pbnB1dCdzIGNvbXBvbmVudHMgd2l0aGluIDxOdW1iZXJJbnB1dCAvPlwiXG59KSxcbiAgICBOdW1iZXJJbnB1dFByb3ZpZGVyID0gX2NyZWF0ZUNvbnRleHRbMF0sXG4gICAgdXNlTnVtYmVySW5wdXRDb250ZXh0ID0gX2NyZWF0ZUNvbnRleHRbMV07XG5cbi8qKlxuICogTnVtYmVySW5wdXRcbiAqXG4gKiBSZWFjdCBjb21wb25lbnQgdGhhdCBwcm92aWRlcyBjb250ZXh0IGFuZCBsb2dpYyB0byBhbGxcbiAqIG51bWJlciBpbnB1dCBzdWItY29tcG9uZW50cy5cbiAqXG4gKiBJdCByZW5kZXJzIGEgYGRpdmAgYnkgZGVmYXVsdC5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cDovL2NoYWtyYS11aS5jb20vbnVtYmVyaW5wdXRcbiAqL1xudmFyIE51bWJlcklucHV0ID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZU11bHRpU3R5bGVDb25maWcoXCJOdW1iZXJJbnB1dFwiLCBwcm9wcyk7XG4gIHZhciBvd25Qcm9wcyA9IG9taXRUaGVtaW5nUHJvcHMocHJvcHMpO1xuICB2YXIgY29udHJvbFByb3BzID0gdXNlRm9ybUNvbnRyb2xQcm9wcyhvd25Qcm9wcyk7XG5cbiAgdmFyIF91c2VOdW1iZXJJbnB1dCA9IHVzZU51bWJlcklucHV0KGNvbnRyb2xQcm9wcyksXG4gICAgICBodG1sUHJvcHMgPSBfdXNlTnVtYmVySW5wdXQuaHRtbFByb3BzLFxuICAgICAgY29udGV4dCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF91c2VOdW1iZXJJbnB1dCwgX2V4Y2x1ZGVkKTtcblxuICB2YXIgY3R4ID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNvbnRleHQ7XG4gIH0sIFtjb250ZXh0XSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChOdW1iZXJJbnB1dFByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGN0eFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZXNQcm92aWRlciwge1xuICAgIHZhbHVlOiBzdHlsZXNcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe30sIGh0bWxQcm9wcywge1xuICAgIHJlZjogcmVmLFxuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtbnVtYmVyaW5wdXRcIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBfX2NzczogX2V4dGVuZHMoe1xuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgIHpJbmRleDogMFxuICAgIH0sIHN0eWxlcy5yb290KVxuICB9KSkpKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBOdW1iZXJJbnB1dC5kaXNwbGF5TmFtZSA9IFwiTnVtYmVySW5wdXRcIjtcbn1cblxuLyoqXG4gKiBOdW1iZXJJbnB1dFN0ZXBwZXJcbiAqXG4gKiBSZWFjdCBjb21wb25lbnQgdXNlZCB0byBncm91cCB0aGUgaW5jcmVtZW50IGFuZCBkZWNyZW1lbnRcbiAqIGJ1dHRvbiBzcGlubmVycy5cbiAqXG4gKiBJdCByZW5kZXJzIGEgYGRpdmAgYnkgZGVmYXVsdC5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cDovL2NoYWtyYS11aS5jb20vY29tcG9uZW50cy9udW1iZXItaW5wdXRcbiAqL1xudmFyIE51bWJlcklucHV0U3RlcHBlciA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgcmVmOiByZWZcbiAgfSwgcHJvcHMsIHtcbiAgICBfX2NzczogX2V4dGVuZHMoe1xuICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIHRvcDogXCIwXCIsXG4gICAgICBpbnNldEVuZDogXCIwcHhcIixcbiAgICAgIG1hcmdpbjogXCIxcHhcIixcbiAgICAgIGhlaWdodDogXCJjYWxjKDEwMCUgLSAycHgpXCIsXG4gICAgICB6SW5kZXg6IDFcbiAgICB9LCBzdHlsZXMuc3RlcHBlckdyb3VwKVxuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgTnVtYmVySW5wdXRTdGVwcGVyLmRpc3BsYXlOYW1lID0gXCJOdW1iZXJJbnB1dFN0ZXBwZXJcIjtcbn1cblxuLyoqXG4gKiBOdW1iZXJJbnB1dEZpZWxkXG4gKlxuICogUmVhY3QgY29tcG9uZW50IHRoYXQgcmVwcmVzZW50cyB0aGUgYWN0dWFsIGBpbnB1dGAgZmllbGRcbiAqIHdoZXJlIHVzZXJzIGNhbiB0eXBlIHRvIGVkaXQgbnVtZXJpYyB2YWx1ZXMuXG4gKlxuICogSXQgcmVuZGVycyBhbiBgaW5wdXRgIGJ5IGRlZmF1bHQgYW5kIGVuc3VyZXMgb25seSBudW1lcmljXG4gKiB2YWx1ZXMgY2FuIGJlIHR5cGVkLlxuICpcbiAqIEBzZWUgRG9jcyBodHRwOi8vY2hha3JhLXVpLmNvbS9udW1iZXJpbnB1dFxuICovXG52YXIgTnVtYmVySW5wdXRGaWVsZCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfdXNlTnVtYmVySW5wdXRDb250ZXggPSB1c2VOdW1iZXJJbnB1dENvbnRleHQoKSxcbiAgICAgIGdldElucHV0UHJvcHMgPSBfdXNlTnVtYmVySW5wdXRDb250ZXguZ2V0SW5wdXRQcm9wcztcblxuICB2YXIgaW5wdXQgPSBnZXRJbnB1dFByb3BzKHByb3BzLCByZWYpO1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuaW5wdXQsIF9leHRlbmRzKHt9LCBpbnB1dCwge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtbnVtYmVyaW5wdXRfX2ZpZWxkXCIsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgX19jc3M6IF9leHRlbmRzKHtcbiAgICAgIHdpZHRoOiBcIjEwMCVcIlxuICAgIH0sIHN0eWxlcy5maWVsZClcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIE51bWJlcklucHV0RmllbGQuZGlzcGxheU5hbWUgPSBcIk51bWJlcklucHV0RmllbGRcIjtcbn1cblxudmFyIFN0eWxlZFN0ZXBwZXIgPSBjaGFrcmEoXCJkaXZcIiwge1xuICBiYXNlU3R5bGU6IHtcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgIGZsZXg6IDEsXG4gICAgdHJhbnNpdGlvblByb3BlcnR5OiBcImNvbW1vblwiLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogXCJub3JtYWxcIixcbiAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgIGxpbmVIZWlnaHQ6IFwibm9ybWFsXCJcbiAgfVxufSk7XG5cbi8qKlxuICogTnVtYmVyRGVjcmVtZW50U3RlcHBlclxuICpcbiAqIFJlYWN0IGNvbXBvbmVudCB1c2VkIHRvIGRlY3JlbWVudCB0aGUgbnVtYmVyIGlucHV0J3MgdmFsdWVcbiAqXG4gKiBJdCByZW5kZXJzIGEgYGRpdmAgd2l0aCBgcm9sZT1idXR0b25gIGJ5IGRlZmF1bHRcbiAqL1xudmFyIE51bWJlckRlY3JlbWVudFN0ZXBwZXIgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3Byb3BzJGNoaWxkcmVuO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcblxuICB2YXIgX3VzZU51bWJlcklucHV0Q29udGV4MiA9IHVzZU51bWJlcklucHV0Q29udGV4dCgpLFxuICAgICAgZ2V0RGVjcmVtZW50QnV0dG9uUHJvcHMgPSBfdXNlTnVtYmVySW5wdXRDb250ZXgyLmdldERlY3JlbWVudEJ1dHRvblByb3BzO1xuXG4gIHZhciBkZWNyZW1lbnQgPSBnZXREZWNyZW1lbnRCdXR0b25Qcm9wcyhwcm9wcywgcmVmKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlZFN0ZXBwZXIsIF9leHRlbmRzKHt9LCBkZWNyZW1lbnQsIHtcbiAgICBfX2Nzczogc3R5bGVzLnN0ZXBwZXJcbiAgfSksIChfcHJvcHMkY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbikgIT0gbnVsbCA/IF9wcm9wcyRjaGlsZHJlbiA6IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRyaWFuZ2xlRG93bkljb24sIG51bGwpKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBOdW1iZXJEZWNyZW1lbnRTdGVwcGVyLmRpc3BsYXlOYW1lID0gXCJOdW1iZXJEZWNyZW1lbnRTdGVwcGVyXCI7XG59XG5cbi8qKlxuICogTnVtYmVySW5jcmVtZW50U3RlcHBlclxuICpcbiAqIFJlYWN0IGNvbXBvbmVudCB1c2VkIHRvIGluY3JlbWVudCB0aGUgbnVtYmVyIGlucHV0J3MgdmFsdWVcbiAqXG4gKiBJdCByZW5kZXJzIGEgYGRpdmAgd2l0aCBgcm9sZT1idXR0b25gIGJ5IGRlZmF1bHRcbiAqL1xudmFyIE51bWJlckluY3JlbWVudFN0ZXBwZXIgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3Byb3BzJGNoaWxkcmVuMjtcblxuICB2YXIgX3VzZU51bWJlcklucHV0Q29udGV4MyA9IHVzZU51bWJlcklucHV0Q29udGV4dCgpLFxuICAgICAgZ2V0SW5jcmVtZW50QnV0dG9uUHJvcHMgPSBfdXNlTnVtYmVySW5wdXRDb250ZXgzLmdldEluY3JlbWVudEJ1dHRvblByb3BzO1xuXG4gIHZhciBpbmNyZW1lbnQgPSBnZXRJbmNyZW1lbnRCdXR0b25Qcm9wcyhwcm9wcywgcmVmKTtcbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkU3RlcHBlciwgX2V4dGVuZHMoe30sIGluY3JlbWVudCwge1xuICAgIF9fY3NzOiBzdHlsZXMuc3RlcHBlclxuICB9KSwgKF9wcm9wcyRjaGlsZHJlbjIgPSBwcm9wcy5jaGlsZHJlbikgIT0gbnVsbCA/IF9wcm9wcyRjaGlsZHJlbjIgOiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUcmlhbmdsZVVwSWNvbiwgbnVsbCkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIE51bWJlckluY3JlbWVudFN0ZXBwZXIuZGlzcGxheU5hbWUgPSBcIk51bWJlckluY3JlbWVudFN0ZXBwZXJcIjtcbn1cblxuZXhwb3J0IHsgTnVtYmVyRGVjcmVtZW50U3RlcHBlciwgTnVtYmVySW5jcmVtZW50U3RlcHBlciwgTnVtYmVySW5wdXQsIE51bWJlcklucHV0RmllbGQsIE51bWJlcklucHV0U3RlcHBlciwgU3R5bGVkU3RlcHBlciwgdXNlTnVtYmVySW5wdXQgfTtcbiIsImltcG9ydCB7IHVzZVN0eWxlQ29uZmlnLCBvbWl0VGhlbWluZ1Byb3BzLCBmb3J3YXJkUmVmLCBjaGFrcmEgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBmb2N1cywgYXJpYUF0dHIsIGNhbGxBbGxIYW5kbGVycywgX19ERVZfXywgY3ggfSBmcm9tICdAY2hha3JhLXVpL3V0aWxzJztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIG1lcmdlUmVmcywgZ2V0VmFsaWRDaGlsZHJlbiB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QtdXRpbHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY3JlYXRlRGVzY2VuZGFudENvbnRleHQgfSBmcm9tICdAY2hha3JhLXVpL2Rlc2NlbmRhbnQnO1xuaW1wb3J0IHsgdXNlSWQsIHVzZUNvbnRyb2xsYWJsZVN0YXRlIH0gZnJvbSAnQGNoYWtyYS11aS9ob29rcyc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG52YXIgX2V4Y2x1ZGVkJDEgPSBbXCJpbmRleFwiXTtcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIENyZWF0ZSBjb250ZXh0IHRvIHRyYWNrIGRlc2NlbmRhbnRzIGFuZCB0aGVpciBpbmRpY2VzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbnZhciBfY3JlYXRlRGVzY2VuZGFudENvbnQgPSBjcmVhdGVEZXNjZW5kYW50Q29udGV4dCgpLFxuICAgIFBpbklucHV0RGVzY2VuZGFudHNQcm92aWRlciA9IF9jcmVhdGVEZXNjZW5kYW50Q29udFswXSxcbiAgICB1c2VQaW5JbnB1dERlc2NlbmRhbnRzQ29udGV4dCA9IF9jcmVhdGVEZXNjZW5kYW50Q29udFsxXSxcbiAgICB1c2VQaW5JbnB1dERlc2NlbmRhbnRzID0gX2NyZWF0ZURlc2NlbmRhbnRDb250WzJdLFxuICAgIHVzZVBpbklucHV0RGVzY2VuZGFudCA9IF9jcmVhdGVEZXNjZW5kYW50Q29udFszXTtcblxudmFyIF9jcmVhdGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gIG5hbWU6IFwiUGluSW5wdXRDb250ZXh0XCIsXG4gIGVycm9yTWVzc2FnZTogXCJ1c2VQaW5JbnB1dENvbnRleHQ6IGBjb250ZXh0YCBpcyB1bmRlZmluZWQuIFNlZW1zIHlvdSBmb3Jnb3QgdG8gYWxsIHBpbiBpbnB1dCBmaWVsZHMgd2l0aGluIGA8UGluSW5wdXQgLz5gXCJcbn0pLFxuICAgIFBpbklucHV0UHJvdmlkZXIgPSBfY3JlYXRlQ29udGV4dFswXSxcbiAgICB1c2VQaW5JbnB1dENvbnRleHQgPSBfY3JlYXRlQ29udGV4dFsxXTtcblxudmFyIHRvQXJyYXkgPSBmdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUuc3BsaXQoXCJcIik7XG59O1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh2YWx1ZSwgdHlwZSkge1xuICB2YXIgTlVNRVJJQ19SRUdFWCA9IC9eWzAtOV0rJC87XG4gIHZhciBBTFBIQV9OVU1FUklDX1JFR0VYID0gL15bYS16QS1aMC05XSskL2k7XG4gIHZhciByZWdleCA9IHR5cGUgPT09IFwiYWxwaGFudW1lcmljXCIgPyBBTFBIQV9OVU1FUklDX1JFR0VYIDogTlVNRVJJQ19SRUdFWDtcbiAgcmV0dXJuIHJlZ2V4LnRlc3QodmFsdWUpO1xufVxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogdXNlUGluSW5wdXQgLSBoYW5kbGVzIHRoZSBnZW5lcmFsIHBpbiBpbnB1dCBsb2dpY1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5cblxuZnVuY3Rpb24gdXNlUGluSW5wdXQocHJvcHMpIHtcbiAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICBwcm9wcyA9IHt9O1xuICB9XG5cbiAgdmFyIF9wcm9wcyA9IHByb3BzLFxuICAgICAgYXV0b0ZvY3VzID0gX3Byb3BzLmF1dG9Gb2N1cyxcbiAgICAgIHZhbHVlID0gX3Byb3BzLnZhbHVlLFxuICAgICAgZGVmYXVsdFZhbHVlID0gX3Byb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgIF9vbkNoYW5nZSA9IF9wcm9wcy5vbkNoYW5nZSxcbiAgICAgIG9uQ29tcGxldGUgPSBfcHJvcHMub25Db21wbGV0ZSxcbiAgICAgIF9wcm9wcyRwbGFjZWhvbGRlciA9IF9wcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgIHBsYWNlaG9sZGVyID0gX3Byb3BzJHBsYWNlaG9sZGVyID09PSB2b2lkIDAgPyBcIuKXi1wiIDogX3Byb3BzJHBsYWNlaG9sZGVyLFxuICAgICAgX3Byb3BzJG1hbmFnZUZvY3VzID0gX3Byb3BzLm1hbmFnZUZvY3VzLFxuICAgICAgbWFuYWdlRm9jdXMgPSBfcHJvcHMkbWFuYWdlRm9jdXMgPT09IHZvaWQgMCA/IHRydWUgOiBfcHJvcHMkbWFuYWdlRm9jdXMsXG4gICAgICBfcHJvcHMkb3RwID0gX3Byb3BzLm90cCxcbiAgICAgIG90cCA9IF9wcm9wcyRvdHAgPT09IHZvaWQgMCA/IGZhbHNlIDogX3Byb3BzJG90cCxcbiAgICAgIGlkUHJvcCA9IF9wcm9wcy5pZCxcbiAgICAgIGlzRGlzYWJsZWQgPSBfcHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgIGlzSW52YWxpZCA9IF9wcm9wcy5pc0ludmFsaWQsXG4gICAgICBfcHJvcHMkdHlwZSA9IF9wcm9wcy50eXBlLFxuICAgICAgdHlwZSA9IF9wcm9wcyR0eXBlID09PSB2b2lkIDAgPyBcIm51bWJlclwiIDogX3Byb3BzJHR5cGUsXG4gICAgICBtYXNrID0gX3Byb3BzLm1hc2s7XG4gIHZhciB1dWlkID0gdXNlSWQoKTtcbiAgdmFyIGlkID0gaWRQcm9wICE9IG51bGwgPyBpZFByb3AgOiBcInBpbi1pbnB1dC1cIiArIHV1aWQ7XG4gIHZhciBkZXNjZW5kYW50cyA9IHVzZVBpbklucHV0RGVzY2VuZGFudHMoKTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUodHJ1ZSksXG4gICAgICBtb3ZlRm9jdXMgPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICBzZXRNb3ZlRm9jdXMgPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTIgPSBSZWFjdC51c2VTdGF0ZSgtMSksXG4gICAgICBmb2N1c2VkSW5kZXggPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgc2V0Rm9jdXNlZEluZGV4ID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgX3VzZUNvbnRyb2xsYWJsZVN0YXRlID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgIGRlZmF1bHRWYWx1ZTogdG9BcnJheShkZWZhdWx0VmFsdWUpIHx8IFtdLFxuICAgIHZhbHVlOiB0b0FycmF5KHZhbHVlKSxcbiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UodmFsdWVzKSB7XG4gICAgICByZXR1cm4gX29uQ2hhbmdlID09IG51bGwgPyB2b2lkIDAgOiBfb25DaGFuZ2UodmFsdWVzLmpvaW4oXCJcIikpO1xuICAgIH1cbiAgfSksXG4gICAgICB2YWx1ZXMgPSBfdXNlQ29udHJvbGxhYmxlU3RhdGVbMF0sXG4gICAgICBzZXRWYWx1ZXMgPSBfdXNlQ29udHJvbGxhYmxlU3RhdGVbMV07XG5cbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoYXV0b0ZvY3VzKSB7XG4gICAgICB2YXIgZmlyc3QgPSBkZXNjZW5kYW50cy5maXJzdCgpO1xuICAgICAgaWYgKGZpcnN0KSBmb2N1cyhmaXJzdC5ub2RlLCB7XG4gICAgICAgIG5leHRUaWNrOiB0cnVlXG4gICAgICB9KTtcbiAgICB9IC8vIFdlIGRvbid0IHdhbnQgdG8gbGlzdGVuIGZvciB1cGRhdGVzIHRvIGBhdXRvRm9jdXNgIHNpbmNlIGl0IG9ubHkgcnVucyBpbml0aWFsbHlcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuICB9LCBbZGVzY2VuZGFudHNdKTtcbiAgdmFyIGZvY3VzTmV4dCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChpbmRleCkge1xuICAgIGlmICghbW92ZUZvY3VzIHx8ICFtYW5hZ2VGb2N1cykgcmV0dXJuO1xuICAgIHZhciBuZXh0ID0gZGVzY2VuZGFudHMubmV4dChpbmRleCwgZmFsc2UpO1xuICAgIGlmIChuZXh0KSBmb2N1cyhuZXh0Lm5vZGUsIHtcbiAgICAgIG5leHRUaWNrOiB0cnVlXG4gICAgfSk7XG4gIH0sIFtkZXNjZW5kYW50cywgbW92ZUZvY3VzLCBtYW5hZ2VGb2N1c10pO1xuICB2YXIgc2V0VmFsdWUgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgdmFyIG5leHRWYWx1ZXMgPSBbXS5jb25jYXQodmFsdWVzKTtcbiAgICBuZXh0VmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgIHNldFZhbHVlcyhuZXh0VmFsdWVzKTtcbiAgICB2YXIgaXNDb21wbGV0ZSA9IHZhbHVlICE9PSBcIlwiICYmIG5leHRWYWx1ZXMubGVuZ3RoID09PSBkZXNjZW5kYW50cy5jb3VudCgpICYmIG5leHRWYWx1ZXMuZXZlcnkoZnVuY3Rpb24gKGlucHV0VmFsdWUpIHtcbiAgICAgIHJldHVybiBpbnB1dFZhbHVlICE9IG51bGwgJiYgaW5wdXRWYWx1ZSAhPT0gXCJcIjtcbiAgICB9KTtcblxuICAgIGlmIChpc0NvbXBsZXRlKSB7XG4gICAgICBvbkNvbXBsZXRlID09IG51bGwgPyB2b2lkIDAgOiBvbkNvbXBsZXRlKG5leHRWYWx1ZXMuam9pbihcIlwiKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvY3VzTmV4dChpbmRleCk7XG4gICAgfVxuICB9LCBbdmFsdWVzLCBzZXRWYWx1ZXMsIGZvY3VzTmV4dCwgb25Db21wbGV0ZSwgZGVzY2VuZGFudHNdKTtcbiAgdmFyIGNsZWFyID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIHZhciB2YWx1ZXMgPSBBcnJheShkZXNjZW5kYW50cy5jb3VudCgpKS5maWxsKFwiXCIpO1xuICAgIHNldFZhbHVlcyh2YWx1ZXMpO1xuICAgIHZhciBmaXJzdCA9IGRlc2NlbmRhbnRzLmZpcnN0KCk7XG4gICAgaWYgKGZpcnN0KSBmb2N1cyhmaXJzdC5ub2RlKTtcbiAgfSwgW2Rlc2NlbmRhbnRzLCBzZXRWYWx1ZXNdKTtcbiAgdmFyIGdldE5leHRWYWx1ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICh2YWx1ZSwgZXZlbnRWYWx1ZSkge1xuICAgIHZhciBuZXh0VmFsdWUgPSBldmVudFZhbHVlO1xuXG4gICAgaWYgKCh2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUubGVuZ3RoKSA+IDApIHtcbiAgICAgIGlmICh2YWx1ZVswXSA9PT0gZXZlbnRWYWx1ZS5jaGFyQXQoMCkpIHtcbiAgICAgICAgbmV4dFZhbHVlID0gZXZlbnRWYWx1ZS5jaGFyQXQoMSk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlWzBdID09PSBldmVudFZhbHVlLmNoYXJBdCgxKSkge1xuICAgICAgICBuZXh0VmFsdWUgPSBldmVudFZhbHVlLmNoYXJBdCgwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV4dFZhbHVlO1xuICB9LCBbXSk7XG4gIHZhciBnZXRJbnB1dFByb3BzID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIGluZGV4ID0gcHJvcHMuaW5kZXgsXG4gICAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkJDEpO1xuICAgIC8qKlxuICAgICAqIEltcHJvdmVkIGZyb206IGh0dHBzOi8vZ2l0aHViLmNvbS91YmVyL2Jhc2V3ZWIvYmxvYi9tYXN0ZXIvc3JjL3Bpbi1jb2RlL3Bpbi1jb2RlLmpzXG4gICAgICovXG5cblxuICAgIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICB2YXIgZXZlbnRWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgIHZhciBjdXJyZW50VmFsdWUgPSB2YWx1ZXNbaW5kZXhdO1xuICAgICAgdmFyIG5leHRWYWx1ZSA9IGdldE5leHRWYWx1ZShjdXJyZW50VmFsdWUsIGV2ZW50VmFsdWUpOyAvLyBpZiB0aGUgdmFsdWUgd2FzIHJlbW92ZWQgdXNpbmcgYmFja3NwYWNlXG5cbiAgICAgIGlmIChuZXh0VmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgc2V0VmFsdWUoXCJcIiwgaW5kZXgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIGluIHRoZSBjYXNlIG9mIGFuIGF1dG9jb21wbGV0ZSBvciBjb3B5IGFuZCBwYXN0ZVxuXG5cbiAgICAgIGlmIChldmVudFZhbHVlLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgLy8gc2VlIGlmIHdlIGNhbiB1c2UgdGhlIHN0cmluZyB0byBmaWxsIG91dCBvdXIgdmFsdWVzXG4gICAgICAgIGlmICh2YWxpZGF0ZShldmVudFZhbHVlLCB0eXBlKSkge1xuICAgICAgICAgIC8vIEVuc3VyZSB0aGUgdmFsdWUgbWF0Y2hlcyB0aGUgbnVtYmVyIG9mIGlucHV0c1xuICAgICAgICAgIHZhciBfbmV4dFZhbHVlID0gZXZlbnRWYWx1ZS5zcGxpdChcIlwiKS5maWx0ZXIoZnVuY3Rpb24gKF8sIGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gaW5kZXggPCBkZXNjZW5kYW50cy5jb3VudCgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2V0VmFsdWVzKF9uZXh0VmFsdWUpOyAvLyBpZiBwYXN0aW5nIGZpbGxzIHRoZSBlbnRpcmUgaW5wdXQgZmllbGRzLCB0cmlnZ2VyIGBvbkNvbXBsZXRlYFxuXG4gICAgICAgICAgaWYgKF9uZXh0VmFsdWUubGVuZ3RoID09PSBkZXNjZW5kYW50cy5jb3VudCgpKSB7XG4gICAgICAgICAgICBvbkNvbXBsZXRlID09IG51bGwgPyB2b2lkIDAgOiBvbkNvbXBsZXRlKF9uZXh0VmFsdWUuam9pbihcIlwiKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBvbmx5IHNldCBpZiB0aGUgbmV3IHZhbHVlIGlzIGEgbnVtYmVyXG4gICAgICAgIGlmICh2YWxpZGF0ZShuZXh0VmFsdWUsIHR5cGUpKSB7XG4gICAgICAgICAgc2V0VmFsdWUobmV4dFZhbHVlLCBpbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRNb3ZlRm9jdXModHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBvbktleURvd24gPSBmdW5jdGlvbiBvbktleURvd24oZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5rZXkgPT09IFwiQmFja3NwYWNlXCIgJiYgbWFuYWdlRm9jdXMpIHtcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gXCJcIikge1xuICAgICAgICAgIHZhciBwcmV2SW5wdXQgPSBkZXNjZW5kYW50cy5wcmV2KGluZGV4LCBmYWxzZSk7XG5cbiAgICAgICAgICBpZiAocHJldklucHV0KSB7XG4gICAgICAgICAgICBzZXRWYWx1ZShcIlwiLCBpbmRleCAtIDEpO1xuICAgICAgICAgICAgZm9jdXMocHJldklucHV0Lm5vZGUpO1xuICAgICAgICAgICAgc2V0TW92ZUZvY3VzKHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRNb3ZlRm9jdXMoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHZhciBvbkZvY3VzID0gZnVuY3Rpb24gb25Gb2N1cygpIHtcbiAgICAgIHNldEZvY3VzZWRJbmRleChpbmRleCk7XG4gICAgfTtcblxuICAgIHZhciBvbkJsdXIgPSBmdW5jdGlvbiBvbkJsdXIoKSB7XG4gICAgICBzZXRGb2N1c2VkSW5kZXgoLTEpO1xuICAgIH07XG5cbiAgICB2YXIgaGFzRm9jdXMgPSBmb2N1c2VkSW5kZXggPT09IGluZGV4O1xuICAgIHZhciBpbnB1dFR5cGUgPSB0eXBlID09PSBcIm51bWJlclwiID8gXCJ0ZWxcIiA6IFwidGV4dFwiO1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICBcImFyaWEtbGFiZWxcIjogXCJQbGVhc2UgZW50ZXIgeW91ciBwaW4gY29kZVwiLFxuICAgICAgaW5wdXRNb2RlOiB0eXBlID09PSBcIm51bWJlclwiID8gXCJudW1lcmljXCIgOiBcInRleHRcIixcbiAgICAgIHR5cGU6IG1hc2sgPyBcInBhc3N3b3JkXCIgOiBpbnB1dFR5cGVcbiAgICB9LCByZXN0LCB7XG4gICAgICBpZDogaWQgKyBcIi1cIiArIGluZGV4LFxuICAgICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICBcImFyaWEtaW52YWxpZFwiOiBhcmlhQXR0cihpc0ludmFsaWQpLFxuICAgICAgb25DaGFuZ2U6IGNhbGxBbGxIYW5kbGVycyhyZXN0Lm9uQ2hhbmdlLCBvbkNoYW5nZSksXG4gICAgICBvbktleURvd246IGNhbGxBbGxIYW5kbGVycyhyZXN0Lm9uS2V5RG93biwgb25LZXlEb3duKSxcbiAgICAgIG9uRm9jdXM6IGNhbGxBbGxIYW5kbGVycyhyZXN0Lm9uRm9jdXMsIG9uRm9jdXMpLFxuICAgICAgb25CbHVyOiBjYWxsQWxsSGFuZGxlcnMocmVzdC5vbkJsdXIsIG9uQmx1ciksXG4gICAgICB2YWx1ZTogdmFsdWVzW2luZGV4XSB8fCBcIlwiLFxuICAgICAgYXV0b0NvbXBsZXRlOiBvdHAgPyBcIm9uZS10aW1lLWNvZGVcIiA6IFwib2ZmXCIsXG4gICAgICBwbGFjZWhvbGRlcjogaGFzRm9jdXMgPyBcIlwiIDogcGxhY2Vob2xkZXJcbiAgICB9KTtcbiAgfSwgW2Rlc2NlbmRhbnRzLCBmb2N1c2VkSW5kZXgsIGdldE5leHRWYWx1ZSwgaWQsIGlzRGlzYWJsZWQsIG1hc2ssIGlzSW52YWxpZCwgbWFuYWdlRm9jdXMsIG9uQ29tcGxldGUsIG90cCwgcGxhY2Vob2xkZXIsIHNldFZhbHVlLCBzZXRWYWx1ZXMsIHR5cGUsIHZhbHVlc10pO1xuICByZXR1cm4ge1xuICAgIC8vIHByb3AgZ2V0dGVyXG4gICAgZ2V0SW5wdXRQcm9wczogZ2V0SW5wdXRQcm9wcyxcbiAgICAvLyBzdGF0ZVxuICAgIGlkOiBpZCxcbiAgICBkZXNjZW5kYW50czogZGVzY2VuZGFudHMsXG4gICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgLy8gYWN0aW9uc1xuICAgIHNldFZhbHVlOiBzZXRWYWx1ZSxcbiAgICBzZXRWYWx1ZXM6IHNldFZhbHVlcyxcbiAgICBjbGVhcjogY2xlYXJcbiAgfTtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gdXNlUGluSW5wdXRGaWVsZChwcm9wcywgcmVmKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gIGlmIChyZWYgPT09IHZvaWQgMCkge1xuICAgIHJlZiA9IG51bGw7XG4gIH1cblxuICB2YXIgX3VzZVBpbklucHV0Q29udGV4dCA9IHVzZVBpbklucHV0Q29udGV4dCgpLFxuICAgICAgZ2V0SW5wdXRQcm9wcyA9IF91c2VQaW5JbnB1dENvbnRleHQuZ2V0SW5wdXRQcm9wcztcblxuICB2YXIgX3VzZVBpbklucHV0RGVzY2VuZGFuID0gdXNlUGluSW5wdXREZXNjZW5kYW50KCksXG4gICAgICBpbmRleCA9IF91c2VQaW5JbnB1dERlc2NlbmRhbi5pbmRleCxcbiAgICAgIHJlZ2lzdGVyID0gX3VzZVBpbklucHV0RGVzY2VuZGFuLnJlZ2lzdGVyO1xuXG4gIHJldHVybiBnZXRJbnB1dFByb3BzKF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIHJlZjogbWVyZ2VSZWZzKHJlZ2lzdGVyLCByZWYpLFxuICAgIGluZGV4OiBpbmRleFxuICB9KSk7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJjaGlsZHJlblwiXSxcbiAgICBfZXhjbHVkZWQyID0gW1wiZGVzY2VuZGFudHNcIl07XG52YXIgUGluSW5wdXQgPSBmdW5jdGlvbiBQaW5JbnB1dChwcm9wcykge1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVDb25maWcoXCJQaW5JbnB1dFwiLCBwcm9wcyk7XG5cbiAgdmFyIF9vbWl0VGhlbWluZ1Byb3BzID0gb21pdFRoZW1pbmdQcm9wcyhwcm9wcyksXG4gICAgICBjaGlsZHJlbiA9IF9vbWl0VGhlbWluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9vbWl0VGhlbWluZ1Byb3BzLCBfZXhjbHVkZWQpO1xuXG4gIHZhciBfdXNlUGluSW5wdXQgPSB1c2VQaW5JbnB1dChyZXN0KSxcbiAgICAgIGRlc2NlbmRhbnRzID0gX3VzZVBpbklucHV0LmRlc2NlbmRhbnRzLFxuICAgICAgY29udGV4dCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF91c2VQaW5JbnB1dCwgX2V4Y2x1ZGVkMik7XG5cbiAgdmFyIGNsb25lcyA9IGdldFZhbGlkQ2hpbGRyZW4oY2hpbGRyZW4pLm1hcChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChjaGlsZCwge1xuICAgICAgX19jc3M6IHN0eWxlc1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBpbklucHV0RGVzY2VuZGFudHNQcm92aWRlciwge1xuICAgIHZhbHVlOiBkZXNjZW5kYW50c1xuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQaW5JbnB1dFByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGNvbnRleHRcbiAgfSwgY2xvbmVzKSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBQaW5JbnB1dC5kaXNwbGF5TmFtZSA9IFwiUGluSW5wdXRcIjtcbn1cblxudmFyIFBpbklucHV0RmllbGQgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgaW5wdXRQcm9wcyA9IHVzZVBpbklucHV0RmllbGQocHJvcHMsIHJlZik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuaW5wdXQsIF9leHRlbmRzKHt9LCBpbnB1dFByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1waW4taW5wdXRcIiwgcHJvcHMuY2xhc3NOYW1lKVxuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgUGluSW5wdXRGaWVsZC5kaXNwbGF5TmFtZSA9IFwiUGluSW5wdXRGaWVsZFwiO1xufVxuXG5leHBvcnQgeyBQaW5JbnB1dCwgUGluSW5wdXREZXNjZW5kYW50c1Byb3ZpZGVyLCBQaW5JbnB1dEZpZWxkLCBQaW5JbnB1dFByb3ZpZGVyLCB1c2VQaW5JbnB1dCwgdXNlUGluSW5wdXRDb250ZXh0LCB1c2VQaW5JbnB1dERlc2NlbmRhbnQsIHVzZVBpbklucHV0RGVzY2VuZGFudHMsIHVzZVBpbklucHV0RGVzY2VuZGFudHNDb250ZXh0LCB1c2VQaW5JbnB1dEZpZWxkIH07XG4iLCJpbXBvcnQgeyBDbG9zZUJ1dHRvbiB9IGZyb20gJ0BjaGFrcmEtdWkvY2xvc2UtYnV0dG9uJztcbmltcG9ydCB7IGNoYWtyYSwgdXNlTXVsdGlTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcywgdXNlVGhlbWUsIFN0eWxlc1Byb3ZpZGVyLCBmb3J3YXJkUmVmLCB1c2VTdHlsZXMgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBtZXJnZVdpdGgsIGRldGVybWluZUxhenlCZWhhdmlvciwgcHgsIGNhbGxBbGxIYW5kbGVycywgZ2V0UmVsYXRlZFRhcmdldCwgY29udGFpbnMsIHJ1bklmRm4sIF9fREVWX18sIGN4IH0gZnJvbSAnQGNoYWtyYS11aS91dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIG1lcmdlUmVmcyB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QtdXRpbHMnO1xuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgeyB1c2VEaXNjbG9zdXJlLCB1c2VJZHMsIHVzZUZvY3VzT25Qb2ludGVyRG93biwgdXNlRm9jdXNPbkhpZGUsIHVzZUZvY3VzT25TaG93IH0gZnJvbSAnQGNoYWtyYS11aS9ob29rcyc7XG5pbXBvcnQgeyB1c2VQb3BwZXIsIHBvcHBlckNTU1ZhcnMgfSBmcm9tICdAY2hha3JhLXVpL3BvcHBlcic7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG52YXIgX2NyZWF0ZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgbmFtZTogXCJQb3BvdmVyQ29udGV4dFwiLFxuICBlcnJvck1lc3NhZ2U6IFwidXNlUG9wb3ZlckNvbnRleHQ6IGBjb250ZXh0YCBpcyB1bmRlZmluZWQuIFNlZW1zIHlvdSBmb3Jnb3QgdG8gd3JhcCBhbGwgcG9wb3ZlciBjb21wb25lbnRzIHdpdGhpbiBgPFBvcG92ZXIgLz5gXCJcbn0pLFxuICAgIFBvcG92ZXJQcm92aWRlciA9IF9jcmVhdGVDb250ZXh0WzBdLFxuICAgIHVzZVBvcG92ZXJDb250ZXh0ID0gX2NyZWF0ZUNvbnRleHRbMV07XG5cbnZhciBtZXJnZVZhcmlhbnRzID0gZnVuY3Rpb24gbWVyZ2VWYXJpYW50cyh2YXJpYW50cykge1xuICBpZiAoIXZhcmlhbnRzKSByZXR1cm47XG4gIHJldHVybiBtZXJnZVdpdGgodmFyaWFudHMsIHtcbiAgICBlbnRlcjoge1xuICAgICAgdmlzaWJpbGl0eTogXCJ2aXNpYmxlXCJcbiAgICB9LFxuICAgIGV4aXQ6IHtcbiAgICAgIHRyYW5zaXRpb25FbmQ6IHtcbiAgICAgICAgdmlzaWJpbGl0eTogXCJoaWRkZW5cIlxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgc2NhbGVGYWRlID0ge1xuICBleGl0OiB7XG4gICAgb3BhY2l0eTogMCxcbiAgICBzY2FsZTogMC45NSxcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICBkdXJhdGlvbjogMC4xLFxuICAgICAgZWFzZTogWzAuNCwgMCwgMSwgMV1cbiAgICB9XG4gIH0sXG4gIGVudGVyOiB7XG4gICAgc2NhbGU6IDEsXG4gICAgb3BhY2l0eTogMSxcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICBkdXJhdGlvbjogMC4xNSxcbiAgICAgIGVhc2U6IFswLCAwLCAwLjIsIDFdXG4gICAgfVxuICB9XG59O1xudmFyIFNlY3Rpb24gPSBtb3Rpb24oY2hha3JhLnNlY3Rpb24pO1xudmFyIFBvcG92ZXJUcmFuc2l0aW9uID0gLyojX19QVVJFX18qL1JlYWN0X19kZWZhdWx0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIF91c2VQb3BvdmVyQ29udGV4dCA9IHVzZVBvcG92ZXJDb250ZXh0KCksXG4gICAgICBpc09wZW4gPSBfdXNlUG9wb3ZlckNvbnRleHQuaXNPcGVuO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTZWN0aW9uLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgdmFyaWFudHM6IG1lcmdlVmFyaWFudHMocHJvcHMudmFyaWFudHMpXG4gIH0sIHByb3BzLCB7XG4gICAgaW5pdGlhbDogZmFsc2UsXG4gICAgYW5pbWF0ZTogaXNPcGVuID8gXCJlbnRlclwiIDogXCJleGl0XCJcbiAgfSkpO1xufSk7XG5Qb3BvdmVyVHJhbnNpdGlvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIHZhcmlhbnRzOiBzY2FsZUZhZGVcbn07XG5cbnZhciBfZXhjbHVkZWQkMSA9IFtcImNsb3NlT25CbHVyXCIsIFwiY2xvc2VPbkVzY1wiLCBcImluaXRpYWxGb2N1c1JlZlwiLCBcImlkXCIsIFwicmV0dXJuRm9jdXNPbkNsb3NlXCIsIFwiYXV0b0ZvY3VzXCIsIFwiYXJyb3dTaXplXCIsIFwiYXJyb3dTaGFkb3dDb2xvclwiLCBcInRyaWdnZXJcIiwgXCJvcGVuRGVsYXlcIiwgXCJjbG9zZURlbGF5XCIsIFwiaXNMYXp5XCIsIFwibGF6eUJlaGF2aW9yXCIsIFwiY29tcHV0ZVBvc2l0aW9uT25Nb3VudFwiXTtcbnZhciBUUklHR0VSID0ge1xuICBjbGljazogXCJjbGlja1wiLFxuICBob3ZlcjogXCJob3ZlclwiXG59O1xuXG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiB1c2VQb3BvdmVyKHByb3BzKSB7XG4gIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgcHJvcHMgPSB7fTtcbiAgfVxuXG4gIHZhciBfcHJvcHMgPSBwcm9wcyxcbiAgICAgIF9wcm9wcyRjbG9zZU9uQmx1ciA9IF9wcm9wcy5jbG9zZU9uQmx1cixcbiAgICAgIGNsb3NlT25CbHVyID0gX3Byb3BzJGNsb3NlT25CbHVyID09PSB2b2lkIDAgPyB0cnVlIDogX3Byb3BzJGNsb3NlT25CbHVyLFxuICAgICAgX3Byb3BzJGNsb3NlT25Fc2MgPSBfcHJvcHMuY2xvc2VPbkVzYyxcbiAgICAgIGNsb3NlT25Fc2MgPSBfcHJvcHMkY2xvc2VPbkVzYyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRjbG9zZU9uRXNjLFxuICAgICAgaW5pdGlhbEZvY3VzUmVmID0gX3Byb3BzLmluaXRpYWxGb2N1c1JlZixcbiAgICAgIGlkID0gX3Byb3BzLmlkLFxuICAgICAgX3Byb3BzJHJldHVybkZvY3VzT25DID0gX3Byb3BzLnJldHVybkZvY3VzT25DbG9zZSxcbiAgICAgIHJldHVybkZvY3VzT25DbG9zZSA9IF9wcm9wcyRyZXR1cm5Gb2N1c09uQyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRyZXR1cm5Gb2N1c09uQyxcbiAgICAgIF9wcm9wcyRhdXRvRm9jdXMgPSBfcHJvcHMuYXV0b0ZvY3VzLFxuICAgICAgYXV0b0ZvY3VzID0gX3Byb3BzJGF1dG9Gb2N1cyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRhdXRvRm9jdXMsXG4gICAgICBhcnJvd1NpemUgPSBfcHJvcHMuYXJyb3dTaXplLFxuICAgICAgYXJyb3dTaGFkb3dDb2xvciA9IF9wcm9wcy5hcnJvd1NoYWRvd0NvbG9yLFxuICAgICAgX3Byb3BzJHRyaWdnZXIgPSBfcHJvcHMudHJpZ2dlcixcbiAgICAgIHRyaWdnZXIgPSBfcHJvcHMkdHJpZ2dlciA9PT0gdm9pZCAwID8gVFJJR0dFUi5jbGljayA6IF9wcm9wcyR0cmlnZ2VyLFxuICAgICAgX3Byb3BzJG9wZW5EZWxheSA9IF9wcm9wcy5vcGVuRGVsYXksXG4gICAgICBvcGVuRGVsYXkgPSBfcHJvcHMkb3BlbkRlbGF5ID09PSB2b2lkIDAgPyAyMDAgOiBfcHJvcHMkb3BlbkRlbGF5LFxuICAgICAgX3Byb3BzJGNsb3NlRGVsYXkgPSBfcHJvcHMuY2xvc2VEZWxheSxcbiAgICAgIGNsb3NlRGVsYXkgPSBfcHJvcHMkY2xvc2VEZWxheSA9PT0gdm9pZCAwID8gMjAwIDogX3Byb3BzJGNsb3NlRGVsYXksXG4gICAgICBpc0xhenkgPSBfcHJvcHMuaXNMYXp5LFxuICAgICAgX3Byb3BzJGxhenlCZWhhdmlvciA9IF9wcm9wcy5sYXp5QmVoYXZpb3IsXG4gICAgICBsYXp5QmVoYXZpb3IgPSBfcHJvcHMkbGF6eUJlaGF2aW9yID09PSB2b2lkIDAgPyBcInVubW91bnRcIiA6IF9wcm9wcyRsYXp5QmVoYXZpb3IsXG4gICAgICBjb21wdXRlUG9zaXRpb25Pbk1vdW50ID0gX3Byb3BzLmNvbXB1dGVQb3NpdGlvbk9uTW91bnQsXG4gICAgICBwb3BwZXJQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9wcm9wcywgX2V4Y2x1ZGVkJDEpO1xuXG4gIHZhciBfdXNlRGlzY2xvc3VyZSA9IHVzZURpc2Nsb3N1cmUocHJvcHMpLFxuICAgICAgaXNPcGVuID0gX3VzZURpc2Nsb3N1cmUuaXNPcGVuLFxuICAgICAgb25DbG9zZSA9IF91c2VEaXNjbG9zdXJlLm9uQ2xvc2UsXG4gICAgICBvbk9wZW4gPSBfdXNlRGlzY2xvc3VyZS5vbk9wZW4sXG4gICAgICBvblRvZ2dsZSA9IF91c2VEaXNjbG9zdXJlLm9uVG9nZ2xlO1xuXG4gIHZhciBhbmNob3JSZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciB0cmlnZ2VyUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgcG9wb3ZlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIGlzSG92ZXJpbmdSZWYgPSB1c2VSZWYoZmFsc2UpO1xuICB2YXIgaGFzQmVlbk9wZW5lZCA9IHVzZVJlZihmYWxzZSk7XG5cbiAgaWYgKGlzT3Blbikge1xuICAgIGhhc0JlZW5PcGVuZWQuY3VycmVudCA9IHRydWU7XG4gIH1cblxuICB2YXIgX3VzZVN0YXRlID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgaGFzSGVhZGVyID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0SGFzSGVhZGVyID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUoZmFsc2UpLFxuICAgICAgaGFzQm9keSA9IF91c2VTdGF0ZTJbMF0sXG4gICAgICBzZXRIYXNCb2R5ID0gX3VzZVN0YXRlMlsxXTtcblxuICB2YXIgX3VzZUlkcyA9IHVzZUlkcyhpZCwgXCJwb3BvdmVyLXRyaWdnZXJcIiwgXCJwb3BvdmVyLWNvbnRlbnRcIiwgXCJwb3BvdmVyLWhlYWRlclwiLCBcInBvcG92ZXItYm9keVwiKSxcbiAgICAgIHRyaWdnZXJJZCA9IF91c2VJZHNbMF0sXG4gICAgICBwb3BvdmVySWQgPSBfdXNlSWRzWzFdLFxuICAgICAgaGVhZGVySWQgPSBfdXNlSWRzWzJdLFxuICAgICAgYm9keUlkID0gX3VzZUlkc1szXTtcblxuICB2YXIgX3VzZVBvcHBlciA9IHVzZVBvcHBlcihfZXh0ZW5kcyh7fSwgcG9wcGVyUHJvcHMsIHtcbiAgICBlbmFibGVkOiBpc09wZW4gfHwgISFjb21wdXRlUG9zaXRpb25Pbk1vdW50XG4gIH0pKSxcbiAgICAgIHJlZmVyZW5jZVJlZiA9IF91c2VQb3BwZXIucmVmZXJlbmNlUmVmLFxuICAgICAgZ2V0QXJyb3dQcm9wcyA9IF91c2VQb3BwZXIuZ2V0QXJyb3dQcm9wcyxcbiAgICAgIGdldFBvcHBlclByb3BzID0gX3VzZVBvcHBlci5nZXRQb3BwZXJQcm9wcyxcbiAgICAgIGdldEFycm93SW5uZXJQcm9wcyA9IF91c2VQb3BwZXIuZ2V0QXJyb3dJbm5lclByb3BzLFxuICAgICAgZm9yY2VVcGRhdGUgPSBfdXNlUG9wcGVyLmZvcmNlVXBkYXRlO1xuXG4gIHVzZUZvY3VzT25Qb2ludGVyRG93bih7XG4gICAgZW5hYmxlZDogaXNPcGVuLFxuICAgIHJlZjogdHJpZ2dlclJlZlxuICB9KTtcbiAgdXNlRm9jdXNPbkhpZGUocG9wb3ZlclJlZiwge1xuICAgIGZvY3VzUmVmOiB0cmlnZ2VyUmVmLFxuICAgIHZpc2libGU6IGlzT3BlbixcbiAgICBzaG91bGRGb2N1czogcmV0dXJuRm9jdXNPbkNsb3NlICYmIHRyaWdnZXIgPT09IFRSSUdHRVIuY2xpY2tcbiAgfSk7XG4gIHVzZUZvY3VzT25TaG93KHBvcG92ZXJSZWYsIHtcbiAgICBmb2N1c1JlZjogaW5pdGlhbEZvY3VzUmVmLFxuICAgIHZpc2libGU6IGlzT3BlbixcbiAgICBzaG91bGRGb2N1czogYXV0b0ZvY3VzICYmIHRyaWdnZXIgPT09IFRSSUdHRVIuY2xpY2tcbiAgfSk7XG4gIHZhciBzaG91bGRSZW5kZXJDaGlsZHJlbiA9IGRldGVybWluZUxhenlCZWhhdmlvcih7XG4gICAgaGFzQmVlblNlbGVjdGVkOiBoYXNCZWVuT3BlbmVkLmN1cnJlbnQsXG4gICAgaXNMYXp5OiBpc0xhenksXG4gICAgbGF6eUJlaGF2aW9yOiBsYXp5QmVoYXZpb3IsXG4gICAgaXNTZWxlY3RlZDogaXNPcGVuXG4gIH0pO1xuICB2YXIgZ2V0UG9wb3ZlclByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCBfcmVmKSB7XG4gICAgdmFyIF9leHRlbmRzMjtcblxuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChfcmVmID09PSB2b2lkIDApIHtcbiAgICAgIF9yZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBwb3BvdmVyUHJvcHMgPSBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIChfZXh0ZW5kczIgPSB7XG4gICAgICAgIHRyYW5zZm9ybU9yaWdpbjogcG9wcGVyQ1NTVmFycy50cmFuc2Zvcm1PcmlnaW4udmFyUmVmXG4gICAgICB9LCBfZXh0ZW5kczJbcG9wcGVyQ1NTVmFycy5hcnJvd1NpemVbXCJ2YXJcIl1dID0gYXJyb3dTaXplID8gcHgoYXJyb3dTaXplKSA6IHVuZGVmaW5lZCwgX2V4dGVuZHMyW3BvcHBlckNTU1ZhcnMuYXJyb3dTaGFkb3dDb2xvcltcInZhclwiXV0gPSBhcnJvd1NoYWRvd0NvbG9yLCBfZXh0ZW5kczIpKSxcbiAgICAgIHJlZjogbWVyZ2VSZWZzKHBvcG92ZXJSZWYsIF9yZWYpLFxuICAgICAgY2hpbGRyZW46IHNob3VsZFJlbmRlckNoaWxkcmVuID8gcHJvcHMuY2hpbGRyZW4gOiBudWxsLFxuICAgICAgaWQ6IHBvcG92ZXJJZCxcbiAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgIHJvbGU6IFwiZGlhbG9nXCIsXG4gICAgICBvbktleURvd246IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbktleURvd24sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoY2xvc2VPbkVzYyAmJiBldmVudC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgb25CbHVyOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25CbHVyLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSBnZXRSZWxhdGVkVGFyZ2V0KGV2ZW50KTtcbiAgICAgICAgdmFyIHRhcmdldElzUG9wb3ZlciA9IGNvbnRhaW5zKHBvcG92ZXJSZWYuY3VycmVudCwgcmVsYXRlZFRhcmdldCk7XG4gICAgICAgIHZhciB0YXJnZXRJc1RyaWdnZXIgPSBjb250YWlucyh0cmlnZ2VyUmVmLmN1cnJlbnQsIHJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICB2YXIgaXNWYWxpZEJsdXIgPSAhdGFyZ2V0SXNQb3BvdmVyICYmICF0YXJnZXRJc1RyaWdnZXI7XG5cbiAgICAgICAgaWYgKGlzT3BlbiAmJiBjbG9zZU9uQmx1ciAmJiBpc1ZhbGlkQmx1cikge1xuICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBoYXNIZWFkZXIgPyBoZWFkZXJJZCA6IHVuZGVmaW5lZCxcbiAgICAgIFwiYXJpYS1kZXNjcmliZWRieVwiOiBoYXNCb2R5ID8gYm9keUlkIDogdW5kZWZpbmVkXG4gICAgfSk7XG5cbiAgICBpZiAodHJpZ2dlciA9PT0gVFJJR0dFUi5ob3Zlcikge1xuICAgICAgcG9wb3ZlclByb3BzLnJvbGUgPSBcInRvb2x0aXBcIjtcbiAgICAgIHBvcG92ZXJQcm9wcy5vbk1vdXNlRW50ZXIgPSBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Nb3VzZUVudGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzSG92ZXJpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICB9KTtcbiAgICAgIHBvcG92ZXJQcm9wcy5vbk1vdXNlTGVhdmUgPSBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Nb3VzZUxlYXZlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzSG92ZXJpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICBzZXRUaW1lb3V0KG9uQ2xvc2UsIGNsb3NlRGVsYXkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvcG92ZXJQcm9wcztcbiAgfSwgW3Nob3VsZFJlbmRlckNoaWxkcmVuLCBwb3BvdmVySWQsIGhhc0hlYWRlciwgaGVhZGVySWQsIGhhc0JvZHksIGJvZHlJZCwgdHJpZ2dlciwgY2xvc2VPbkVzYywgb25DbG9zZSwgaXNPcGVuLCBjbG9zZU9uQmx1ciwgY2xvc2VEZWxheSwgYXJyb3dTaGFkb3dDb2xvciwgYXJyb3dTaXplXSk7XG4gIHZhciBnZXRQb3BvdmVyUG9zaXRpb25lclByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCBmb3J3YXJkZWRSZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoZm9yd2FyZGVkUmVmID09PSB2b2lkIDApIHtcbiAgICAgIGZvcndhcmRlZFJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFBvcHBlclByb3BzKF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgc3R5bGU6IF9leHRlbmRzKHtcbiAgICAgICAgdmlzaWJpbGl0eTogaXNPcGVuID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiXG4gICAgICB9LCBwcm9wcy5zdHlsZSlcbiAgICB9KSwgZm9yd2FyZGVkUmVmKTtcbiAgfSwgW2lzT3BlbiwgZ2V0UG9wcGVyUHJvcHNdKTtcbiAgdmFyIGdldEFuY2hvclByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCBfcmVmKSB7XG4gICAgaWYgKF9yZWYgPT09IHZvaWQgMCkge1xuICAgICAgX3JlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGFuY2hvclByb3BzID0gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAvLyBJZiBhbmNob3IgaXMgcmVuZGVyZWQsIGl0IGlzIHVzZWQgYXMgcmVmZXJlbmNlLlxuICAgICAgcmVmOiBtZXJnZVJlZnMoX3JlZiwgYW5jaG9yUmVmLCByZWZlcmVuY2VSZWYpXG4gICAgfSk7XG5cbiAgICByZXR1cm4gYW5jaG9yUHJvcHM7XG4gIH0sIFthbmNob3JSZWYsIHJlZmVyZW5jZVJlZl0pO1xuICB2YXIgb3BlblRpbWVvdXQgPSB1c2VSZWYoKTtcbiAgdmFyIGNsb3NlVGltZW91dCA9IHVzZVJlZigpO1xuICB2YXIgbWF5YmVSZWZlcmVuY2VSZWYgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAobm9kZSkge1xuICAgIC8vIERvbid0IG92ZXJyaWRlIHJlZmVyZW5jZVJlZiBpbiBjYXNlIHRoZSBQb3BvdmVyQW5jaG9yIGlzIHJlbmRlcmVkLlxuICAgIGlmIChhbmNob3JSZWYuY3VycmVudCA9PSBudWxsKSB7XG4gICAgICByZWZlcmVuY2VSZWYobm9kZSk7XG4gICAgfVxuICB9LCBbcmVmZXJlbmNlUmVmXSk7XG4gIHZhciBnZXRUcmlnZ2VyUHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIF9yZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAoX3JlZiA9PT0gdm9pZCAwKSB7XG4gICAgICBfcmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgdHJpZ2dlclByb3BzID0gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICByZWY6IG1lcmdlUmVmcyh0cmlnZ2VyUmVmLCBfcmVmLCBtYXliZVJlZmVyZW5jZVJlZiksXG4gICAgICBpZDogdHJpZ2dlcklkLFxuICAgICAgXCJhcmlhLWhhc3BvcHVwXCI6IFwiZGlhbG9nXCIsXG4gICAgICBcImFyaWEtZXhwYW5kZWRcIjogaXNPcGVuLFxuICAgICAgXCJhcmlhLWNvbnRyb2xzXCI6IHBvcG92ZXJJZFxuICAgIH0pO1xuXG4gICAgaWYgKHRyaWdnZXIgPT09IFRSSUdHRVIuY2xpY2spIHtcbiAgICAgIHRyaWdnZXJQcm9wcy5vbkNsaWNrID0gY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uQ2xpY2ssIG9uVG9nZ2xlKTtcbiAgICB9XG5cbiAgICBpZiAodHJpZ2dlciA9PT0gVFJJR0dFUi5ob3Zlcikge1xuICAgICAgLyoqXG4gICAgICAgKiBBbnkgY29udGVudCB0aGF0IHNob3dzIG9uIHBvaW50ZXIgaG92ZXIgc2hvdWxkIGFsc28gc2hvdyBvbiBrZXlib2FyZCBmb2N1cy5cbiAgICAgICAqIENvbnNpZGVyIGZvY3VzIGFuZCBibHVyIHRvIGJlIHRoZSBgaG92ZXJgIGZvciBrZXlib2FyZCB1c2Vycy5cbiAgICAgICAqXG4gICAgICAgKiBAc2VlIGh0dHBzOi8vd3d3LnczLm9yZy9XQUkvV0NBRzIxL1VuZGVyc3RhbmRpbmcvY29udGVudC1vbi1ob3Zlci1vci1mb2N1cy5odG1sXG4gICAgICAgKi9cbiAgICAgIHRyaWdnZXJQcm9wcy5vbkZvY3VzID0gY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uRm9jdXMsIG9uT3Blbik7XG4gICAgICB0cmlnZ2VyUHJvcHMub25CbHVyID0gY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uQmx1ciwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0gZ2V0UmVsYXRlZFRhcmdldChldmVudCk7XG4gICAgICAgIHZhciBpc1ZhbGlkQmx1ciA9ICFjb250YWlucyhwb3BvdmVyUmVmLmN1cnJlbnQsIHJlbGF0ZWRUYXJnZXQpO1xuXG4gICAgICAgIGlmIChpc09wZW4gJiYgY2xvc2VPbkJsdXIgJiYgaXNWYWxpZEJsdXIpIHtcbiAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLyoqXG4gICAgICAgKiBBbnkgY29udGVudCB0aGF0IHNob3dzIG9uIGhvdmVyIG9yIGZvY3VzIG11c3QgYmUgZGlzbWlzc2libGUuXG4gICAgICAgKiBUaGlzIGNhc2UgcHJlc3NpbmcgYEVzY2FwZWAgd2lsbCBkaXNtaXNzIHRoZSBwb3BvdmVyXG4gICAgICAgKi9cblxuICAgICAgdHJpZ2dlclByb3BzLm9uS2V5RG93biA9IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbktleURvd24sIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRyaWdnZXJQcm9wcy5vbk1vdXNlRW50ZXIgPSBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Nb3VzZUVudGVyLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzSG92ZXJpbmdSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIG9wZW5UaW1lb3V0LmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dChvbk9wZW4sIG9wZW5EZWxheSk7XG4gICAgICB9KTtcbiAgICAgIHRyaWdnZXJQcm9wcy5vbk1vdXNlTGVhdmUgPSBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Nb3VzZUxlYXZlLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzSG92ZXJpbmdSZWYuY3VycmVudCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChvcGVuVGltZW91dC5jdXJyZW50KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KG9wZW5UaW1lb3V0LmN1cnJlbnQpO1xuICAgICAgICAgIG9wZW5UaW1lb3V0LmN1cnJlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZVRpbWVvdXQuY3VycmVudCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoaXNIb3ZlcmluZ1JlZi5jdXJyZW50ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgb25DbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgY2xvc2VEZWxheSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJpZ2dlclByb3BzO1xuICB9LCBbdHJpZ2dlcklkLCBpc09wZW4sIHBvcG92ZXJJZCwgdHJpZ2dlciwgbWF5YmVSZWZlcmVuY2VSZWYsIG9uVG9nZ2xlLCBvbk9wZW4sIGNsb3NlT25CbHVyLCBvbkNsb3NlLCBvcGVuRGVsYXksIGNsb3NlRGVsYXldKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKG9wZW5UaW1lb3V0LmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KG9wZW5UaW1lb3V0LmN1cnJlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2xvc2VUaW1lb3V0LmN1cnJlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNsb3NlVGltZW91dC5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbXSk7XG4gIHZhciBnZXRIZWFkZXJQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICByZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIGlkOiBoZWFkZXJJZCxcbiAgICAgIHJlZjogbWVyZ2VSZWZzKHJlZiwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgc2V0SGFzSGVhZGVyKCEhbm9kZSk7XG4gICAgICB9KVxuICAgIH0pO1xuICB9LCBbaGVhZGVySWRdKTtcbiAgdmFyIGdldEJvZHlQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICByZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIGlkOiBib2R5SWQsXG4gICAgICByZWY6IG1lcmdlUmVmcyhyZWYsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIHNldEhhc0JvZHkoISFub2RlKTtcbiAgICAgIH0pXG4gICAgfSk7XG4gIH0sIFtib2R5SWRdKTtcbiAgcmV0dXJuIHtcbiAgICBmb3JjZVVwZGF0ZTogZm9yY2VVcGRhdGUsXG4gICAgaXNPcGVuOiBpc09wZW4sXG4gICAgb25DbG9zZTogb25DbG9zZSxcbiAgICBnZXRBbmNob3JQcm9wczogZ2V0QW5jaG9yUHJvcHMsXG4gICAgZ2V0QXJyb3dQcm9wczogZ2V0QXJyb3dQcm9wcyxcbiAgICBnZXRBcnJvd0lubmVyUHJvcHM6IGdldEFycm93SW5uZXJQcm9wcyxcbiAgICBnZXRQb3BvdmVyUG9zaXRpb25lclByb3BzOiBnZXRQb3BvdmVyUG9zaXRpb25lclByb3BzLFxuICAgIGdldFBvcG92ZXJQcm9wczogZ2V0UG9wb3ZlclByb3BzLFxuICAgIGdldFRyaWdnZXJQcm9wczogZ2V0VHJpZ2dlclByb3BzLFxuICAgIGdldEhlYWRlclByb3BzOiBnZXRIZWFkZXJQcm9wcyxcbiAgICBnZXRCb2R5UHJvcHM6IGdldEJvZHlQcm9wc1xuICB9O1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1wiY2hpbGRyZW5cIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcInJvb3RQcm9wc1wiXTtcblxuLyoqXG4gKiBQb3BvdmVyIGlzIHVzZWQgdG8gYnJpbmcgYXR0ZW50aW9uIHRvIHNwZWNpZmljIHVzZXIgaW50ZXJmYWNlIGVsZW1lbnRzLFxuICogdHlwaWNhbGx5IHRvIHN1Z2dlc3QgYW4gYWN0aW9uIG9yIHRvIGd1aWRlIHVzZXJzIHRocm91Z2ggYSBuZXcgZXhwZXJpZW5jZS5cbiAqL1xudmFyIFBvcG92ZXIgPSBmdW5jdGlvbiBQb3BvdmVyKHByb3BzKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VNdWx0aVN0eWxlQ29uZmlnKFwiUG9wb3ZlclwiLCBwcm9wcyk7XG5cbiAgdmFyIF9vbWl0VGhlbWluZ1Byb3BzID0gb21pdFRoZW1pbmdQcm9wcyhwcm9wcyksXG4gICAgICBjaGlsZHJlbiA9IF9vbWl0VGhlbWluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9vbWl0VGhlbWluZ1Byb3BzLCBfZXhjbHVkZWQpO1xuXG4gIHZhciB0aGVtZSA9IHVzZVRoZW1lKCk7XG4gIHZhciBjb250ZXh0ID0gdXNlUG9wb3ZlcihfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIGRpcmVjdGlvbjogdGhlbWUuZGlyZWN0aW9uXG4gIH0pKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFBvcG92ZXJQcm92aWRlciwge1xuICAgIHZhbHVlOiBjb250ZXh0XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlc1Byb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHN0eWxlc1xuICB9LCBydW5JZkZuKGNoaWxkcmVuLCB7XG4gICAgaXNPcGVuOiBjb250ZXh0LmlzT3BlbixcbiAgICBvbkNsb3NlOiBjb250ZXh0Lm9uQ2xvc2UsXG4gICAgZm9yY2VVcGRhdGU6IGNvbnRleHQuZm9yY2VVcGRhdGVcbiAgfSkpKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIFBvcG92ZXIuZGlzcGxheU5hbWUgPSBcIlBvcG92ZXJcIjtcbn1cbi8qKlxuICogUG9wb3ZlckFuY2hvciBpcyBlbGVtZW50IHRoYXQgaXMgdXNlZCBhcyB0aGUgcG9zaXRpb25pbmcgcmVmZXJlbmNlXG4gKiBmb3IgdGhlIHBvcG92ZXIuXG4gKi9cblxuXG52YXIgUG9wb3ZlckFuY2hvciA9IGZ1bmN0aW9uIFBvcG92ZXJBbmNob3IocHJvcHMpIHtcbiAgLy8gZW5mb3JjZSBhIHNpbmdsZSBjaGlsZFxuICB2YXIgY2hpbGQgPSBSZWFjdC5DaGlsZHJlbi5vbmx5KHByb3BzLmNoaWxkcmVuKTtcblxuICB2YXIgX3VzZVBvcG92ZXJDb250ZXh0ID0gdXNlUG9wb3ZlckNvbnRleHQoKSxcbiAgICAgIGdldEFuY2hvclByb3BzID0gX3VzZVBvcG92ZXJDb250ZXh0LmdldEFuY2hvclByb3BzO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KGNoaWxkLCBnZXRBbmNob3JQcm9wcyhjaGlsZC5wcm9wcywgY2hpbGQucmVmKSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBQb3BvdmVyQW5jaG9yLmRpc3BsYXlOYW1lID0gXCJQb3BvdmVyQW5jaG9yXCI7XG59XG4vKipcbiAqIFBvcG92ZXJUcmlnZ2VyIG9wZW5zIHRoZSBwb3BvdmVyJ3MgY29udGVudC4gSXQgbXVzdCBiZSBhbiBpbnRlcmFjdGl2ZSBlbGVtZW50XG4gKiBzdWNoIGFzIGBidXR0b25gIG9yIGBhYC5cbiAqL1xuXG5cbnZhciBQb3BvdmVyVHJpZ2dlciA9IGZ1bmN0aW9uIFBvcG92ZXJUcmlnZ2VyKHByb3BzKSB7XG4gIC8vIGVuZm9yY2UgYSBzaW5nbGUgY2hpbGRcbiAgdmFyIGNoaWxkID0gUmVhY3QuQ2hpbGRyZW4ub25seShwcm9wcy5jaGlsZHJlbik7XG5cbiAgdmFyIF91c2VQb3BvdmVyQ29udGV4dDIgPSB1c2VQb3BvdmVyQ29udGV4dCgpLFxuICAgICAgZ2V0VHJpZ2dlclByb3BzID0gX3VzZVBvcG92ZXJDb250ZXh0Mi5nZXRUcmlnZ2VyUHJvcHM7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIGdldFRyaWdnZXJQcm9wcyhjaGlsZC5wcm9wcywgY2hpbGQucmVmKSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBQb3BvdmVyVHJpZ2dlci5kaXNwbGF5TmFtZSA9IFwiUG9wb3ZlclRyaWdnZXJcIjtcbn1cblxudmFyIFBvcG92ZXJDb250ZW50ID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHJvb3RQcm9wcyA9IHByb3BzLnJvb3RQcm9wcyxcbiAgICAgIGNvbnRlbnRQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQyKTtcblxuICB2YXIgX3VzZVBvcG92ZXJDb250ZXh0MyA9IHVzZVBvcG92ZXJDb250ZXh0KCksXG4gICAgICBnZXRQb3BvdmVyUHJvcHMgPSBfdXNlUG9wb3ZlckNvbnRleHQzLmdldFBvcG92ZXJQcm9wcyxcbiAgICAgIGdldFBvcG92ZXJQb3NpdGlvbmVyUHJvcHMgPSBfdXNlUG9wb3ZlckNvbnRleHQzLmdldFBvcG92ZXJQb3NpdGlvbmVyUHJvcHM7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBjb250ZW50U3R5bGVzID0gX2V4dGVuZHMoe1xuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIlxuICB9LCBzdHlsZXMuY29udGVudCk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHt9LCBnZXRQb3BvdmVyUG9zaXRpb25lclByb3BzKHJvb3RQcm9wcyksIHtcbiAgICBfX2Nzczogc3R5bGVzLnBvcHBlcixcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLXBvcG92ZXJfX3BvcHBlclwiXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQb3BvdmVyVHJhbnNpdGlvbiwgX2V4dGVuZHMoe30sIGdldFBvcG92ZXJQcm9wcyhjb250ZW50UHJvcHMsIHJlZiksIHtcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLXBvcG92ZXJfX2NvbnRlbnRcIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBfX2NzczogY29udGVudFN0eWxlc1xuICB9KSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFBvcG92ZXJDb250ZW50LmRpc3BsYXlOYW1lID0gXCJQb3BvdmVyQ29udGVudFwiO1xufVxuXG4vKipcbiAqIFBvcG92ZXJIZWFkZXIgaXMgdGhlIGFjY2Vzc2libGUgaGVhZGVyIG9yIGxhYmVsXG4gKiBmb3IgdGhlIHBvcG92ZXIncyBjb250ZW50IGFuZCBpdCBpcyBmaXJzdCBhbm5vdW5jZWQgYnkgc2NyZWVucmVhZGVycy5cbiAqL1xudmFyIFBvcG92ZXJIZWFkZXIgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3VzZVBvcG92ZXJDb250ZXh0NCA9IHVzZVBvcG92ZXJDb250ZXh0KCksXG4gICAgICBnZXRIZWFkZXJQcm9wcyA9IF91c2VQb3BvdmVyQ29udGV4dDQuZ2V0SGVhZGVyUHJvcHM7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmhlYWRlciwgX2V4dGVuZHMoe30sIGdldEhlYWRlclByb3BzKHByb3BzLCByZWYpLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1wb3BvdmVyX19oZWFkZXJcIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBfX2Nzczogc3R5bGVzLmhlYWRlclxuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgUG9wb3ZlckhlYWRlci5kaXNwbGF5TmFtZSA9IFwiUG9wb3ZlckhlYWRlclwiO1xufVxuXG4vKipcbiAqIFBvcG92ZXJCb2R5IGlzIHRoZSBtYWluIGNvbnRlbnQgYXJlYSBmb3IgdGhlIHBvcG92ZXIuIFNob3VsZCBjb250YWluXG4gKiBhdCBsZWFzdCBvbmUgaW50ZXJhY3RpdmUgZWxlbWVudC5cbiAqL1xudmFyIFBvcG92ZXJCb2R5ID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIF91c2VQb3BvdmVyQ29udGV4dDUgPSB1c2VQb3BvdmVyQ29udGV4dCgpLFxuICAgICAgZ2V0Qm9keVByb3BzID0gX3VzZVBvcG92ZXJDb250ZXh0NS5nZXRCb2R5UHJvcHM7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe30sIGdldEJvZHlQcm9wcyhwcm9wcywgcmVmKSwge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtcG9wb3Zlcl9fYm9keVwiLCBwcm9wcy5jbGFzc05hbWUpLFxuICAgIF9fY3NzOiBzdHlsZXMuYm9keVxuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgUG9wb3ZlckJvZHkuZGlzcGxheU5hbWUgPSBcIlBvcG92ZXJCb2R5XCI7XG59XG5cbnZhciBQb3BvdmVyRm9vdGVyID0gZnVuY3Rpb24gUG9wb3ZlckZvb3Rlcihwcm9wcykge1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZm9vdGVyLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLXBvcG92ZXJfX2Zvb3RlclwiLCBwcm9wcy5jbGFzc05hbWUpLFxuICAgIF9fY3NzOiBzdHlsZXMuZm9vdGVyXG4gIH0pKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIFBvcG92ZXJGb290ZXIuZGlzcGxheU5hbWUgPSBcIlBvcG92ZXJGb290ZXJcIjtcbn1cblxudmFyIFBvcG92ZXJDbG9zZUJ1dHRvbiA9IGZ1bmN0aW9uIFBvcG92ZXJDbG9zZUJ1dHRvbihwcm9wcykge1xuICB2YXIgX3VzZVBvcG92ZXJDb250ZXh0NiA9IHVzZVBvcG92ZXJDb250ZXh0KCksXG4gICAgICBvbkNsb3NlID0gX3VzZVBvcG92ZXJDb250ZXh0Ni5vbkNsb3NlO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENsb3NlQnV0dG9uLCBfZXh0ZW5kcyh7XG4gICAgc2l6ZTogXCJzbVwiLFxuICAgIG9uQ2xpY2s6IG9uQ2xvc2UsXG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1wb3BvdmVyX19jbG9zZS1idG5cIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBfX2Nzczogc3R5bGVzLmNsb3NlQnV0dG9uXG4gIH0sIHByb3BzKSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBQb3BvdmVyQ2xvc2VCdXR0b24uZGlzcGxheU5hbWUgPSBcIlBvcG92ZXJDbG9zZUJ1dHRvblwiO1xufVxuXG52YXIgUG9wb3ZlckFycm93ID0gZnVuY3Rpb24gUG9wb3ZlckFycm93KHByb3BzKSB7XG4gIHZhciBfcmVmO1xuXG4gIHZhciBiZyA9IHByb3BzLmJnLFxuICAgICAgYmdDb2xvciA9IHByb3BzLmJnQ29sb3IsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3IgPSBwcm9wcy5iYWNrZ3JvdW5kQ29sb3I7XG5cbiAgdmFyIF91c2VQb3BvdmVyQ29udGV4dDcgPSB1c2VQb3BvdmVyQ29udGV4dCgpLFxuICAgICAgZ2V0QXJyb3dQcm9wcyA9IF91c2VQb3BvdmVyQ29udGV4dDcuZ2V0QXJyb3dQcm9wcyxcbiAgICAgIGdldEFycm93SW5uZXJQcm9wcyA9IF91c2VQb3BvdmVyQ29udGV4dDcuZ2V0QXJyb3dJbm5lclByb3BzO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgdmFyIGFycm93QmcgPSAoX3JlZiA9IGJnICE9IG51bGwgPyBiZyA6IGJnQ29sb3IpICE9IG51bGwgPyBfcmVmIDogYmFja2dyb3VuZENvbG9yO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe30sIGdldEFycm93UHJvcHMoKSwge1xuICAgIGNsYXNzTmFtZTogXCJjaGFrcmEtcG9wb3Zlcl9fYXJyb3ctcG9zaXRpb25lclwiXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1wb3BvdmVyX19hcnJvd1wiLCBwcm9wcy5jbGFzc05hbWUpXG4gIH0sIGdldEFycm93SW5uZXJQcm9wcyhwcm9wcyksIHtcbiAgICBfX2NzczogX2V4dGVuZHMoe30sIHN0eWxlcy5hcnJvdywge1xuICAgICAgXCItLXBvcHBlci1hcnJvdy1iZ1wiOiBhcnJvd0JnID8gXCJjb2xvcnMuXCIgKyBhcnJvd0JnICsgXCIsIFwiICsgYXJyb3dCZyA6IHVuZGVmaW5lZFxuICAgIH0pXG4gIH0pKSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBQb3BvdmVyQXJyb3cuZGlzcGxheU5hbWUgPSBcIlBvcG92ZXJBcnJvd1wiO1xufVxuXG5leHBvcnQgeyBQb3BvdmVyLCBQb3BvdmVyQW5jaG9yLCBQb3BvdmVyQXJyb3csIFBvcG92ZXJCb2R5LCBQb3BvdmVyQ2xvc2VCdXR0b24sIFBvcG92ZXJDb250ZW50LCBQb3BvdmVyRm9vdGVyLCBQb3BvdmVySGVhZGVyLCBQb3BvdmVyVHJpZ2dlciwgdXNlUG9wb3ZlciwgdXNlUG9wb3ZlckNvbnRleHQgfTtcbiIsImltcG9ydCB7IGtleWZyYW1lcywgY2hha3JhLCB1c2VTdHlsZXMsIG9taXRUaGVtaW5nUHJvcHMsIHVzZU11bHRpU3R5bGVDb25maWcsIFN0eWxlc1Byb3ZpZGVyIH0gZnJvbSAnQGNoYWtyYS11aS9zeXN0ZW0nO1xuaW1wb3J0IHsgdmFsdWVUb1BlcmNlbnQsIGlzRnVuY3Rpb24sIGlzVW5kZWZpbmVkLCBfX0RFVl9fIH0gZnJvbSAnQGNoYWtyYS11aS91dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgc3BpbiA9IGtleWZyYW1lcyh7XG4gIFwiMCVcIjoge1xuICAgIHN0cm9rZURhc2hhcnJheTogXCIxLCA0MDBcIixcbiAgICBzdHJva2VEYXNob2Zmc2V0OiBcIjBcIlxuICB9LFxuICBcIjUwJVwiOiB7XG4gICAgc3Ryb2tlRGFzaGFycmF5OiBcIjQwMCwgNDAwXCIsXG4gICAgc3Ryb2tlRGFzaG9mZnNldDogXCItMTAwXCJcbiAgfSxcbiAgXCIxMDAlXCI6IHtcbiAgICBzdHJva2VEYXNoYXJyYXk6IFwiNDAwLCA0MDBcIixcbiAgICBzdHJva2VEYXNob2Zmc2V0OiBcIi0yNjBcIlxuICB9XG59KTtcbnZhciByb3RhdGUgPSBrZXlmcmFtZXMoe1xuICBcIjAlXCI6IHtcbiAgICB0cmFuc2Zvcm06IFwicm90YXRlKDBkZWcpXCJcbiAgfSxcbiAgXCIxMDAlXCI6IHtcbiAgICB0cmFuc2Zvcm06IFwicm90YXRlKDM2MGRlZylcIlxuICB9XG59KTtcbnZhciBwcm9ncmVzcyA9IGtleWZyYW1lcyh7XG4gIFwiMCVcIjoge1xuICAgIGxlZnQ6IFwiLTQwJVwiXG4gIH0sXG4gIFwiMTAwJVwiOiB7XG4gICAgbGVmdDogXCIxMDAlXCJcbiAgfVxufSk7XG52YXIgc3RyaXBlID0ga2V5ZnJhbWVzKHtcbiAgZnJvbToge1xuICAgIGJhY2tncm91bmRQb3NpdGlvbjogXCIxcmVtIDBcIlxuICB9LFxuICB0bzoge1xuICAgIGJhY2tncm91bmRQb3NpdGlvbjogXCIwIDBcIlxuICB9XG59KTtcblxuLyoqXG4gKiBHZXQgdGhlIGNvbW1vbiBgYXJpYS0qYCBhdHRyaWJ1dGVzIGZvciBib3RoIHRoZSBsaW5lYXIgYW5kIGNpcmN1bGFyXG4gKiBwcm9ncmVzcyBjb21wb25lbnRzLlxuICovXG5mdW5jdGlvbiBnZXRQcm9ncmVzc1Byb3BzKG9wdGlvbnMpIHtcbiAgdmFyIF9vcHRpb25zJHZhbHVlID0gb3B0aW9ucy52YWx1ZSxcbiAgICAgIHZhbHVlID0gX29wdGlvbnMkdmFsdWUgPT09IHZvaWQgMCA/IDAgOiBfb3B0aW9ucyR2YWx1ZSxcbiAgICAgIG1pbiA9IG9wdGlvbnMubWluLFxuICAgICAgbWF4ID0gb3B0aW9ucy5tYXgsXG4gICAgICB2YWx1ZVRleHQgPSBvcHRpb25zLnZhbHVlVGV4dCxcbiAgICAgIGdldFZhbHVlVGV4dCA9IG9wdGlvbnMuZ2V0VmFsdWVUZXh0LFxuICAgICAgaXNJbmRldGVybWluYXRlID0gb3B0aW9ucy5pc0luZGV0ZXJtaW5hdGU7XG4gIHZhciBwZXJjZW50ID0gdmFsdWVUb1BlcmNlbnQodmFsdWUsIG1pbiwgbWF4KTtcblxuICB2YXIgZ2V0QXJpYVZhbHVlVGV4dCA9IGZ1bmN0aW9uIGdldEFyaWFWYWx1ZVRleHQoKSB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oZ2V0VmFsdWVUZXh0KSA/IGdldFZhbHVlVGV4dCh2YWx1ZSwgcGVyY2VudCkgOiB2YWx1ZVRleHQ7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBiaW5kOiB7XG4gICAgICBcImRhdGEtaW5kZXRlcm1pbmF0ZVwiOiBpc0luZGV0ZXJtaW5hdGUgPyBcIlwiIDogdW5kZWZpbmVkLFxuICAgICAgXCJhcmlhLXZhbHVlbWF4XCI6IG1heCxcbiAgICAgIFwiYXJpYS12YWx1ZW1pblwiOiBtaW4sXG4gICAgICBcImFyaWEtdmFsdWVub3dcIjogaXNJbmRldGVybWluYXRlID8gdW5kZWZpbmVkIDogdmFsdWUsXG4gICAgICBcImFyaWEtdmFsdWV0ZXh0XCI6IGdldEFyaWFWYWx1ZVRleHQoKSxcbiAgICAgIHJvbGU6IFwicHJvZ3Jlc3NiYXJcIlxuICAgIH0sXG4gICAgcGVyY2VudDogcGVyY2VudCxcbiAgICB2YWx1ZTogdmFsdWVcbiAgfTtcbn1cblxudmFyIF9leGNsdWRlZCQxID0gW1wic2l6ZVwiLCBcImlzSW5kZXRlcm1pbmF0ZVwiXSxcbiAgICBfZXhjbHVkZWQyJDEgPSBbXCJzaXplXCIsIFwibWF4XCIsIFwibWluXCIsIFwidmFsdWVUZXh0XCIsIFwiZ2V0VmFsdWVUZXh0XCIsIFwidmFsdWVcIiwgXCJjYXBJc1JvdW5kXCIsIFwiY2hpbGRyZW5cIiwgXCJ0aGlja25lc3NcIiwgXCJjb2xvclwiLCBcInRyYWNrQ29sb3JcIiwgXCJpc0luZGV0ZXJtaW5hdGVcIl07XG5cbnZhciBDaXJjbGUgPSBmdW5jdGlvbiBDaXJjbGUocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5jaXJjbGUsIF9leHRlbmRzKHtcbiAgICBjeDogNTAsXG4gICAgY3k6IDUwLFxuICAgIHI6IDQyLFxuICAgIGZpbGw6IFwidHJhbnNwYXJlbnRcIlxuICB9LCBwcm9wcykpO1xufTtcblxuaWYgKF9fREVWX18pIHtcbiAgQ2lyY2xlLmRpc3BsYXlOYW1lID0gXCJDaXJjbGVcIjtcbn1cblxudmFyIFNoYXBlID0gZnVuY3Rpb24gU2hhcGUocHJvcHMpIHtcbiAgdmFyIHNpemUgPSBwcm9wcy5zaXplLFxuICAgICAgaXNJbmRldGVybWluYXRlID0gcHJvcHMuaXNJbmRldGVybWluYXRlLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQkMSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5zdmcsIF9leHRlbmRzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxMDAgMTAwXCIsXG4gICAgX19jc3M6IHtcbiAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgaGVpZ2h0OiBzaXplLFxuICAgICAgYW5pbWF0aW9uOiBpc0luZGV0ZXJtaW5hdGUgPyByb3RhdGUgKyBcIiAycyBsaW5lYXIgaW5maW5pdGVcIiA6IHVuZGVmaW5lZFxuICAgIH1cbiAgfSwgcmVzdCkpO1xufTtcblxuaWYgKF9fREVWX18pIHtcbiAgU2hhcGUuZGlzcGxheU5hbWUgPSBcIlNoYXBlXCI7XG59XG5cbi8qKlxuICogQ2lyY3VsYXJQcm9ncmVzcyBpcyB1c2VkIHRvIGluZGljYXRlIHRoZSBwcm9ncmVzcyBvZiBhbiBhY3Rpdml0eS5cbiAqIEl0IGlzIGJ1aWx0IHVzaW5nIGBzdmdgIGFuZCBgY2lyY2xlYCBjb21wb25lbnRzIHdpdGggc3VwcG9ydCBmb3JcbiAqIHRoZW1pbmcgYW5kIGBpbmRldGVybWluYXRlYCBzdGF0ZVxuICpcbiAqIEBzZWUgRG9jcyBodHRwczovL2NoYWtyYS11aS5jb20vY2lyY3VsYXJwcm9ncmVzc1xuICogQHRvZG8gYWRkIHRoZW1pbmcgc3VwcG9ydCBmb3IgY2lyY3VsYXIgcHJvZ3Jlc3NcbiAqL1xudmFyIENpcmN1bGFyUHJvZ3Jlc3MgPSBmdW5jdGlvbiBDaXJjdWxhclByb2dyZXNzKHByb3BzKSB7XG4gIHZhciBfcHJvZ3Jlc3MkcGVyY2VudDtcblxuICB2YXIgX3Byb3BzJHNpemUgPSBwcm9wcy5zaXplLFxuICAgICAgc2l6ZSA9IF9wcm9wcyRzaXplID09PSB2b2lkIDAgPyBcIjQ4cHhcIiA6IF9wcm9wcyRzaXplLFxuICAgICAgX3Byb3BzJG1heCA9IHByb3BzLm1heCxcbiAgICAgIG1heCA9IF9wcm9wcyRtYXggPT09IHZvaWQgMCA/IDEwMCA6IF9wcm9wcyRtYXgsXG4gICAgICBfcHJvcHMkbWluID0gcHJvcHMubWluLFxuICAgICAgbWluID0gX3Byb3BzJG1pbiA9PT0gdm9pZCAwID8gMCA6IF9wcm9wcyRtaW4sXG4gICAgICB2YWx1ZVRleHQgPSBwcm9wcy52YWx1ZVRleHQsXG4gICAgICBnZXRWYWx1ZVRleHQgPSBwcm9wcy5nZXRWYWx1ZVRleHQsXG4gICAgICB2YWx1ZSA9IHByb3BzLnZhbHVlLFxuICAgICAgY2FwSXNSb3VuZCA9IHByb3BzLmNhcElzUm91bmQsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgX3Byb3BzJHRoaWNrbmVzcyA9IHByb3BzLnRoaWNrbmVzcyxcbiAgICAgIHRoaWNrbmVzcyA9IF9wcm9wcyR0aGlja25lc3MgPT09IHZvaWQgMCA/IFwiMTBweFwiIDogX3Byb3BzJHRoaWNrbmVzcyxcbiAgICAgIF9wcm9wcyRjb2xvciA9IHByb3BzLmNvbG9yLFxuICAgICAgY29sb3IgPSBfcHJvcHMkY29sb3IgPT09IHZvaWQgMCA/IFwiIzAwNzhkNFwiIDogX3Byb3BzJGNvbG9yLFxuICAgICAgX3Byb3BzJHRyYWNrQ29sb3IgPSBwcm9wcy50cmFja0NvbG9yLFxuICAgICAgdHJhY2tDb2xvciA9IF9wcm9wcyR0cmFja0NvbG9yID09PSB2b2lkIDAgPyBcIiNlZGViZTlcIiA6IF9wcm9wcyR0cmFja0NvbG9yLFxuICAgICAgaXNJbmRldGVybWluYXRlID0gcHJvcHMuaXNJbmRldGVybWluYXRlLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQyJDEpO1xuXG4gIHZhciBwcm9ncmVzcyA9IGdldFByb2dyZXNzUHJvcHMoe1xuICAgIG1pbjogbWluLFxuICAgIG1heDogbWF4LFxuICAgIHZhbHVlOiB2YWx1ZSxcbiAgICB2YWx1ZVRleHQ6IHZhbHVlVGV4dCxcbiAgICBnZXRWYWx1ZVRleHQ6IGdldFZhbHVlVGV4dCxcbiAgICBpc0luZGV0ZXJtaW5hdGU6IGlzSW5kZXRlcm1pbmF0ZVxuICB9KTtcbiAgdmFyIGRldGVybWluYW50ID0gaXNJbmRldGVybWluYXRlID8gdW5kZWZpbmVkIDogKChfcHJvZ3Jlc3MkcGVyY2VudCA9IHByb2dyZXNzLnBlcmNlbnQpICE9IG51bGwgPyBfcHJvZ3Jlc3MkcGVyY2VudCA6IDApICogMi42NDtcbiAgdmFyIHN0cm9rZURhc2hhcnJheSA9IGlzVW5kZWZpbmVkKGRldGVybWluYW50KSA/IHVuZGVmaW5lZCA6IGRldGVybWluYW50ICsgXCIgXCIgKyAoMjY0IC0gZGV0ZXJtaW5hbnQpO1xuICB2YXIgaW5kaWNhdG9yUHJvcHMgPSBpc0luZGV0ZXJtaW5hdGUgPyB7XG4gICAgY3NzOiB7XG4gICAgICBhbmltYXRpb246IHNwaW4gKyBcIiAxLjVzIGxpbmVhciBpbmZpbml0ZVwiXG4gICAgfVxuICB9IDoge1xuICAgIHN0cm9rZURhc2hvZmZzZXQ6IDY2LFxuICAgIHN0cm9rZURhc2hhcnJheTogc3Ryb2tlRGFzaGFycmF5LFxuICAgIHRyYW5zaXRpb25Qcm9wZXJ0eTogXCJzdHJva2UtZGFzaGFycmF5LCBzdHJva2VcIixcbiAgICB0cmFuc2l0aW9uRHVyYXRpb246IFwiMC42c1wiLFxuICAgIHRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbjogXCJlYXNlXCJcbiAgfTtcbiAgdmFyIHJvb3RTdHlsZXMgPSB7XG4gICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgIHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG4gICAgZm9udFNpemU6IHNpemVcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLXByb2dyZXNzXCJcbiAgfSwgcHJvZ3Jlc3MuYmluZCwgcmVzdCwge1xuICAgIF9fY3NzOiByb290U3R5bGVzXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTaGFwZSwge1xuICAgIHNpemU6IHNpemUsXG4gICAgaXNJbmRldGVybWluYXRlOiBpc0luZGV0ZXJtaW5hdGVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2lyY2xlLCB7XG4gICAgc3Ryb2tlOiB0cmFja0NvbG9yLFxuICAgIHN0cm9rZVdpZHRoOiB0aGlja25lc3MsXG4gICAgY2xhc3NOYW1lOiBcImNoYWtyYS1wcm9ncmVzc19fdHJhY2tcIlxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2lyY2xlLCBfZXh0ZW5kcyh7XG4gICAgc3Ryb2tlOiBjb2xvcixcbiAgICBzdHJva2VXaWR0aDogdGhpY2tuZXNzLFxuICAgIGNsYXNzTmFtZTogXCJjaGFrcmEtcHJvZ3Jlc3NfX2luZGljYXRvclwiLFxuICAgIHN0cm9rZUxpbmVjYXA6IGNhcElzUm91bmQgPyBcInJvdW5kXCIgOiB1bmRlZmluZWRcbiAgICAvKipcbiAgICAgKiBmaXggaXNzdWUgaW4gU2FmYXJpIHdoZXJlIGluZGljdG9yIHN0aWxsIHNob3dzIHdoZW4gdmFsdWUgaXMgMFxuICAgICAqIEBzZWUgSXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL2NoYWtyYS11aS9jaGFrcmEtdWkvaXNzdWVzLzM3NTRcbiAgICAgKi9cbiAgICAsXG4gICAgb3BhY2l0eTogcHJvZ3Jlc3MudmFsdWUgPT09IDAgJiYgIWlzSW5kZXRlcm1pbmF0ZSA/IDAgOiB1bmRlZmluZWRcbiAgfSwgaW5kaWNhdG9yUHJvcHMpKSksIGNoaWxkcmVuKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIENpcmN1bGFyUHJvZ3Jlc3MuZGlzcGxheU5hbWUgPSBcIkNpcmN1bGFyUHJvZ3Jlc3NcIjtcbn1cbi8qKlxuICogQ2lyY3VsYXJQcm9ncmVzcyBjb21wb25lbnQgbGFiZWwuIEluIG1vc3QgY2FzZXMgaXQgaXMgYSBudW1lcmljIGluZGljYXRvclxuICogb2YgdGhlIGNpcmN1bGFyIHByb2dyZXNzIGNvbXBvbmVudCdzIHZhbHVlXG4gKi9cblxuXG52YXIgQ2lyY3VsYXJQcm9ncmVzc0xhYmVsID0gY2hha3JhKFwiZGl2XCIsIHtcbiAgYmFzZVN0eWxlOiB7XG4gICAgZm9udFNpemU6IFwiMC4yNGVtXCIsXG4gICAgdG9wOiBcIjUwJVwiLFxuICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGUoLTUwJSwgLTUwJSlcIlxuICB9XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgQ2lyY3VsYXJQcm9ncmVzc0xhYmVsLmRpc3BsYXlOYW1lID0gXCJDaXJjdWxhclByb2dyZXNzTGFiZWxcIjtcbn1cblxudmFyIF9leGNsdWRlZCA9IFtcIm1pblwiLCBcIm1heFwiLCBcInZhbHVlXCIsIFwiaXNJbmRldGVybWluYXRlXCJdLFxuICAgIF9leGNsdWRlZDIgPSBbXCJ2YWx1ZVwiLCBcIm1pblwiLCBcIm1heFwiLCBcImhhc1N0cmlwZVwiLCBcImlzQW5pbWF0ZWRcIiwgXCJjaGlsZHJlblwiLCBcImJvcmRlclJhZGl1c1wiLCBcImlzSW5kZXRlcm1pbmF0ZVwiLCBcImFyaWEtbGFiZWxcIiwgXCJhcmlhLWxhYmVsbGVkYnlcIl07XG5cbi8qKlxuICogUHJvZ3Jlc3NMYWJlbCBpcyB1c2VkIHRvIHNob3cgdGhlIG51bWVyaWMgdmFsdWUgb2YgdGhlIHByb2dyZXNzLlxuICogQHNlZSBEb2NzIGh0dHBzOi8vY2hha3JhLXVpLmNvbS9wcm9ncmVzc1xuICovXG52YXIgUHJvZ3Jlc3NMYWJlbCA9IGZ1bmN0aW9uIFByb2dyZXNzTGFiZWwocHJvcHMpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBsYWJlbFN0eWxlcyA9IF9leHRlbmRzKHtcbiAgICB0b3A6IFwiNTAlXCIsXG4gICAgbGVmdDogXCI1MCVcIixcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgtNTAlLCAtNTAlKVwiXG4gIH0sIHN0eWxlcy5sYWJlbCk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIF9fY3NzOiBsYWJlbFN0eWxlc1xuICB9KSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBQcm9ncmVzc0xhYmVsLmRpc3BsYXlOYW1lID0gXCJQcm9ncmVzc0xhYmVsXCI7XG59XG5cbi8qKlxuICogUHJvZ3Jlc3NGaWxsZWRUcmFjayAoTGluZWFyKVxuICpcbiAqIFRoZSBwcm9ncmVzcyBjb21wb25lbnQgdGhhdCB2aXN1YWxseSBpbmRpY2F0ZXMgdGhlIGN1cnJlbnQgbGV2ZWwgb2YgdGhlIHByb2dyZXNzIGJhci5cbiAqIEl0IGFwcGxpZXMgYGJhY2tncm91bmQtY29sb3JgIGFuZCBjaGFuZ2VzIGl0cyB3aWR0aC5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL3Byb2dyZXNzXG4gKi9cbnZhciBQcm9ncmVzc0ZpbGxlZFRyYWNrID0gZnVuY3Rpb24gUHJvZ3Jlc3NGaWxsZWRUcmFjayhwcm9wcykge1xuICB2YXIgbWluID0gcHJvcHMubWluLFxuICAgICAgbWF4ID0gcHJvcHMubWF4LFxuICAgICAgdmFsdWUgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGlzSW5kZXRlcm1pbmF0ZSA9IHByb3BzLmlzSW5kZXRlcm1pbmF0ZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkKTtcblxuICB2YXIgcHJvZ3Jlc3MgPSBnZXRQcm9ncmVzc1Byb3BzKHtcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgbWluOiBtaW4sXG4gICAgbWF4OiBtYXgsXG4gICAgaXNJbmRldGVybWluYXRlOiBpc0luZGV0ZXJtaW5hdGVcbiAgfSk7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcblxuICB2YXIgdHJhY2tTdHlsZXMgPSBfZXh0ZW5kcyh7XG4gICAgaGVpZ2h0OiBcIjEwMCVcIlxuICB9LCBzdHlsZXMuZmlsbGVkVHJhY2spO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7XG4gICAgc3R5bGU6IF9leHRlbmRzKHtcbiAgICAgIHdpZHRoOiBwcm9ncmVzcy5wZXJjZW50ICsgXCIlXCJcbiAgICB9LCByZXN0LnN0eWxlKVxuICB9LCBwcm9ncmVzcy5iaW5kLCByZXN0LCB7XG4gICAgX19jc3M6IHRyYWNrU3R5bGVzXG4gIH0pKTtcbn07XG5cbi8qKlxuICogUHJvZ3Jlc3MgKExpbmVhcilcbiAqXG4gKiBQcm9ncmVzcyBpcyB1c2VkIHRvIGRpc3BsYXkgdGhlIHByb2dyZXNzIHN0YXR1cyBmb3IgYSB0YXNrIHRoYXQgdGFrZXMgYSBsb25nXG4gKiB0aW1lIG9yIGNvbnNpc3RzIG9mIHNldmVyYWwgc3RlcHMuXG4gKlxuICogSXQgaW5jbHVkZXMgYWNjZXNzaWJsZSBhdHRyaWJ1dGVzIHRvIGhlbHAgYXNzaXN0aXZlIHRlY2hub2xvZ2llcyB1bmRlcnN0YW5kXG4gKiBhbmQgc3BlYWsgdGhlIHByb2dyZXNzIHZhbHVlcy5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL3Byb2dyZXNzXG4gKi9cbnZhciBQcm9ncmVzcyA9IGZ1bmN0aW9uIFByb2dyZXNzKHByb3BzKSB7XG4gIHZhciBfc3R5bGVzJHRyYWNrO1xuXG4gIHZhciBfb21pdFRoZW1pbmdQcm9wcyA9IG9taXRUaGVtaW5nUHJvcHMocHJvcHMpLFxuICAgICAgdmFsdWUgPSBfb21pdFRoZW1pbmdQcm9wcy52YWx1ZSxcbiAgICAgIF9vbWl0VGhlbWluZ1Byb3BzJG1pbiA9IF9vbWl0VGhlbWluZ1Byb3BzLm1pbixcbiAgICAgIG1pbiA9IF9vbWl0VGhlbWluZ1Byb3BzJG1pbiA9PT0gdm9pZCAwID8gMCA6IF9vbWl0VGhlbWluZ1Byb3BzJG1pbixcbiAgICAgIF9vbWl0VGhlbWluZ1Byb3BzJG1heCA9IF9vbWl0VGhlbWluZ1Byb3BzLm1heCxcbiAgICAgIG1heCA9IF9vbWl0VGhlbWluZ1Byb3BzJG1heCA9PT0gdm9pZCAwID8gMTAwIDogX29taXRUaGVtaW5nUHJvcHMkbWF4LFxuICAgICAgaGFzU3RyaXBlID0gX29taXRUaGVtaW5nUHJvcHMuaGFzU3RyaXBlLFxuICAgICAgaXNBbmltYXRlZCA9IF9vbWl0VGhlbWluZ1Byb3BzLmlzQW5pbWF0ZWQsXG4gICAgICBjaGlsZHJlbiA9IF9vbWl0VGhlbWluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgcHJvcEJvcmRlclJhZGl1cyA9IF9vbWl0VGhlbWluZ1Byb3BzLmJvcmRlclJhZGl1cyxcbiAgICAgIGlzSW5kZXRlcm1pbmF0ZSA9IF9vbWl0VGhlbWluZ1Byb3BzLmlzSW5kZXRlcm1pbmF0ZSxcbiAgICAgIGFyaWFMYWJlbCA9IF9vbWl0VGhlbWluZ1Byb3BzW1wiYXJpYS1sYWJlbFwiXSxcbiAgICAgIGFyaWFMYWJlbGxlZEJ5ID0gX29taXRUaGVtaW5nUHJvcHNbXCJhcmlhLWxhYmVsbGVkYnlcIl0sXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX29taXRUaGVtaW5nUHJvcHMsIF9leGNsdWRlZDIpO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VNdWx0aVN0eWxlQ29uZmlnKFwiUHJvZ3Jlc3NcIiwgcHJvcHMpO1xuICB2YXIgYm9yZGVyUmFkaXVzID0gcHJvcEJvcmRlclJhZGl1cyAhPSBudWxsID8gcHJvcEJvcmRlclJhZGl1cyA6IChfc3R5bGVzJHRyYWNrID0gc3R5bGVzLnRyYWNrKSA9PSBudWxsID8gdm9pZCAwIDogX3N0eWxlcyR0cmFjay5ib3JkZXJSYWRpdXM7XG4gIHZhciBzdHJpcGVBbmltYXRpb24gPSB7XG4gICAgYW5pbWF0aW9uOiBzdHJpcGUgKyBcIiAxcyBsaW5lYXIgaW5maW5pdGVcIlxuICB9O1xuICAvKipcbiAgICogV2Ugc2hvdWxkIG5vdCB1c2Ugc3RyaXBlIGlmIGl0IGlzIGBpbmRldGVybWluYXRlYFxuICAgKi9cblxuICB2YXIgc2hvdWxkQWRkU3RyaXBlID0gIWlzSW5kZXRlcm1pbmF0ZSAmJiBoYXNTdHJpcGU7XG4gIHZhciBzaG91bGRBbmltYXRlU3RyaXBlID0gc2hvdWxkQWRkU3RyaXBlICYmIGlzQW5pbWF0ZWQ7XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBzdHlsZXMgZm9yIHN0cmlwZSBhbmQgc3RyaXBlIGFuaW1hdGlvblxuICAgKi9cblxuICB2YXIgY3NzID0gX2V4dGVuZHMoe30sIHNob3VsZEFuaW1hdGVTdHJpcGUgJiYgc3RyaXBlQW5pbWF0aW9uLCBpc0luZGV0ZXJtaW5hdGUgJiYge1xuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgd2lsbENoYW5nZTogXCJsZWZ0XCIsXG4gICAgbWluV2lkdGg6IFwiNTAlXCIsXG4gICAgYW5pbWF0aW9uOiBwcm9ncmVzcyArIFwiIDFzIGVhc2UgaW5maW5pdGUgbm9ybWFsIG5vbmUgcnVubmluZ1wiXG4gIH0pO1xuXG4gIHZhciB0cmFja1N0eWxlcyA9IF9leHRlbmRzKHtcbiAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiXG4gIH0sIHN0eWxlcy50cmFjayk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICBib3JkZXJSYWRpdXM6IGJvcmRlclJhZGl1cyxcbiAgICBfX2NzczogdHJhY2tTdHlsZXNcbiAgfSwgcmVzdCksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlc1Byb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHN0eWxlc1xuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQcm9ncmVzc0ZpbGxlZFRyYWNrLCB7XG4gICAgXCJhcmlhLWxhYmVsXCI6IGFyaWFMYWJlbCxcbiAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBhcmlhTGFiZWxsZWRCeSxcbiAgICBtaW46IG1pbixcbiAgICBtYXg6IG1heCxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgaXNJbmRldGVybWluYXRlOiBpc0luZGV0ZXJtaW5hdGUsXG4gICAgY3NzOiBjc3MsXG4gICAgYm9yZGVyUmFkaXVzOiBib3JkZXJSYWRpdXNcbiAgfSksIGNoaWxkcmVuKSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBQcm9ncmVzcy5kaXNwbGF5TmFtZSA9IFwiUHJvZ3Jlc3NcIjtcbn1cblxuZXhwb3J0IHsgQ2lyY3VsYXJQcm9ncmVzcywgQ2lyY3VsYXJQcm9ncmVzc0xhYmVsLCBQcm9ncmVzcywgUHJvZ3Jlc3NMYWJlbCB9O1xuIiwiaW1wb3J0IENTU1Jlc2V0IGZyb20gJ0BjaGFrcmEtdWkvY3NzLXJlc2V0JztcbmltcG9ydCB7IFBvcnRhbE1hbmFnZXIgfSBmcm9tICdAY2hha3JhLXVpL3BvcnRhbCc7XG5pbXBvcnQgeyBUaGVtZVByb3ZpZGVyLCBDb2xvck1vZGVQcm92aWRlciwgR2xvYmFsU3R5bGUgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBFbnZpcm9ubWVudFByb3ZpZGVyIH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdC1lbnYnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSWRQcm92aWRlciB9IGZyb20gJ0BjaGFrcmEtdWkvaG9va3MnO1xuXG4vKipcbiAqIFRoZSBnbG9iYWwgcHJvdmlkZXIgdGhhdCBtdXN0IGJlIGFkZGVkIHRvIG1ha2UgYWxsIENoYWtyYSBjb21wb25lbnRzXG4gKiB3b3JrIGNvcnJlY3RseVxuICovXG52YXIgQ2hha3JhUHJvdmlkZXIgPSBmdW5jdGlvbiBDaGFrcmFQcm92aWRlcihwcm9wcykge1xuICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbixcbiAgICAgIGNvbG9yTW9kZU1hbmFnZXIgPSBwcm9wcy5jb2xvck1vZGVNYW5hZ2VyLFxuICAgICAgcG9ydGFsWkluZGV4ID0gcHJvcHMucG9ydGFsWkluZGV4LFxuICAgICAgX3Byb3BzJHJlc2V0Q1NTID0gcHJvcHMucmVzZXRDU1MsXG4gICAgICByZXNldENTUyA9IF9wcm9wcyRyZXNldENTUyA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRyZXNldENTUyxcbiAgICAgIF9wcm9wcyR0aGVtZSA9IHByb3BzLnRoZW1lLFxuICAgICAgdGhlbWUgPSBfcHJvcHMkdGhlbWUgPT09IHZvaWQgMCA/IHt9IDogX3Byb3BzJHRoZW1lLFxuICAgICAgZW52aXJvbm1lbnQgPSBwcm9wcy5lbnZpcm9ubWVudCxcbiAgICAgIGNzc1ZhcnNSb290ID0gcHJvcHMuY3NzVmFyc1Jvb3Q7XG5cbiAgdmFyIF9jaGlsZHJlbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVudmlyb25tZW50UHJvdmlkZXIsIHtcbiAgICBlbnZpcm9ubWVudDogZW52aXJvbm1lbnRcbiAgfSwgY2hpbGRyZW4pO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJZFByb3ZpZGVyLCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUaGVtZVByb3ZpZGVyLCB7XG4gICAgdGhlbWU6IHRoZW1lLFxuICAgIGNzc1ZhcnNSb290OiBjc3NWYXJzUm9vdFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb2xvck1vZGVQcm92aWRlciwge1xuICAgIGNvbG9yTW9kZU1hbmFnZXI6IGNvbG9yTW9kZU1hbmFnZXIsXG4gICAgb3B0aW9uczogdGhlbWUuY29uZmlnXG4gIH0sIHJlc2V0Q1NTICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KENTU1Jlc2V0LCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoR2xvYmFsU3R5bGUsIG51bGwpLCBwb3J0YWxaSW5kZXggPyAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChQb3J0YWxNYW5hZ2VyLCB7XG4gICAgekluZGV4OiBwb3J0YWxaSW5kZXhcbiAgfSwgX2NoaWxkcmVuKSA6IF9jaGlsZHJlbikpKTtcbn07XG5cbmV4cG9ydCB7IENoYWtyYVByb3ZpZGVyIH07XG4iLCJpbXBvcnQgeyBmb3J3YXJkUmVmLCBjaGFrcmEsIHVzZU11bHRpU3R5bGVDb25maWcsIG9taXRUaGVtaW5nUHJvcHMsIGxheW91dFByb3BOYW1lcyB9IGZyb20gJ0BjaGFrcmEtdWkvc3lzdGVtJztcbmltcG9ydCB7IGlzSW5wdXRFdmVudCwgY3gsIF9fREVWX18sIHdhcm4sIGRhdGFBdHRyLCBjYWxsQWxsSGFuZGxlcnMsIGFyaWFBdHRyLCBjYWxsQWxsLCBzcGxpdCB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbWVyZ2VSZWZzLCBjcmVhdGVDb250ZXh0IH0gZnJvbSAnQGNoYWtyYS11aS9yZWFjdC11dGlscyc7XG5pbXBvcnQgeyB1c2VDb250cm9sbGFibGVQcm9wLCB1c2VJZCwgdXNlQm9vbGVhbiB9IGZyb20gJ0BjaGFrcmEtdWkvaG9va3MnO1xuaW1wb3J0IHsgdXNlRm9ybUNvbnRyb2xDb250ZXh0IH0gZnJvbSAnQGNoYWtyYS11aS9mb3JtLWNvbnRyb2wnO1xuaW1wb3J0IHsgdmlzdWFsbHlIaWRkZW5TdHlsZSB9IGZyb20gJ0BjaGFrcmEtdWkvdmlzdWFsbHktaGlkZGVuJztcblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbnZhciBfZXhjbHVkZWQkMyA9IFtcIm9uQ2hhbmdlXCIsIFwidmFsdWVcIiwgXCJkZWZhdWx0VmFsdWVcIiwgXCJuYW1lXCIsIFwiaXNEaXNhYmxlZFwiLCBcImlzRm9jdXNhYmxlXCIsIFwiaXNOYXRpdmVcIl07XG5cbi8qKlxuICogUmVhY3QgaG9vayB0byBtYW5hZ2UgYSBncm91cCBvZiByYWRpbyBpbnB1dHNcbiAqL1xuZnVuY3Rpb24gdXNlUmFkaW9Hcm91cChwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBvbkNoYW5nZVByb3AgPSBfcHJvcHMub25DaGFuZ2UsXG4gICAgICB2YWx1ZVByb3AgPSBfcHJvcHMudmFsdWUsXG4gICAgICBkZWZhdWx0VmFsdWUgPSBfcHJvcHMuZGVmYXVsdFZhbHVlLFxuICAgICAgbmFtZVByb3AgPSBfcHJvcHMubmFtZSxcbiAgICAgIGlzRGlzYWJsZWQgPSBfcHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgIGlzRm9jdXNhYmxlID0gX3Byb3BzLmlzRm9jdXNhYmxlLFxuICAgICAgaXNOYXRpdmUgPSBfcHJvcHMuaXNOYXRpdmUsXG4gICAgICBodG1sUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcHJvcHMsIF9leGNsdWRlZCQzKTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZGVmYXVsdFZhbHVlIHx8IFwiXCIpLFxuICAgICAgdmFsdWVTdGF0ZSA9IF9SZWFjdCR1c2VTdGF0ZVswXSxcbiAgICAgIHNldFZhbHVlID0gX1JlYWN0JHVzZVN0YXRlWzFdO1xuXG4gIHZhciBfdXNlQ29udHJvbGxhYmxlUHJvcCA9IHVzZUNvbnRyb2xsYWJsZVByb3AodmFsdWVQcm9wLCB2YWx1ZVN0YXRlKSxcbiAgICAgIGlzQ29udHJvbGxlZCA9IF91c2VDb250cm9sbGFibGVQcm9wWzBdLFxuICAgICAgdmFsdWUgPSBfdXNlQ29udHJvbGxhYmxlUHJvcFsxXTtcblxuICB2YXIgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZm9jdXMgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHJvb3ROb2RlID0gcmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFyb290Tm9kZSkgcmV0dXJuO1xuICAgIHZhciBxdWVyeSA9IFwiaW5wdXQ6bm90KDpkaXNhYmxlZCk6Y2hlY2tlZFwiO1xuICAgIHZhciBmaXJzdEVuYWJsZWRBbmRDaGVja2VkSW5wdXQgPSByb290Tm9kZS5xdWVyeVNlbGVjdG9yKHF1ZXJ5KTtcblxuICAgIGlmIChmaXJzdEVuYWJsZWRBbmRDaGVja2VkSW5wdXQpIHtcbiAgICAgIGZpcnN0RW5hYmxlZEFuZENoZWNrZWRJbnB1dC5mb2N1cygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHF1ZXJ5ID0gXCJpbnB1dDpub3QoOmRpc2FibGVkKVwiO1xuICAgIHZhciBmaXJzdEVuYWJsZWRJbnB1dCA9IHJvb3ROb2RlLnF1ZXJ5U2VsZWN0b3IocXVlcnkpO1xuICAgIGZpcnN0RW5hYmxlZElucHV0ID09IG51bGwgPyB2b2lkIDAgOiBmaXJzdEVuYWJsZWRJbnB1dC5mb2N1cygpO1xuICB9LCBbXSk7XG4gIC8qKlxuICAgKiBBbGwgcmFkaW8gb3B0aW9ucyBtdXN0IHVzZSB0aGUgc2FtZSBuYW1lXG4gICAqL1xuXG4gIHZhciBmYWxsYmFja05hbWUgPSB1c2VJZCh1bmRlZmluZWQsIFwicmFkaW9cIik7XG4gIHZhciBuYW1lID0gbmFtZVByb3AgfHwgZmFsbGJhY2tOYW1lO1xuICB2YXIgb25DaGFuZ2UgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnRPclZhbHVlKSB7XG4gICAgdmFyIG5leHRWYWx1ZSA9IGlzSW5wdXRFdmVudChldmVudE9yVmFsdWUpID8gZXZlbnRPclZhbHVlLnRhcmdldC52YWx1ZSA6IGV2ZW50T3JWYWx1ZTtcblxuICAgIGlmICghaXNDb250cm9sbGVkKSB7XG4gICAgICBzZXRWYWx1ZShuZXh0VmFsdWUpO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlUHJvcCA9PSBudWxsID8gdm9pZCAwIDogb25DaGFuZ2VQcm9wKFN0cmluZyhuZXh0VmFsdWUpKTtcbiAgfSwgW29uQ2hhbmdlUHJvcCwgaXNDb250cm9sbGVkXSk7XG4gIHZhciBnZXRSb290UHJvcHMgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIGZvcndhcmRlZFJlZikge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChmb3J3YXJkZWRSZWYgPT09IHZvaWQgMCkge1xuICAgICAgZm9yd2FyZGVkUmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICByZWY6IG1lcmdlUmVmcyhmb3J3YXJkZWRSZWYsIHJlZiksXG4gICAgICByb2xlOiBcInJhZGlvZ3JvdXBcIlxuICAgIH0pO1xuICB9LCBbXSk7XG4gIHZhciBnZXRSYWRpb1Byb3BzID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICB2YXIgX2V4dGVuZHMyO1xuXG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICByZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciBjaGVja2VkS2V5ID0gaXNOYXRpdmUgPyBcImNoZWNrZWRcIiA6IFwiaXNDaGVja2VkXCI7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywgKF9leHRlbmRzMiA9IHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgbmFtZTogbmFtZVxuICAgIH0sIF9leHRlbmRzMltjaGVja2VkS2V5XSA9IHZhbHVlICE9IG51bGwgPyBwcm9wcy52YWx1ZSA9PT0gdmFsdWUgOiB1bmRlZmluZWQsIF9leHRlbmRzMi5vbkNoYW5nZSA9IG9uQ2hhbmdlLCBfZXh0ZW5kczJbXCJkYXRhLXJhZGlvZ3JvdXBcIl0gPSB0cnVlLCBfZXh0ZW5kczIpKTtcbiAgfSwgW2lzTmF0aXZlLCBuYW1lLCBvbkNoYW5nZSwgdmFsdWVdKTtcbiAgcmV0dXJuIHtcbiAgICBnZXRSb290UHJvcHM6IGdldFJvb3RQcm9wcyxcbiAgICBnZXRSYWRpb1Byb3BzOiBnZXRSYWRpb1Byb3BzLFxuICAgIG5hbWU6IG5hbWUsXG4gICAgcmVmOiByZWYsXG4gICAgZm9jdXM6IGZvY3VzLFxuICAgIHNldFZhbHVlOiBzZXRWYWx1ZSxcbiAgICB2YWx1ZTogdmFsdWUsXG4gICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgaXNGb2N1c2FibGU6IGlzRm9jdXNhYmxlLFxuICAgIGh0bWxQcm9wczogaHRtbFByb3BzXG4gIH07XG59XG5cbnZhciBfZXhjbHVkZWQkMiA9IFtcImNvbG9yU2NoZW1lXCIsIFwic2l6ZVwiLCBcInZhcmlhbnRcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcImlzRGlzYWJsZWRcIiwgXCJpc0ZvY3VzYWJsZVwiXTtcblxudmFyIF9jcmVhdGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7XG4gIG5hbWU6IFwiUmFkaW9Hcm91cENvbnRleHRcIixcbiAgc3RyaWN0OiBmYWxzZVxufSksXG4gICAgUmFkaW9Hcm91cFByb3ZpZGVyID0gX2NyZWF0ZUNvbnRleHRbMF0sXG4gICAgdXNlUmFkaW9Hcm91cENvbnRleHQgPSBfY3JlYXRlQ29udGV4dFsxXTtcblxuLyoqXG4gKiBVc2VkIGZvciBtdWx0aXBsZSByYWRpb3Mgd2hpY2ggYXJlIGJvdW5kIGluIG9uZSBncm91cCxcbiAqIGFuZCBpdCBpbmRpY2F0ZXMgd2hpY2ggb3B0aW9uIGlzIHNlbGVjdGVkLlxuICpcbiAqIEBzZWUgRG9jcyBodHRwczovL2NoYWtyYS11aS5jb20vcmFkaW9cbiAqL1xudmFyIFJhZGlvR3JvdXAgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgY29sb3JTY2hlbWUgPSBwcm9wcy5jb2xvclNjaGVtZSxcbiAgICAgIHNpemUgPSBwcm9wcy5zaXplLFxuICAgICAgdmFyaWFudCA9IHByb3BzLnZhcmlhbnQsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgaXNEaXNhYmxlZCA9IHByb3BzLmlzRGlzYWJsZWQsXG4gICAgICBpc0ZvY3VzYWJsZSA9IHByb3BzLmlzRm9jdXNhYmxlLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQkMik7XG5cbiAgdmFyIF91c2VSYWRpb0dyb3VwID0gdXNlUmFkaW9Hcm91cChyZXN0KSxcbiAgICAgIHZhbHVlID0gX3VzZVJhZGlvR3JvdXAudmFsdWUsXG4gICAgICBvbkNoYW5nZSA9IF91c2VSYWRpb0dyb3VwLm9uQ2hhbmdlLFxuICAgICAgZ2V0Um9vdFByb3BzID0gX3VzZVJhZGlvR3JvdXAuZ2V0Um9vdFByb3BzLFxuICAgICAgbmFtZSA9IF91c2VSYWRpb0dyb3VwLm5hbWUsXG4gICAgICBodG1sUHJvcHMgPSBfdXNlUmFkaW9Hcm91cC5odG1sUHJvcHM7XG5cbiAgdmFyIGdyb3VwID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICBzaXplOiBzaXplLFxuICAgICAgb25DaGFuZ2U6IG9uQ2hhbmdlLFxuICAgICAgY29sb3JTY2hlbWU6IGNvbG9yU2NoZW1lLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgdmFyaWFudDogdmFyaWFudCxcbiAgICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICBpc0ZvY3VzYWJsZTogaXNGb2N1c2FibGVcbiAgICB9O1xuICB9LCBbbmFtZSwgc2l6ZSwgb25DaGFuZ2UsIGNvbG9yU2NoZW1lLCB2YWx1ZSwgdmFyaWFudCwgaXNEaXNhYmxlZCwgaXNGb2N1c2FibGVdKTtcbiAgdmFyIGdyb3VwUHJvcHMgPSBnZXRSb290UHJvcHMoaHRtbFByb3BzLCByZWYpO1xuXG4gIHZhciBfY2xhc3NOYW1lID0gY3goXCJjaGFrcmEtcmFkaW8tZ3JvdXBcIiwgY2xhc3NOYW1lKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmFkaW9Hcm91cFByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGdyb3VwXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHt9LCBncm91cFByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBfY2xhc3NOYW1lXG4gIH0pLCBjaGlsZHJlbikpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFJhZGlvR3JvdXAuZGlzcGxheU5hbWUgPSBcIlJhZGlvR3JvdXBcIjtcbn1cblxudmFyIF9leGNsdWRlZCQxID0gW1wiZGVmYXVsdElzQ2hlY2tlZFwiLCBcImRlZmF1bHRDaGVja2VkXCIsIFwiaXNDaGVja2VkXCIsIFwiaXNGb2N1c2FibGVcIiwgXCJpc0Rpc2FibGVkXCIsIFwiaXNSZWFkT25seVwiLCBcImlzUmVxdWlyZWRcIiwgXCJvbkNoYW5nZVwiLCBcImlzSW52YWxpZFwiLCBcIm5hbWVcIiwgXCJ2YWx1ZVwiLCBcImlkXCIsIFwiZGF0YS1yYWRpb2dyb3VwXCJdO1xuLyoqXG4gKiBAdG9kbyB1c2UgdGhlIGB1c2VDbGlja2FibGVgIGhvb2sgaGVyZVxuICogdG8gbWFuYWdlIHRoZSBpc0ZvY3VzYWJsZSAmIGlzRGlzYWJsZWQgcHJvcHNcbiAqL1xuXG5mdW5jdGlvbiB1c2VSYWRpbyhwcm9wcykge1xuICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgIHByb3BzID0ge307XG4gIH1cblxuICB2YXIgX3Byb3BzID0gcHJvcHMsXG4gICAgICBkZWZhdWx0SXNDaGVja2VkID0gX3Byb3BzLmRlZmF1bHRJc0NoZWNrZWQsXG4gICAgICBfcHJvcHMkZGVmYXVsdENoZWNrZWQgPSBfcHJvcHMuZGVmYXVsdENoZWNrZWQsXG4gICAgICBkZWZhdWx0Q2hlY2tlZCA9IF9wcm9wcyRkZWZhdWx0Q2hlY2tlZCA9PT0gdm9pZCAwID8gZGVmYXVsdElzQ2hlY2tlZCA6IF9wcm9wcyRkZWZhdWx0Q2hlY2tlZCxcbiAgICAgIGlzQ2hlY2tlZFByb3AgPSBfcHJvcHMuaXNDaGVja2VkLFxuICAgICAgaXNGb2N1c2FibGUgPSBfcHJvcHMuaXNGb2N1c2FibGUsXG4gICAgICBpc0Rpc2FibGVkUHJvcCA9IF9wcm9wcy5pc0Rpc2FibGVkLFxuICAgICAgaXNSZWFkT25seVByb3AgPSBfcHJvcHMuaXNSZWFkT25seSxcbiAgICAgIGlzUmVxdWlyZWRQcm9wID0gX3Byb3BzLmlzUmVxdWlyZWQsXG4gICAgICBvbkNoYW5nZSA9IF9wcm9wcy5vbkNoYW5nZSxcbiAgICAgIGlzSW52YWxpZFByb3AgPSBfcHJvcHMuaXNJbnZhbGlkLFxuICAgICAgbmFtZSA9IF9wcm9wcy5uYW1lLFxuICAgICAgdmFsdWUgPSBfcHJvcHMudmFsdWUsXG4gICAgICBpZFByb3AgPSBfcHJvcHMuaWQsXG4gICAgICBkYXRhUmFkaW9Hcm91cCA9IF9wcm9wc1tcImRhdGEtcmFkaW9ncm91cFwiXSxcbiAgICAgIGh0bWxQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9wcm9wcywgX2V4Y2x1ZGVkJDEpO1xuXG4gIHZhciB1dWlkID0gdXNlSWQodW5kZWZpbmVkLCBcInJhZGlvXCIpO1xuICB2YXIgZm9ybUNvbnRyb2wgPSB1c2VGb3JtQ29udHJvbENvbnRleHQoKTtcbiAgdmFyIGdyb3VwID0gdXNlUmFkaW9Hcm91cENvbnRleHQoKTtcbiAgdmFyIGlzV2l0aGluUmFkaW9Hcm91cCA9ICEhZ3JvdXAgfHwgISFkYXRhUmFkaW9Hcm91cDtcbiAgdmFyIGlzV2l0aGluRm9ybUNvbnRyb2wgPSAhIWZvcm1Db250cm9sO1xuICB2YXIgaWQgPSBpc1dpdGhpbkZvcm1Db250cm9sICYmICFpc1dpdGhpblJhZGlvR3JvdXAgPyBmb3JtQ29udHJvbC5pZCA6IHV1aWQ7XG4gIGlkID0gaWRQcm9wICE9IG51bGwgPyBpZFByb3AgOiBpZDtcbiAgdmFyIGlzRGlzYWJsZWQgPSBpc0Rpc2FibGVkUHJvcCAhPSBudWxsID8gaXNEaXNhYmxlZFByb3AgOiBmb3JtQ29udHJvbCA9PSBudWxsID8gdm9pZCAwIDogZm9ybUNvbnRyb2wuaXNEaXNhYmxlZDtcbiAgdmFyIGlzUmVhZE9ubHkgPSBpc1JlYWRPbmx5UHJvcCAhPSBudWxsID8gaXNSZWFkT25seVByb3AgOiBmb3JtQ29udHJvbCA9PSBudWxsID8gdm9pZCAwIDogZm9ybUNvbnRyb2wuaXNSZWFkT25seTtcbiAgdmFyIGlzUmVxdWlyZWQgPSBpc1JlcXVpcmVkUHJvcCAhPSBudWxsID8gaXNSZXF1aXJlZFByb3AgOiBmb3JtQ29udHJvbCA9PSBudWxsID8gdm9pZCAwIDogZm9ybUNvbnRyb2wuaXNSZXF1aXJlZDtcbiAgdmFyIGlzSW52YWxpZCA9IGlzSW52YWxpZFByb3AgIT0gbnVsbCA/IGlzSW52YWxpZFByb3AgOiBmb3JtQ29udHJvbCA9PSBudWxsID8gdm9pZCAwIDogZm9ybUNvbnRyb2wuaXNJbnZhbGlkO1xuXG4gIHZhciBfdXNlQm9vbGVhbiA9IHVzZUJvb2xlYW4oKSxcbiAgICAgIGlzRm9jdXNlZCA9IF91c2VCb29sZWFuWzBdLFxuICAgICAgc2V0Rm9jdXNlZCA9IF91c2VCb29sZWFuWzFdO1xuXG4gIHZhciBfdXNlQm9vbGVhbjIgPSB1c2VCb29sZWFuKCksXG4gICAgICBpc0hvdmVyZWQgPSBfdXNlQm9vbGVhbjJbMF0sXG4gICAgICBzZXRIb3ZlcmluZyA9IF91c2VCb29sZWFuMlsxXTtcblxuICB2YXIgX3VzZUJvb2xlYW4zID0gdXNlQm9vbGVhbigpLFxuICAgICAgaXNBY3RpdmUgPSBfdXNlQm9vbGVhbjNbMF0sXG4gICAgICBzZXRBY3RpdmUgPSBfdXNlQm9vbGVhbjNbMV07XG5cbiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKEJvb2xlYW4oZGVmYXVsdENoZWNrZWQpKSxcbiAgICAgIGlzQ2hlY2tlZFN0YXRlID0gX3VzZVN0YXRlWzBdLFxuICAgICAgc2V0Q2hlY2tlZCA9IF91c2VTdGF0ZVsxXTtcblxuICB2YXIgX3VzZUNvbnRyb2xsYWJsZVByb3AgPSB1c2VDb250cm9sbGFibGVQcm9wKGlzQ2hlY2tlZFByb3AsIGlzQ2hlY2tlZFN0YXRlKSxcbiAgICAgIGlzQ29udHJvbGxlZCA9IF91c2VDb250cm9sbGFibGVQcm9wWzBdLFxuICAgICAgaXNDaGVja2VkID0gX3VzZUNvbnRyb2xsYWJsZVByb3BbMV07XG5cbiAgd2Fybih7XG4gICAgY29uZGl0aW9uOiAhIWRlZmF1bHRJc0NoZWNrZWQsXG4gICAgbWVzc2FnZTogJ1RoZSBcImRlZmF1bHRJc0NoZWNrZWRcIiBwcm9wIGhhcyBiZWVuIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uLiAnICsgJ1BsZWFzZSB1c2UgdGhlIFwiZGVmYXVsdENoZWNrZWRcIiBwcm9wIGluc3RlYWQsIHdoaWNoIG1pcnJvcnMgZGVmYXVsdCBSZWFjdCBjaGVja2JveCBiZWhhdmlvci4nXG4gIH0pO1xuICB2YXIgaGFuZGxlQ2hhbmdlID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGlzUmVhZE9ubHkgfHwgaXNEaXNhYmxlZCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWlzQ29udHJvbGxlZCkge1xuICAgICAgc2V0Q2hlY2tlZChldmVudC50YXJnZXQuY2hlY2tlZCk7XG4gICAgfVxuXG4gICAgb25DaGFuZ2UgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ2hhbmdlKGV2ZW50KTtcbiAgfSwgW2lzQ29udHJvbGxlZCwgaXNEaXNhYmxlZCwgaXNSZWFkT25seSwgb25DaGFuZ2VdKTtcbiAgdmFyIG9uS2V5RG93biA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudC5rZXkgPT09IFwiIFwiKSB7XG4gICAgICBzZXRBY3RpdmUub24oKTtcbiAgICB9XG4gIH0sIFtzZXRBY3RpdmVdKTtcbiAgdmFyIG9uS2V5VXAgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSBcIiBcIikge1xuICAgICAgc2V0QWN0aXZlLm9mZigpO1xuICAgIH1cbiAgfSwgW3NldEFjdGl2ZV0pO1xuICB2YXIgZ2V0Q2hlY2tib3hQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICByZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgXCJkYXRhLWFjdGl2ZVwiOiBkYXRhQXR0cihpc0FjdGl2ZSksXG4gICAgICBcImRhdGEtaG92ZXJcIjogZGF0YUF0dHIoaXNIb3ZlcmVkKSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGlzSW52YWxpZCksXG4gICAgICBcImRhdGEtY2hlY2tlZFwiOiBkYXRhQXR0cihpc0NoZWNrZWQpLFxuICAgICAgXCJkYXRhLWZvY3VzXCI6IGRhdGFBdHRyKGlzRm9jdXNlZCksXG4gICAgICBcImRhdGEtcmVhZG9ubHlcIjogZGF0YUF0dHIoaXNSZWFkT25seSksXG4gICAgICBcImFyaWEtaGlkZGVuXCI6IHRydWUsXG4gICAgICBvbk1vdXNlRG93bjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uTW91c2VEb3duLCBzZXRBY3RpdmUub24pLFxuICAgICAgb25Nb3VzZVVwOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Nb3VzZVVwLCBzZXRBY3RpdmUub2ZmKSxcbiAgICAgIG9uTW91c2VFbnRlcjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uTW91c2VFbnRlciwgc2V0SG92ZXJpbmcub24pLFxuICAgICAgb25Nb3VzZUxlYXZlOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Nb3VzZUxlYXZlLCBzZXRIb3ZlcmluZy5vZmYpXG4gICAgfSk7XG4gIH0sIFtpc0FjdGl2ZSwgaXNIb3ZlcmVkLCBpc0Rpc2FibGVkLCBpc0ludmFsaWQsIGlzQ2hlY2tlZCwgaXNGb2N1c2VkLCBpc1JlYWRPbmx5LCBzZXRBY3RpdmUub24sIHNldEFjdGl2ZS5vZmYsIHNldEhvdmVyaW5nLm9uLCBzZXRIb3ZlcmluZy5vZmZdKTtcblxuICB2YXIgX3JlZiA9IGZvcm1Db250cm9sICE9IG51bGwgPyBmb3JtQ29udHJvbCA6IHt9LFxuICAgICAgb25Gb2N1cyA9IF9yZWYub25Gb2N1cyxcbiAgICAgIG9uQmx1ciA9IF9yZWYub25CbHVyO1xuXG4gIHZhciBnZXRJbnB1dFByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHRydWx5RGlzYWJsZWQgPSBpc0Rpc2FibGVkICYmICFpc0ZvY3VzYWJsZTtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICBpZDogaWQsXG4gICAgICByZWY6IHJlZixcbiAgICAgIHR5cGU6IFwicmFkaW9cIixcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBvbkNoYW5nZTogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uQ2hhbmdlLCBoYW5kbGVDaGFuZ2UpLFxuICAgICAgb25CbHVyOiBjYWxsQWxsSGFuZGxlcnMob25CbHVyLCBwcm9wcy5vbkJsdXIsIHNldEZvY3VzZWQub2ZmKSxcbiAgICAgIG9uRm9jdXM6IGNhbGxBbGxIYW5kbGVycyhvbkZvY3VzLCBwcm9wcy5vbkZvY3VzLCBzZXRGb2N1c2VkLm9uKSxcbiAgICAgIG9uS2V5RG93bjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgb25LZXlEb3duKSxcbiAgICAgIG9uS2V5VXA6IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbktleVVwLCBvbktleVVwKSxcbiAgICAgIGNoZWNrZWQ6IGlzQ2hlY2tlZCxcbiAgICAgIGRpc2FibGVkOiB0cnVseURpc2FibGVkLFxuICAgICAgcmVhZE9ubHk6IGlzUmVhZE9ubHksXG4gICAgICByZXF1aXJlZDogaXNSZXF1aXJlZCxcbiAgICAgIFwiYXJpYS1pbnZhbGlkXCI6IGFyaWFBdHRyKGlzSW52YWxpZCksXG4gICAgICBcImFyaWEtZGlzYWJsZWRcIjogYXJpYUF0dHIodHJ1bHlEaXNhYmxlZCksXG4gICAgICBcImFyaWEtcmVxdWlyZWRcIjogYXJpYUF0dHIoaXNSZXF1aXJlZCksXG4gICAgICBcImRhdGEtcmVhZG9ubHlcIjogZGF0YUF0dHIoaXNSZWFkT25seSksXG4gICAgICBzdHlsZTogdmlzdWFsbHlIaWRkZW5TdHlsZVxuICAgIH0pO1xuICB9LCBbaXNEaXNhYmxlZCwgaXNGb2N1c2FibGUsIGlkLCBuYW1lLCB2YWx1ZSwgaGFuZGxlQ2hhbmdlLCBvbkJsdXIsIHNldEZvY3VzZWQsIG9uRm9jdXMsIG9uS2V5RG93biwgb25LZXlVcCwgaXNDaGVja2VkLCBpc1JlYWRPbmx5LCBpc1JlcXVpcmVkLCBpc0ludmFsaWRdKTtcblxuICB2YXIgZ2V0TGFiZWxQcm9wcyA9IGZ1bmN0aW9uIGdldExhYmVsUHJvcHMocHJvcHMsIHJlZikge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChyZWYgPT09IHZvaWQgMCkge1xuICAgICAgcmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICByZWY6IHJlZixcbiAgICAgIG9uTW91c2VEb3duOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Nb3VzZURvd24sIHN0b3ApLFxuICAgICAgb25Ub3VjaFN0YXJ0OiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Ub3VjaFN0YXJ0LCBzdG9wKSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1jaGVja2VkXCI6IGRhdGFBdHRyKGlzQ2hlY2tlZCksXG4gICAgICBcImRhdGEtaW52YWxpZFwiOiBkYXRhQXR0cihpc0ludmFsaWQpXG4gICAgfSk7XG4gIH07XG5cbiAgdmFyIGdldFJvb3RQcm9wcyA9IGZ1bmN0aW9uIGdldFJvb3RQcm9wcyhwcm9wcywgcmVmKSB7XG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICByZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLWNoZWNrZWRcIjogZGF0YUF0dHIoaXNDaGVja2VkKSxcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKGlzSW52YWxpZClcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHN0YXRlOiB7XG4gICAgICBpc0ludmFsaWQ6IGlzSW52YWxpZCxcbiAgICAgIGlzRm9jdXNlZDogaXNGb2N1c2VkLFxuICAgICAgaXNDaGVja2VkOiBpc0NoZWNrZWQsXG4gICAgICBpc0FjdGl2ZTogaXNBY3RpdmUsXG4gICAgICBpc0hvdmVyZWQ6IGlzSG92ZXJlZCxcbiAgICAgIGlzRGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICBpc1JlYWRPbmx5OiBpc1JlYWRPbmx5LFxuICAgICAgaXNSZXF1aXJlZDogaXNSZXF1aXJlZFxuICAgIH0sXG4gICAgZ2V0Q2hlY2tib3hQcm9wczogZ2V0Q2hlY2tib3hQcm9wcyxcbiAgICBnZXRJbnB1dFByb3BzOiBnZXRJbnB1dFByb3BzLFxuICAgIGdldExhYmVsUHJvcHM6IGdldExhYmVsUHJvcHMsXG4gICAgZ2V0Um9vdFByb3BzOiBnZXRSb290UHJvcHMsXG4gICAgaHRtbFByb3BzOiBodG1sUHJvcHNcbiAgfTtcbn1cbi8qKlxuICogUHJldmVudCBgb25CbHVyYCBiZWluZyBmaXJlZCB3aGVuIHRoZSBjaGVja2JveCBsYWJlbCBpcyB0b3VjaGVkXG4gKi9cblxuZnVuY3Rpb24gc3RvcChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbn1cblxudmFyIF9leGNsdWRlZCA9IFtcInNwYWNpbmdcIiwgXCJjaGlsZHJlblwiLCBcImlzRnVsbFdpZHRoXCIsIFwiaXNEaXNhYmxlZFwiLCBcImlzRm9jdXNhYmxlXCJdO1xuXG4vKipcbiAqIFJhZGlvIGNvbXBvbmVudCBpcyB1c2VkIGluIGZvcm1zIHdoZW4gYSB1c2VyIG5lZWRzIHRvIHNlbGVjdCBhIHNpbmdsZSB2YWx1ZSBmcm9tXG4gKiBzZXZlcmFsIG9wdGlvbnMuXG4gKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vY2hha3JhLXVpLmNvbS9yYWRpb1xuICovXG52YXIgUmFkaW8gPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3Byb3BzJG5hbWU7XG5cbiAgdmFyIGdyb3VwID0gdXNlUmFkaW9Hcm91cENvbnRleHQoKTtcbiAgdmFyIG9uQ2hhbmdlUHJvcCA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgdmFsdWVQcm9wID0gcHJvcHMudmFsdWU7XG4gIHZhciBzdHlsZXMgPSB1c2VNdWx0aVN0eWxlQ29uZmlnKFwiUmFkaW9cIiwgX2V4dGVuZHMoe30sIGdyb3VwLCBwcm9wcykpO1xuICB2YXIgb3duUHJvcHMgPSBvbWl0VGhlbWluZ1Byb3BzKHByb3BzKTtcblxuICB2YXIgX293blByb3BzJHNwYWNpbmcgPSBvd25Qcm9wcy5zcGFjaW5nLFxuICAgICAgc3BhY2luZyA9IF9vd25Qcm9wcyRzcGFjaW5nID09PSB2b2lkIDAgPyBcIjAuNXJlbVwiIDogX293blByb3BzJHNwYWNpbmcsXG4gICAgICBjaGlsZHJlbiA9IG93blByb3BzLmNoaWxkcmVuLFxuICAgICAgaXNGdWxsV2lkdGggPSBvd25Qcm9wcy5pc0Z1bGxXaWR0aCxcbiAgICAgIF9vd25Qcm9wcyRpc0Rpc2FibGVkID0gb3duUHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgIGlzRGlzYWJsZWQgPSBfb3duUHJvcHMkaXNEaXNhYmxlZCA9PT0gdm9pZCAwID8gZ3JvdXAgPT0gbnVsbCA/IHZvaWQgMCA6IGdyb3VwLmlzRGlzYWJsZWQgOiBfb3duUHJvcHMkaXNEaXNhYmxlZCxcbiAgICAgIF9vd25Qcm9wcyRpc0ZvY3VzYWJsZSA9IG93blByb3BzLmlzRm9jdXNhYmxlLFxuICAgICAgaXNGb2N1c2FibGUgPSBfb3duUHJvcHMkaXNGb2N1c2FibGUgPT09IHZvaWQgMCA/IGdyb3VwID09IG51bGwgPyB2b2lkIDAgOiBncm91cC5pc0ZvY3VzYWJsZSA6IF9vd25Qcm9wcyRpc0ZvY3VzYWJsZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShvd25Qcm9wcywgX2V4Y2x1ZGVkKTtcblxuICB2YXIgaXNDaGVja2VkID0gcHJvcHMuaXNDaGVja2VkO1xuXG4gIGlmICgoZ3JvdXAgPT0gbnVsbCA/IHZvaWQgMCA6IGdyb3VwLnZhbHVlKSAhPSBudWxsICYmIHZhbHVlUHJvcCAhPSBudWxsKSB7XG4gICAgaXNDaGVja2VkID0gZ3JvdXAudmFsdWUgPT09IHZhbHVlUHJvcDtcbiAgfVxuXG4gIHZhciBvbkNoYW5nZSA9IG9uQ2hhbmdlUHJvcDtcblxuICBpZiAoZ3JvdXAgIT0gbnVsbCAmJiBncm91cC5vbkNoYW5nZSAmJiB2YWx1ZVByb3AgIT0gbnVsbCkge1xuICAgIG9uQ2hhbmdlID0gY2FsbEFsbChncm91cC5vbkNoYW5nZSwgb25DaGFuZ2VQcm9wKTtcbiAgfVxuXG4gIHZhciBuYW1lID0gKF9wcm9wcyRuYW1lID0gcHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3BzLm5hbWUpICE9IG51bGwgPyBfcHJvcHMkbmFtZSA6IGdyb3VwID09IG51bGwgPyB2b2lkIDAgOiBncm91cC5uYW1lO1xuXG4gIHZhciBfdXNlUmFkaW8gPSB1c2VSYWRpbyhfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIGlzQ2hlY2tlZDogaXNDaGVja2VkLFxuICAgIGlzRm9jdXNhYmxlOiBpc0ZvY3VzYWJsZSxcbiAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZSxcbiAgICBuYW1lOiBuYW1lXG4gIH0pKSxcbiAgICAgIGdldElucHV0UHJvcHMgPSBfdXNlUmFkaW8uZ2V0SW5wdXRQcm9wcyxcbiAgICAgIGdldENoZWNrYm94UHJvcHMgPSBfdXNlUmFkaW8uZ2V0Q2hlY2tib3hQcm9wcyxcbiAgICAgIGdldExhYmVsUHJvcHMgPSBfdXNlUmFkaW8uZ2V0TGFiZWxQcm9wcyxcbiAgICAgIGdldFJvb3RQcm9wcyA9IF91c2VSYWRpby5nZXRSb290UHJvcHMsXG4gICAgICBodG1sUHJvcHMgPSBfdXNlUmFkaW8uaHRtbFByb3BzO1xuXG4gIHZhciBfc3BsaXQgPSBzcGxpdChodG1sUHJvcHMsIGxheW91dFByb3BOYW1lcyksXG4gICAgICBsYXlvdXRQcm9wcyA9IF9zcGxpdFswXSxcbiAgICAgIG90aGVyUHJvcHMgPSBfc3BsaXRbMV07XG5cbiAgdmFyIGNoZWNrYm94UHJvcHMgPSBnZXRDaGVja2JveFByb3BzKG90aGVyUHJvcHMpO1xuICB2YXIgaW5wdXRQcm9wcyA9IGdldElucHV0UHJvcHMoe30sIHJlZik7XG4gIHZhciBsYWJlbFByb3BzID0gZ2V0TGFiZWxQcm9wcygpO1xuICB2YXIgcm9vdFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgbGF5b3V0UHJvcHMsIGdldFJvb3RQcm9wcygpKTtcblxuICB2YXIgcm9vdFN0eWxlcyA9IF9leHRlbmRzKHtcbiAgICB3aWR0aDogaXNGdWxsV2lkdGggPyBcImZ1bGxcIiA6IHVuZGVmaW5lZCxcbiAgICBkaXNwbGF5OiBcImlubGluZS1mbGV4XCIsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICB2ZXJ0aWNhbEFsaWduOiBcInRvcFwiLFxuICAgIGN1cnNvcjogXCJwb2ludGVyXCJcbiAgfSwgc3R5bGVzLmNvbnRhaW5lcik7XG5cbiAgdmFyIGNoZWNrYm94U3R5bGVzID0gX2V4dGVuZHMoe1xuICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgIGZsZXhTaHJpbms6IDBcbiAgfSwgc3R5bGVzLmNvbnRyb2wpO1xuXG4gIHZhciBsYWJlbFN0eWxlcyA9IF9leHRlbmRzKHtcbiAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICBtYXJnaW5TdGFydDogc3BhY2luZ1xuICB9LCBzdHlsZXMubGFiZWwpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEubGFiZWwsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLXJhZGlvXCJcbiAgfSwgcm9vdFByb3BzLCB7XG4gICAgX19jc3M6IHJvb3RTdHlsZXNcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgX2V4dGVuZHMoe1xuICAgIGNsYXNzTmFtZTogXCJjaGFrcmEtcmFkaW9fX2lucHV0XCJcbiAgfSwgaW5wdXRQcm9wcykpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuc3BhbiwgX2V4dGVuZHMoe1xuICAgIGNsYXNzTmFtZTogXCJjaGFrcmEtcmFkaW9fX2NvbnRyb2xcIlxuICB9LCBjaGVja2JveFByb3BzLCB7XG4gICAgX19jc3M6IGNoZWNrYm94U3R5bGVzXG4gIH0pKSwgY2hpbGRyZW4gJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnNwYW4sIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLXJhZGlvX19sYWJlbFwiXG4gIH0sIGxhYmVsUHJvcHMsIHtcbiAgICBfX2NzczogbGFiZWxTdHlsZXNcbiAgfSksIGNoaWxkcmVuKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgUmFkaW8uZGlzcGxheU5hbWUgPSBcIlJhZGlvXCI7XG59XG5cbmV4cG9ydCB7IFJhZGlvLCBSYWRpb0dyb3VwLCB1c2VSYWRpbywgdXNlUmFkaW9Hcm91cCwgdXNlUmFkaW9Hcm91cENvbnRleHQgfTtcbiIsImltcG9ydCB7IENoYWtyYVByb3ZpZGVyIGFzIENoYWtyYVByb3ZpZGVyJDEgfSBmcm9tICdAY2hha3JhLXVpL3Byb3ZpZGVyJztcbmltcG9ydCB7IHRoZW1lIGFzIHRoZW1lJDEsIGlzQ2hha3JhVGhlbWUgfSBmcm9tICdAY2hha3JhLXVpL3RoZW1lJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvdGhlbWUnO1xuaW1wb3J0IHsgcGlwZSwgaXNGdW5jdGlvbiwgbWVyZ2VXaXRoLCBpc09iamVjdCwgZnJvbUVudHJpZXMgfSBmcm9tICdAY2hha3JhLXVpL3V0aWxzJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvYWNjb3JkaW9uJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvYWxlcnQnO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9hdmF0YXInO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9icmVhZGNydW1iJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvYnV0dG9uJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvY2hlY2tib3gnO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9jbG9zZS1idXR0b24nO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9jb3VudGVyJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvY3NzLXJlc2V0JztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvZWRpdGFibGUnO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9mb3JtLWNvbnRyb2wnO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9jb250cm9sLWJveCc7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL2hvb2tzJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvaWNvbic7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL2ltYWdlJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvaW5wdXQnO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9sYXlvdXQnO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9tZWRpYS1xdWVyeSc7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL3RhYmxlJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvbWVudSc7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL21vZGFsJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvbnVtYmVyLWlucHV0JztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvcGluLWlucHV0JztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvcG9wb3Zlcic7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL3BvcHBlcic7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL3BvcnRhbCc7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL3Byb2dyZXNzJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvcmFkaW8nO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9zZWxlY3QnO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9za2VsZXRvbic7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL3NsaWRlcic7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL3NwaW5uZXInO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS9zdGF0JztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvc3dpdGNoJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvc3lzdGVtJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvdGFicyc7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL3RhZyc7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL3RleHRhcmVhJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvdG9hc3QnO1xuZXhwb3J0ICogZnJvbSAnQGNoYWtyYS11aS90b29sdGlwJztcbmV4cG9ydCAqIGZyb20gJ0BjaGFrcmEtdWkvdHJhbnNpdGlvbic7XG5leHBvcnQgKiBmcm9tICdAY2hha3JhLXVpL3Zpc3VhbGx5LWhpZGRlbic7XG5cbnZhciBDaGFrcmFQcm92aWRlciA9IENoYWtyYVByb3ZpZGVyJDE7XG5DaGFrcmFQcm92aWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIHRoZW1lOiB0aGVtZSQxXG59O1xuXG4vKipcbiAqIE5PVEU6IFRoaXMgZ290IHRvbyBjb21wbGV4IHRvIG1hbmFnZSBhbmQgaXQncyBub3Qgd29ydGggdGhlIGV4dHJhIGNvbXBsZXhpdHkuXG4gKiBXZSdsbCByZS1ldmFsdWF0ZSB0aGlzIEFQSSBpbiB0aGUgZnV0dXJlIHJlbGVhc2VzLlxuICpcbiAqIEZ1bmN0aW9uIHRvIG92ZXJyaWRlIG9yIGN1c3RvbWl6ZSB0aGUgQ2hha3JhIFVJIHRoZW1lIGNvbnZlbmllbnRseS5cbiAqIEZpcnN0IGV4dGVuc2lvbiBvdmVycmlkZXMgdGhlIGJhc2VUaGVtZSBhbmQgZm9sbG93aW5nIGV4dGVuc2lvbnMgb3ZlcnJpZGUgdGhlIHByZWNlZGluZyBleHRlbnNpb25zLlxuICpcbiAqIEBleGFtcGxlOlxuICogaW1wb3J0IHsgdGhlbWUgYXMgYmFzZVRoZW1lLCBleHRlbmRUaGVtZSwgd2l0aERlZmF1bHRDb2xvclNjaGVtZSB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QnXG4gKlxuICogY29uc3QgY3VzdG9tVGhlbWUgPSBleHRlbmRUaGVtZShcbiAqICAge1xuICogICAgIGNvbG9yczoge1xuICogICAgICAgYnJhbmQ6IHtcbiAqICAgICAgICAgNTAwOiBcIiNiNGQ0NTVcIixcbiAqICAgICAgIH0sXG4gKiAgICAgfSxcbiAqICAgfSxcbiAqICAgd2l0aERlZmF1bHRDb2xvclNjaGVtZSh7IGNvbG9yU2NoZW1lOiBcInJlZFwiIH0pLFxuICogICBiYXNlVGhlbWUgLy8gb3B0aW9uYWxcbiAqIClcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kVGhlbWUoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBleHRlbnNpb25zID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGV4dGVuc2lvbnNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICB2YXIgb3ZlcnJpZGVzID0gW10uY29uY2F0KGV4dGVuc2lvbnMpO1xuICB2YXIgYmFzZVRoZW1lID0gZXh0ZW5zaW9uc1tleHRlbnNpb25zLmxlbmd0aCAtIDFdO1xuXG4gIGlmIChpc0NoYWtyYVRoZW1lKGJhc2VUaGVtZSkgJiYgLy8gdGhpcyBlbnN1cmVzIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgLy8gcHJldmlvdXNseSBvbmx5IGBleHRlbmRUaGVtZShvdmVycmlkZSwgYmFzZVRoZW1lPylgIHdhcyBhbGxvd2VkXG4gIG92ZXJyaWRlcy5sZW5ndGggPiAxKSB7XG4gICAgb3ZlcnJpZGVzID0gb3ZlcnJpZGVzLnNsaWNlKDAsIG92ZXJyaWRlcy5sZW5ndGggLSAxKTtcbiAgfSBlbHNlIHtcbiAgICBiYXNlVGhlbWUgPSB0aGVtZSQxO1xuICB9XG5cbiAgcmV0dXJuIHBpcGUuYXBwbHkodm9pZCAwLCBvdmVycmlkZXMubWFwKGZ1bmN0aW9uIChleHRlbnNpb24pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHByZXZUaGVtZSkge1xuICAgICAgcmV0dXJuIGlzRnVuY3Rpb24oZXh0ZW5zaW9uKSA/IGV4dGVuc2lvbihwcmV2VGhlbWUpIDogbWVyZ2VUaGVtZU92ZXJyaWRlKHByZXZUaGVtZSwgZXh0ZW5zaW9uKTtcbiAgICB9O1xuICB9KSkoYmFzZVRoZW1lKTtcbn1cbmZ1bmN0aW9uIG1lcmdlVGhlbWVPdmVycmlkZSgpIHtcbiAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBvdmVycmlkZXMgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBvdmVycmlkZXNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuXG4gIHJldHVybiBtZXJnZVdpdGguYXBwbHkodm9pZCAwLCBbe31dLmNvbmNhdChvdmVycmlkZXMsIFttZXJnZVRoZW1lQ3VzdG9taXplcl0pKTtcbn1cblxuZnVuY3Rpb24gbWVyZ2VUaGVtZUN1c3RvbWl6ZXIoc291cmNlLCBvdmVycmlkZSwga2V5LCBvYmplY3QpIHtcbiAgaWYgKChpc0Z1bmN0aW9uKHNvdXJjZSkgfHwgaXNGdW5jdGlvbihvdmVycmlkZSkpICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNvdXJjZVZhbHVlID0gaXNGdW5jdGlvbihzb3VyY2UpID8gc291cmNlLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKSA6IHNvdXJjZTtcbiAgICAgIHZhciBvdmVycmlkZVZhbHVlID0gaXNGdW5jdGlvbihvdmVycmlkZSkgPyBvdmVycmlkZS5hcHBseSh2b2lkIDAsIGFyZ3VtZW50cykgOiBvdmVycmlkZTtcbiAgICAgIHJldHVybiBtZXJnZVdpdGgoe30sIHNvdXJjZVZhbHVlLCBvdmVycmlkZVZhbHVlLCBtZXJnZVRoZW1lQ3VzdG9taXplcik7XG4gICAgfTtcbiAgfSAvLyBmYWxsYmFjayB0byBkZWZhdWx0IGJlaGF2aW91clxuXG5cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gd2l0aERlZmF1bHRDb2xvclNjaGVtZShfcmVmKSB7XG4gIHZhciBjb2xvclNjaGVtZSA9IF9yZWYuY29sb3JTY2hlbWUsXG4gICAgICBjb21wb25lbnRzID0gX3JlZi5jb21wb25lbnRzO1xuICByZXR1cm4gZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgdmFyIG5hbWVzID0gT2JqZWN0LmtleXModGhlbWUuY29tcG9uZW50cyB8fCB7fSk7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb21wb25lbnRzKSkge1xuICAgICAgbmFtZXMgPSBjb21wb25lbnRzO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoY29tcG9uZW50cykpIHtcbiAgICAgIG5hbWVzID0gT2JqZWN0LmtleXMoY29tcG9uZW50cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lcmdlVGhlbWVPdmVycmlkZSh0aGVtZSwge1xuICAgICAgY29tcG9uZW50czogZnJvbUVudHJpZXMobmFtZXMubWFwKGZ1bmN0aW9uIChjb21wb25lbnROYW1lKSB7XG4gICAgICAgIHZhciB3aXRoQ29sb3JTY2hlbWUgPSB7XG4gICAgICAgICAgZGVmYXVsdFByb3BzOiB7XG4gICAgICAgICAgICBjb2xvclNjaGVtZTogY29sb3JTY2hlbWVcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBbY29tcG9uZW50TmFtZSwgd2l0aENvbG9yU2NoZW1lXTtcbiAgICAgIH0pKVxuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiB3aXRoRGVmYXVsdFNpemUoX3JlZikge1xuICB2YXIgc2l6ZSA9IF9yZWYuc2l6ZSxcbiAgICAgIGNvbXBvbmVudHMgPSBfcmVmLmNvbXBvbmVudHM7XG4gIHJldHVybiBmdW5jdGlvbiAodGhlbWUpIHtcbiAgICB2YXIgbmFtZXMgPSBPYmplY3Qua2V5cyh0aGVtZS5jb21wb25lbnRzIHx8IHt9KTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KGNvbXBvbmVudHMpKSB7XG4gICAgICBuYW1lcyA9IGNvbXBvbmVudHM7XG4gICAgfSBlbHNlIGlmIChpc09iamVjdChjb21wb25lbnRzKSkge1xuICAgICAgbmFtZXMgPSBPYmplY3Qua2V5cyhjb21wb25lbnRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVyZ2VUaGVtZU92ZXJyaWRlKHRoZW1lLCB7XG4gICAgICBjb21wb25lbnRzOiBmcm9tRW50cmllcyhuYW1lcy5tYXAoZnVuY3Rpb24gKGNvbXBvbmVudE5hbWUpIHtcbiAgICAgICAgdmFyIHdpdGhTaXplID0ge1xuICAgICAgICAgIGRlZmF1bHRQcm9wczoge1xuICAgICAgICAgICAgc2l6ZTogc2l6ZVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFtjb21wb25lbnROYW1lLCB3aXRoU2l6ZV07XG4gICAgICB9KSlcbiAgICB9KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gd2l0aERlZmF1bHRWYXJpYW50KF9yZWYpIHtcbiAgdmFyIHZhcmlhbnQgPSBfcmVmLnZhcmlhbnQsXG4gICAgICBjb21wb25lbnRzID0gX3JlZi5jb21wb25lbnRzO1xuICByZXR1cm4gZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgdmFyIG5hbWVzID0gT2JqZWN0LmtleXModGhlbWUuY29tcG9uZW50cyB8fCB7fSk7XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjb21wb25lbnRzKSkge1xuICAgICAgbmFtZXMgPSBjb21wb25lbnRzO1xuICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoY29tcG9uZW50cykpIHtcbiAgICAgIG5hbWVzID0gT2JqZWN0LmtleXMoY29tcG9uZW50cyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lcmdlVGhlbWVPdmVycmlkZSh0aGVtZSwge1xuICAgICAgY29tcG9uZW50czogZnJvbUVudHJpZXMobmFtZXMubWFwKGZ1bmN0aW9uIChjb21wb25lbnROYW1lKSB7XG4gICAgICAgIHZhciB3aXRoVmFyaWFudCA9IHtcbiAgICAgICAgICBkZWZhdWx0UHJvcHM6IHtcbiAgICAgICAgICAgIHZhcmlhbnQ6IHZhcmlhbnRcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBbY29tcG9uZW50TmFtZSwgd2l0aFZhcmlhbnRdO1xuICAgICAgfSkpXG4gICAgfSk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHdpdGhEZWZhdWx0UHJvcHMoX3JlZikge1xuICB2YXIgX3JlZiRkZWZhdWx0UHJvcHMgPSBfcmVmLmRlZmF1bHRQcm9wcyxcbiAgICAgIGNvbG9yU2NoZW1lID0gX3JlZiRkZWZhdWx0UHJvcHMuY29sb3JTY2hlbWUsXG4gICAgICB2YXJpYW50ID0gX3JlZiRkZWZhdWx0UHJvcHMudmFyaWFudCxcbiAgICAgIHNpemUgPSBfcmVmJGRlZmF1bHRQcm9wcy5zaXplLFxuICAgICAgY29tcG9uZW50cyA9IF9yZWYuY29tcG9uZW50cztcblxuICB2YXIgaWRlbnRpdHkgPSBmdW5jdGlvbiBpZGVudGl0eSh0KSB7XG4gICAgcmV0dXJuIHQ7XG4gIH07XG5cbiAgdmFyIGZucyA9IFtjb2xvclNjaGVtZSA/IHdpdGhEZWZhdWx0Q29sb3JTY2hlbWUoe1xuICAgIGNvbG9yU2NoZW1lOiBjb2xvclNjaGVtZSxcbiAgICBjb21wb25lbnRzOiBjb21wb25lbnRzXG4gIH0pIDogaWRlbnRpdHksIHNpemUgPyB3aXRoRGVmYXVsdFNpemUoe1xuICAgIHNpemU6IHNpemUsXG4gICAgY29tcG9uZW50czogY29tcG9uZW50c1xuICB9KSA6IGlkZW50aXR5LCB2YXJpYW50ID8gd2l0aERlZmF1bHRWYXJpYW50KHtcbiAgICB2YXJpYW50OiB2YXJpYW50LFxuICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudHNcbiAgfSkgOiBpZGVudGl0eV07XG4gIHJldHVybiBmdW5jdGlvbiAodGhlbWUpIHtcbiAgICByZXR1cm4gbWVyZ2VUaGVtZU92ZXJyaWRlKHBpcGUuYXBwbHkodm9pZCAwLCBmbnMpKHRoZW1lKSk7XG4gIH07XG59XG5cbmV4cG9ydCB7IENoYWtyYVByb3ZpZGVyLCBleHRlbmRUaGVtZSwgbWVyZ2VUaGVtZU92ZXJyaWRlLCB3aXRoRGVmYXVsdENvbG9yU2NoZW1lLCB3aXRoRGVmYXVsdFByb3BzLCB3aXRoRGVmYXVsdFNpemUsIHdpdGhEZWZhdWx0VmFyaWFudCB9O1xuIiwiaW1wb3J0IHsgdXNlRm9ybUNvbnRyb2wgfSBmcm9tICdAY2hha3JhLXVpL2Zvcm0tY29udHJvbCc7XG5pbXBvcnQgeyBmb3J3YXJkUmVmLCBjaGFrcmEsIHVzZU11bHRpU3R5bGVDb25maWcsIG9taXRUaGVtaW5nUHJvcHMsIGxheW91dFByb3BOYW1lcyB9IGZyb20gJ0BjaGFrcmEtdWkvc3lzdGVtJztcbmltcG9ydCB7IGN4LCBfX0RFVl9fLCBzcGxpdCwgbWVyZ2VXaXRoLCBkYXRhQXR0ciB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIF9leGNsdWRlZCA9IFtcImNoaWxkcmVuXCIsIFwicGxhY2Vob2xkZXJcIiwgXCJjbGFzc05hbWVcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcInJvb3RQcm9wc1wiLCBcInBsYWNlaG9sZGVyXCIsIFwiaWNvblwiLCBcImNvbG9yXCIsIFwiaGVpZ2h0XCIsIFwiaFwiLCBcIm1pbkhcIiwgXCJtaW5IZWlnaHRcIiwgXCJpY29uQ29sb3JcIiwgXCJpY29uU2l6ZVwiLCBcImlzRnVsbFdpZHRoXCJdLFxuICAgIF9leGNsdWRlZDMgPSBbXCJjaGlsZHJlblwiXTtcbnZhciBTZWxlY3RGaWVsZCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgcGxhY2Vob2xkZXIgPSBwcm9wcy5wbGFjZWhvbGRlcixcbiAgICAgIGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnNlbGVjdCwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLXNlbGVjdFwiLCBjbGFzc05hbWUpXG4gIH0pLCBwbGFjZWhvbGRlciAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiLCB7XG4gICAgdmFsdWU6IFwiXCJcbiAgfSwgcGxhY2Vob2xkZXIpLCBjaGlsZHJlbik7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgU2VsZWN0RmllbGQuZGlzcGxheU5hbWUgPSBcIlNlbGVjdEZpZWxkXCI7XG59XG5cbi8qKlxuICogUmVhY3QgY29tcG9uZW50IHVzZWQgdG8gc2VsZWN0IG9uZSBpdGVtIGZyb20gYSBsaXN0IG9mIG9wdGlvbnMuXG4gKi9cbnZhciBTZWxlY3QgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgc3R5bGVzID0gdXNlTXVsdGlTdHlsZUNvbmZpZyhcIlNlbGVjdFwiLCBwcm9wcyk7XG5cbiAgdmFyIF9vbWl0VGhlbWluZ1Byb3BzID0gb21pdFRoZW1pbmdQcm9wcyhwcm9wcyksXG4gICAgICByb290UHJvcHMgPSBfb21pdFRoZW1pbmdQcm9wcy5yb290UHJvcHMsXG4gICAgICBwbGFjZWhvbGRlciA9IF9vbWl0VGhlbWluZ1Byb3BzLnBsYWNlaG9sZGVyLFxuICAgICAgaWNvbiA9IF9vbWl0VGhlbWluZ1Byb3BzLmljb24sXG4gICAgICBjb2xvciA9IF9vbWl0VGhlbWluZ1Byb3BzLmNvbG9yLFxuICAgICAgaGVpZ2h0ID0gX29taXRUaGVtaW5nUHJvcHMuaGVpZ2h0LFxuICAgICAgaCA9IF9vbWl0VGhlbWluZ1Byb3BzLmgsXG4gICAgICBtaW5IID0gX29taXRUaGVtaW5nUHJvcHMubWluSCxcbiAgICAgIG1pbkhlaWdodCA9IF9vbWl0VGhlbWluZ1Byb3BzLm1pbkhlaWdodCxcbiAgICAgIGljb25Db2xvciA9IF9vbWl0VGhlbWluZ1Byb3BzLmljb25Db2xvcixcbiAgICAgIGljb25TaXplID0gX29taXRUaGVtaW5nUHJvcHMuaWNvblNpemU7XG4gICAgICBfb21pdFRoZW1pbmdQcm9wcy5pc0Z1bGxXaWR0aDtcbiAgICAgIHZhciByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX29taXRUaGVtaW5nUHJvcHMsIF9leGNsdWRlZDIpO1xuXG4gIHZhciBfc3BsaXQgPSBzcGxpdChyZXN0LCBsYXlvdXRQcm9wTmFtZXMpLFxuICAgICAgbGF5b3V0UHJvcHMgPSBfc3BsaXRbMF0sXG4gICAgICBvdGhlclByb3BzID0gX3NwbGl0WzFdO1xuXG4gIHZhciBvd25Qcm9wcyA9IHVzZUZvcm1Db250cm9sKG90aGVyUHJvcHMpO1xuICB2YXIgcm9vdFN0eWxlcyA9IHtcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaGVpZ2h0OiBcImZpdC1jb250ZW50XCIsXG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICBjb2xvcjogY29sb3JcbiAgfTtcbiAgdmFyIGZpZWxkU3R5bGVzID0gbWVyZ2VXaXRoKHtcbiAgICBwYWRkaW5nRW5kOiBcIjJyZW1cIlxuICB9LCBzdHlsZXMuZmllbGQsIHtcbiAgICBfZm9jdXM6IHtcbiAgICAgIHpJbmRleDogXCJ1bnNldFwiXG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLXNlbGVjdF9fd3JhcHBlclwiLFxuICAgIF9fY3NzOiByb290U3R5bGVzXG4gIH0sIGxheW91dFByb3BzLCByb290UHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3RGaWVsZCwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGhlaWdodDogaCAhPSBudWxsID8gaCA6IGhlaWdodCxcbiAgICBtaW5IOiBtaW5IICE9IG51bGwgPyBtaW5IIDogbWluSGVpZ2h0LFxuICAgIHBsYWNlaG9sZGVyOiBwbGFjZWhvbGRlclxuICB9LCBvd25Qcm9wcywge1xuICAgIF9fY3NzOiBmaWVsZFN0eWxlc1xuICB9KSwgcHJvcHMuY2hpbGRyZW4pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTZWxlY3RJY29uLCBfZXh0ZW5kcyh7XG4gICAgXCJkYXRhLWRpc2FibGVkXCI6IGRhdGFBdHRyKG93blByb3BzLmRpc2FibGVkKVxuICB9LCAoaWNvbkNvbG9yIHx8IGNvbG9yKSAmJiB7XG4gICAgY29sb3I6IGljb25Db2xvciB8fCBjb2xvclxuICB9LCB7XG4gICAgX19jc3M6IHN0eWxlcy5pY29uXG4gIH0sIGljb25TaXplICYmIHtcbiAgICBmb250U2l6ZTogaWNvblNpemVcbiAgfSksIGljb24pKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBTZWxlY3QuZGlzcGxheU5hbWUgPSBcIlNlbGVjdFwiO1xufVxuXG52YXIgRGVmYXVsdEljb24gPSBmdW5jdGlvbiBEZWZhdWx0SWNvbihwcm9wcykge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCJcbiAgfSwgcHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZDogXCJNMTYuNTkgOC41OUwxMiAxMy4xNyA3LjQxIDguNTkgNiAxMGw2IDYgNi02elwiXG4gIH0pKTtcbn07XG52YXIgSWNvbldyYXBwZXIgPSBjaGFrcmEoXCJkaXZcIiwge1xuICBiYXNlU3R5bGU6IHtcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiLFxuICAgIHRvcDogXCI1MCVcIixcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgtNTAlKVwiXG4gIH1cbn0pO1xuXG52YXIgU2VsZWN0SWNvbiA9IGZ1bmN0aW9uIFNlbGVjdEljb24ocHJvcHMpIHtcbiAgdmFyIF9wcm9wcyRjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgY2hpbGRyZW4gPSBfcHJvcHMkY2hpbGRyZW4gPT09IHZvaWQgMCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERlZmF1bHRJY29uLCBudWxsKSA6IF9wcm9wcyRjaGlsZHJlbixcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkMyk7XG5cbiAgdmFyIGNsb25lID0gLyojX19QVVJFX18qL1JlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwge1xuICAgIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsXG4gICAgY2xhc3NOYW1lOiBcImNoYWtyYS1zZWxlY3RfX2ljb25cIixcbiAgICBmb2N1c2FibGU6IGZhbHNlLFxuICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICAvLyBmb3JjZSBpY29uIHRvIGFkaGVyZSB0byBgSWNvbldyYXBwZXJgIHN0eWxlc1xuICAgIHN0eWxlOiB7XG4gICAgICB3aWR0aDogXCIxZW1cIixcbiAgICAgIGhlaWdodDogXCIxZW1cIixcbiAgICAgIGNvbG9yOiBcImN1cnJlbnRDb2xvclwiXG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEljb25XcmFwcGVyLCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIGNsYXNzTmFtZTogXCJjaGFrcmEtc2VsZWN0X19pY29uLXdyYXBwZXJcIlxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KGNoaWxkcmVuKSA/IGNsb25lIDogbnVsbCk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBTZWxlY3RJY29uLmRpc3BsYXlOYW1lID0gXCJTZWxlY3RJY29uXCI7XG59XG5cbmV4cG9ydCB7IERlZmF1bHRJY29uLCBTZWxlY3QsIFNlbGVjdEZpZWxkIH07XG4iLCJpbXBvcnQgeyB1c2VCcmVha3BvaW50VmFsdWUgfSBmcm9tICdAY2hha3JhLXVpL21lZGlhLXF1ZXJ5JztcbmltcG9ydCB7IGNoYWtyYSwga2V5ZnJhbWVzLCBmb3J3YXJkUmVmLCB1c2VTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcyB9IGZyb20gJ0BjaGFrcmEtdWkvc3lzdGVtJztcbmltcG9ydCB7IHVzZVByZXZpb3VzIH0gZnJvbSAnQGNoYWtyYS11aS9ob29rcyc7XG5pbXBvcnQgeyBjeCwgX19ERVZfXyB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxudmFyIF9leGNsdWRlZCA9IFtcInN0YXJ0Q29sb3JcIiwgXCJlbmRDb2xvclwiLCBcImlzTG9hZGVkXCIsIFwiZmFkZUR1cmF0aW9uXCIsIFwic3BlZWRcIiwgXCJjbGFzc05hbWVcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcIm5vT2ZMaW5lc1wiLCBcInNwYWNpbmdcIiwgXCJza2VsZXRvbkhlaWdodFwiLCBcImNsYXNzTmFtZVwiLCBcInN0YXJ0Q29sb3JcIiwgXCJlbmRDb2xvclwiLCBcImlzTG9hZGVkXCIsIFwiZmFkZUR1cmF0aW9uXCIsIFwic3BlZWRcIiwgXCJjaGlsZHJlblwiXSxcbiAgICBfZXhjbHVkZWQzID0gW1wic2l6ZVwiXTtcbnZhciBTdHlsZWRTa2VsZXRvbiA9IGNoYWtyYShcImRpdlwiLCB7XG4gIGJhc2VTdHlsZToge1xuICAgIGJveFNoYWRvdzogXCJub25lXCIsXG4gICAgYmFja2dyb3VuZENsaXA6IFwicGFkZGluZy1ib3hcIixcbiAgICBjdXJzb3I6IFwiZGVmYXVsdFwiLFxuICAgIGNvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgXCImOjpiZWZvcmUsICY6OmFmdGVyLCAqXCI6IHtcbiAgICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCJcbiAgICB9XG4gIH1cbn0pO1xudmFyIGZhZGUgPSBrZXlmcmFtZXMoe1xuICBmcm9tOiB7XG4gICAgb3BhY2l0eTogMFxuICB9LFxuICB0bzoge1xuICAgIG9wYWNpdHk6IDFcbiAgfVxufSk7XG5cbnZhciB1c2VJc0ZpcnN0UmVuZGVyID0gZnVuY3Rpb24gdXNlSXNGaXJzdFJlbmRlcigpIHtcbiAgdmFyIGlzRmlyc3RSZW5kZXIgPSBSZWFjdC51c2VSZWYodHJ1ZSk7XG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaXNGaXJzdFJlbmRlci5jdXJyZW50ID0gZmFsc2U7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIGlzRmlyc3RSZW5kZXIuY3VycmVudDtcbn07XG5cbnZhciBTa2VsZXRvbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZUNvbmZpZyhcIlNrZWxldG9uXCIsIHByb3BzKTtcbiAgdmFyIGlzRmlyc3RSZW5kZXIgPSB1c2VJc0ZpcnN0UmVuZGVyKCk7XG5cbiAgdmFyIF9vbWl0VGhlbWluZ1Byb3BzID0gb21pdFRoZW1pbmdQcm9wcyhwcm9wcyk7XG4gICAgICBfb21pdFRoZW1pbmdQcm9wcy5zdGFydENvbG9yO1xuICAgICAgX29taXRUaGVtaW5nUHJvcHMuZW5kQ29sb3I7XG4gICAgICB2YXIgaXNMb2FkZWQgPSBfb21pdFRoZW1pbmdQcm9wcy5pc0xvYWRlZCxcbiAgICAgIGZhZGVEdXJhdGlvbiA9IF9vbWl0VGhlbWluZ1Byb3BzLmZhZGVEdXJhdGlvbjtcbiAgICAgIF9vbWl0VGhlbWluZ1Byb3BzLnNwZWVkO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IF9vbWl0VGhlbWluZ1Byb3BzLmNsYXNzTmFtZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfb21pdFRoZW1pbmdQcm9wcywgX2V4Y2x1ZGVkKTtcblxuICB2YXIgd2FzUHJldmlvdXNseUxvYWRlZCA9IHVzZVByZXZpb3VzKGlzTG9hZGVkKTtcblxuICB2YXIgX2NsYXNzTmFtZSA9IGN4KFwiY2hha3JhLXNrZWxldG9uXCIsIGNsYXNzTmFtZSk7XG5cbiAgaWYgKGlzTG9hZGVkKSB7XG4gICAgdmFyIGFuaW1hdGlvbiA9IGlzRmlyc3RSZW5kZXIgfHwgd2FzUHJldmlvdXNseUxvYWRlZCA/IFwibm9uZVwiIDogZmFkZSArIFwiIFwiICsgZmFkZUR1cmF0aW9uICsgXCJzXCI7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgY2xhc3NOYW1lOiBfY2xhc3NOYW1lLFxuICAgICAgX19jc3M6IHtcbiAgICAgICAgYW5pbWF0aW9uOiBhbmltYXRpb25cbiAgICAgIH1cbiAgICB9LCByZXN0KSk7XG4gIH1cblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkU2tlbGV0b24sIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IF9jbGFzc05hbWVcbiAgfSwgcmVzdCwge1xuICAgIF9fY3NzOiBzdHlsZXNcbiAgfSkpO1xufSk7XG5Ta2VsZXRvbi5kZWZhdWx0UHJvcHMgPSB7XG4gIGZhZGVEdXJhdGlvbjogMC40LFxuICBzcGVlZDogMC44XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBTa2VsZXRvbi5kaXNwbGF5TmFtZSA9IFwiU2tlbGV0b25cIjtcbn1cblxuZnVuY3Rpb24gcmFuZ2UoY291bnQpIHtcbiAgcmV0dXJuIEFycmF5KGNvdW50KS5maWxsKDEpLm1hcChmdW5jdGlvbiAoXywgaW5kZXgpIHtcbiAgICByZXR1cm4gaW5kZXggKyAxO1xuICB9KTtcbn1cblxudmFyIGRlZmF1bHROb09mTGluZXMgPSAzO1xudmFyIFNrZWxldG9uVGV4dCA9IGZ1bmN0aW9uIFNrZWxldG9uVGV4dChwcm9wcykge1xuICB2YXIgX3Byb3BzJG5vT2ZMaW5lcyA9IHByb3BzLm5vT2ZMaW5lcyxcbiAgICAgIG5vT2ZMaW5lcyA9IF9wcm9wcyRub09mTGluZXMgPT09IHZvaWQgMCA/IGRlZmF1bHROb09mTGluZXMgOiBfcHJvcHMkbm9PZkxpbmVzLFxuICAgICAgX3Byb3BzJHNwYWNpbmcgPSBwcm9wcy5zcGFjaW5nLFxuICAgICAgc3BhY2luZyA9IF9wcm9wcyRzcGFjaW5nID09PSB2b2lkIDAgPyBcIjAuNXJlbVwiIDogX3Byb3BzJHNwYWNpbmcsXG4gICAgICBfcHJvcHMkc2tlbGV0b25IZWlnaHQgPSBwcm9wcy5za2VsZXRvbkhlaWdodCxcbiAgICAgIHNrZWxldG9uSGVpZ2h0ID0gX3Byb3BzJHNrZWxldG9uSGVpZ2h0ID09PSB2b2lkIDAgPyBcIjAuNXJlbVwiIDogX3Byb3BzJHNrZWxldG9uSGVpZ2h0LFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgc3RhcnRDb2xvciA9IHByb3BzLnN0YXJ0Q29sb3IsXG4gICAgICBlbmRDb2xvciA9IHByb3BzLmVuZENvbG9yLFxuICAgICAgaXNMb2FkZWQgPSBwcm9wcy5pc0xvYWRlZCxcbiAgICAgIGZhZGVEdXJhdGlvbiA9IHByb3BzLmZhZGVEdXJhdGlvbixcbiAgICAgIHNwZWVkID0gcHJvcHMuc3BlZWQsXG4gICAgICBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQyKTtcblxuICB2YXIgbm9PZkxpbmVzVmFsdWUgPSB1c2VCcmVha3BvaW50VmFsdWUodHlwZW9mIG5vT2ZMaW5lcyA9PT0gXCJudW1iZXJcIiA/IFtub09mTGluZXNdIDogbm9PZkxpbmVzKSB8fCBkZWZhdWx0Tm9PZkxpbmVzO1xuICB2YXIgbnVtYmVycyA9IHJhbmdlKG5vT2ZMaW5lc1ZhbHVlKTtcblxuICB2YXIgZ2V0V2lkdGggPSBmdW5jdGlvbiBnZXRXaWR0aChpbmRleCkge1xuICAgIGlmIChub09mTGluZXNWYWx1ZSA+IDEpIHtcbiAgICAgIHJldHVybiBpbmRleCA9PT0gbnVtYmVycy5sZW5ndGggPyBcIjgwJVwiIDogXCIxMDAlXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiMTAwJVwiO1xuICB9O1xuXG4gIHZhciBfY2xhc3NOYW1lID0gY3goXCJjaGFrcmEtc2tlbGV0b25fX2dyb3VwXCIsIGNsYXNzTmFtZSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICBjbGFzc05hbWU6IF9jbGFzc05hbWVcbiAgfSwgcmVzdCksIG51bWJlcnMubWFwKGZ1bmN0aW9uIChudW1iZXIsIGluZGV4KSB7XG4gICAgaWYgKGlzTG9hZGVkICYmIGluZGV4ID4gMCkge1xuICAgICAgLy8gc2tpcCBvdGhlciBsaW5lc1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgdmFyIHNpemVQcm9wcyA9IGlzTG9hZGVkID8gbnVsbCA6IHtcbiAgICAgIG1iOiBudW1iZXIgPT09IG51bWJlcnMubGVuZ3RoID8gXCIwXCIgOiBzcGFjaW5nLFxuICAgICAgd2lkdGg6IGdldFdpZHRoKG51bWJlciksXG4gICAgICBoZWlnaHQ6IHNrZWxldG9uSGVpZ2h0XG4gICAgfTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2tlbGV0b24sIF9leHRlbmRzKHtcbiAgICAgIGtleTogbnVtYmVycy5sZW5ndGgudG9TdHJpbmcoKSArIG51bWJlcixcbiAgICAgIHN0YXJ0Q29sb3I6IHN0YXJ0Q29sb3IsXG4gICAgICBlbmRDb2xvcjogZW5kQ29sb3IsXG4gICAgICBpc0xvYWRlZDogaXNMb2FkZWQsXG4gICAgICBmYWRlRHVyYXRpb246IGZhZGVEdXJhdGlvbixcbiAgICAgIHNwZWVkOiBzcGVlZFxuICAgIH0sIHNpemVQcm9wcyksIC8vIGFsbG93cyBhbmltYXRpbmcgdGhlIGNoaWxkcmVuXG4gICAgaW5kZXggPT09IDAgPyBjaGlsZHJlbiA6IHVuZGVmaW5lZCk7XG4gIH0pKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIFNrZWxldG9uVGV4dC5kaXNwbGF5TmFtZSA9IFwiU2tlbGV0b25UZXh0XCI7XG59XG5cbnZhciBTa2VsZXRvbkNpcmNsZSA9IGZ1bmN0aW9uIFNrZWxldG9uQ2lyY2xlKF9yZWYpIHtcbiAgdmFyIF9yZWYkc2l6ZSA9IF9yZWYuc2l6ZSxcbiAgICAgIHNpemUgPSBfcmVmJHNpemUgPT09IHZvaWQgMCA/IFwiMnJlbVwiIDogX3JlZiRzaXplLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIF9leGNsdWRlZDMpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTa2VsZXRvbiwgX2V4dGVuZHMoe1xuICAgIGJvcmRlclJhZGl1czogXCJmdWxsXCIsXG4gICAgYm94U2l6ZTogc2l6ZVxuICB9LCByZXN0KSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBTa2VsZXRvbkNpcmNsZS5kaXNwbGF5TmFtZSA9IFwiU2tlbGV0b25DaXJjbGVcIjtcbn1cblxuZXhwb3J0IHsgU2tlbGV0b24sIFNrZWxldG9uQ2lyY2xlLCBTa2VsZXRvblRleHQgfTtcbiIsImltcG9ydCB7IG1lcmdlUmVmcywgY3JlYXRlQ29udGV4dCB9IGZyb20gJ0BjaGFrcmEtdWkvcmVhY3QtdXRpbHMnO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlTXVsdGlTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcywgdXNlVGhlbWUsIFN0eWxlc1Byb3ZpZGVyLCBjaGFrcmEsIHVzZVN0eWxlcyB9IGZyb20gJ0BjaGFrcmEtdWkvc3lzdGVtJztcbmltcG9ydCB7IGNsYW1wVmFsdWUsIHZhbHVlVG9QZXJjZW50LCBwZXJjZW50VG9WYWx1ZSwgcm91bmRWYWx1ZVRvU3RlcCwgbm9ybWFsaXplRXZlbnRLZXksIGZvY3VzLCBhcmlhQXR0ciwgZGF0YUF0dHIsIGNhbGxBbGxIYW5kbGVycywgX19ERVZfXywgY3gsIGdldEJveCB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNhbGxiYWNrUmVmLCB1c2VDb250cm9sbGFibGVTdGF0ZSwgdXNlQm9vbGVhbiwgdXNlTGF0ZXN0UmVmLCB1c2VJZCwgdXNlVXBkYXRlRWZmZWN0LCB1c2VQYW5HZXN0dXJlLCB1c2VJZHMsIHVzZURpbWVuc2lvbnMgfSBmcm9tICdAY2hha3JhLXVpL2hvb2tzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGdldElkcyhpZCkge1xuICByZXR1cm4ge1xuICAgIHJvb3Q6IFwic2xpZGVyLXJvb3QtXCIgKyBpZCxcbiAgICBnZXRUaHVtYjogZnVuY3Rpb24gZ2V0VGh1bWIoaSkge1xuICAgICAgcmV0dXJuIFwic2xpZGVyLXRodW1iLVwiICsgaWQgKyBcIi1cIiArIGk7XG4gICAgfSxcbiAgICBnZXRJbnB1dDogZnVuY3Rpb24gZ2V0SW5wdXQoaSkge1xuICAgICAgcmV0dXJuIFwic2xpZGVyLWlucHV0LVwiICsgaWQgKyBcIi1cIiArIGk7XG4gICAgfSxcbiAgICB0cmFjazogXCJzbGlkZXItdHJhY2stXCIgKyBpZCxcbiAgICBpbm5lclRyYWNrOiBcInNsaWRlci1maWxsZWQtdHJhY2stXCIgKyBpZCxcbiAgICBnZXRNYXJrZXI6IGZ1bmN0aW9uIGdldE1hcmtlcihpKSB7XG4gICAgICByZXR1cm4gXCJzbGlkZXItbWFya2VyLVwiICsgaWQgKyBcIi1cIiArIGk7XG4gICAgfSxcbiAgICBvdXRwdXQ6IFwic2xpZGVyLW91dHB1dC1cIiArIGlkXG4gIH07XG59XG5mdW5jdGlvbiBvcmllbnQkMShvcHRpb25zKSB7XG4gIHZhciBvcmllbnRhdGlvbiA9IG9wdGlvbnMub3JpZW50YXRpb24sXG4gICAgICB2ZXJ0aWNhbCA9IG9wdGlvbnMudmVydGljYWwsXG4gICAgICBob3Jpem9udGFsID0gb3B0aW9ucy5ob3Jpem9udGFsO1xuICByZXR1cm4gb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiA/IHZlcnRpY2FsIDogaG9yaXpvbnRhbDtcbn1cbnZhciB6ZXJvUmVjdCA9IHtcbiAgd2lkdGg6IDAsXG4gIGhlaWdodDogMFxufTtcbmZ1bmN0aW9uIGdldFN0eWxlcyhvcHRpb25zKSB7XG4gIHZhciBvcmllbnRhdGlvbiA9IG9wdGlvbnMub3JpZW50YXRpb24sXG4gICAgICB0aHVtYlBlcmNlbnRzID0gb3B0aW9ucy50aHVtYlBlcmNlbnRzLFxuICAgICAgdGh1bWJSZWN0cyA9IG9wdGlvbnMudGh1bWJSZWN0cyxcbiAgICAgIGlzUmV2ZXJzZWQgPSBvcHRpb25zLmlzUmV2ZXJzZWQ7XG5cbiAgdmFyIGdldFRodW1iU3R5bGUgPSBmdW5jdGlvbiBnZXRUaHVtYlN0eWxlKGkpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgV2Via2l0VXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICBNb3pVc2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgIG1zVXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICB0b3VjaEFjdGlvbjogXCJub25lXCJcbiAgICB9LCBvcmllbnQkMSh7XG4gICAgICBvcmllbnRhdGlvbjogb3JpZW50YXRpb24sXG4gICAgICB2ZXJ0aWNhbDoge1xuICAgICAgICBib3R0b206IFwiY2FsYyhcIiArIHRodW1iUGVyY2VudHNbaV0gKyBcIiUgLSBcIiArIHRodW1iUmVjdHNbaV0uaGVpZ2h0IC8gMiArIFwicHgpXCJcbiAgICAgIH0sXG4gICAgICBob3Jpem9udGFsOiB7XG4gICAgICAgIGxlZnQ6IFwiY2FsYyhcIiArIHRodW1iUGVyY2VudHNbaV0gKyBcIiUgLSBcIiArIHRodW1iUmVjdHNbaV0ud2lkdGggLyAyICsgXCJweClcIlxuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcblxuICB2YXIgc2l6ZSA9IG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgPyB0aHVtYlJlY3RzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgIHJldHVybiBhLmhlaWdodCA+IGIuaGVpZ2h0ID8gYSA6IGI7XG4gIH0sIHplcm9SZWN0KSA6IHRodW1iUmVjdHMucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgcmV0dXJuIGEud2lkdGggPiBiLndpZHRoID8gYSA6IGI7XG4gIH0sIHplcm9SZWN0KTtcblxuICB2YXIgcm9vdFN0eWxlID0gX2V4dGVuZHMoe1xuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgdG91Y2hBY3Rpb246IFwibm9uZVwiLFxuICAgIFdlYmtpdFRhcEhpZ2hsaWdodENvbG9yOiBcInJnYmEoMCwwLDAsMClcIixcbiAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICBvdXRsaW5lOiAwXG4gIH0sIG9yaWVudCQxKHtcbiAgICBvcmllbnRhdGlvbjogb3JpZW50YXRpb24sXG4gICAgdmVydGljYWw6IHtcbiAgICAgIHBhZGRpbmdMZWZ0OiBzaXplLndpZHRoIC8gMixcbiAgICAgIHBhZGRpbmdSaWdodDogc2l6ZS53aWR0aCAvIDJcbiAgICB9LFxuICAgIGhvcml6b250YWw6IHtcbiAgICAgIHBhZGRpbmdUb3A6IHNpemUuaGVpZ2h0IC8gMixcbiAgICAgIHBhZGRpbmdCb3R0b206IHNpemUuaGVpZ2h0IC8gMlxuICAgIH1cbiAgfSkpO1xuXG4gIHZhciB0cmFja1N0eWxlID0gX2V4dGVuZHMoe1xuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbiAgfSwgb3JpZW50JDEoe1xuICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICB2ZXJ0aWNhbDoge1xuICAgICAgbGVmdDogXCI1MCVcIixcbiAgICAgIHRyYW5zZm9ybTogXCJ0cmFuc2xhdGVYKC01MCUpXCIsXG4gICAgICBoZWlnaHQ6IFwiMTAwJVwiXG4gICAgfSxcbiAgICBob3Jpem9udGFsOiB7XG4gICAgICB0b3A6IFwiNTAlXCIsXG4gICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgtNTAlKVwiLFxuICAgICAgd2lkdGg6IFwiMTAwJVwiXG4gICAgfVxuICB9KSk7XG5cbiAgdmFyIGlzU2luZ2xlVGh1bWIgPSB0aHVtYlBlcmNlbnRzLmxlbmd0aCA9PT0gMTtcbiAgdmFyIGZhbGxiYWNrID0gWzAsIGlzUmV2ZXJzZWQgPyAxMDAgLSB0aHVtYlBlcmNlbnRzWzBdIDogdGh1bWJQZXJjZW50c1swXV07XG4gIHZhciByYW5nZSA9IGlzU2luZ2xlVGh1bWIgPyBmYWxsYmFjayA6IHRodW1iUGVyY2VudHM7XG4gIHZhciBzdGFydCA9IHJhbmdlWzBdO1xuXG4gIGlmICghaXNTaW5nbGVUaHVtYiAmJiBpc1JldmVyc2VkKSB7XG4gICAgc3RhcnQgPSAxMDAgLSBzdGFydDtcbiAgfVxuXG4gIHZhciBwZXJjZW50ID0gTWF0aC5hYnMocmFuZ2VbcmFuZ2UubGVuZ3RoIC0gMV0gLSByYW5nZVswXSk7XG5cbiAgdmFyIGlubmVyVHJhY2tTdHlsZSA9IF9leHRlbmRzKHt9LCB0cmFja1N0eWxlLCBvcmllbnQkMSh7XG4gICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgIHZlcnRpY2FsOiBpc1JldmVyc2VkID8ge1xuICAgICAgaGVpZ2h0OiBwZXJjZW50ICsgXCIlXCIsXG4gICAgICB0b3A6IHN0YXJ0ICsgXCIlXCJcbiAgICB9IDoge1xuICAgICAgaGVpZ2h0OiBwZXJjZW50ICsgXCIlXCIsXG4gICAgICBib3R0b206IHN0YXJ0ICsgXCIlXCJcbiAgICB9LFxuICAgIGhvcml6b250YWw6IGlzUmV2ZXJzZWQgPyB7XG4gICAgICB3aWR0aDogcGVyY2VudCArIFwiJVwiLFxuICAgICAgcmlnaHQ6IHN0YXJ0ICsgXCIlXCJcbiAgICB9IDoge1xuICAgICAgd2lkdGg6IHBlcmNlbnQgKyBcIiVcIixcbiAgICAgIGxlZnQ6IHN0YXJ0ICsgXCIlXCJcbiAgICB9XG4gIH0pKTtcblxuICByZXR1cm4ge1xuICAgIHRyYWNrU3R5bGU6IHRyYWNrU3R5bGUsXG4gICAgaW5uZXJUcmFja1N0eWxlOiBpbm5lclRyYWNrU3R5bGUsXG4gICAgcm9vdFN0eWxlOiByb290U3R5bGUsXG4gICAgZ2V0VGh1bWJTdHlsZTogZ2V0VGh1bWJTdHlsZVxuICB9O1xufVxuZnVuY3Rpb24gZ2V0SXNSZXZlcnNlZChvcHRpb25zKSB7XG4gIHZhciBpc1JldmVyc2VkID0gb3B0aW9ucy5pc1JldmVyc2VkLFxuICAgICAgZGlyZWN0aW9uID0gb3B0aW9ucy5kaXJlY3Rpb24sXG4gICAgICBvcmllbnRhdGlvbiA9IG9wdGlvbnMub3JpZW50YXRpb247XG5cbiAgaWYgKGRpcmVjdGlvbiA9PT0gXCJsdHJcIiB8fCBvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiKSB7XG4gICAgcmV0dXJuIGlzUmV2ZXJzZWQ7XG4gIH0gLy8gb25seSBmbGlwIGZvciBob3Jpem9udGFsIFJUTFxuICAvLyBpZiBpc1Jlc2VydmVkIPCflJwgIG90aGVyd2lzZSAg8J+UmlxuXG5cbiAgcmV0dXJuICFpc1JldmVyc2VkO1xufVxuXG52YXIgX2V4Y2x1ZGVkJDMgPSBbXCJtaW5cIiwgXCJtYXhcIiwgXCJvbkNoYW5nZVwiLCBcInZhbHVlXCIsIFwiZGVmYXVsdFZhbHVlXCIsIFwiaXNSZXZlcnNlZFwiLCBcImRpcmVjdGlvblwiLCBcIm9yaWVudGF0aW9uXCIsIFwiaWRcIiwgXCJpc0Rpc2FibGVkXCIsIFwiaXNSZWFkT25seVwiLCBcIm9uQ2hhbmdlU3RhcnRcIiwgXCJvbkNoYW5nZUVuZFwiLCBcInN0ZXBcIiwgXCJnZXRBcmlhVmFsdWVUZXh0XCIsIFwiYXJpYS12YWx1ZXRleHRcIiwgXCJhcmlhLWxhYmVsXCIsIFwiYXJpYS1sYWJlbGxlZGJ5XCIsIFwibmFtZVwiLCBcImZvY3VzVGh1bWJPbkNoYW5nZVwiLCBcIm1pblN0ZXBzQmV0d2VlblRodW1ic1wiXSxcbiAgICBfZXhjbHVkZWQyID0gW1wiaW5kZXhcIl0sXG4gICAgX2V4Y2x1ZGVkMyA9IFtcInZhbHVlXCJdLFxuICAgIF9leGNsdWRlZDQgPSBbXCJpbmRleFwiXTtcblxuLyoqXG4gKiBSZWFjdCBob29rIHRoYXQgaW1wbGVtZW50cyBhbiBhY2Nlc3NpYmxlIHJhbmdlIHNsaWRlci5cbiAqXG4gKiBJdCBpcyBhbiBhbHRlcm5hdGl2ZSB0byBgPGlucHV0IHR5cGU9XCJyYW5nZVwiIC8+YCwgYW5kIHJldHVybnNcbiAqIHByb3AgZ2V0dGVycyBmb3IgdGhlIGNvbXBvbmVudCBwYXJ0c1xuICpcbiAqIEBzZWUgRG9jcyAgICAgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL2RvY3MvZm9ybS9zbGlkZXJcbiAqIEBzZWUgV0FJLUFSSUEgaHR0cHM6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLXByYWN0aWNlcy0xLjEvI3NsaWRlclxuICovXG5mdW5jdGlvbiB1c2VSYW5nZVNsaWRlcihwcm9wcykge1xuICB2YXIgX3Byb3BzJG1pbiA9IHByb3BzLm1pbixcbiAgICAgIG1pbiA9IF9wcm9wcyRtaW4gPT09IHZvaWQgMCA/IDAgOiBfcHJvcHMkbWluLFxuICAgICAgX3Byb3BzJG1heCA9IHByb3BzLm1heCxcbiAgICAgIG1heCA9IF9wcm9wcyRtYXggPT09IHZvaWQgMCA/IDEwMCA6IF9wcm9wcyRtYXgsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgdmFsdWVQcm9wID0gcHJvcHMudmFsdWUsXG4gICAgICBkZWZhdWx0VmFsdWUgPSBwcm9wcy5kZWZhdWx0VmFsdWUsXG4gICAgICBpc1JldmVyc2VkUHJvcCA9IHByb3BzLmlzUmV2ZXJzZWQsXG4gICAgICBfcHJvcHMkZGlyZWN0aW9uID0gcHJvcHMuZGlyZWN0aW9uLFxuICAgICAgZGlyZWN0aW9uID0gX3Byb3BzJGRpcmVjdGlvbiA9PT0gdm9pZCAwID8gXCJsdHJcIiA6IF9wcm9wcyRkaXJlY3Rpb24sXG4gICAgICBfcHJvcHMkb3JpZW50YXRpb24gPSBwcm9wcy5vcmllbnRhdGlvbixcbiAgICAgIG9yaWVudGF0aW9uID0gX3Byb3BzJG9yaWVudGF0aW9uID09PSB2b2lkIDAgPyBcImhvcml6b250YWxcIiA6IF9wcm9wcyRvcmllbnRhdGlvbixcbiAgICAgIGlkUHJvcCA9IHByb3BzLmlkLFxuICAgICAgaXNEaXNhYmxlZCA9IHByb3BzLmlzRGlzYWJsZWQsXG4gICAgICBpc1JlYWRPbmx5ID0gcHJvcHMuaXNSZWFkT25seSxcbiAgICAgIG9uQ2hhbmdlU3RhcnRQcm9wID0gcHJvcHMub25DaGFuZ2VTdGFydCxcbiAgICAgIG9uQ2hhbmdlRW5kUHJvcCA9IHByb3BzLm9uQ2hhbmdlRW5kLFxuICAgICAgX3Byb3BzJHN0ZXAgPSBwcm9wcy5zdGVwLFxuICAgICAgc3RlcCA9IF9wcm9wcyRzdGVwID09PSB2b2lkIDAgPyAxIDogX3Byb3BzJHN0ZXAsXG4gICAgICBnZXRBcmlhVmFsdWVUZXh0UHJvcCA9IHByb3BzLmdldEFyaWFWYWx1ZVRleHQsXG4gICAgICBhcmlhVmFsdWVUZXh0ID0gcHJvcHNbXCJhcmlhLXZhbHVldGV4dFwiXSxcbiAgICAgIGFyaWFMYWJlbCA9IHByb3BzW1wiYXJpYS1sYWJlbFwiXSxcbiAgICAgIGFyaWFMYWJlbGxlZEJ5ID0gcHJvcHNbXCJhcmlhLWxhYmVsbGVkYnlcIl0sXG4gICAgICBuYW1lID0gcHJvcHMubmFtZSxcbiAgICAgIF9wcm9wcyRmb2N1c1RodW1iT25DaCA9IHByb3BzLmZvY3VzVGh1bWJPbkNoYW5nZSxcbiAgICAgIGZvY3VzVGh1bWJPbkNoYW5nZSA9IF9wcm9wcyRmb2N1c1RodW1iT25DaCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRmb2N1c1RodW1iT25DaCxcbiAgICAgIF9wcm9wcyRtaW5TdGVwc0JldHdlZSA9IHByb3BzLm1pblN0ZXBzQmV0d2VlblRodW1icyxcbiAgICAgIG1pblN0ZXBzQmV0d2VlblRodW1icyA9IF9wcm9wcyRtaW5TdGVwc0JldHdlZSA9PT0gdm9pZCAwID8gMCA6IF9wcm9wcyRtaW5TdGVwc0JldHdlZSxcbiAgICAgIGh0bWxQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQkMyk7XG5cbiAgdmFyIG9uQ2hhbmdlU3RhcnQgPSB1c2VDYWxsYmFja1JlZihvbkNoYW5nZVN0YXJ0UHJvcCk7XG4gIHZhciBvbkNoYW5nZUVuZCA9IHVzZUNhbGxiYWNrUmVmKG9uQ2hhbmdlRW5kUHJvcCk7XG4gIHZhciBnZXRBcmlhVmFsdWVUZXh0ID0gdXNlQ2FsbGJhY2tSZWYoZ2V0QXJpYVZhbHVlVGV4dFByb3ApO1xuICB2YXIgaXNSZXZlcnNlZCA9IGdldElzUmV2ZXJzZWQoe1xuICAgIGlzUmV2ZXJzZWQ6IGlzUmV2ZXJzZWRQcm9wLFxuICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvblxuICB9KTtcblxuICB2YXIgX3VzZUNvbnRyb2xsYWJsZVN0YXRlID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgIHZhbHVlOiB2YWx1ZVByb3AsXG4gICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWUgIT0gbnVsbCA/IGRlZmF1bHRWYWx1ZSA6IFsyNSwgNzVdLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVxuICB9KSxcbiAgICAgIHZhbHVlU3RhdGUgPSBfdXNlQ29udHJvbGxhYmxlU3RhdGVbMF0sXG4gICAgICBzZXRWYWx1ZSA9IF91c2VDb250cm9sbGFibGVTdGF0ZVsxXTtcblxuICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVTdGF0ZSkpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiW3JhbmdlLXNsaWRlcl0gWW91IHBhc3NlZCBhbiBpbnZhbGlkIHZhbHVlIGZvciBgdmFsdWVgIG9yIGBkZWZhdWx0VmFsdWVgLCBleHBlY3RlZCBgQXJyYXlgIGJ1dCBnb3QgYFwiICsgdHlwZW9mIHZhbHVlU3RhdGUgKyBcImBcIik7XG4gIH1cblxuICB2YXIgX3VzZUJvb2xlYW4gPSB1c2VCb29sZWFuKCksXG4gICAgICBpc0RyYWdnaW5nID0gX3VzZUJvb2xlYW5bMF0sXG4gICAgICBzZXREcmFnZ2luZyA9IF91c2VCb29sZWFuWzFdO1xuXG4gIHZhciBfdXNlQm9vbGVhbjIgPSB1c2VCb29sZWFuKCksXG4gICAgICBpc0ZvY3VzZWQgPSBfdXNlQm9vbGVhbjJbMF0sXG4gICAgICBzZXRGb2N1c2VkID0gX3VzZUJvb2xlYW4yWzFdO1xuXG4gIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZSgtMSksXG4gICAgICBhY3RpdmVJbmRleCA9IF91c2VTdGF0ZVswXSxcbiAgICAgIHNldEFjdGl2ZUluZGV4ID0gX3VzZVN0YXRlWzFdO1xuXG4gIHZhciBldmVudFNvdXJjZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIGlzSW50ZXJhY3RpdmUgPSAhKGlzRGlzYWJsZWQgfHwgaXNSZWFkT25seSk7XG4gIHZhciBpbml0aWFsVmFsdWUgPSB1c2VSZWYodmFsdWVTdGF0ZSk7XG4gIHZhciB2YWx1ZSA9IHZhbHVlU3RhdGUubWFwKGZ1bmN0aW9uICh2YWwpIHtcbiAgICByZXR1cm4gY2xhbXBWYWx1ZSh2YWwsIG1pbiwgbWF4KTtcbiAgfSk7XG4gIHZhciB2YWx1ZVJlZiA9IHVzZUxhdGVzdFJlZih2YWx1ZSk7XG4gIHZhciBzcGFjaW5nID0gbWluU3RlcHNCZXR3ZWVuVGh1bWJzICogc3RlcDtcbiAgdmFyIHZhbHVlQm91bmRzID0gZ2V0VmFsdWVCb3VuZHModmFsdWUsIG1pbiwgbWF4LCBzcGFjaW5nKTtcbiAgdmFyIHJldmVyc2VkVmFsdWUgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiBtYXggLSB2YWwgKyBtaW47XG4gIH0pO1xuICB2YXIgdGh1bWJWYWx1ZXMgPSBpc1JldmVyc2VkID8gcmV2ZXJzZWRWYWx1ZSA6IHZhbHVlO1xuICB2YXIgdGh1bWJQZXJjZW50cyA9IHRodW1iVmFsdWVzLm1hcChmdW5jdGlvbiAodmFsKSB7XG4gICAgcmV0dXJuIHZhbHVlVG9QZXJjZW50KHZhbCwgbWluLCBtYXgpO1xuICB9KTtcbiAgdmFyIGlzVmVydGljYWwgPSBvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiO1xuXG4gIHZhciBfdXNlU3RhdGUyID0gdXNlU3RhdGUoQXJyYXkuZnJvbSh7XG4gICAgbGVuZ3RoOiB2YWx1ZS5sZW5ndGhcbiAgfSkubWFwKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICB9KSksXG4gICAgICB0aHVtYlJlY3RzID0gX3VzZVN0YXRlMlswXSxcbiAgICAgIHNldFRodW1iUmVjdHMgPSBfdXNlU3RhdGUyWzFdO1xuXG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9yb290UmVmJGN1cnJlbnQ7XG5cbiAgICBpZiAoIXJvb3RSZWYuY3VycmVudCkgcmV0dXJuO1xuICAgIHZhciB0aHVtYnMgPSBBcnJheS5mcm9tKChfcm9vdFJlZiRjdXJyZW50ID0gcm9vdFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3Jvb3RSZWYkY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW3JvbGU9c2xpZGVyXVwiKSk7XG4gICAgdmFyIHJlY3RzID0gdGh1bWJzLm1hcChmdW5jdGlvbiAoZWwpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHdpZHRoOiBlbC5vZmZzZXRXaWR0aCxcbiAgICAgICAgaGVpZ2h0OiBlbC5vZmZzZXRIZWlnaHRcbiAgICAgIH07XG4gICAgfSk7XG4gICAgaWYgKHJlY3RzLmxlbmd0aCkgc2V0VGh1bWJSZWN0cyhyZWN0cyk7XG4gIH0sIFtdKTtcbiAgLyoqXG4gICAqIExldCdzIGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlIHNsaWRlciB0cmFjayBhbmQgdGh1bWJcbiAgICovXG5cbiAgdmFyIHRyYWNrUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgcm9vdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIHV1aWQgPSB1c2VJZChpZFByb3ApO1xuICB2YXIgaWRzID0gZ2V0SWRzKHV1aWQpO1xuICB2YXIgZ2V0VmFsdWVGcm9tUG9pbnRlciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBfZXZlbnQkdG91Y2hlcyQsIF9ldmVudCR0b3VjaGVzO1xuXG4gICAgaWYgKCF0cmFja1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgZXZlbnRTb3VyY2VSZWYuY3VycmVudCA9IFwicG9pbnRlclwiO1xuICAgIHZhciByZWN0ID0gdHJhY2tSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHZhciBfcmVmID0gKF9ldmVudCR0b3VjaGVzJCA9IChfZXZlbnQkdG91Y2hlcyA9IGV2ZW50LnRvdWNoZXMpID09IG51bGwgPyB2b2lkIDAgOiBfZXZlbnQkdG91Y2hlc1swXSkgIT0gbnVsbCA/IF9ldmVudCR0b3VjaGVzJCA6IGV2ZW50LFxuICAgICAgICBjbGllbnRYID0gX3JlZi5jbGllbnRYLFxuICAgICAgICBjbGllbnRZID0gX3JlZi5jbGllbnRZO1xuXG4gICAgdmFyIGRpZmYgPSBpc1ZlcnRpY2FsID8gcmVjdC5ib3R0b20gLSBjbGllbnRZIDogY2xpZW50WCAtIHJlY3QubGVmdDtcbiAgICB2YXIgbGVuZ3RoID0gaXNWZXJ0aWNhbCA/IHJlY3QuaGVpZ2h0IDogcmVjdC53aWR0aDtcbiAgICB2YXIgcGVyY2VudCA9IGRpZmYgLyBsZW5ndGg7XG4gICAgaWYgKGlzUmV2ZXJzZWQpIHBlcmNlbnQgPSAxIC0gcGVyY2VudDtcbiAgICByZXR1cm4gcGVyY2VudFRvVmFsdWUocGVyY2VudCwgbWluLCBtYXgpO1xuICB9LCBbaXNWZXJ0aWNhbCwgaXNSZXZlcnNlZCwgbWF4LCBtaW5dKTtcbiAgdmFyIHRlblN0ZXBzID0gKG1heCAtIG1pbikgLyAxMDtcbiAgdmFyIG9uZVN0ZXAgPSBzdGVwIHx8IChtYXggLSBtaW4pIC8gMTAwO1xuICB2YXIgYWN0aW9ucyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzZXRWYWx1ZUF0SW5kZXg6IGZ1bmN0aW9uIHNldFZhbHVlQXRJbmRleChpbmRleCwgdmFsKSB7XG4gICAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgICB2YXIgYm91bmRzID0gdmFsdWVCb3VuZHNbaW5kZXhdO1xuICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KHJvdW5kVmFsdWVUb1N0ZXAodmFsLCBib3VuZHMubWluLCBvbmVTdGVwKSk7XG4gICAgICAgIHZhbCA9IGNsYW1wVmFsdWUodmFsLCBib3VuZHMubWluLCBib3VuZHMubWF4KTtcbiAgICAgICAgdmFyIG5leHQgPSBbXS5jb25jYXQodmFsdWUpO1xuICAgICAgICBuZXh0W2luZGV4XSA9IHZhbDtcbiAgICAgICAgc2V0VmFsdWUobmV4dCk7XG4gICAgICB9LFxuICAgICAgc2V0QWN0aXZlSW5kZXg6IHNldEFjdGl2ZUluZGV4LFxuICAgICAgc3RlcFVwOiBmdW5jdGlvbiBzdGVwVXAoaW5kZXgsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgPT09IHZvaWQgMCkge1xuICAgICAgICAgIHN0ZXAgPSBvbmVTdGVwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZhbHVlQXRJbmRleCA9IHZhbHVlW2luZGV4XTtcbiAgICAgICAgdmFyIG5leHQgPSBpc1JldmVyc2VkID8gdmFsdWVBdEluZGV4IC0gc3RlcCA6IHZhbHVlQXRJbmRleCArIHN0ZXA7XG4gICAgICAgIGFjdGlvbnMuc2V0VmFsdWVBdEluZGV4KGluZGV4LCBuZXh0KTtcbiAgICAgIH0sXG4gICAgICBzdGVwRG93bjogZnVuY3Rpb24gc3RlcERvd24oaW5kZXgsIHN0ZXApIHtcbiAgICAgICAgaWYgKHN0ZXAgPT09IHZvaWQgMCkge1xuICAgICAgICAgIHN0ZXAgPSBvbmVTdGVwO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZhbHVlQXRJbmRleCA9IHZhbHVlW2luZGV4XTtcbiAgICAgICAgdmFyIG5leHQgPSBpc1JldmVyc2VkID8gdmFsdWVBdEluZGV4ICsgc3RlcCA6IHZhbHVlQXRJbmRleCAtIHN0ZXA7XG4gICAgICAgIGFjdGlvbnMuc2V0VmFsdWVBdEluZGV4KGluZGV4LCBuZXh0KTtcbiAgICAgIH0sXG4gICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHJldHVybiBzZXRWYWx1ZShpbml0aWFsVmFsdWUuY3VycmVudCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW29uZVN0ZXAsIHZhbHVlLCBpc1JldmVyc2VkLCBzZXRWYWx1ZSwgaXNJbnRlcmFjdGl2ZSwgdmFsdWVCb3VuZHNdKTtcbiAgLyoqXG4gICAqIEtleWJvYXJkIGludGVyYWN0aW9uIHRvIGVuc3VyZSB1c2VycyBjYW4gb3BlcmF0ZVxuICAgKiB0aGUgc2xpZGVyIHVzaW5nIG9ubHkgdGhlaXIga2V5Ym9hcmQuXG4gICAqL1xuXG4gIHZhciBvbktleURvd24gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgZXZlbnRLZXkgPSBub3JtYWxpemVFdmVudEtleShldmVudCk7XG4gICAgdmFyIGtleU1hcCA9IHtcbiAgICAgIEFycm93UmlnaHQ6IGZ1bmN0aW9uIEFycm93UmlnaHQoKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb25zLnN0ZXBVcChhY3RpdmVJbmRleCk7XG4gICAgICB9LFxuICAgICAgQXJyb3dVcDogZnVuY3Rpb24gQXJyb3dVcCgpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbnMuc3RlcFVwKGFjdGl2ZUluZGV4KTtcbiAgICAgIH0sXG4gICAgICBBcnJvd0xlZnQ6IGZ1bmN0aW9uIEFycm93TGVmdCgpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbnMuc3RlcERvd24oYWN0aXZlSW5kZXgpO1xuICAgICAgfSxcbiAgICAgIEFycm93RG93bjogZnVuY3Rpb24gQXJyb3dEb3duKCkge1xuICAgICAgICByZXR1cm4gYWN0aW9ucy5zdGVwRG93bihhY3RpdmVJbmRleCk7XG4gICAgICB9LFxuICAgICAgUGFnZVVwOiBmdW5jdGlvbiBQYWdlVXAoKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb25zLnN0ZXBVcChhY3RpdmVJbmRleCwgdGVuU3RlcHMpO1xuICAgICAgfSxcbiAgICAgIFBhZ2VEb3duOiBmdW5jdGlvbiBQYWdlRG93bigpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbnMuc3RlcERvd24oYWN0aXZlSW5kZXgsIHRlblN0ZXBzKTtcbiAgICAgIH0sXG4gICAgICBIb21lOiBmdW5jdGlvbiBIb21lKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZUJvdW5kc1thY3RpdmVJbmRleF0ubWluO1xuICAgICAgICBhY3Rpb25zLnNldFZhbHVlQXRJbmRleChhY3RpdmVJbmRleCwgdmFsdWUpO1xuICAgICAgfSxcbiAgICAgIEVuZDogZnVuY3Rpb24gRW5kKCkge1xuICAgICAgICB2YXIgdmFsdWUgPSB2YWx1ZUJvdW5kc1thY3RpdmVJbmRleF0ubWF4O1xuICAgICAgICBhY3Rpb25zLnNldFZhbHVlQXRJbmRleChhY3RpdmVJbmRleCwgdmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGFjdGlvbiA9IGtleU1hcFtldmVudEtleV07XG5cbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBhY3Rpb24oZXZlbnQpO1xuICAgICAgZXZlbnRTb3VyY2VSZWYuY3VycmVudCA9IFwia2V5Ym9hcmRcIjtcbiAgICB9XG4gIH0sIFthY3Rpb25zLCBhY3RpdmVJbmRleCwgdGVuU3RlcHMsIHZhbHVlQm91bmRzXSk7XG4gIC8qKlxuICAgKiBDb21wdXRlIHN0eWxlcyBmb3IgYWxsIGNvbXBvbmVudCBwYXJ0cy5cbiAgICovXG5cbiAgdmFyIF91c2VNZW1vID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdldFN0eWxlcyh7XG4gICAgICBpc1JldmVyc2VkOiBpc1JldmVyc2VkLFxuICAgICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgICAgdGh1bWJSZWN0czogdGh1bWJSZWN0cyxcbiAgICAgIHRodW1iUGVyY2VudHM6IHRodW1iUGVyY2VudHNcbiAgICB9KTtcbiAgfSwgW2lzUmV2ZXJzZWQsIG9yaWVudGF0aW9uLCB0aHVtYlBlcmNlbnRzLCB0aHVtYlJlY3RzXSksXG4gICAgICBnZXRUaHVtYlN0eWxlID0gX3VzZU1lbW8uZ2V0VGh1bWJTdHlsZSxcbiAgICAgIHJvb3RTdHlsZSA9IF91c2VNZW1vLnJvb3RTdHlsZSxcbiAgICAgIHRyYWNrU3R5bGUgPSBfdXNlTWVtby50cmFja1N0eWxlLFxuICAgICAgaW5uZXJUcmFja1N0eWxlID0gX3VzZU1lbW8uaW5uZXJUcmFja1N0eWxlO1xuXG4gIHZhciBmb2N1c1RodW1iID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgdmFyIGlkeCA9IGluZGV4ICE9IG51bGwgPyBpbmRleCA6IGFjdGl2ZUluZGV4O1xuXG4gICAgaWYgKGlkeCAhPT0gLTEgJiYgZm9jdXNUaHVtYk9uQ2hhbmdlKSB7XG4gICAgICB2YXIgX3Jvb3RSZWYkY3VycmVudDI7XG5cbiAgICAgIHZhciBpZCA9IGlkcy5nZXRUaHVtYihpZHgpO1xuICAgICAgdmFyIHRodW1iID0gKF9yb290UmVmJGN1cnJlbnQyID0gcm9vdFJlZi5jdXJyZW50KSA9PSBudWxsID8gdm9pZCAwIDogX3Jvb3RSZWYkY3VycmVudDIub3duZXJEb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG5cbiAgICAgIGlmICh0aHVtYikge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZm9jdXModGh1bWIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtmb2N1c1RodW1iT25DaGFuZ2UsIGFjdGl2ZUluZGV4LCBpZHNdKTtcbiAgdXNlVXBkYXRlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZXZlbnRTb3VyY2VSZWYuY3VycmVudCA9PT0gXCJrZXlib2FyZFwiKSB7XG4gICAgICBvbkNoYW5nZUVuZCA9PSBudWxsID8gdm9pZCAwIDogb25DaGFuZ2VFbmQodmFsdWVSZWYuY3VycmVudCk7XG4gICAgfVxuICB9LCBbdmFsdWUsIG9uQ2hhbmdlRW5kXSk7XG5cbiAgdmFyIF9vblBhblNlc3Npb25TdGFydCA9IGZ1bmN0aW9uIG9uUGFuU2Vzc2lvblN0YXJ0KGV2ZW50KSB7XG4gICAgdmFyIHBvaW50VmFsdWUgPSBnZXRWYWx1ZUZyb21Qb2ludGVyKGV2ZW50KSB8fCAwO1xuICAgIHZhciBkaXN0YW5jZXMgPSB2YWx1ZS5tYXAoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuIE1hdGguYWJzKHZhbCAtIHBvaW50VmFsdWUpO1xuICAgIH0pO1xuICAgIHZhciBjbG9zZXN0ID0gTWF0aC5taW4uYXBwbHkoTWF0aCwgZGlzdGFuY2VzKTtcbiAgICB2YXIgaW5kZXggPSBkaXN0YW5jZXMuaW5kZXhPZihjbG9zZXN0KTsgLy8gY2hlY2sgaWYgdGhlIGNsaWNrZWQgdGh1bWIgaXMgc3RhY2tlZCBieSBjaGVja2luZyBpZiB0aGVyZSBhcmUgbXVsdGlwbGVcbiAgICAvLyB0aHVtYnMgYXQgdGhlIHNhbWUgZGlzdGFuY2VcblxuICAgIHZhciB0aHVtYnNBdFBvc2l0aW9uID0gZGlzdGFuY2VzLmZpbHRlcihmdW5jdGlvbiAoZGlzdGFuY2UpIHtcbiAgICAgIHJldHVybiBkaXN0YW5jZSA9PT0gY2xvc2VzdDtcbiAgICB9KTtcbiAgICB2YXIgaXNUaHVtYlN0YWNrZWQgPSB0aHVtYnNBdFBvc2l0aW9uLmxlbmd0aCA+IDE7IC8vIHdoZW4gdHdvIHRodW1icyBhcmUgc3RhY2tlZCBhbmQgdGhlIHVzZXIgY2xpY2tzIGF0IGEgcG9pbnQgbGFyZ2VyIHRoYW5cbiAgICAvLyB0aGVpciB2YWx1ZXMsIHBpY2sgdGhlIGxhc3QgdGh1bWIgd2l0aCB0aGUgZ3JlYXRlc3QgaW5kZXhcblxuICAgIGlmIChpc1RodW1iU3RhY2tlZCAmJiBwb2ludFZhbHVlID4gdmFsdWVbaW5kZXhdKSB7XG4gICAgICBpbmRleCA9IHRodW1ic0F0UG9zaXRpb24ubGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICBzZXRBY3RpdmVJbmRleChpbmRleCk7XG4gICAgYWN0aW9ucy5zZXRWYWx1ZUF0SW5kZXgoaW5kZXgsIHBvaW50VmFsdWUpO1xuICAgIGZvY3VzVGh1bWIoaW5kZXgpO1xuICB9O1xuXG4gIHZhciBfb25QYW4gPSBmdW5jdGlvbiBvblBhbihldmVudCkge1xuICAgIGlmIChhY3RpdmVJbmRleCA9PSAtMSkgcmV0dXJuO1xuICAgIHZhciBwb2ludFZhbHVlID0gZ2V0VmFsdWVGcm9tUG9pbnRlcihldmVudCkgfHwgMDtcbiAgICBzZXRBY3RpdmVJbmRleChhY3RpdmVJbmRleCk7XG4gICAgYWN0aW9ucy5zZXRWYWx1ZUF0SW5kZXgoYWN0aXZlSW5kZXgsIHBvaW50VmFsdWUpO1xuICAgIGZvY3VzVGh1bWIoYWN0aXZlSW5kZXgpO1xuICB9O1xuXG4gIHVzZVBhbkdlc3R1cmUocm9vdFJlZiwge1xuICAgIG9uUGFuU2Vzc2lvblN0YXJ0OiBmdW5jdGlvbiBvblBhblNlc3Npb25TdGFydChldmVudCkge1xuICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKSByZXR1cm47XG4gICAgICBzZXREcmFnZ2luZy5vbigpO1xuXG4gICAgICBfb25QYW5TZXNzaW9uU3RhcnQoZXZlbnQpO1xuXG4gICAgICBvbkNoYW5nZVN0YXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkNoYW5nZVN0YXJ0KHZhbHVlUmVmLmN1cnJlbnQpO1xuICAgIH0sXG4gICAgb25QYW5TZXNzaW9uRW5kOiBmdW5jdGlvbiBvblBhblNlc3Npb25FbmQoKSB7XG4gICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpIHJldHVybjtcbiAgICAgIHNldERyYWdnaW5nLm9mZigpO1xuICAgICAgb25DaGFuZ2VFbmQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ2hhbmdlRW5kKHZhbHVlUmVmLmN1cnJlbnQpO1xuICAgIH0sXG4gICAgb25QYW46IGZ1bmN0aW9uIG9uUGFuKGV2ZW50KSB7XG4gICAgICBpZiAoIWlzSW50ZXJhY3RpdmUpIHJldHVybjtcblxuICAgICAgX29uUGFuKGV2ZW50KTtcbiAgICB9XG4gIH0pO1xuICB2YXIgZ2V0Um9vdFByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywgaHRtbFByb3BzLCB7XG4gICAgICBpZDogaWRzLnJvb3QsXG4gICAgICByZWY6IG1lcmdlUmVmcyhyZWYsIHJvb3RSZWYpLFxuICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IGFyaWFBdHRyKGlzRGlzYWJsZWQpLFxuICAgICAgXCJkYXRhLWZvY3VzZWRcIjogZGF0YUF0dHIoaXNGb2N1c2VkKSxcbiAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIHJvb3RTdHlsZSlcbiAgICB9KTtcbiAgfSwgW2h0bWxQcm9wcywgaXNEaXNhYmxlZCwgaXNGb2N1c2VkLCByb290U3R5bGUsIGlkc10pO1xuICB2YXIgZ2V0VHJhY2tQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICByZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHJlZjogbWVyZ2VSZWZzKHJlZiwgdHJhY2tSZWYpLFxuICAgICAgaWQ6IGlkcy50cmFjayxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIHRyYWNrU3R5bGUpXG4gICAgfSk7XG4gIH0sIFtpc0Rpc2FibGVkLCB0cmFja1N0eWxlLCBpZHNdKTtcbiAgdmFyIGdldElubmVyVHJhY2tQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICByZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgaWQ6IGlkcy5pbm5lclRyYWNrLFxuICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBwcm9wcy5zdHlsZSwgaW5uZXJUcmFja1N0eWxlKVxuICAgIH0pO1xuICB9LCBbaW5uZXJUcmFja1N0eWxlLCBpZHNdKTtcbiAgdmFyIGdldFRodW1iUHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIHZhciBfZ2V0QXJpYVZhbHVlVGV4dDtcblxuICAgIGlmIChyZWYgPT09IHZvaWQgMCkge1xuICAgICAgcmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXggPSBwcm9wcy5pbmRleCxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQyKTtcblxuICAgIHZhciBfdmFsdWUgPSB2YWx1ZVtpbmRleF07XG5cbiAgICBpZiAoX3ZhbHVlID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJbcmFuZ2Utc2xpZGVyID4gdGh1bWJdIENhbm5vdCBmaW5kIHZhbHVlIGF0IGluZGV4IGBcIiArIGluZGV4ICsgXCJgLiBUaGUgYHZhbHVlYCBvciBgZGVmYXVsdFZhbHVlYCBsZW5ndGggaXMgOiBcIiArIHZhbHVlLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgdmFyIGJvdW5kcyA9IHZhbHVlQm91bmRzW2luZGV4XTtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcm9sZTogXCJzbGlkZXJcIixcbiAgICAgIHRhYkluZGV4OiBpc0ludGVyYWN0aXZlID8gMCA6IHVuZGVmaW5lZCxcbiAgICAgIGlkOiBpZHMuZ2V0VGh1bWIoaW5kZXgpLFxuICAgICAgXCJkYXRhLWFjdGl2ZVwiOiBkYXRhQXR0cihpc0RyYWdnaW5nICYmIGFjdGl2ZUluZGV4ID09PSBpbmRleCksXG4gICAgICBcImFyaWEtdmFsdWV0ZXh0XCI6IChfZ2V0QXJpYVZhbHVlVGV4dCA9IGdldEFyaWFWYWx1ZVRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IGdldEFyaWFWYWx1ZVRleHQoX3ZhbHVlKSkgIT0gbnVsbCA/IF9nZXRBcmlhVmFsdWVUZXh0IDogYXJpYVZhbHVlVGV4dCA9PSBudWxsID8gdm9pZCAwIDogYXJpYVZhbHVlVGV4dFtpbmRleF0sXG4gICAgICBcImFyaWEtdmFsdWVtaW5cIjogYm91bmRzLm1pbixcbiAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiBib3VuZHMubWF4LFxuICAgICAgXCJhcmlhLXZhbHVlbm93XCI6IF92YWx1ZSxcbiAgICAgIFwiYXJpYS1vcmllbnRhdGlvblwiOiBvcmllbnRhdGlvbixcbiAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBhcmlhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiYXJpYS1yZWFkb25seVwiOiBhcmlhQXR0cihpc1JlYWRPbmx5KSxcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiBhcmlhTGFiZWwgPT0gbnVsbCA/IHZvaWQgMCA6IGFyaWFMYWJlbFtpbmRleF0sXG4gICAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBhcmlhTGFiZWwgIT0gbnVsbCAmJiBhcmlhTGFiZWxbaW5kZXhdID8gdW5kZWZpbmVkIDogYXJpYUxhYmVsbGVkQnkgPT0gbnVsbCA/IHZvaWQgMCA6IGFyaWFMYWJlbGxlZEJ5W2luZGV4XSxcbiAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIGdldFRodW1iU3R5bGUoaW5kZXgpKSxcbiAgICAgIG9uS2V5RG93bjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgb25LZXlEb3duKSxcbiAgICAgIG9uRm9jdXM6IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbkZvY3VzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldEZvY3VzZWQub24oKTtcbiAgICAgICAgc2V0QWN0aXZlSW5kZXgoaW5kZXgpO1xuICAgICAgfSksXG4gICAgICBvbkJsdXI6IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbkJsdXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0Rm9jdXNlZC5vZmYoKTtcbiAgICAgICAgc2V0QWN0aXZlSW5kZXgoLTEpO1xuICAgICAgfSlcbiAgICB9KTtcbiAgfSwgW2lkcywgdmFsdWUsIHZhbHVlQm91bmRzLCBpc0ludGVyYWN0aXZlLCBpc0RyYWdnaW5nLCBhY3RpdmVJbmRleCwgZ2V0QXJpYVZhbHVlVGV4dCwgYXJpYVZhbHVlVGV4dCwgb3JpZW50YXRpb24sIGlzRGlzYWJsZWQsIGlzUmVhZE9ubHksIGFyaWFMYWJlbCwgYXJpYUxhYmVsbGVkQnksIGdldFRodW1iU3R5bGUsIG9uS2V5RG93biwgc2V0Rm9jdXNlZF0pO1xuICB2YXIgZ2V0T3V0cHV0UHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChyZWYgPT09IHZvaWQgMCkge1xuICAgICAgcmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICByZWY6IHJlZixcbiAgICAgIGlkOiBpZHMub3V0cHV0LFxuICAgICAgaHRtbEZvcjogdmFsdWUubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICAgIHJldHVybiBpZHMuZ2V0VGh1bWIoaSk7XG4gICAgICB9KS5qb2luKFwiIFwiKSxcbiAgICAgIFwiYXJpYS1saXZlXCI6IFwib2ZmXCJcbiAgICB9KTtcbiAgfSwgW2lkcywgdmFsdWVdKTtcbiAgdmFyIGdldE1hcmtlclByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIF9wcm9wcyA9IHByb3BzLFxuICAgICAgICB2ID0gX3Byb3BzLnZhbHVlLFxuICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3Byb3BzLCBfZXhjbHVkZWQzKTtcblxuICAgIHZhciBpc0luUmFuZ2UgPSAhKHYgPCBtaW4gfHwgdiA+IG1heCk7XG4gICAgdmFyIGlzSGlnaGxpZ2h0ZWQgPSB2ID49IHZhbHVlWzBdICYmIHYgPD0gdmFsdWVbdmFsdWUubGVuZ3RoIC0gMV07XG4gICAgdmFyIHBlcmNlbnQgPSB2YWx1ZVRvUGVyY2VudCh2LCBtaW4sIG1heCk7XG4gICAgcGVyY2VudCA9IGlzUmV2ZXJzZWQgPyAxMDAgLSBwZXJjZW50IDogcGVyY2VudDtcblxuICAgIHZhciBtYXJrZXJTdHlsZSA9IF9leHRlbmRzKHtcbiAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIlxuICAgIH0sIG9yaWVudCQxKHtcbiAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICAgIHZlcnRpY2FsOiB7XG4gICAgICAgIGJvdHRvbTogcGVyY2VudCArIFwiJVwiXG4gICAgICB9LFxuICAgICAgaG9yaXpvbnRhbDoge1xuICAgICAgICBsZWZ0OiBwZXJjZW50ICsgXCIlXCJcbiAgICAgIH1cbiAgICB9KSk7XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgaWQ6IGlkcy5nZXRNYXJrZXIocHJvcHMudmFsdWUpLFxuICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKCFpc0luUmFuZ2UpLFxuICAgICAgXCJkYXRhLWhpZ2hsaWdodGVkXCI6IGRhdGFBdHRyKGlzSGlnaGxpZ2h0ZWQpLFxuICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBwcm9wcy5zdHlsZSwgbWFya2VyU3R5bGUpXG4gICAgfSk7XG4gIH0sIFtpc0Rpc2FibGVkLCBpc1JldmVyc2VkLCBtYXgsIG1pbiwgb3JpZW50YXRpb24sIHZhbHVlLCBpZHNdKTtcbiAgdmFyIGdldElucHV0UHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIGlmIChyZWYgPT09IHZvaWQgMCkge1xuICAgICAgcmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgaW5kZXggPSBwcm9wcy5pbmRleCxcbiAgICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQ0KTtcblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgICAgcmVmOiByZWYsXG4gICAgICBpZDogaWRzLmdldElucHV0KGluZGV4KSxcbiAgICAgIHR5cGU6IFwiaGlkZGVuXCIsXG4gICAgICB2YWx1ZTogdmFsdWVbaW5kZXhdLFxuICAgICAgbmFtZTogQXJyYXkuaXNBcnJheShuYW1lKSA/IG5hbWVbaW5kZXhdIDogbmFtZSArIFwiLVwiICsgaW5kZXhcbiAgICB9KTtcbiAgfSwgW25hbWUsIHZhbHVlLCBpZHNdKTtcbiAgcmV0dXJuIHtcbiAgICBzdGF0ZToge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNGb2N1c2VkOiBpc0ZvY3VzZWQsXG4gICAgICBpc0RyYWdnaW5nOiBpc0RyYWdnaW5nLFxuICAgICAgZ2V0VGh1bWJQZXJjZW50OiBmdW5jdGlvbiBnZXRUaHVtYlBlcmNlbnQoaSkge1xuICAgICAgICByZXR1cm4gdGh1bWJQZXJjZW50c1tpXTtcbiAgICAgIH0sXG4gICAgICBnZXRUaHVtYk1pblZhbHVlOiBmdW5jdGlvbiBnZXRUaHVtYk1pblZhbHVlKGkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlQm91bmRzW2ldLm1pbjtcbiAgICAgIH0sXG4gICAgICBnZXRUaHVtYk1heFZhbHVlOiBmdW5jdGlvbiBnZXRUaHVtYk1heFZhbHVlKGkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlQm91bmRzW2ldLm1heDtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFjdGlvbnM6IGFjdGlvbnMsXG4gICAgZ2V0Um9vdFByb3BzOiBnZXRSb290UHJvcHMsXG4gICAgZ2V0VHJhY2tQcm9wczogZ2V0VHJhY2tQcm9wcyxcbiAgICBnZXRJbm5lclRyYWNrUHJvcHM6IGdldElubmVyVHJhY2tQcm9wcyxcbiAgICBnZXRUaHVtYlByb3BzOiBnZXRUaHVtYlByb3BzLFxuICAgIGdldE1hcmtlclByb3BzOiBnZXRNYXJrZXJQcm9wcyxcbiAgICBnZXRJbnB1dFByb3BzOiBnZXRJbnB1dFByb3BzLFxuICAgIGdldE91dHB1dFByb3BzOiBnZXRPdXRwdXRQcm9wc1xuICB9O1xufVxuXG52YXIgZ2V0VmFsdWVCb3VuZHMgPSBmdW5jdGlvbiBnZXRWYWx1ZUJvdW5kcyhhcnIsIG1pbiwgbWF4LCBzcGFjaW5nKSB7XG4gIHJldHVybiBhcnIubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgdmFyIF9taW4gPSBpID09PSAwID8gbWluIDogYXJyW2kgLSAxXSArIHNwYWNpbmc7XG5cbiAgICB2YXIgX21heCA9IGkgPT09IGFyci5sZW5ndGggLSAxID8gbWF4IDogYXJyW2kgKyAxXSAtIHNwYWNpbmc7XG5cbiAgICByZXR1cm4ge1xuICAgICAgbWluOiBfbWluLFxuICAgICAgbWF4OiBfbWF4XG4gICAgfTtcbiAgfSk7XG59O1xuXG52YXIgX2V4Y2x1ZGVkJDIgPSBbXCJnZXRSb290UHJvcHNcIl07XG5cbnZhciBfY3JlYXRlQ29udGV4dCQxID0gY3JlYXRlQ29udGV4dCh7XG4gIG5hbWU6IFwiU2xpZGVyQ29udGV4dFwiLFxuICBlcnJvck1lc3NhZ2U6IFwidXNlU2xpZGVyQ29udGV4dDogYGNvbnRleHRgIGlzIHVuZGVmaW5lZC4gU2VlbXMgeW91IGZvcmdvdCB0byB3cmFwIGFsbCBzbGlkZXIgY29tcG9uZW50cyB3aXRoaW4gPFJhbmdlU2xpZGVyIC8+XCJcbn0pLFxuICAgIFJhbmdlU2xpZGVyUHJvdmlkZXIgPSBfY3JlYXRlQ29udGV4dCQxWzBdLFxuICAgIHVzZVJhbmdlU2xpZGVyQ29udGV4dCA9IF9jcmVhdGVDb250ZXh0JDFbMV07XG5cbi8qKlxuICogVGhlIFNsaWRlciBpcyB1c2VkIHRvIGFsbG93IHVzZXJzIHRvIG1ha2Ugc2VsZWN0aW9ucyBmcm9tIGEgcmFuZ2Ugb2YgdmFsdWVzLlxuICogSXQgcHJvdmlkZXMgY29udGV4dCBhbmQgZnVuY3Rpb25hbGl0eSBmb3IgYWxsIHNsaWRlciBjb21wb25lbnRzXG4gKlxuICogQHNlZSBEb2NzICAgICBodHRwczovL2NoYWtyYS11aS5jb20vZG9jcy9mb3JtL3NsaWRlclxuICogQHNlZSBXQUktQVJJQSBodHRwczovL3d3dy53My5vcmcvVFIvd2FpLWFyaWEtcHJhY3RpY2VzLyNzbGlkZXJcbiAqL1xudmFyIFJhbmdlU2xpZGVyID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZU11bHRpU3R5bGVDb25maWcoXCJTbGlkZXJcIiwgcHJvcHMpO1xuICB2YXIgb3duUHJvcHMgPSBvbWl0VGhlbWluZ1Byb3BzKHByb3BzKTtcblxuICB2YXIgX3VzZVRoZW1lID0gdXNlVGhlbWUoKSxcbiAgICAgIGRpcmVjdGlvbiA9IF91c2VUaGVtZS5kaXJlY3Rpb247XG5cbiAgb3duUHJvcHMuZGlyZWN0aW9uID0gZGlyZWN0aW9uO1xuXG4gIHZhciBfdXNlUmFuZ2VTbGlkZXIgPSB1c2VSYW5nZVNsaWRlcihvd25Qcm9wcyksXG4gICAgICBnZXRSb290UHJvcHMgPSBfdXNlUmFuZ2VTbGlkZXIuZ2V0Um9vdFByb3BzLFxuICAgICAgY29udGV4dCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF91c2VSYW5nZVNsaWRlciwgX2V4Y2x1ZGVkJDIpO1xuXG4gIHZhciBjdHggPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGNvbnRleHQsIHtcbiAgICAgIG5hbWU6IHByb3BzLm5hbWVcbiAgICB9KTtcbiAgfSwgW2NvbnRleHQsIHByb3BzLm5hbWVdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJhbmdlU2xpZGVyUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY3R4XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlc1Byb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHN0eWxlc1xuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7fSwgZ2V0Um9vdFByb3BzKHt9LCByZWYpLCB7XG4gICAgY2xhc3NOYW1lOiBcImNoYWtyYS1zbGlkZXJcIixcbiAgICBfX2Nzczogc3R5bGVzLmNvbnRhaW5lclxuICB9KSwgcHJvcHMuY2hpbGRyZW4pKSk7XG59KTtcblJhbmdlU2xpZGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgb3JpZW50YXRpb246IFwiaG9yaXpvbnRhbFwiXG59O1xuXG5pZiAoX19ERVZfXykge1xuICBSYW5nZVNsaWRlci5kaXNwbGF5TmFtZSA9IFwiUmFuZ2VTbGlkZXJcIjtcbn1cblxuLyoqXG4gKiBTbGlkZXIgY29tcG9uZW50IHRoYXQgYWN0cyBhcyB0aGUgaGFuZGxlIHVzZWQgdG8gc2VsZWN0IHByZWRlZmluZWRcbiAqIHZhbHVlcyBieSBkcmFnZ2luZyBpdHMgaGFuZGxlIGFsb25nIHRoZSB0cmFja1xuICovXG52YXIgUmFuZ2VTbGlkZXJUaHVtYiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfdXNlUmFuZ2VTbGlkZXJDb250ZXggPSB1c2VSYW5nZVNsaWRlckNvbnRleHQoKSxcbiAgICAgIGdldFRodW1iUHJvcHMgPSBfdXNlUmFuZ2VTbGlkZXJDb250ZXguZ2V0VGh1bWJQcm9wcyxcbiAgICAgIGdldElucHV0UHJvcHMgPSBfdXNlUmFuZ2VTbGlkZXJDb250ZXguZ2V0SW5wdXRQcm9wcyxcbiAgICAgIG5hbWUgPSBfdXNlUmFuZ2VTbGlkZXJDb250ZXgubmFtZTtcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHZhciB0aHVtYlByb3BzID0gZ2V0VGh1bWJQcm9wcyhwcm9wcywgcmVmKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHt9LCB0aHVtYlByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1zbGlkZXJfX3RodW1iXCIsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgX19jc3M6IHN0eWxlcy50aHVtYlxuICB9KSwgdGh1bWJQcm9wcy5jaGlsZHJlbiwgbmFtZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImlucHV0XCIsIGdldElucHV0UHJvcHMoe1xuICAgIGluZGV4OiBwcm9wcy5pbmRleFxuICB9KSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFJhbmdlU2xpZGVyVGh1bWIuZGlzcGxheU5hbWUgPSBcIlJhbmdlU2xpZGVyVGh1bWJcIjtcbn1cblxudmFyIFJhbmdlU2xpZGVyVHJhY2sgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3VzZVJhbmdlU2xpZGVyQ29udGV4MiA9IHVzZVJhbmdlU2xpZGVyQ29udGV4dCgpLFxuICAgICAgZ2V0VHJhY2tQcm9wcyA9IF91c2VSYW5nZVNsaWRlckNvbnRleDIuZ2V0VHJhY2tQcm9wcztcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHZhciB0cmFja1Byb3BzID0gZ2V0VHJhY2tQcm9wcyhwcm9wcywgcmVmKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHt9LCB0cmFja1Byb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1zbGlkZXJfX3RyYWNrXCIsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgX19jc3M6IHN0eWxlcy50cmFjayxcbiAgICBcImRhdGEtdGVzdGlkXCI6IFwiY2hha3JhLXJhbmdlLXNsaWRlci10cmFja1wiXG4gIH0pKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBSYW5nZVNsaWRlclRyYWNrLmRpc3BsYXlOYW1lID0gXCJSYW5nZVNsaWRlclRyYWNrXCI7XG59XG5cbnZhciBSYW5nZVNsaWRlckZpbGxlZFRyYWNrID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIF91c2VSYW5nZVNsaWRlckNvbnRleDMgPSB1c2VSYW5nZVNsaWRlckNvbnRleHQoKSxcbiAgICAgIGdldElubmVyVHJhY2tQcm9wcyA9IF91c2VSYW5nZVNsaWRlckNvbnRleDMuZ2V0SW5uZXJUcmFja1Byb3BzO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgdmFyIHRyYWNrUHJvcHMgPSBnZXRJbm5lclRyYWNrUHJvcHMocHJvcHMsIHJlZik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7fSwgdHJhY2tQcm9wcywge1xuICAgIGNsYXNzTmFtZTogXCJjaGFrcmEtc2xpZGVyX19maWxsZWQtdHJhY2tcIixcbiAgICBfX2Nzczogc3R5bGVzLmZpbGxlZFRyYWNrXG4gIH0pKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBSYW5nZVNsaWRlckZpbGxlZFRyYWNrLmRpc3BsYXlOYW1lID0gXCJSYW5nZVNsaWRlckZpbGxlZFRyYWNrXCI7XG59XG5cbi8qKlxuICogU2xpZGVyTWFyayBpcyB1c2VkIHRvIHByb3ZpZGUgbmFtZXMgZm9yIHNwZWNpZmljIFNsaWRlclxuICogdmFsdWVzIGJ5IGRlZmluaW5nIGxhYmVscyBvciBtYXJrZXJzIGFsb25nIHRoZSB0cmFjay5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL3NsaWRlclxuICovXG52YXIgUmFuZ2VTbGlkZXJNYXJrID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIF91c2VSYW5nZVNsaWRlckNvbnRleDQgPSB1c2VSYW5nZVNsaWRlckNvbnRleHQoKSxcbiAgICAgIGdldE1hcmtlclByb3BzID0gX3VzZVJhbmdlU2xpZGVyQ29udGV4NC5nZXRNYXJrZXJQcm9wcztcblxuICB2YXIgbWFya1Byb3BzID0gZ2V0TWFya2VyUHJvcHMocHJvcHMsIHJlZik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7fSwgbWFya1Byb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1zbGlkZXJfX21hcmtlclwiLCBwcm9wcy5jbGFzc05hbWUpXG4gIH0pKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBSYW5nZVNsaWRlck1hcmsuZGlzcGxheU5hbWUgPSBcIlJhbmdlU2xpZGVyTWFya1wiO1xufVxuXG52YXIgX2V4Y2x1ZGVkJDEgPSBbXCJtaW5cIiwgXCJtYXhcIiwgXCJvbkNoYW5nZVwiLCBcInZhbHVlXCIsIFwiZGVmYXVsdFZhbHVlXCIsIFwiaXNSZXZlcnNlZFwiLCBcImRpcmVjdGlvblwiLCBcIm9yaWVudGF0aW9uXCIsIFwiaWRcIiwgXCJpc0Rpc2FibGVkXCIsIFwiaXNSZWFkT25seVwiLCBcIm9uQ2hhbmdlU3RhcnRcIiwgXCJvbkNoYW5nZUVuZFwiLCBcInN0ZXBcIiwgXCJnZXRBcmlhVmFsdWVUZXh0XCIsIFwiYXJpYS12YWx1ZXRleHRcIiwgXCJhcmlhLWxhYmVsXCIsIFwiYXJpYS1sYWJlbGxlZGJ5XCIsIFwibmFtZVwiLCBcImZvY3VzVGh1bWJPbkNoYW5nZVwiXTtcblxuLyoqXG4gKiBSZWFjdCBob29rIHRoYXQgaW1wbGVtZW50cyBhbiBhY2Nlc3NpYmxlIHJhbmdlIHNsaWRlci5cbiAqXG4gKiBJdCBpcyBhbiBhbHRlcm5hdGl2ZSB0byBgPGlucHV0IHR5cGU9XCJyYW5nZVwiIC8+YCwgYW5kIHJldHVybnNcbiAqIHByb3AgZ2V0dGVycyBmb3IgdGhlIGNvbXBvbmVudCBwYXJ0c1xuICpcbiAqIEBzZWUgRG9jcyAgICAgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL2RvY3MvZm9ybS9zbGlkZXJcbiAqIEBzZWUgV0FJLUFSSUEgaHR0cHM6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLXByYWN0aWNlcy0xLjEvI3NsaWRlclxuICovXG5mdW5jdGlvbiB1c2VTbGlkZXIocHJvcHMpIHtcbiAgdmFyIF9nZXRBcmlhVmFsdWVUZXh0O1xuXG4gIHZhciBfcHJvcHMkbWluID0gcHJvcHMubWluLFxuICAgICAgbWluID0gX3Byb3BzJG1pbiA9PT0gdm9pZCAwID8gMCA6IF9wcm9wcyRtaW4sXG4gICAgICBfcHJvcHMkbWF4ID0gcHJvcHMubWF4LFxuICAgICAgbWF4ID0gX3Byb3BzJG1heCA9PT0gdm9pZCAwID8gMTAwIDogX3Byb3BzJG1heCxcbiAgICAgIG9uQ2hhbmdlID0gcHJvcHMub25DaGFuZ2UsXG4gICAgICB2YWx1ZVByb3AgPSBwcm9wcy52YWx1ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSA9IHByb3BzLmRlZmF1bHRWYWx1ZSxcbiAgICAgIGlzUmV2ZXJzZWRQcm9wID0gcHJvcHMuaXNSZXZlcnNlZCxcbiAgICAgIF9wcm9wcyRkaXJlY3Rpb24gPSBwcm9wcy5kaXJlY3Rpb24sXG4gICAgICBkaXJlY3Rpb24gPSBfcHJvcHMkZGlyZWN0aW9uID09PSB2b2lkIDAgPyBcImx0clwiIDogX3Byb3BzJGRpcmVjdGlvbixcbiAgICAgIF9wcm9wcyRvcmllbnRhdGlvbiA9IHByb3BzLm9yaWVudGF0aW9uLFxuICAgICAgb3JpZW50YXRpb24gPSBfcHJvcHMkb3JpZW50YXRpb24gPT09IHZvaWQgMCA/IFwiaG9yaXpvbnRhbFwiIDogX3Byb3BzJG9yaWVudGF0aW9uLFxuICAgICAgaWRQcm9wID0gcHJvcHMuaWQsXG4gICAgICBpc0Rpc2FibGVkID0gcHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgIGlzUmVhZE9ubHkgPSBwcm9wcy5pc1JlYWRPbmx5LFxuICAgICAgb25DaGFuZ2VTdGFydFByb3AgPSBwcm9wcy5vbkNoYW5nZVN0YXJ0LFxuICAgICAgb25DaGFuZ2VFbmRQcm9wID0gcHJvcHMub25DaGFuZ2VFbmQsXG4gICAgICBfcHJvcHMkc3RlcCA9IHByb3BzLnN0ZXAsXG4gICAgICBzdGVwID0gX3Byb3BzJHN0ZXAgPT09IHZvaWQgMCA/IDEgOiBfcHJvcHMkc3RlcCxcbiAgICAgIGdldEFyaWFWYWx1ZVRleHRQcm9wID0gcHJvcHMuZ2V0QXJpYVZhbHVlVGV4dCxcbiAgICAgIGFyaWFWYWx1ZVRleHQgPSBwcm9wc1tcImFyaWEtdmFsdWV0ZXh0XCJdLFxuICAgICAgYXJpYUxhYmVsID0gcHJvcHNbXCJhcmlhLWxhYmVsXCJdLFxuICAgICAgYXJpYUxhYmVsbGVkQnkgPSBwcm9wc1tcImFyaWEtbGFiZWxsZWRieVwiXSxcbiAgICAgIG5hbWUgPSBwcm9wcy5uYW1lLFxuICAgICAgX3Byb3BzJGZvY3VzVGh1bWJPbkNoID0gcHJvcHMuZm9jdXNUaHVtYk9uQ2hhbmdlLFxuICAgICAgZm9jdXNUaHVtYk9uQ2hhbmdlID0gX3Byb3BzJGZvY3VzVGh1bWJPbkNoID09PSB2b2lkIDAgPyB0cnVlIDogX3Byb3BzJGZvY3VzVGh1bWJPbkNoLFxuICAgICAgaHRtbFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZCQxKTtcblxuICB2YXIgb25DaGFuZ2VTdGFydCA9IHVzZUNhbGxiYWNrUmVmKG9uQ2hhbmdlU3RhcnRQcm9wKTtcbiAgdmFyIG9uQ2hhbmdlRW5kID0gdXNlQ2FsbGJhY2tSZWYob25DaGFuZ2VFbmRQcm9wKTtcbiAgdmFyIGdldEFyaWFWYWx1ZVRleHQgPSB1c2VDYWxsYmFja1JlZihnZXRBcmlhVmFsdWVUZXh0UHJvcCk7XG4gIHZhciBpc1JldmVyc2VkID0gZ2V0SXNSZXZlcnNlZCh7XG4gICAgaXNSZXZlcnNlZDogaXNSZXZlcnNlZFByb3AsXG4gICAgZGlyZWN0aW9uOiBkaXJlY3Rpb24sXG4gICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uXG4gIH0pO1xuICAvKipcbiAgICogRW5hYmxlIHRoZSBzbGlkZXIgaGFuZGxlIGNvbnRyb2xsZWQgYW5kIHVuY29udHJvbGxlZCBzY2VuYXJpb3NcbiAgICovXG5cbiAgdmFyIF91c2VDb250cm9sbGFibGVTdGF0ZSA9IHVzZUNvbnRyb2xsYWJsZVN0YXRlKHtcbiAgICB2YWx1ZTogdmFsdWVQcm9wLFxuICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdFZhbHVlICE9IG51bGwgPyBkZWZhdWx0VmFsdWUgOiBnZXREZWZhdWx0VmFsdWUobWluLCBtYXgpLFxuICAgIG9uQ2hhbmdlOiBvbkNoYW5nZVxuICB9KSxcbiAgICAgIGNvbXB1dGVkVmFsdWUgPSBfdXNlQ29udHJvbGxhYmxlU3RhdGVbMF0sXG4gICAgICBzZXRWYWx1ZSA9IF91c2VDb250cm9sbGFibGVTdGF0ZVsxXTtcblxuICB2YXIgX3VzZUJvb2xlYW4gPSB1c2VCb29sZWFuKCksXG4gICAgICBpc0RyYWdnaW5nID0gX3VzZUJvb2xlYW5bMF0sXG4gICAgICBzZXREcmFnZ2luZyA9IF91c2VCb29sZWFuWzFdO1xuXG4gIHZhciBfdXNlQm9vbGVhbjIgPSB1c2VCb29sZWFuKCksXG4gICAgICBpc0ZvY3VzZWQgPSBfdXNlQm9vbGVhbjJbMF0sXG4gICAgICBzZXRGb2N1c2VkID0gX3VzZUJvb2xlYW4yWzFdO1xuXG4gIHZhciBldmVudFNvdXJjZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIGlzSW50ZXJhY3RpdmUgPSAhKGlzRGlzYWJsZWQgfHwgaXNSZWFkT25seSk7XG4gIC8qKlxuICAgKiBDb25zdHJhaW4gdGhlIHZhbHVlIGJlY2F1c2UgaXQgY2FuJ3QgYmUgbGVzcyB0aGFuIG1pblxuICAgKiBvciBncmVhdGVyIHRoYW4gbWF4XG4gICAqL1xuXG4gIHZhciB2YWx1ZSA9IGNsYW1wVmFsdWUoY29tcHV0ZWRWYWx1ZSwgbWluLCBtYXgpO1xuICB2YXIgdmFsdWVSZWYgPSB1c2VMYXRlc3RSZWYodmFsdWUpO1xuICB2YXIgcHJldlJlZiA9IHVzZVJlZih2YWx1ZVJlZi5jdXJyZW50KTtcbiAgdmFyIHJldmVyc2VkVmFsdWUgPSBtYXggLSB2YWx1ZSArIG1pbjtcbiAgdmFyIHRyYWNrVmFsdWUgPSBpc1JldmVyc2VkID8gcmV2ZXJzZWRWYWx1ZSA6IHZhbHVlO1xuICB2YXIgdGh1bWJQZXJjZW50ID0gdmFsdWVUb1BlcmNlbnQodHJhY2tWYWx1ZSwgbWluLCBtYXgpO1xuICB2YXIgaXNWZXJ0aWNhbCA9IG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCI7XG4gIC8qKlxuICAgKiBMZXQncyBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBzbGlkZXIgdHJhY2sgYW5kIHRodW1iXG4gICAqL1xuXG4gIHZhciB0cmFja1JlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIHRodW1iUmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgcm9vdFJlZiA9IHVzZVJlZihudWxsKTtcbiAgLyoqXG4gICAqIEdlbmVyYXRlIHVuaXF1ZSBpZHMgZm9yIGNvbXBvbmVudCBwYXJ0c1xuICAgKi9cblxuICB2YXIgX3VzZUlkcyA9IHVzZUlkcyhpZFByb3AsIFwic2xpZGVyLXRodW1iXCIsIFwic2xpZGVyLXRyYWNrXCIpLFxuICAgICAgdGh1bWJJZCA9IF91c2VJZHNbMF0sXG4gICAgICB0cmFja0lkID0gX3VzZUlkc1sxXTtcbiAgLyoqXG4gICAqIEdldCByZWxhdGl2ZSB2YWx1ZSBvZiBzbGlkZXIgZnJvbSB0aGUgZXZlbnQgYnkgdHJhY2tpbmdcbiAgICogaG93IGZhciB5b3UgY2xpY2tlZCB3aXRoaW4gdGhlIHRyYWNrIHRvIGRldGVybWluZSB0aGUgdmFsdWVcbiAgICpcbiAgICogQHRvZG8gLSBSZWZhY3RvciB0aGlzIGxhdGVyIG9uIHRvIHVzZSBpbmZvIGZyb20gcGFuIHNlc3Npb25cbiAgICovXG5cblxuICB2YXIgZ2V0VmFsdWVGcm9tUG9pbnRlciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIHZhciBfZXZlbnQkdG91Y2hlcyQsIF9ldmVudCR0b3VjaGVzO1xuXG4gICAgaWYgKCF0cmFja1JlZi5jdXJyZW50KSByZXR1cm47XG4gICAgZXZlbnRTb3VyY2VSZWYuY3VycmVudCA9IFwicG9pbnRlclwiO1xuICAgIHZhciB0cmFja1JlY3QgPSBnZXRCb3godHJhY2tSZWYuY3VycmVudCkuYm9yZGVyQm94O1xuXG4gICAgdmFyIF9yZWYgPSAoX2V2ZW50JHRvdWNoZXMkID0gKF9ldmVudCR0b3VjaGVzID0gZXZlbnQudG91Y2hlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9ldmVudCR0b3VjaGVzWzBdKSAhPSBudWxsID8gX2V2ZW50JHRvdWNoZXMkIDogZXZlbnQsXG4gICAgICAgIGNsaWVudFggPSBfcmVmLmNsaWVudFgsXG4gICAgICAgIGNsaWVudFkgPSBfcmVmLmNsaWVudFk7XG5cbiAgICB2YXIgZGlmZiA9IGlzVmVydGljYWwgPyB0cmFja1JlY3QuYm90dG9tIC0gY2xpZW50WSA6IGNsaWVudFggLSB0cmFja1JlY3QubGVmdDtcbiAgICB2YXIgbGVuZ3RoID0gaXNWZXJ0aWNhbCA/IHRyYWNrUmVjdC5oZWlnaHQgOiB0cmFja1JlY3Qud2lkdGg7XG4gICAgdmFyIHBlcmNlbnQgPSBkaWZmIC8gbGVuZ3RoO1xuXG4gICAgaWYgKGlzUmV2ZXJzZWQpIHtcbiAgICAgIHBlcmNlbnQgPSAxIC0gcGVyY2VudDtcbiAgICB9XG5cbiAgICB2YXIgbmV4dFZhbHVlID0gcGVyY2VudFRvVmFsdWUocGVyY2VudCwgbWluLCBtYXgpO1xuXG4gICAgaWYgKHN0ZXApIHtcbiAgICAgIG5leHRWYWx1ZSA9IHBhcnNlRmxvYXQocm91bmRWYWx1ZVRvU3RlcChuZXh0VmFsdWUsIG1pbiwgc3RlcCkpO1xuICAgIH1cblxuICAgIG5leHRWYWx1ZSA9IGNsYW1wVmFsdWUobmV4dFZhbHVlLCBtaW4sIG1heCk7XG4gICAgcmV0dXJuIG5leHRWYWx1ZTtcbiAgfSwgW2lzVmVydGljYWwsIGlzUmV2ZXJzZWQsIG1heCwgbWluLCBzdGVwXSk7XG4gIHZhciB0ZW5TdGVwcyA9IChtYXggLSBtaW4pIC8gMTA7XG4gIHZhciBvbmVTdGVwID0gc3RlcCB8fCAobWF4IC0gbWluKSAvIDEwMDtcbiAgdmFyIGNvbnN0cmFpbiA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICghaXNJbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgIHZhbHVlID0gcGFyc2VGbG9hdChyb3VuZFZhbHVlVG9TdGVwKHZhbHVlLCBtaW4sIG9uZVN0ZXApKTtcbiAgICB2YWx1ZSA9IGNsYW1wVmFsdWUodmFsdWUsIG1pbiwgbWF4KTtcbiAgICBzZXRWYWx1ZSh2YWx1ZSk7XG4gIH0sIFtvbmVTdGVwLCBtYXgsIG1pbiwgc2V0VmFsdWUsIGlzSW50ZXJhY3RpdmVdKTtcbiAgdmFyIGFjdGlvbnMgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3RlcFVwOiBmdW5jdGlvbiBzdGVwVXAoc3RlcCkge1xuICAgICAgICBpZiAoc3RlcCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgc3RlcCA9IG9uZVN0ZXA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmV4dCA9IGlzUmV2ZXJzZWQgPyB2YWx1ZSAtIHN0ZXAgOiB2YWx1ZSArIHN0ZXA7XG4gICAgICAgIGNvbnN0cmFpbihuZXh0KTtcbiAgICAgIH0sXG4gICAgICBzdGVwRG93bjogZnVuY3Rpb24gc3RlcERvd24oc3RlcCkge1xuICAgICAgICBpZiAoc3RlcCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgc3RlcCA9IG9uZVN0ZXA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmV4dCA9IGlzUmV2ZXJzZWQgPyB2YWx1ZSArIHN0ZXAgOiB2YWx1ZSAtIHN0ZXA7XG4gICAgICAgIGNvbnN0cmFpbihuZXh0KTtcbiAgICAgIH0sXG4gICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJhaW4oZGVmYXVsdFZhbHVlIHx8IDApO1xuICAgICAgfSxcbiAgICAgIHN0ZXBUbzogZnVuY3Rpb24gc3RlcFRvKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJhaW4odmFsdWUpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtjb25zdHJhaW4sIGlzUmV2ZXJzZWQsIHZhbHVlLCBvbmVTdGVwLCBkZWZhdWx0VmFsdWVdKTtcbiAgLyoqXG4gICAqIEtleWJvYXJkIGludGVyYWN0aW9uIHRvIGVuc3VyZSB1c2VycyBjYW4gb3BlcmF0ZVxuICAgKiB0aGUgc2xpZGVyIHVzaW5nIG9ubHkgdGhlaXIga2V5Ym9hcmQuXG4gICAqL1xuXG4gIHZhciBvbktleURvd24gPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB2YXIgZXZlbnRLZXkgPSBub3JtYWxpemVFdmVudEtleShldmVudCk7XG4gICAgdmFyIGtleU1hcCA9IHtcbiAgICAgIEFycm93UmlnaHQ6IGZ1bmN0aW9uIEFycm93UmlnaHQoKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb25zLnN0ZXBVcCgpO1xuICAgICAgfSxcbiAgICAgIEFycm93VXA6IGZ1bmN0aW9uIEFycm93VXAoKSB7XG4gICAgICAgIHJldHVybiBhY3Rpb25zLnN0ZXBVcCgpO1xuICAgICAgfSxcbiAgICAgIEFycm93TGVmdDogZnVuY3Rpb24gQXJyb3dMZWZ0KCkge1xuICAgICAgICByZXR1cm4gYWN0aW9ucy5zdGVwRG93bigpO1xuICAgICAgfSxcbiAgICAgIEFycm93RG93bjogZnVuY3Rpb24gQXJyb3dEb3duKCkge1xuICAgICAgICByZXR1cm4gYWN0aW9ucy5zdGVwRG93bigpO1xuICAgICAgfSxcbiAgICAgIFBhZ2VVcDogZnVuY3Rpb24gUGFnZVVwKCkge1xuICAgICAgICByZXR1cm4gYWN0aW9ucy5zdGVwVXAodGVuU3RlcHMpO1xuICAgICAgfSxcbiAgICAgIFBhZ2VEb3duOiBmdW5jdGlvbiBQYWdlRG93bigpIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbnMuc3RlcERvd24odGVuU3RlcHMpO1xuICAgICAgfSxcbiAgICAgIEhvbWU6IGZ1bmN0aW9uIEhvbWUoKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJhaW4obWluKTtcbiAgICAgIH0sXG4gICAgICBFbmQ6IGZ1bmN0aW9uIEVuZCgpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN0cmFpbihtYXgpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGFjdGlvbiA9IGtleU1hcFtldmVudEtleV07XG5cbiAgICBpZiAoYWN0aW9uKSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBhY3Rpb24oZXZlbnQpO1xuICAgICAgZXZlbnRTb3VyY2VSZWYuY3VycmVudCA9IFwia2V5Ym9hcmRcIjtcbiAgICB9XG4gIH0sIFthY3Rpb25zLCBjb25zdHJhaW4sIG1heCwgbWluLCB0ZW5TdGVwc10pO1xuICAvKipcbiAgICogQVJJQSAoT3B0aW9uYWwpOiBUbyBkZWZpbmUgYSBodW1hbiByZWFkYWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdmFsdWUsXG4gICAqIHdlIGFsbG93IHVzZXJzIHBhc3MgYXJpYS12YWx1ZXRleHQuXG4gICAqL1xuXG4gIHZhciB2YWx1ZVRleHQgPSAoX2dldEFyaWFWYWx1ZVRleHQgPSBnZXRBcmlhVmFsdWVUZXh0ID09IG51bGwgPyB2b2lkIDAgOiBnZXRBcmlhVmFsdWVUZXh0KHZhbHVlKSkgIT0gbnVsbCA/IF9nZXRBcmlhVmFsdWVUZXh0IDogYXJpYVZhbHVlVGV4dDtcbiAgLyoqXG4gICAqIE1lYXN1cmUgdGhlIGRpbWVuc2lvbnMgb2YgdGhlIHRodW1iIHNvXG4gICAqIHdlIGNhbiBjZW50ZXIgaXQgd2l0aGluIHRoZSB0cmFjayBwcm9wZXJseVxuICAgKi9cblxuICB2YXIgdGh1bWJCb3hNb2RlbCA9IHVzZURpbWVuc2lvbnModGh1bWJSZWYpO1xuICAvKipcbiAgICogQ29tcHV0ZSBzdHlsZXMgZm9yIGFsbCBjb21wb25lbnQgcGFydHMuXG4gICAqL1xuXG4gIHZhciBfdXNlTWVtbyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHZhciBfdGh1bWJCb3hNb2RlbCRib3JkZXI7XG5cbiAgICB2YXIgdGh1bWJSZWN0ID0gKF90aHVtYkJveE1vZGVsJGJvcmRlciA9IHRodW1iQm94TW9kZWwgPT0gbnVsbCA/IHZvaWQgMCA6IHRodW1iQm94TW9kZWwuYm9yZGVyQm94KSAhPSBudWxsID8gX3RodW1iQm94TW9kZWwkYm9yZGVyIDoge1xuICAgICAgd2lkdGg6IDAsXG4gICAgICBoZWlnaHQ6IDBcbiAgICB9O1xuICAgIHJldHVybiBnZXRTdHlsZXMoe1xuICAgICAgaXNSZXZlcnNlZDogaXNSZXZlcnNlZCxcbiAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICAgIHRodW1iUmVjdHM6IFt0aHVtYlJlY3RdLFxuICAgICAgdGh1bWJQZXJjZW50czogW3RodW1iUGVyY2VudF1cbiAgICB9KTtcbiAgfSwgW2lzUmV2ZXJzZWQsIG9yaWVudGF0aW9uLCB0aHVtYkJveE1vZGVsID09IG51bGwgPyB2b2lkIDAgOiB0aHVtYkJveE1vZGVsLmJvcmRlckJveCwgdGh1bWJQZXJjZW50XSksXG4gICAgICBnZXRUaHVtYlN0eWxlID0gX3VzZU1lbW8uZ2V0VGh1bWJTdHlsZSxcbiAgICAgIHJvb3RTdHlsZSA9IF91c2VNZW1vLnJvb3RTdHlsZSxcbiAgICAgIHRyYWNrU3R5bGUgPSBfdXNlTWVtby50cmFja1N0eWxlLFxuICAgICAgaW5uZXJUcmFja1N0eWxlID0gX3VzZU1lbW8uaW5uZXJUcmFja1N0eWxlO1xuXG4gIHZhciBmb2N1c1RodW1iID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aHVtYlJlZi5jdXJyZW50ICYmIGZvY3VzVGh1bWJPbkNoYW5nZSkge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmb2N1cyh0aHVtYlJlZi5jdXJyZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwgW2ZvY3VzVGh1bWJPbkNoYW5nZV0pO1xuICB1c2VVcGRhdGVFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGZvY3VzVGh1bWIoKTtcblxuICAgIGlmIChldmVudFNvdXJjZVJlZi5jdXJyZW50ID09PSBcImtleWJvYXJkXCIpIHtcbiAgICAgIG9uQ2hhbmdlRW5kID09IG51bGwgPyB2b2lkIDAgOiBvbkNoYW5nZUVuZCh2YWx1ZVJlZi5jdXJyZW50KTtcbiAgICB9XG4gIH0sIFt2YWx1ZSwgb25DaGFuZ2VFbmRdKTtcblxuICB2YXIgc2V0VmFsdWVGcm9tUG9pbnRlciA9IGZ1bmN0aW9uIHNldFZhbHVlRnJvbVBvaW50ZXIoZXZlbnQpIHtcbiAgICB2YXIgbmV4dFZhbHVlID0gZ2V0VmFsdWVGcm9tUG9pbnRlcihldmVudCk7XG5cbiAgICBpZiAobmV4dFZhbHVlICE9IG51bGwgJiYgbmV4dFZhbHVlICE9PSB2YWx1ZVJlZi5jdXJyZW50KSB7XG4gICAgICBzZXRWYWx1ZShuZXh0VmFsdWUpO1xuICAgIH1cbiAgfTtcblxuICB1c2VQYW5HZXN0dXJlKHJvb3RSZWYsIHtcbiAgICBvblBhblNlc3Npb25TdGFydDogZnVuY3Rpb24gb25QYW5TZXNzaW9uU3RhcnQoZXZlbnQpIHtcbiAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgc2V0RHJhZ2dpbmcub24oKTtcbiAgICAgIGZvY3VzVGh1bWIoKTtcbiAgICAgIHNldFZhbHVlRnJvbVBvaW50ZXIoZXZlbnQpO1xuICAgICAgb25DaGFuZ2VTdGFydCA9PSBudWxsID8gdm9pZCAwIDogb25DaGFuZ2VTdGFydCh2YWx1ZVJlZi5jdXJyZW50KTtcbiAgICB9LFxuICAgIG9uUGFuU2Vzc2lvbkVuZDogZnVuY3Rpb24gb25QYW5TZXNzaW9uRW5kKCkge1xuICAgICAgaWYgKCFpc0ludGVyYWN0aXZlKSByZXR1cm47XG4gICAgICBzZXREcmFnZ2luZy5vZmYoKTtcbiAgICAgIG9uQ2hhbmdlRW5kID09IG51bGwgPyB2b2lkIDAgOiBvbkNoYW5nZUVuZCh2YWx1ZVJlZi5jdXJyZW50KTtcbiAgICAgIHByZXZSZWYuY3VycmVudCA9IHZhbHVlUmVmLmN1cnJlbnQ7XG4gICAgfSxcbiAgICBvblBhbjogZnVuY3Rpb24gb25QYW4oZXZlbnQpIHtcbiAgICAgIGlmICghaXNJbnRlcmFjdGl2ZSkgcmV0dXJuO1xuICAgICAgc2V0VmFsdWVGcm9tUG9pbnRlcihldmVudCk7XG4gICAgfVxuICB9KTtcbiAgdmFyIGdldFJvb3RQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICByZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIGh0bWxQcm9wcywge1xuICAgICAgcmVmOiBtZXJnZVJlZnMocmVmLCByb290UmVmKSxcbiAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgIFwiYXJpYS1kaXNhYmxlZFwiOiBhcmlhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1mb2N1c2VkXCI6IGRhdGFBdHRyKGlzRm9jdXNlZCksXG4gICAgICBzdHlsZTogX2V4dGVuZHMoe30sIHByb3BzLnN0eWxlLCByb290U3R5bGUpXG4gICAgfSk7XG4gIH0sIFtodG1sUHJvcHMsIGlzRGlzYWJsZWQsIGlzRm9jdXNlZCwgcm9vdFN0eWxlXSk7XG4gIHZhciBnZXRUcmFja1Byb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgcmVmOiBtZXJnZVJlZnMocmVmLCB0cmFja1JlZiksXG4gICAgICBpZDogdHJhY2tJZCxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIHRyYWNrU3R5bGUpXG4gICAgfSk7XG4gIH0sIFtpc0Rpc2FibGVkLCB0cmFja0lkLCB0cmFja1N0eWxlXSk7XG4gIHZhciBnZXRJbm5lclRyYWNrUHJvcHMgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICAgIGlmIChwcm9wcyA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9wcyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChyZWYgPT09IHZvaWQgMCkge1xuICAgICAgcmVmID0gbnVsbDtcbiAgICB9XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICByZWY6IHJlZixcbiAgICAgIHN0eWxlOiBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIGlubmVyVHJhY2tTdHlsZSlcbiAgICB9KTtcbiAgfSwgW2lubmVyVHJhY2tTdHlsZV0pO1xuICB2YXIgZ2V0VGh1bWJQcm9wcyA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gICAgaWYgKHByb3BzID09PSB2b2lkIDApIHtcbiAgICAgIHByb3BzID0ge307XG4gICAgfVxuXG4gICAgaWYgKHJlZiA9PT0gdm9pZCAwKSB7XG4gICAgICByZWYgPSBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHJlZjogbWVyZ2VSZWZzKHJlZiwgdGh1bWJSZWYpLFxuICAgICAgcm9sZTogXCJzbGlkZXJcIixcbiAgICAgIHRhYkluZGV4OiBpc0ludGVyYWN0aXZlID8gMCA6IHVuZGVmaW5lZCxcbiAgICAgIGlkOiB0aHVtYklkLFxuICAgICAgXCJkYXRhLWFjdGl2ZVwiOiBkYXRhQXR0cihpc0RyYWdnaW5nKSxcbiAgICAgIFwiYXJpYS12YWx1ZXRleHRcIjogdmFsdWVUZXh0LFxuICAgICAgXCJhcmlhLXZhbHVlbWluXCI6IG1pbixcbiAgICAgIFwiYXJpYS12YWx1ZW1heFwiOiBtYXgsXG4gICAgICBcImFyaWEtdmFsdWVub3dcIjogdmFsdWUsXG4gICAgICBcImFyaWEtb3JpZW50YXRpb25cIjogb3JpZW50YXRpb24sXG4gICAgICBcImFyaWEtZGlzYWJsZWRcIjogYXJpYUF0dHIoaXNEaXNhYmxlZCksXG4gICAgICBcImFyaWEtcmVhZG9ubHlcIjogYXJpYUF0dHIoaXNSZWFkT25seSksXG4gICAgICBcImFyaWEtbGFiZWxcIjogYXJpYUxhYmVsLFxuICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogYXJpYUxhYmVsID8gdW5kZWZpbmVkIDogYXJpYUxhYmVsbGVkQnksXG4gICAgICBzdHlsZTogX2V4dGVuZHMoe30sIHByb3BzLnN0eWxlLCBnZXRUaHVtYlN0eWxlKDApKSxcbiAgICAgIG9uS2V5RG93bjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uS2V5RG93biwgb25LZXlEb3duKSxcbiAgICAgIG9uRm9jdXM6IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbkZvY3VzLCBzZXRGb2N1c2VkLm9uKSxcbiAgICAgIG9uQmx1cjogY2FsbEFsbEhhbmRsZXJzKHByb3BzLm9uQmx1ciwgc2V0Rm9jdXNlZC5vZmYpXG4gICAgfSk7XG4gIH0sIFtpc0ludGVyYWN0aXZlLCB0aHVtYklkLCBpc0RyYWdnaW5nLCB2YWx1ZVRleHQsIG1pbiwgbWF4LCB2YWx1ZSwgb3JpZW50YXRpb24sIGlzRGlzYWJsZWQsIGlzUmVhZE9ubHksIGFyaWFMYWJlbCwgYXJpYUxhYmVsbGVkQnksIGdldFRodW1iU3R5bGUsIG9uS2V5RG93biwgc2V0Rm9jdXNlZC5vbiwgc2V0Rm9jdXNlZC5vZmZdKTtcbiAgdmFyIGdldE1hcmtlclByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGlzSW5SYW5nZSA9ICEocHJvcHMudmFsdWUgPCBtaW4gfHwgcHJvcHMudmFsdWUgPiBtYXgpO1xuICAgIHZhciBpc0hpZ2hsaWdodGVkID0gdmFsdWUgPj0gcHJvcHMudmFsdWU7XG4gICAgdmFyIG1hcmtlclBlcmNlbnQgPSB2YWx1ZVRvUGVyY2VudChwcm9wcy52YWx1ZSwgbWluLCBtYXgpO1xuXG4gICAgdmFyIG1hcmtlclN0eWxlID0gX2V4dGVuZHMoe1xuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiXG4gICAgfSwgb3JpZW50KHtcbiAgICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICAgIHZlcnRpY2FsOiB7XG4gICAgICAgIGJvdHRvbTogaXNSZXZlcnNlZCA/IDEwMCAtIG1hcmtlclBlcmNlbnQgKyBcIiVcIiA6IG1hcmtlclBlcmNlbnQgKyBcIiVcIlxuICAgICAgfSxcbiAgICAgIGhvcml6b250YWw6IHtcbiAgICAgICAgbGVmdDogaXNSZXZlcnNlZCA/IDEwMCAtIG1hcmtlclBlcmNlbnQgKyBcIiVcIiA6IG1hcmtlclBlcmNlbnQgKyBcIiVcIlxuICAgICAgfVxuICAgIH0pKTtcblxuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgIHJlZjogcmVmLFxuICAgICAgcm9sZTogXCJwcmVzZW50YXRpb25cIixcbiAgICAgIFwiYXJpYS1oaWRkZW5cIjogdHJ1ZSxcbiAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBkYXRhQXR0cihpc0Rpc2FibGVkKSxcbiAgICAgIFwiZGF0YS1pbnZhbGlkXCI6IGRhdGFBdHRyKCFpc0luUmFuZ2UpLFxuICAgICAgXCJkYXRhLWhpZ2hsaWdodGVkXCI6IGRhdGFBdHRyKGlzSGlnaGxpZ2h0ZWQpLFxuICAgICAgc3R5bGU6IF9leHRlbmRzKHt9LCBwcm9wcy5zdHlsZSwgbWFya2VyU3R5bGUpXG4gICAgfSk7XG4gIH0sIFtpc0Rpc2FibGVkLCBpc1JldmVyc2VkLCBtYXgsIG1pbiwgb3JpZW50YXRpb24sIHZhbHVlXSk7XG4gIHZhciBnZXRJbnB1dFByb3BzID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgICBpZiAocHJvcHMgPT09IHZvaWQgMCkge1xuICAgICAgcHJvcHMgPSB7fTtcbiAgICB9XG5cbiAgICBpZiAocmVmID09PSB2b2lkIDApIHtcbiAgICAgIHJlZiA9IG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgcmVmOiByZWYsXG4gICAgICB0eXBlOiBcImhpZGRlblwiLFxuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgbmFtZTogbmFtZVxuICAgIH0pO1xuICB9LCBbbmFtZSwgdmFsdWVdKTtcbiAgcmV0dXJuIHtcbiAgICBzdGF0ZToge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgaXNGb2N1c2VkOiBpc0ZvY3VzZWQsXG4gICAgICBpc0RyYWdnaW5nOiBpc0RyYWdnaW5nXG4gICAgfSxcbiAgICBhY3Rpb25zOiBhY3Rpb25zLFxuICAgIGdldFJvb3RQcm9wczogZ2V0Um9vdFByb3BzLFxuICAgIGdldFRyYWNrUHJvcHM6IGdldFRyYWNrUHJvcHMsXG4gICAgZ2V0SW5uZXJUcmFja1Byb3BzOiBnZXRJbm5lclRyYWNrUHJvcHMsXG4gICAgZ2V0VGh1bWJQcm9wczogZ2V0VGh1bWJQcm9wcyxcbiAgICBnZXRNYXJrZXJQcm9wczogZ2V0TWFya2VyUHJvcHMsXG4gICAgZ2V0SW5wdXRQcm9wczogZ2V0SW5wdXRQcm9wc1xuICB9O1xufVxuXG5mdW5jdGlvbiBvcmllbnQob3B0aW9ucykge1xuICB2YXIgb3JpZW50YXRpb24gPSBvcHRpb25zLm9yaWVudGF0aW9uLFxuICAgICAgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsLFxuICAgICAgaG9yaXpvbnRhbCA9IG9wdGlvbnMuaG9yaXpvbnRhbDtcbiAgcmV0dXJuIG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgPyB2ZXJ0aWNhbCA6IGhvcml6b250YWw7XG59XG4vKipcbiAqIFRoZSBicm93c2VyIDxpbnB1dCB0eXBlPVwicmFuZ2VcIiAvPiBjYWxjdWxhdGVzXG4gKiB0aGUgZGVmYXVsdCB2YWx1ZSBvZiBhIHNsaWRlciBieSB1c2luZyBtaWQtcG9pbnRcbiAqIGJldHdlZW4gdGhlIG1pbiBhbmQgdGhlIG1heC5cbiAqXG4gKiBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC9pbnB1dC9yYW5nZVxuICovXG5cblxuZnVuY3Rpb24gZ2V0RGVmYXVsdFZhbHVlKG1pbiwgbWF4KSB7XG4gIHJldHVybiBtYXggPCBtaW4gPyBtaW4gOiBtaW4gKyAobWF4IC0gbWluKSAvIDI7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJnZXRJbnB1dFByb3BzXCIsIFwiZ2V0Um9vdFByb3BzXCJdO1xuXG52YXIgX2NyZWF0ZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgbmFtZTogXCJTbGlkZXJDb250ZXh0XCIsXG4gIGVycm9yTWVzc2FnZTogXCJ1c2VTbGlkZXJDb250ZXh0OiBgY29udGV4dGAgaXMgdW5kZWZpbmVkLiBTZWVtcyB5b3UgZm9yZ290IHRvIHdyYXAgYWxsIHNsaWRlciBjb21wb25lbnRzIHdpdGhpbiA8U2xpZGVyIC8+XCJcbn0pLFxuICAgIFNsaWRlclByb3ZpZGVyID0gX2NyZWF0ZUNvbnRleHRbMF0sXG4gICAgdXNlU2xpZGVyQ29udGV4dCA9IF9jcmVhdGVDb250ZXh0WzFdO1xuXG4vKipcbiAqIFRoZSBTbGlkZXIgaXMgdXNlZCB0byBhbGxvdyB1c2VycyB0byBtYWtlIHNlbGVjdGlvbnMgZnJvbSBhIHJhbmdlIG9mIHZhbHVlcy5cbiAqIEl0IHByb3ZpZGVzIGNvbnRleHQgYW5kIGZ1bmN0aW9uYWxpdHkgZm9yIGFsbCBzbGlkZXIgY29tcG9uZW50c1xuICpcbiAqIEBzZWUgRG9jcyAgICAgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL2RvY3MvZm9ybS9zbGlkZXJcbiAqIEBzZWUgV0FJLUFSSUEgaHR0cHM6Ly93d3cudzMub3JnL1RSL3dhaS1hcmlhLXByYWN0aWNlcy8jc2xpZGVyXG4gKi9cbnZhciBTbGlkZXIgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgc3R5bGVzID0gdXNlTXVsdGlTdHlsZUNvbmZpZyhcIlNsaWRlclwiLCBwcm9wcyk7XG4gIHZhciBvd25Qcm9wcyA9IG9taXRUaGVtaW5nUHJvcHMocHJvcHMpO1xuXG4gIHZhciBfdXNlVGhlbWUgPSB1c2VUaGVtZSgpLFxuICAgICAgZGlyZWN0aW9uID0gX3VzZVRoZW1lLmRpcmVjdGlvbjtcblxuICBvd25Qcm9wcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247XG5cbiAgdmFyIF91c2VTbGlkZXIgPSB1c2VTbGlkZXIob3duUHJvcHMpLFxuICAgICAgZ2V0SW5wdXRQcm9wcyA9IF91c2VTbGlkZXIuZ2V0SW5wdXRQcm9wcyxcbiAgICAgIGdldFJvb3RQcm9wcyA9IF91c2VTbGlkZXIuZ2V0Um9vdFByb3BzLFxuICAgICAgY29udGV4dCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF91c2VTbGlkZXIsIF9leGNsdWRlZCk7XG5cbiAgdmFyIHJvb3RQcm9wcyA9IGdldFJvb3RQcm9wcygpO1xuICB2YXIgaW5wdXRQcm9wcyA9IGdldElucHV0UHJvcHMoe30sIHJlZik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTbGlkZXJQcm92aWRlciwge1xuICAgIHZhbHVlOiBjb250ZXh0XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlc1Byb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHN0eWxlc1xuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7fSwgcm9vdFByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBcImNoYWtyYS1zbGlkZXJcIixcbiAgICBfX2Nzczogc3R5bGVzLmNvbnRhaW5lclxuICB9KSwgcHJvcHMuY2hpbGRyZW4sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwgaW5wdXRQcm9wcykpKSk7XG59KTtcblNsaWRlci5kZWZhdWx0UHJvcHMgPSB7XG4gIG9yaWVudGF0aW9uOiBcImhvcml6b250YWxcIlxufTtcblxuaWYgKF9fREVWX18pIHtcbiAgU2xpZGVyLmRpc3BsYXlOYW1lID0gXCJTbGlkZXJcIjtcbn1cblxuLyoqXG4gKiBTbGlkZXIgY29tcG9uZW50IHRoYXQgYWN0cyBhcyB0aGUgaGFuZGxlIHVzZWQgdG8gc2VsZWN0IHByZWRlZmluZWRcbiAqIHZhbHVlcyBieSBkcmFnZ2luZyBpdHMgaGFuZGxlIGFsb25nIHRoZSB0cmFja1xuICovXG52YXIgU2xpZGVyVGh1bWIgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3VzZVNsaWRlckNvbnRleHQgPSB1c2VTbGlkZXJDb250ZXh0KCksXG4gICAgICBnZXRUaHVtYlByb3BzID0gX3VzZVNsaWRlckNvbnRleHQuZ2V0VGh1bWJQcm9wcztcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHZhciB0aHVtYlByb3BzID0gZ2V0VGh1bWJQcm9wcyhwcm9wcywgcmVmKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHt9LCB0aHVtYlByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1zbGlkZXJfX3RodW1iXCIsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgX19jc3M6IHN0eWxlcy50aHVtYlxuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgU2xpZGVyVGh1bWIuZGlzcGxheU5hbWUgPSBcIlNsaWRlclRodW1iXCI7XG59XG5cbnZhciBTbGlkZXJUcmFjayA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfdXNlU2xpZGVyQ29udGV4dDIgPSB1c2VTbGlkZXJDb250ZXh0KCksXG4gICAgICBnZXRUcmFja1Byb3BzID0gX3VzZVNsaWRlckNvbnRleHQyLmdldFRyYWNrUHJvcHM7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICB2YXIgdHJhY2tQcm9wcyA9IGdldFRyYWNrUHJvcHMocHJvcHMsIHJlZik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7fSwgdHJhY2tQcm9wcywge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtc2xpZGVyX190cmFja1wiLCBwcm9wcy5jbGFzc05hbWUpLFxuICAgIF9fY3NzOiBzdHlsZXMudHJhY2tcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFNsaWRlclRyYWNrLmRpc3BsYXlOYW1lID0gXCJTbGlkZXJUcmFja1wiO1xufVxuXG52YXIgU2xpZGVyRmlsbGVkVHJhY2sgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3VzZVNsaWRlckNvbnRleHQzID0gdXNlU2xpZGVyQ29udGV4dCgpLFxuICAgICAgZ2V0SW5uZXJUcmFja1Byb3BzID0gX3VzZVNsaWRlckNvbnRleHQzLmdldElubmVyVHJhY2tQcm9wcztcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHZhciB0cmFja1Byb3BzID0gZ2V0SW5uZXJUcmFja1Byb3BzKHByb3BzLCByZWYpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe30sIHRyYWNrUHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLXNsaWRlcl9fZmlsbGVkLXRyYWNrXCIsXG4gICAgX19jc3M6IHN0eWxlcy5maWxsZWRUcmFja1xuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgU2xpZGVyRmlsbGVkVHJhY2suZGlzcGxheU5hbWUgPSBcIlNsaWRlckZpbGxlZFRyYWNrXCI7XG59XG5cbi8qKlxuICogU2xpZGVyTWFyayBpcyB1c2VkIHRvIHByb3ZpZGUgbmFtZXMgZm9yIHNwZWNpZmljIFNsaWRlclxuICogdmFsdWVzIGJ5IGRlZmluaW5nIGxhYmVscyBvciBtYXJrZXJzIGFsb25nIHRoZSB0cmFjay5cbiAqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL3NsaWRlclxuICovXG52YXIgU2xpZGVyTWFyayA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfdXNlU2xpZGVyQ29udGV4dDQgPSB1c2VTbGlkZXJDb250ZXh0KCksXG4gICAgICBnZXRNYXJrZXJQcm9wcyA9IF91c2VTbGlkZXJDb250ZXh0NC5nZXRNYXJrZXJQcm9wcztcblxuICB2YXIgbWFya1Byb3BzID0gZ2V0TWFya2VyUHJvcHMocHJvcHMsIHJlZik7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7fSwgbWFya1Byb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1zbGlkZXJfX21hcmtlclwiLCBwcm9wcy5jbGFzc05hbWUpXG4gIH0pKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBTbGlkZXJNYXJrLmRpc3BsYXlOYW1lID0gXCJTbGlkZXJNYXJrXCI7XG59XG5cbmV4cG9ydCB7IFJhbmdlU2xpZGVyLCBSYW5nZVNsaWRlckZpbGxlZFRyYWNrLCBSYW5nZVNsaWRlck1hcmssIFJhbmdlU2xpZGVyUHJvdmlkZXIsIFJhbmdlU2xpZGVyVGh1bWIsIFJhbmdlU2xpZGVyVHJhY2ssIFNsaWRlciwgU2xpZGVyRmlsbGVkVHJhY2ssIFNsaWRlck1hcmssIFNsaWRlclByb3ZpZGVyLCBTbGlkZXJUaHVtYiwgU2xpZGVyVHJhY2ssIHVzZVJhbmdlU2xpZGVyLCB1c2VSYW5nZVNsaWRlckNvbnRleHQsIHVzZVNsaWRlciwgdXNlU2xpZGVyQ29udGV4dCB9O1xuIiwiaW1wb3J0IHsgSWNvbiB9IGZyb20gJ0BjaGFrcmEtdWkvaWNvbic7XG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VTdHlsZXMsIGNoYWtyYSwgdXNlTXVsdGlTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcywgU3R5bGVzUHJvdmlkZXIgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBjeCwgX19ERVZfXyB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0IHsgVmlzdWFsbHlIaWRkZW4gfSBmcm9tICdAY2hha3JhLXVpL3Zpc3VhbGx5LWhpZGRlbic7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1widHlwZVwiLCBcImFyaWEtbGFiZWxcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcImNsYXNzTmFtZVwiLCBcImNoaWxkcmVuXCJdO1xudmFyIFN0YXRMYWJlbCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kdCwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmXG4gIH0sIHByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1zdGF0X19sYWJlbFwiLCBwcm9wcy5jbGFzc05hbWUpLFxuICAgIF9fY3NzOiBzdHlsZXMubGFiZWxcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFN0YXRMYWJlbC5kaXNwbGF5TmFtZSA9IFwiU3RhdExhYmVsXCI7XG59XG5cbnZhciBTdGF0SGVscFRleHQgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGQsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZlxuICB9LCBwcm9wcywge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtc3RhdF9faGVscC10ZXh0XCIsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgX19jc3M6IHN0eWxlcy5oZWxwVGV4dFxuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgU3RhdEhlbHBUZXh0LmRpc3BsYXlOYW1lID0gXCJTdGF0SGVscFRleHRcIjtcbn1cblxudmFyIFN0YXROdW1iZXIgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGQsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZlxuICB9LCBwcm9wcywge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtc3RhdF9fbnVtYmVyXCIsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgX19jc3M6IF9leHRlbmRzKHt9LCBzdHlsZXMubnVtYmVyLCB7XG4gICAgICBmb250RmVhdHVyZVNldHRpbmdzOiBcInBudW1cIixcbiAgICAgIGZvbnRWYXJpYW50TnVtZXJpYzogXCJwcm9wb3J0aW9uYWwtbnVtc1wiXG4gICAgfSlcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFN0YXROdW1iZXIuZGlzcGxheU5hbWUgPSBcIlN0YXROdW1iZXJcIjtcbn1cblxudmFyIFN0YXREb3duQXJyb3cgPSBmdW5jdGlvbiBTdGF0RG93bkFycm93KHByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCBfZXh0ZW5kcyh7XG4gICAgY29sb3I6IFwicmVkLjQwMFwiXG4gIH0sIHByb3BzKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiLFxuICAgIGQ6IFwiTTIxLDVIM0MyLjYyMSw1LDIuMjc1LDUuMjE0LDIuMTA1LDUuNTUzQzEuOTM3LDUuODkyLDEuOTczLDYuMjk3LDIuMiw2LjZsOSwxMiBjMC4xODgsMC4yNTIsMC40ODUsMC40LDAuOCwwLjRzMC42MTEtMC4xNDgsMC44LTAuNGw5LTEyYzAuMjI4LTAuMzAzLDAuMjY0LTAuNzA4LDAuMDk1LTEuMDQ3QzIxLjcyNSw1LjIxNCwyMS4zNzksNSwyMSw1elwiXG4gIH0pKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIFN0YXREb3duQXJyb3cuZGlzcGxheU5hbWUgPSBcIlN0YXREb3duQXJyb3dcIjtcbn1cblxudmFyIFN0YXRVcEFycm93ID0gZnVuY3Rpb24gU3RhdFVwQXJyb3cocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIF9leHRlbmRzKHtcbiAgICBjb2xvcjogXCJncmVlbi40MDBcIlxuICB9LCBwcm9wcyksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIixcbiAgICBkOiBcIk0xMi44LDUuNGMtMC4zNzctMC41MDQtMS4yMjMtMC41MDQtMS42LDBsLTksMTJjLTAuMjI4LDAuMzAzLTAuMjY0LDAuNzA4LTAuMDk1LDEuMDQ3IEMyLjI3NSwxOC43ODYsMi42MjEsMTksMywxOWgxOGMwLjM3OSwwLDAuNzI1LTAuMjE0LDAuODk1LTAuNTUzYzAuMTY5LTAuMzM5LDAuMTMzLTAuNzQ0LTAuMDk1LTEuMDQ3TDEyLjgsNS40elwiXG4gIH0pKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIFN0YXRVcEFycm93LmRpc3BsYXlOYW1lID0gXCJTdGF0VXBBcnJvd1wiO1xufVxuXG52YXIgU3RhdEFycm93ID0gZnVuY3Rpb24gU3RhdEFycm93KHByb3BzKSB7XG4gIHZhciB0eXBlID0gcHJvcHMudHlwZSxcbiAgICAgIGFyaWFMYWJlbCA9IHByb3BzW1wiYXJpYS1sYWJlbFwiXSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkKTtcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHZhciBJY29uQ29tcG9uZW50ID0gdHlwZSA9PT0gXCJpbmNyZWFzZVwiID8gU3RhdFVwQXJyb3cgOiBTdGF0RG93bkFycm93O1xuICB2YXIgZGVmYXVsdEFyaWFMYWJlbCA9IHR5cGUgPT09IFwiaW5jcmVhc2VcIiA/IFwiaW5jcmVhc2VkIGJ5XCIgOiBcImRlY3JlYXNlZCBieVwiO1xuICB2YXIgbGFiZWwgPSBhcmlhTGFiZWwgfHwgZGVmYXVsdEFyaWFMYWJlbDtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChWaXN1YWxseUhpZGRlbiwgbnVsbCwgbGFiZWwpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uQ29tcG9uZW50LCBfZXh0ZW5kcyh7XG4gICAgXCJhcmlhLWhpZGRlblwiOiB0cnVlXG4gIH0sIHJlc3QsIHtcbiAgICBfX2Nzczogc3R5bGVzLmljb25cbiAgfSkpKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIFN0YXRBcnJvdy5kaXNwbGF5TmFtZSA9IFwiU3RhdEFycm93XCI7XG59XG5cbnZhciBTdGF0ID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZU11bHRpU3R5bGVDb25maWcoXCJTdGF0XCIsIHByb3BzKTtcblxuICB2YXIgc3RhdFN0eWxlcyA9IF9leHRlbmRzKHtcbiAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgIGZsZXg6IFwiMSAxIDAlXCJcbiAgfSwgc3R5bGVzLmNvbnRhaW5lcik7XG5cbiAgdmFyIF9vbWl0VGhlbWluZ1Byb3BzID0gb21pdFRoZW1pbmdQcm9wcyhwcm9wcyksXG4gICAgICBjbGFzc05hbWUgPSBfb21pdFRoZW1pbmdQcm9wcy5jbGFzc05hbWUsXG4gICAgICBjaGlsZHJlbiA9IF9vbWl0VGhlbWluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9vbWl0VGhlbWluZ1Byb3BzLCBfZXhjbHVkZWQyKTtcblxuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVzUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogc3R5bGVzXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZlxuICB9LCByZXN0LCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1zdGF0XCIsIGNsYXNzTmFtZSksXG4gICAgX19jc3M6IHN0YXRTdHlsZXNcbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGxcIiwgbnVsbCwgY2hpbGRyZW4pKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgU3RhdC5kaXNwbGF5TmFtZSA9IFwiU3RhdFwiO1xufVxuXG52YXIgU3RhdEdyb3VwID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIHJlZjogcmVmLFxuICAgIHJvbGU6IFwiZ3JvdXBcIixcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLXN0YXRfX2dyb3VwXCIsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgX19jc3M6IHtcbiAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgZmxleFdyYXA6IFwid3JhcFwiLFxuICAgICAganVzdGlmeUNvbnRlbnQ6IFwic3BhY2UtYXJvdW5kXCIsXG4gICAgICBhbGlnbkl0ZW1zOiBcImZsZXgtc3RhcnRcIlxuICAgIH1cbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFN0YXRHcm91cC5kaXNwbGF5TmFtZSA9IFwiU3RhdEdyb3VwXCI7XG59XG5cbmV4cG9ydCB7IFN0YXQsIFN0YXRBcnJvdywgU3RhdERvd25BcnJvdywgU3RhdEdyb3VwLCBTdGF0SGVscFRleHQsIFN0YXRMYWJlbCwgU3RhdE51bWJlciwgU3RhdFVwQXJyb3cgfTtcbiIsImltcG9ydCB7IHVzZUNoZWNrYm94IH0gZnJvbSAnQGNoYWtyYS11aS9jaGVja2JveCc7XG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VNdWx0aVN0eWxlQ29uZmlnLCBvbWl0VGhlbWluZ1Byb3BzLCBjaGFrcmEgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgeyBjeCwgZGF0YUF0dHIsIF9fREVWX18gfSBmcm9tICdAY2hha3JhLXVpL3V0aWxzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJzcGFjaW5nXCIsIFwiY2hpbGRyZW5cIl07XG52YXIgU3dpdGNoID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZU11bHRpU3R5bGVDb25maWcoXCJTd2l0Y2hcIiwgcHJvcHMpO1xuXG4gIHZhciBfb21pdFRoZW1pbmdQcm9wcyA9IG9taXRUaGVtaW5nUHJvcHMocHJvcHMpLFxuICAgICAgX29taXRUaGVtaW5nUHJvcHMkc3BhID0gX29taXRUaGVtaW5nUHJvcHMuc3BhY2luZyxcbiAgICAgIHNwYWNpbmcgPSBfb21pdFRoZW1pbmdQcm9wcyRzcGEgPT09IHZvaWQgMCA/IFwiMC41cmVtXCIgOiBfb21pdFRoZW1pbmdQcm9wcyRzcGEsXG4gICAgICBjaGlsZHJlbiA9IF9vbWl0VGhlbWluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgb3duUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfb21pdFRoZW1pbmdQcm9wcywgX2V4Y2x1ZGVkKTtcblxuICB2YXIgX3VzZUNoZWNrYm94ID0gdXNlQ2hlY2tib3gob3duUHJvcHMpLFxuICAgICAgc3RhdGUgPSBfdXNlQ2hlY2tib3guc3RhdGUsXG4gICAgICBnZXRJbnB1dFByb3BzID0gX3VzZUNoZWNrYm94LmdldElucHV0UHJvcHMsXG4gICAgICBnZXRDaGVja2JveFByb3BzID0gX3VzZUNoZWNrYm94LmdldENoZWNrYm94UHJvcHMsXG4gICAgICBnZXRSb290UHJvcHMgPSBfdXNlQ2hlY2tib3guZ2V0Um9vdFByb3BzLFxuICAgICAgZ2V0TGFiZWxQcm9wcyA9IF91c2VDaGVja2JveC5nZXRMYWJlbFByb3BzO1xuXG4gIHZhciBjb250YWluZXJTdHlsZXMgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgZGlzcGxheTogXCJpbmxpbmUtYmxvY2tcIixcbiAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiLFxuICAgICAgbGluZUhlaWdodDogXCJub3JtYWxcIlxuICAgIH0sIHN0eWxlcy5jb250YWluZXIpO1xuICB9LCBbc3R5bGVzLmNvbnRhaW5lcl0pO1xuICB2YXIgdHJhY2tTdHlsZXMgPSBSZWFjdC51c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgZGlzcGxheTogXCJpbmxpbmUtZmxleFwiLFxuICAgICAgZmxleFNocmluazogMCxcbiAgICAgIGp1c3RpZnlDb250ZW50OiBcImZsZXgtc3RhcnRcIixcbiAgICAgIGJveFNpemluZzogXCJjb250ZW50LWJveFwiLFxuICAgICAgY3Vyc29yOiBcInBvaW50ZXJcIlxuICAgIH0sIHN0eWxlcy50cmFjayk7XG4gIH0sIFtzdHlsZXMudHJhY2tdKTtcbiAgdmFyIGxhYmVsU3R5bGVzID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiLFxuICAgICAgbWFyZ2luU3RhcnQ6IHNwYWNpbmdcbiAgICB9LCBzdHlsZXMubGFiZWwpO1xuICB9LCBbc3BhY2luZywgc3R5bGVzLmxhYmVsXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEubGFiZWwsIF9leHRlbmRzKHt9LCBnZXRSb290UHJvcHMoKSwge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtc3dpdGNoXCIsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgX19jc3M6IGNvbnRhaW5lclN0eWxlc1xuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBcImNoYWtyYS1zd2l0Y2hfX2lucHV0XCJcbiAgfSwgZ2V0SW5wdXRQcm9wcyh7fSwgcmVmKSkpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuc3BhbiwgX2V4dGVuZHMoe30sIGdldENoZWNrYm94UHJvcHMoKSwge1xuICAgIGNsYXNzTmFtZTogXCJjaGFrcmEtc3dpdGNoX190cmFja1wiLFxuICAgIF9fY3NzOiB0cmFja1N0eWxlc1xuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnNwYW4sIHtcbiAgICBfX2Nzczogc3R5bGVzLnRodW1iLFxuICAgIGNsYXNzTmFtZTogXCJjaGFrcmEtc3dpdGNoX190aHVtYlwiLFxuICAgIFwiZGF0YS1jaGVja2VkXCI6IGRhdGFBdHRyKHN0YXRlLmlzQ2hlY2tlZCksXG4gICAgXCJkYXRhLWhvdmVyXCI6IGRhdGFBdHRyKHN0YXRlLmlzSG92ZXJlZClcbiAgfSkpLCBjaGlsZHJlbiAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuc3BhbiwgX2V4dGVuZHMoe1xuICAgIGNsYXNzTmFtZTogXCJjaGFrcmEtc3dpdGNoX19sYWJlbFwiXG4gIH0sIGdldExhYmVsUHJvcHMoKSwge1xuICAgIF9fY3NzOiBsYWJlbFN0eWxlc1xuICB9KSwgY2hpbGRyZW4pKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBTd2l0Y2guZGlzcGxheU5hbWUgPSBcIlN3aXRjaFwiO1xufVxuXG5leHBvcnQgeyBTd2l0Y2ggfTtcbiIsImltcG9ydCB7IGZvcndhcmRSZWYsIGNoYWtyYSwgdXNlTXVsdGlTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcywgU3R5bGVzUHJvdmlkZXIsIHVzZVN0eWxlcyB9IGZyb20gJ0BjaGFrcmEtdWkvc3lzdGVtJztcbmltcG9ydCB7IGN4LCBfX0RFVl9fIH0gZnJvbSAnQGNoYWtyYS11aS91dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG52YXIgX2V4Y2x1ZGVkID0gW1wib3ZlcmZsb3dcIiwgXCJvdmVyZmxvd1hcIiwgXCJjbGFzc05hbWVcIl0sXG4gICAgX2V4Y2x1ZGVkMiA9IFtcImNsYXNzTmFtZVwiXSxcbiAgICBfZXhjbHVkZWQzID0gW1wicGxhY2VtZW50XCJdLFxuICAgIF9leGNsdWRlZDQgPSBbXCJpc051bWVyaWNcIl0sXG4gICAgX2V4Y2x1ZGVkNSA9IFtcImlzTnVtZXJpY1wiXTtcbnZhciBUYWJsZUNvbnRhaW5lciA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfcmVmO1xuXG4gIHZhciBvdmVyZmxvdyA9IHByb3BzLm92ZXJmbG93LFxuICAgICAgb3ZlcmZsb3dYID0gcHJvcHMub3ZlcmZsb3dYLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS10YWJsZV9fY29udGFpbmVyXCIsIGNsYXNzTmFtZSlcbiAgfSwgcmVzdCwge1xuICAgIF9fY3NzOiB7XG4gICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgV2Via2l0T3ZlcmZsb3dTY3JvbGxpbmc6IFwidG91Y2hcIixcbiAgICAgIG92ZXJmbG93WDogKF9yZWYgPSBvdmVyZmxvdyAhPSBudWxsID8gb3ZlcmZsb3cgOiBvdmVyZmxvd1gpICE9IG51bGwgPyBfcmVmIDogXCJhdXRvXCIsXG4gICAgICBvdmVyZmxvd1k6IFwiaGlkZGVuXCIsXG4gICAgICBtYXhXaWR0aDogXCIxMDAlXCJcbiAgICB9XG4gIH0pKTtcbn0pO1xudmFyIFRhYmxlID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZU11bHRpU3R5bGVDb25maWcoXCJUYWJsZVwiLCBwcm9wcyk7XG5cbiAgdmFyIF9vbWl0VGhlbWluZ1Byb3BzID0gb21pdFRoZW1pbmdQcm9wcyhwcm9wcyksXG4gICAgICBjbGFzc05hbWUgPSBfb21pdFRoZW1pbmdQcm9wcy5jbGFzc05hbWUsXG4gICAgICB0YWJsZVByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX29taXRUaGVtaW5nUHJvcHMsIF9leGNsdWRlZDIpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZXNQcm92aWRlciwge1xuICAgIHZhbHVlOiBzdHlsZXNcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnRhYmxlLCBfZXh0ZW5kcyh7XG4gICAgcm9sZTogXCJ0YWJsZVwiLFxuICAgIHJlZjogcmVmLFxuICAgIF9fY3NzOiBzdHlsZXMudGFibGUsXG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS10YWJsZVwiLCBjbGFzc05hbWUpXG4gIH0sIHRhYmxlUHJvcHMpKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgVGFibGUuZGlzcGxheU5hbWUgPSBcIlRhYmxlXCI7XG59XG5cbnZhciBUYWJsZUNhcHRpb24gPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgX3Byb3BzJHBsYWNlbWVudCA9IHByb3BzLnBsYWNlbWVudCxcbiAgICAgIHBsYWNlbWVudCA9IF9wcm9wcyRwbGFjZW1lbnQgPT09IHZvaWQgMCA/IFwiYm90dG9tXCIgOiBfcHJvcHMkcGxhY2VtZW50LFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQzKTtcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuY2FwdGlvbiwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICByZWY6IHJlZixcbiAgICBfX2NzczogX2V4dGVuZHMoe30sIHN0eWxlcy5jYXB0aW9uLCB7XG4gICAgICBjYXB0aW9uU2lkZTogcGxhY2VtZW50XG4gICAgfSlcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFRhYmxlQ2FwdGlvbi5kaXNwbGF5TmFtZSA9IFwiVGFibGVDYXB0aW9uXCI7XG59XG5cbnZhciBUaGVhZCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS50aGVhZCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgcmVmOiByZWYsXG4gICAgX19jc3M6IHN0eWxlcy50aGVhZFxuICB9KSk7XG59KTtcbnZhciBUYm9keSA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS50Ym9keSwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgcmVmOiByZWYsXG4gICAgX19jc3M6IHN0eWxlcy50Ym9keVxuICB9KSk7XG59KTtcbnZhciBUZm9vdCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS50Zm9vdCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgcmVmOiByZWYsXG4gICAgX19jc3M6IHN0eWxlcy50Zm9vdFxuICB9KSk7XG59KTtcbnZhciBUaCA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmMiwgcmVmKSB7XG4gIHZhciBpc051bWVyaWMgPSBfcmVmMi5pc051bWVyaWMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZjIsIF9leGNsdWRlZDQpO1xuXG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS50aCwgX2V4dGVuZHMoe30sIHJlc3QsIHtcbiAgICByZWY6IHJlZixcbiAgICBfX2Nzczogc3R5bGVzLnRoLFxuICAgIFwiZGF0YS1pcy1udW1lcmljXCI6IGlzTnVtZXJpY1xuICB9KSk7XG59KTtcbnZhciBUciA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS50ciwgX2V4dGVuZHMoe1xuICAgIHJvbGU6IFwicm93XCJcbiAgfSwgcHJvcHMsIHtcbiAgICByZWY6IHJlZixcbiAgICBfX2Nzczogc3R5bGVzLnRyXG4gIH0pKTtcbn0pO1xudmFyIFRkID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYzLCByZWYpIHtcbiAgdmFyIGlzTnVtZXJpYyA9IF9yZWYzLmlzTnVtZXJpYyxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShfcmVmMywgX2V4Y2x1ZGVkNSk7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnRkLCBfZXh0ZW5kcyh7XG4gICAgcm9sZTogXCJncmlkY2VsbFwiXG4gIH0sIHJlc3QsIHtcbiAgICByZWY6IHJlZixcbiAgICBfX2Nzczogc3R5bGVzLnRkLFxuICAgIFwiZGF0YS1pcy1udW1lcmljXCI6IGlzTnVtZXJpY1xuICB9KSk7XG59KTtcblxuZXhwb3J0IHsgVGFibGUsIFRhYmxlQ2FwdGlvbiwgVGFibGVDb250YWluZXIsIFRib2R5LCBUZCwgVGZvb3QsIFRoLCBUaGVhZCwgVHIgfTtcbiIsImltcG9ydCB7IGZvcndhcmRSZWYsIHVzZU11bHRpU3R5bGVDb25maWcsIG9taXRUaGVtaW5nUHJvcHMsIFN0eWxlc1Byb3ZpZGVyLCBjaGFrcmEsIHVzZVN0eWxlcyB9IGZyb20gJ0BjaGFrcmEtdWkvc3lzdGVtJztcbmltcG9ydCB7IG5vcm1hbGl6ZUV2ZW50S2V5LCBjYWxsQWxsSGFuZGxlcnMsIGRldGVybWluZUxhenlCZWhhdmlvciwgaXNVbmRlZmluZWQsIGZvY3VzLCBvbWl0LCBjeCwgX19ERVZfXyB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ2xpY2thYmxlIH0gZnJvbSAnQGNoYWtyYS11aS9jbGlja2FibGUnO1xuaW1wb3J0IHsgY3JlYXRlRGVzY2VuZGFudENvbnRleHQgfSBmcm9tICdAY2hha3JhLXVpL2Rlc2NlbmRhbnQnO1xuaW1wb3J0IHsgdXNlQ29udHJvbGxhYmxlU3RhdGUsIHVzZUlkLCB1c2VTYWZlTGF5b3V0RWZmZWN0IH0gZnJvbSAnQGNoYWtyYS11aS9ob29rcyc7XG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCBtZXJnZVJlZnMsIGdldFZhbGlkQ2hpbGRyZW4gfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0LXV0aWxzJztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBfZXhjbHVkZWQkMSA9IFtcImRlZmF1bHRJbmRleFwiLCBcIm9uQ2hhbmdlXCIsIFwiaW5kZXhcIiwgXCJpc01hbnVhbFwiLCBcImlzTGF6eVwiLCBcImxhenlCZWhhdmlvclwiLCBcIm9yaWVudGF0aW9uXCIsIFwiZGlyZWN0aW9uXCJdLFxuICAgIF9leGNsdWRlZDIkMSA9IFtcImlzRGlzYWJsZWRcIiwgXCJpc0ZvY3VzYWJsZVwiXSxcbiAgICBfZXhjbHVkZWQzID0gW1wiaXNTZWxlY3RlZFwiLCBcImlkXCIsIFwiY2hpbGRyZW5cIl07XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBDcmVhdGUgY29udGV4dCB0byB0cmFjayBkZXNjZW5kYW50cyBhbmQgdGhlaXIgaW5kaWNlc1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG52YXIgX2NyZWF0ZURlc2NlbmRhbnRDb250ID0gY3JlYXRlRGVzY2VuZGFudENvbnRleHQoKSxcbiAgICBUYWJzRGVzY2VuZGFudHNQcm92aWRlciA9IF9jcmVhdGVEZXNjZW5kYW50Q29udFswXSxcbiAgICB1c2VUYWJzRGVzY2VuZGFudHNDb250ZXh0ID0gX2NyZWF0ZURlc2NlbmRhbnRDb250WzFdLFxuICAgIHVzZVRhYnNEZXNjZW5kYW50cyA9IF9jcmVhdGVEZXNjZW5kYW50Q29udFsyXSxcbiAgICB1c2VUYWJzRGVzY2VuZGFudCA9IF9jcmVhdGVEZXNjZW5kYW50Q29udFszXTtcblxuLyoqXG4gKiBUYWJzIGhvb2tzIHRoYXQgcHJvdmlkZXMgYWxsIHRoZSBzdGF0ZXMsIGFuZCBhY2Nlc3NpYmlsaXR5XG4gKiBoZWxwZXJzIHRvIGtlZXAgYWxsIHRoaW5ncyB3b3JraW5nIHByb3Blcmx5LlxuICpcbiAqIEl0cyByZXR1cm5lZCBvYmplY3Qgd2lsbCBiZSBwYXNzZWQgdW50byBhIENvbnRleHQgUHJvdmlkZXJcbiAqIHNvIGFsbCBjaGlsZCBjb21wb25lbnRzIGNhbiByZWFkIGZyb20gaXQuXG4gKiBUaGVyZSBpcyBubyBkb2N1bWVudCBsaW5rIHlldFxuICogQHNlZSBEb2NzIGh0dHBzOi8vY2hha3JhLXVpLmNvbS9kb2NzL2NvbXBvbmVudHMvdXNlVGFic1xuICovXG5mdW5jdGlvbiB1c2VUYWJzKHByb3BzKSB7XG4gIHZhciBkZWZhdWx0SW5kZXggPSBwcm9wcy5kZWZhdWx0SW5kZXgsXG4gICAgICBvbkNoYW5nZSA9IHByb3BzLm9uQ2hhbmdlLFxuICAgICAgaW5kZXggPSBwcm9wcy5pbmRleCxcbiAgICAgIGlzTWFudWFsID0gcHJvcHMuaXNNYW51YWwsXG4gICAgICBpc0xhenkgPSBwcm9wcy5pc0xhenksXG4gICAgICBfcHJvcHMkbGF6eUJlaGF2aW9yID0gcHJvcHMubGF6eUJlaGF2aW9yLFxuICAgICAgbGF6eUJlaGF2aW9yID0gX3Byb3BzJGxhenlCZWhhdmlvciA9PT0gdm9pZCAwID8gXCJ1bm1vdW50XCIgOiBfcHJvcHMkbGF6eUJlaGF2aW9yLFxuICAgICAgX3Byb3BzJG9yaWVudGF0aW9uID0gcHJvcHMub3JpZW50YXRpb24sXG4gICAgICBvcmllbnRhdGlvbiA9IF9wcm9wcyRvcmllbnRhdGlvbiA9PT0gdm9pZCAwID8gXCJob3Jpem9udGFsXCIgOiBfcHJvcHMkb3JpZW50YXRpb24sXG4gICAgICBfcHJvcHMkZGlyZWN0aW9uID0gcHJvcHMuZGlyZWN0aW9uLFxuICAgICAgZGlyZWN0aW9uID0gX3Byb3BzJGRpcmVjdGlvbiA9PT0gdm9pZCAwID8gXCJsdHJcIiA6IF9wcm9wcyRkaXJlY3Rpb24sXG4gICAgICBodG1sUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkJDEpO1xuICAvKipcbiAgICogV2UgdXNlIHRoaXMgdG8ga2VlcCB0cmFjayBvZiB0aGUgaW5kZXggb2YgdGhlIGZvY3VzZWQgdGFiLlxuICAgKlxuICAgKiBUYWJzIGNhbiBiZSBhdXRvbWF0aWNhbGx5IGFjdGl2YXRlZCwgdGhpcyBtZWFucyBzZWxlY3Rpb24gZm9sbG93cyBmb2N1cy5cbiAgICogV2hlbiB3ZSBuYXZpZ2F0ZSB3aXRoIHRoZSBhcnJvdyBrZXlzLCB3ZSBtb3ZlIGZvY3VzIGFuZCBzZWxlY3Rpb24gdG8gbmV4dC9wcmV2IHRhYlxuICAgKlxuICAgKiBUYWJzIGNhbiBhbHNvIGJlIG1hbnVhbGx5IGFjdGl2YXRlZCwgdGhpcyBtZWFucyBzZWxlY3Rpb24gZG9lcyBub3QgZm9sbG93IGZvY3VzLlxuICAgKiBXaGVuIHdlIG5hdmlnYXRlIHdpdGggdGhlIGFycm93IGtleXMsIHdlIG9ubHkgbW92ZSBmb2N1cyBOT1Qgc2VsZWN0aW9uLiBUaGUgdXNlclxuICAgKiB3aWxsIG5lZWQgbm90IG1hbnVhbGx5IGFjdGl2YXRlIHRoZSB0YWIgdXNpbmcgYEVudGVyYCBvciBgU3BhY2VgLlxuICAgKlxuICAgKiBUaGlzIGlzIHdoeSB3ZSBuZWVkIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGBmb2N1c2VkSW5kZXhgIGFuZCBgc2VsZWN0ZWRJbmRleGBcbiAgICovXG5cblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZGVmYXVsdEluZGV4ICE9IG51bGwgPyBkZWZhdWx0SW5kZXggOiAwKSxcbiAgICAgIGZvY3VzZWRJbmRleCA9IF9SZWFjdCR1c2VTdGF0ZVswXSxcbiAgICAgIHNldEZvY3VzZWRJbmRleCA9IF9SZWFjdCR1c2VTdGF0ZVsxXTtcblxuICB2YXIgX3VzZUNvbnRyb2xsYWJsZVN0YXRlID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgIGRlZmF1bHRWYWx1ZTogZGVmYXVsdEluZGV4ICE9IG51bGwgPyBkZWZhdWx0SW5kZXggOiAwLFxuICAgIHZhbHVlOiBpbmRleCxcbiAgICBvbkNoYW5nZTogb25DaGFuZ2VcbiAgfSksXG4gICAgICBzZWxlY3RlZEluZGV4ID0gX3VzZUNvbnRyb2xsYWJsZVN0YXRlWzBdLFxuICAgICAgc2V0U2VsZWN0ZWRJbmRleCA9IF91c2VDb250cm9sbGFibGVTdGF0ZVsxXTtcbiAgLyoqXG4gICAqIFN5bmMgZm9jdXNlZCBgaW5kZXhgIHdpdGggY29udHJvbGxlZCBgc2VsZWN0ZWRJbmRleGAgKHdoaWNoIGlzIHRoZSBgcHJvcHMuaW5kZXhgKVxuICAgKi9cblxuXG4gIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGluZGV4ICE9IG51bGwpIHtcbiAgICAgIHNldEZvY3VzZWRJbmRleChpbmRleCk7XG4gICAgfVxuICB9LCBbaW5kZXhdKTtcbiAgLyoqXG4gICAqIFRoaW5rIG9mIGB1c2VEZXNjZW5kYW50c2AgYXMgYSByZWdpc3RlciBmb3IgdGhlIHRhYiBub2Rlcy5cbiAgICovXG5cbiAgdmFyIGRlc2NlbmRhbnRzID0gdXNlVGFic0Rlc2NlbmRhbnRzKCk7XG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIHVuaXF1ZSBpZCBvciB1c2UgdXNlci1wcm92aWRlZCBpZCBmb3IgdGhlIHRhYnMgd2lkZ2V0XG4gICAqL1xuXG4gIHZhciBpZCA9IHVzZUlkKHByb3BzLmlkLCBcInRhYnNcIik7XG4gIHJldHVybiB7XG4gICAgaWQ6IGlkLFxuICAgIHNlbGVjdGVkSW5kZXg6IHNlbGVjdGVkSW5kZXgsXG4gICAgZm9jdXNlZEluZGV4OiBmb2N1c2VkSW5kZXgsXG4gICAgc2V0U2VsZWN0ZWRJbmRleDogc2V0U2VsZWN0ZWRJbmRleCxcbiAgICBzZXRGb2N1c2VkSW5kZXg6IHNldEZvY3VzZWRJbmRleCxcbiAgICBpc01hbnVhbDogaXNNYW51YWwsXG4gICAgaXNMYXp5OiBpc0xhenksXG4gICAgbGF6eUJlaGF2aW9yOiBsYXp5QmVoYXZpb3IsXG4gICAgb3JpZW50YXRpb246IG9yaWVudGF0aW9uLFxuICAgIGRlc2NlbmRhbnRzOiBkZXNjZW5kYW50cyxcbiAgICBkaXJlY3Rpb246IGRpcmVjdGlvbixcbiAgICBodG1sUHJvcHM6IGh0bWxQcm9wc1xuICB9O1xufVxuXG52YXIgX2NyZWF0ZUNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgbmFtZTogXCJUYWJzQ29udGV4dFwiLFxuICBlcnJvck1lc3NhZ2U6IFwidXNlVGFic0NvbnRleHQ6IGBjb250ZXh0YCBpcyB1bmRlZmluZWQuIFNlZW1zIHlvdSBmb3Jnb3QgdG8gd3JhcCBhbGwgdGFicyBjb21wb25lbnRzIHdpdGhpbiA8VGFicyAvPlwiXG59KSxcbiAgICBUYWJzUHJvdmlkZXIgPSBfY3JlYXRlQ29udGV4dFswXSxcbiAgICB1c2VUYWJzQ29udGV4dCA9IF9jcmVhdGVDb250ZXh0WzFdO1xuXG4vKipcbiAqIFRhYnMgaG9vayB0byBtYW5hZ2UgbXVsdGlwbGUgdGFiIGJ1dHRvbnMsXG4gKiBhbmQgZW5zdXJlcyBvbmx5IG9uZSB0YWIgaXMgc2VsZWN0ZWQgcGVyIHRpbWUuXG4gKlxuICogQHBhcmFtIHByb3BzIHByb3BzIG9iamVjdCBmb3IgdGhlIHRhYmxpc3RcbiAqL1xuZnVuY3Rpb24gdXNlVGFiTGlzdChwcm9wcykge1xuICB2YXIgX3VzZVRhYnNDb250ZXh0ID0gdXNlVGFic0NvbnRleHQoKSxcbiAgICAgIGZvY3VzZWRJbmRleCA9IF91c2VUYWJzQ29udGV4dC5mb2N1c2VkSW5kZXgsXG4gICAgICBvcmllbnRhdGlvbiA9IF91c2VUYWJzQ29udGV4dC5vcmllbnRhdGlvbixcbiAgICAgIGRpcmVjdGlvbiA9IF91c2VUYWJzQ29udGV4dC5kaXJlY3Rpb247XG5cbiAgdmFyIGRlc2NlbmRhbnRzID0gdXNlVGFic0Rlc2NlbmRhbnRzQ29udGV4dCgpO1xuICB2YXIgb25LZXlEb3duID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgdmFyIF9rZXlNYXA7XG5cbiAgICB2YXIgbmV4dFRhYiA9IGZ1bmN0aW9uIG5leHRUYWIoKSB7XG4gICAgICB2YXIgbmV4dCA9IGRlc2NlbmRhbnRzLm5leHRFbmFibGVkKGZvY3VzZWRJbmRleCk7XG4gICAgICBpZiAobmV4dCkgZm9jdXMobmV4dC5ub2RlKTtcbiAgICB9O1xuXG4gICAgdmFyIHByZXZUYWIgPSBmdW5jdGlvbiBwcmV2VGFiKCkge1xuICAgICAgdmFyIHByZXYgPSBkZXNjZW5kYW50cy5wcmV2RW5hYmxlZChmb2N1c2VkSW5kZXgpO1xuICAgICAgaWYgKHByZXYpIGZvY3VzKHByZXYubm9kZSk7XG4gICAgfTtcblxuICAgIHZhciBmaXJzdFRhYiA9IGZ1bmN0aW9uIGZpcnN0VGFiKCkge1xuICAgICAgdmFyIGZpcnN0ID0gZGVzY2VuZGFudHMuZmlyc3RFbmFibGVkKCk7XG4gICAgICBpZiAoZmlyc3QpIGZvY3VzKGZpcnN0Lm5vZGUpO1xuICAgIH07XG5cbiAgICB2YXIgbGFzdFRhYiA9IGZ1bmN0aW9uIGxhc3RUYWIoKSB7XG4gICAgICB2YXIgbGFzdCA9IGRlc2NlbmRhbnRzLmxhc3RFbmFibGVkKCk7XG4gICAgICBpZiAobGFzdCkgZm9jdXMobGFzdC5ub2RlKTtcbiAgICB9O1xuXG4gICAgdmFyIGlzSG9yaXpvbnRhbCA9IG9yaWVudGF0aW9uID09PSBcImhvcml6b250YWxcIjtcbiAgICB2YXIgaXNWZXJ0aWNhbCA9IG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCI7XG4gICAgdmFyIGV2ZW50S2V5ID0gbm9ybWFsaXplRXZlbnRLZXkoZXZlbnQpO1xuICAgIHZhciBBcnJvd1N0YXJ0ID0gZGlyZWN0aW9uID09PSBcImx0clwiID8gXCJBcnJvd0xlZnRcIiA6IFwiQXJyb3dSaWdodFwiO1xuICAgIHZhciBBcnJvd0VuZCA9IGRpcmVjdGlvbiA9PT0gXCJsdHJcIiA/IFwiQXJyb3dSaWdodFwiIDogXCJBcnJvd0xlZnRcIjtcbiAgICB2YXIga2V5TWFwID0gKF9rZXlNYXAgPSB7fSwgX2tleU1hcFtBcnJvd1N0YXJ0XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBpc0hvcml6b250YWwgJiYgcHJldlRhYigpO1xuICAgIH0sIF9rZXlNYXBbQXJyb3dFbmRdID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGlzSG9yaXpvbnRhbCAmJiBuZXh0VGFiKCk7XG4gICAgfSwgX2tleU1hcC5BcnJvd0Rvd24gPSBmdW5jdGlvbiBBcnJvd0Rvd24oKSB7XG4gICAgICByZXR1cm4gaXNWZXJ0aWNhbCAmJiBuZXh0VGFiKCk7XG4gICAgfSwgX2tleU1hcC5BcnJvd1VwID0gZnVuY3Rpb24gQXJyb3dVcCgpIHtcbiAgICAgIHJldHVybiBpc1ZlcnRpY2FsICYmIHByZXZUYWIoKTtcbiAgICB9LCBfa2V5TWFwLkhvbWUgPSBmaXJzdFRhYiwgX2tleU1hcC5FbmQgPSBsYXN0VGFiLCBfa2V5TWFwKTtcbiAgICB2YXIgYWN0aW9uID0ga2V5TWFwW2V2ZW50S2V5XTtcblxuICAgIGlmIChhY3Rpb24pIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBhY3Rpb24oZXZlbnQpO1xuICAgIH1cbiAgfSwgW2Rlc2NlbmRhbnRzLCBmb2N1c2VkSW5kZXgsIG9yaWVudGF0aW9uLCBkaXJlY3Rpb25dKTtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIHJvbGU6IFwidGFibGlzdFwiLFxuICAgIFwiYXJpYS1vcmllbnRhdGlvblwiOiBvcmllbnRhdGlvbixcbiAgICBvbktleURvd246IGNhbGxBbGxIYW5kbGVycyhwcm9wcy5vbktleURvd24sIG9uS2V5RG93bilcbiAgfSk7XG59XG5cbi8qKlxuICogVGFicyBob29rIHRvIG1hbmFnZSBlYWNoIHRhYiBidXR0b24uXG4gKlxuICogQSB0YWIgY2FuIGJlIGRpc2FibGVkIGFuZCBmb2N1c2FibGUsIG9yIGJvdGgsXG4gKiBoZW5jZSB0aGUgdXNlIG9mIGB1c2VDbGlja2FibGVgIHRvIGhhbmRsZSB0aGlzIHNjZW5hcmlvXG4gKi9cbmZ1bmN0aW9uIHVzZVRhYihwcm9wcykge1xuICB2YXIgaXNEaXNhYmxlZCA9IHByb3BzLmlzRGlzYWJsZWQsXG4gICAgICBpc0ZvY3VzYWJsZSA9IHByb3BzLmlzRm9jdXNhYmxlLFxuICAgICAgaHRtbFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZDIkMSk7XG5cbiAgdmFyIF91c2VUYWJzQ29udGV4dDIgPSB1c2VUYWJzQ29udGV4dCgpLFxuICAgICAgc2V0U2VsZWN0ZWRJbmRleCA9IF91c2VUYWJzQ29udGV4dDIuc2V0U2VsZWN0ZWRJbmRleCxcbiAgICAgIGlzTWFudWFsID0gX3VzZVRhYnNDb250ZXh0Mi5pc01hbnVhbCxcbiAgICAgIGlkID0gX3VzZVRhYnNDb250ZXh0Mi5pZCxcbiAgICAgIHNldEZvY3VzZWRJbmRleCA9IF91c2VUYWJzQ29udGV4dDIuc2V0Rm9jdXNlZEluZGV4LFxuICAgICAgc2VsZWN0ZWRJbmRleCA9IF91c2VUYWJzQ29udGV4dDIuc2VsZWN0ZWRJbmRleDtcblxuICB2YXIgX3VzZVRhYnNEZXNjZW5kYW50ID0gdXNlVGFic0Rlc2NlbmRhbnQoe1xuICAgIGRpc2FibGVkOiBpc0Rpc2FibGVkICYmICFpc0ZvY3VzYWJsZVxuICB9KSxcbiAgICAgIGluZGV4ID0gX3VzZVRhYnNEZXNjZW5kYW50LmluZGV4LFxuICAgICAgcmVnaXN0ZXIgPSBfdXNlVGFic0Rlc2NlbmRhbnQucmVnaXN0ZXI7XG5cbiAgdmFyIGlzU2VsZWN0ZWQgPSBpbmRleCA9PT0gc2VsZWN0ZWRJbmRleDtcblxuICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgc2V0U2VsZWN0ZWRJbmRleChpbmRleCk7XG4gIH07XG5cbiAgdmFyIG9uRm9jdXMgPSBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgIHNldEZvY3VzZWRJbmRleChpbmRleCk7XG4gICAgdmFyIGlzRGlzYWJsZWRCdXRGb2N1c2FibGUgPSBpc0Rpc2FibGVkICYmIGlzRm9jdXNhYmxlO1xuICAgIHZhciBzaG91bGRTZWxlY3QgPSAhaXNNYW51YWwgJiYgIWlzRGlzYWJsZWRCdXRGb2N1c2FibGU7XG5cbiAgICBpZiAoc2hvdWxkU2VsZWN0KSB7XG4gICAgICBzZXRTZWxlY3RlZEluZGV4KGluZGV4KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGNsaWNrYWJsZVByb3BzID0gdXNlQ2xpY2thYmxlKF9leHRlbmRzKHt9LCBodG1sUHJvcHMsIHtcbiAgICByZWY6IG1lcmdlUmVmcyhyZWdpc3RlciwgcHJvcHMucmVmKSxcbiAgICBpc0Rpc2FibGVkOiBpc0Rpc2FibGVkLFxuICAgIGlzRm9jdXNhYmxlOiBpc0ZvY3VzYWJsZSxcbiAgICBvbkNsaWNrOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25DbGljaywgb25DbGljaylcbiAgfSkpO1xuICB2YXIgdHlwZSA9IFwiYnV0dG9uXCI7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgY2xpY2thYmxlUHJvcHMsIHtcbiAgICBpZDogbWFrZVRhYklkKGlkLCBpbmRleCksXG4gICAgcm9sZTogXCJ0YWJcIixcbiAgICB0YWJJbmRleDogaXNTZWxlY3RlZCA/IDAgOiAtMSxcbiAgICB0eXBlOiB0eXBlLFxuICAgIFwiYXJpYS1zZWxlY3RlZFwiOiBpc1NlbGVjdGVkLFxuICAgIFwiYXJpYS1jb250cm9sc1wiOiBtYWtlVGFiUGFuZWxJZChpZCwgaW5kZXgpLFxuICAgIG9uRm9jdXM6IGlzRGlzYWJsZWQgPyB1bmRlZmluZWQgOiBjYWxsQWxsSGFuZGxlcnMocHJvcHMub25Gb2N1cywgb25Gb2N1cylcbiAgfSk7XG59XG5cbi8qKlxuICogVGFicyBob29rIGZvciBtYW5hZ2luZyB0aGUgdmlzaWJpbGl0eSBvZiBtdWx0aXBsZSB0YWIgcGFuZWxzLlxuICpcbiAqIFNpbmNlIG9ubHkgb25lIHBhbmVsIGNhbiBiZSBzaG93IGF0IGEgdGltZSwgd2UgdXNlIGBjbG9uZUVsZW1lbnRgXG4gKiB0byBpbmplY3QgYHNlbGVjdGVkYCBwYW5lbCB0byBlYWNoIFRhYlBhbmVsLlxuICpcbiAqIEl0IHJldHVybnMgYSBjbG9uZWQgdmVyc2lvbiBvZiBpdHMgY2hpbGRyZW4gd2l0aFxuICogYWxsIGZ1bmN0aW9uYWxpdHkgaW5jbHVkZWQuXG4gKi9cbmZ1bmN0aW9uIHVzZVRhYlBhbmVscyhwcm9wcykge1xuICB2YXIgY29udGV4dCA9IHVzZVRhYnNDb250ZXh0KCk7XG4gIHZhciBpZCA9IGNvbnRleHQuaWQsXG4gICAgICBzZWxlY3RlZEluZGV4ID0gY29udGV4dC5zZWxlY3RlZEluZGV4O1xuICB2YXIgdmFsaWRDaGlsZHJlbiA9IGdldFZhbGlkQ2hpbGRyZW4ocHJvcHMuY2hpbGRyZW4pO1xuICB2YXIgY2hpbGRyZW4gPSB2YWxpZENoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHtcbiAgICAgIGlzU2VsZWN0ZWQ6IGluZGV4ID09PSBzZWxlY3RlZEluZGV4LFxuICAgICAgaWQ6IG1ha2VUYWJQYW5lbElkKGlkLCBpbmRleCksXG4gICAgICAvLyBSZWZlcnMgdG8gdGhlIGFzc29jaWF0ZWQgdGFiIGVsZW1lbnQsIGFuZCBhbHNvIHByb3ZpZGVzIGFuIGFjY2Vzc2libGUgbmFtZSB0byB0aGUgdGFiIHBhbmVsLlxuICAgICAgXCJhcmlhLWxhYmVsbGVkYnlcIjogbWFrZVRhYklkKGlkLCBpbmRleClcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICBjaGlsZHJlbjogY2hpbGRyZW5cbiAgfSk7XG59XG4vKipcbiAqIFRhYnMgaG9vayBmb3IgbWFuYWdpbmcgdGhlIHZpc2libGUvaGlkZGVuIHN0YXRlc1xuICogb2YgdGhlIHRhYiBwYW5lbC5cbiAqXG4gKiBAcGFyYW0gcHJvcHMgcHJvcHMgb2JqZWN0IGZvciB0aGUgdGFiIHBhbmVsXG4gKi9cblxuZnVuY3Rpb24gdXNlVGFiUGFuZWwocHJvcHMpIHtcbiAgdmFyIGlzU2VsZWN0ZWQgPSBwcm9wcy5pc1NlbGVjdGVkLFxuICAgICAgaWQgPSBwcm9wcy5pZCxcbiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICBodG1sUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkMyk7XG5cbiAgdmFyIF91c2VUYWJzQ29udGV4dDMgPSB1c2VUYWJzQ29udGV4dCgpLFxuICAgICAgaXNMYXp5ID0gX3VzZVRhYnNDb250ZXh0My5pc0xhenksXG4gICAgICBsYXp5QmVoYXZpb3IgPSBfdXNlVGFic0NvbnRleHQzLmxhenlCZWhhdmlvcjtcblxuICB2YXIgaGFzQmVlblNlbGVjdGVkID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcblxuICBpZiAoaXNTZWxlY3RlZCkge1xuICAgIGhhc0JlZW5TZWxlY3RlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgfVxuXG4gIHZhciBzaG91bGRSZW5kZXJDaGlsZHJlbiA9IGRldGVybWluZUxhenlCZWhhdmlvcih7XG4gICAgaGFzQmVlblNlbGVjdGVkOiBoYXNCZWVuU2VsZWN0ZWQuY3VycmVudCxcbiAgICBpc1NlbGVjdGVkOiBpc1NlbGVjdGVkLFxuICAgIGlzTGF6eTogaXNMYXp5LFxuICAgIGxhenlCZWhhdmlvcjogbGF6eUJlaGF2aW9yXG4gIH0pO1xuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIC8vIFB1dHMgdGhlIHRhYnBhbmVsIGluIHRoZSBwYWdlIGBUYWJgIHNlcXVlbmNlLlxuICAgIHRhYkluZGV4OiAwXG4gIH0sIGh0bWxQcm9wcywge1xuICAgIGNoaWxkcmVuOiBzaG91bGRSZW5kZXJDaGlsZHJlbiA/IGNoaWxkcmVuIDogbnVsbCxcbiAgICByb2xlOiBcInRhYnBhbmVsXCIsXG4gICAgaGlkZGVuOiAhaXNTZWxlY3RlZCxcbiAgICBpZDogaWRcbiAgfSk7XG59XG4vKipcbiAqIFRhYnMgaG9vayB0byBzaG93IGFuIGFuaW1hdGVkIGluZGljYXRvcnMgdGhhdFxuICogZm9sbG93cyB0aGUgYWN0aXZlIHRhYi5cbiAqXG4gKiBUaGUgd2F5IHdlIGRvIGl0IGlzIGJ5IG1lYXN1cmluZyB0aGUgRE9NIFJlY3QgKG9yIGRpbWVuc2lvbnMpXG4gKiBvZiB0aGUgYWN0aXZlIHRhYiwgYW5kIHJldHVybiB0aGF0IGFzIENTUyBzdHlsZSBmb3JcbiAqIHRoZSBpbmRpY2F0b3IuXG4gKi9cblxuZnVuY3Rpb24gdXNlVGFiSW5kaWNhdG9yKCkge1xuICB2YXIgY29udGV4dCA9IHVzZVRhYnNDb250ZXh0KCk7XG4gIHZhciBkZXNjZW5kYW50cyA9IHVzZVRhYnNEZXNjZW5kYW50c0NvbnRleHQoKTtcbiAgdmFyIHNlbGVjdGVkSW5kZXggPSBjb250ZXh0LnNlbGVjdGVkSW5kZXgsXG4gICAgICBvcmllbnRhdGlvbiA9IGNvbnRleHQub3JpZW50YXRpb247XG4gIHZhciBpc0hvcml6b250YWwgPSBvcmllbnRhdGlvbiA9PT0gXCJob3Jpem9udGFsXCI7XG4gIHZhciBpc1ZlcnRpY2FsID0gb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIjsgLy8gR2V0IHRoZSBjbGllbnRSZWN0IG9mIHRoZSBzZWxlY3RlZCB0YWJcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlMiA9IFJlYWN0LnVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNIb3Jpem9udGFsKSByZXR1cm4ge1xuICAgICAgbGVmdDogMCxcbiAgICAgIHdpZHRoOiAwXG4gICAgfTtcbiAgICBpZiAoaXNWZXJ0aWNhbCkgcmV0dXJuIHtcbiAgICAgIHRvcDogMCxcbiAgICAgIGhlaWdodDogMFxuICAgIH07XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfSksXG4gICAgICByZWN0ID0gX1JlYWN0JHVzZVN0YXRlMlswXSxcbiAgICAgIHNldFJlY3QgPSBfUmVhY3QkdXNlU3RhdGUyWzFdO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUzID0gUmVhY3QudXNlU3RhdGUoZmFsc2UpLFxuICAgICAgaGFzTWVhc3VyZWQgPSBfUmVhY3QkdXNlU3RhdGUzWzBdLFxuICAgICAgc2V0SGFzTWVhc3VyZWQgPSBfUmVhY3QkdXNlU3RhdGUzWzFdOyAvLyBVcGRhdGUgdGhlIHNlbGVjdGVkIHRhYiByZWN0IHdoZW4gdGhlIHNlbGVjdGVkSW5kZXggY2hhbmdlc1xuXG5cbiAgdXNlU2FmZUxheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkKHNlbGVjdGVkSW5kZXgpKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHZhciB0YWIgPSBkZXNjZW5kYW50cy5pdGVtKHNlbGVjdGVkSW5kZXgpO1xuICAgIGlmIChpc1VuZGVmaW5lZCh0YWIpKSByZXR1cm4gdW5kZWZpbmVkOyAvLyBIb3Jpem9udGFsIFRhYjogQ2FsY3VsYXRlIHdpZHRoIGFuZCBsZWZ0IGRpc3RhbmNlXG5cbiAgICBpZiAoaXNIb3Jpem9udGFsKSB7XG4gICAgICBzZXRSZWN0KHtcbiAgICAgICAgbGVmdDogdGFiLm5vZGUub2Zmc2V0TGVmdCxcbiAgICAgICAgd2lkdGg6IHRhYi5ub2RlLm9mZnNldFdpZHRoXG4gICAgICB9KTtcbiAgICB9IC8vIFZlcnRpY2FsIFRhYjogQ2FsY3VsYXRlIGhlaWdodCBhbmQgdG9wIGRpc3RhbmNlXG5cblxuICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICBzZXRSZWN0KHtcbiAgICAgICAgdG9wOiB0YWIubm9kZS5vZmZzZXRUb3AsXG4gICAgICAgIGhlaWdodDogdGFiLm5vZGUub2Zmc2V0SGVpZ2h0XG4gICAgICB9KTtcbiAgICB9IC8vIFByZXZlbnQgdW53YW50ZWQgdHJhbnNpdGlvbiBmcm9tIDAgdG8gbWVhc3VyZWQgcmVjdFxuICAgIC8vIGJ5IHNldHRpbmcgdGhlIG1lYXN1cmVkIHN0YXRlIGluIHRoZSBuZXh0IHRpY2tcblxuXG4gICAgdmFyIGlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldEhhc01lYXN1cmVkKHRydWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtzZWxlY3RlZEluZGV4LCBpc0hvcml6b250YWwsIGlzVmVydGljYWwsIGRlc2NlbmRhbnRzXSk7XG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICB0cmFuc2l0aW9uUHJvcGVydHk6IFwibGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tXCIsXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uOiBoYXNNZWFzdXJlZCA/IFwiMjAwbXNcIiA6IFwiMG1zXCIsXG4gICAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBcImN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpXCJcbiAgfSwgcmVjdCk7XG59XG5cbmZ1bmN0aW9uIG1ha2VUYWJJZChpZCwgaW5kZXgpIHtcbiAgcmV0dXJuIGlkICsgXCItLXRhYi1cIiArIGluZGV4O1xufVxuXG5mdW5jdGlvbiBtYWtlVGFiUGFuZWxJZChpZCwgaW5kZXgpIHtcbiAgcmV0dXJuIGlkICsgXCItLXRhYnBhbmVsLVwiICsgaW5kZXg7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiXSxcbiAgICBfZXhjbHVkZWQyID0gW1wiaHRtbFByb3BzXCIsIFwiZGVzY2VuZGFudHNcIl07XG5cbi8qKlxuICogVGFic1xuICpcbiAqIFByb3ZpZGVzIGNvbnRleHQgYW5kIGxvZ2ljIGZvciBhbGwgdGFicyBjb21wb25lbnRzLlxuICovXG52YXIgVGFicyA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBzdHlsZXMgPSB1c2VNdWx0aVN0eWxlQ29uZmlnKFwiVGFic1wiLCBwcm9wcyk7XG5cbiAgdmFyIF9vbWl0VGhlbWluZ1Byb3BzID0gb21pdFRoZW1pbmdQcm9wcyhwcm9wcyksXG4gICAgICBjaGlsZHJlbiA9IF9vbWl0VGhlbWluZ1Byb3BzLmNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lID0gX29taXRUaGVtaW5nUHJvcHMuY2xhc3NOYW1lLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9vbWl0VGhlbWluZ1Byb3BzLCBfZXhjbHVkZWQpO1xuXG4gIHZhciBfdXNlVGFicyA9IHVzZVRhYnMocmVzdCksXG4gICAgICBodG1sUHJvcHMgPSBfdXNlVGFicy5odG1sUHJvcHMsXG4gICAgICBkZXNjZW5kYW50cyA9IF91c2VUYWJzLmRlc2NlbmRhbnRzLFxuICAgICAgY3R4ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3VzZVRhYnMsIF9leGNsdWRlZDIpO1xuXG4gIHZhciBjb250ZXh0ID0gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGN0eDtcbiAgfSwgW2N0eF0pO1xuICB2YXIgcm9vdFByb3BzID0gb21pdChodG1sUHJvcHMsIFtcImlzRml0dGVkXCJdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRhYnNEZXNjZW5kYW50c1Byb3ZpZGVyLCB7XG4gICAgdmFsdWU6IGRlc2NlbmRhbnRzXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRhYnNQcm92aWRlciwge1xuICAgIHZhbHVlOiBjb250ZXh0XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0eWxlc1Byb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHN0eWxlc1xuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS10YWJzXCIsIGNsYXNzTmFtZSksXG4gICAgcmVmOiByZWZcbiAgfSwgcm9vdFByb3BzLCB7XG4gICAgX19jc3M6IHN0eWxlcy5yb290XG4gIH0pLCBjaGlsZHJlbikpKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgVGFicy5kaXNwbGF5TmFtZSA9IFwiVGFic1wiO1xufVxuXG4vKipcbiAqIFRhYiBidXR0b24gdXNlZCB0byBhY3RpdmF0ZSBhIHNwZWNpZmljIHRhYiBwYW5lbC4gSXQgcmVuZGVycyBhIGBidXR0b25gLFxuICogYW5kIGlzIHJlc3BvbnNpYmxlIGZvciBhdXRvbWF0aWMgYW5kIG1hbnVhbCBzZWxlY3Rpb24gbW9kZXMuXG4gKi9cbnZhciBUYWIgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHZhciB0YWJQcm9wcyA9IHVzZVRhYihfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICByZWY6IHJlZlxuICB9KSk7XG5cbiAgdmFyIHRhYlN0eWxlcyA9IF9leHRlbmRzKHtcbiAgICBvdXRsaW5lOiBcIjBcIixcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuICAgIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiXG4gIH0sIHN0eWxlcy50YWIpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuYnV0dG9uLCBfZXh0ZW5kcyh7fSwgdGFiUHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLXRhYnNfX3RhYlwiLCBwcm9wcy5jbGFzc05hbWUpLFxuICAgIF9fY3NzOiB0YWJTdHlsZXNcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFRhYi5kaXNwbGF5TmFtZSA9IFwiVGFiXCI7XG59XG5cbi8qKlxuICogVGFiTGlzdCBpcyB1c2VkIHRvIG1hbmFnZSBhIGxpc3Qgb2YgdGFiIGJ1dHRvbnMuIEl0IHJlbmRlcnMgYSBgZGl2YCBieSBkZWZhdWx0LFxuICogYW5kIGlzIHJlc3BvbnNpYmxlIHRoZSBrZXlib2FyZCBpbnRlcmFjdGlvbiBiZXR3ZWVuIHRhYnMuXG4gKi9cbnZhciBUYWJMaXN0ID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHRhYmxpc3RQcm9wcyA9IHVzZVRhYkxpc3QoX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgcmVmOiByZWZcbiAgfSkpO1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG5cbiAgdmFyIHRhYmxpc3RTdHlsZXMgPSBfZXh0ZW5kcyh7XG4gICAgZGlzcGxheTogXCJmbGV4XCJcbiAgfSwgc3R5bGVzLnRhYmxpc3QpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7fSwgdGFibGlzdFByb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS10YWJzX190YWJsaXN0XCIsIHByb3BzLmNsYXNzTmFtZSksXG4gICAgX19jc3M6IHRhYmxpc3RTdHlsZXNcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFRhYkxpc3QuZGlzcGxheU5hbWUgPSBcIlRhYkxpc3RcIjtcbn1cblxuLyoqXG4gKiBUYWJQYW5lbFxuICogVXNlZCB0byByZW5kZXIgdGhlIGNvbnRlbnQgZm9yIGEgc3BlY2lmaWMgdGFiLlxuICovXG52YXIgVGFiUGFuZWwgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgcGFuZWxQcm9wcyA9IHVzZVRhYlBhbmVsKF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgIHJlZjogcmVmXG4gIH0pKTtcbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwgX2V4dGVuZHMoe1xuICAgIG91dGxpbmU6IFwiMFwiXG4gIH0sIHBhbmVsUHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLXRhYnNfX3RhYi1wYW5lbFwiLCBwcm9wcy5jbGFzc05hbWUpLFxuICAgIF9fY3NzOiBzdHlsZXMudGFicGFuZWxcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFRhYlBhbmVsLmRpc3BsYXlOYW1lID0gXCJUYWJQYW5lbFwiO1xufVxuXG4vKipcbiAqIFRhYlBhbmVsXG4gKlxuICogVXNlZCB0byBtYW5hZ2UgdGhlIHJlbmRlcmluZyBvZiBtdWx0aXBsZSB0YWIgcGFuZWxzLiBJdCB1c2VzXG4gKiBgY2xvbmVFbGVtZW50YCB0byBoaWRlL3Nob3cgdGFiIHBhbmVscy5cbiAqXG4gKiBJdCByZW5kZXJzIGEgYGRpdmAgYnkgZGVmYXVsdC5cbiAqL1xudmFyIFRhYlBhbmVscyA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBwYW5lbHNQcm9wcyA9IHVzZVRhYlBhbmVscyhwcm9wcyk7XG4gIHZhciBzdHlsZXMgPSB1c2VTdHlsZXMoKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS5kaXYsIF9leHRlbmRzKHt9LCBwYW5lbHNQcm9wcywge1xuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLXRhYnNfX3RhYi1wYW5lbHNcIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBfX2Nzczogc3R5bGVzLnRhYnBhbmVsc1xuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgVGFiUGFuZWxzLmRpc3BsYXlOYW1lID0gXCJUYWJQYW5lbHNcIjtcbn1cblxuLyoqXG4gKiBUYWJJbmRpY2F0b3JcbiAqXG4gKiBVc2VkIHRvIHJlbmRlciBhbiBhY3RpdmUgdGFiIGluZGljYXRvciB0aGF0IGFuaW1hdGVzIGJldHdlZW5cbiAqIHNlbGVjdGVkIHRhYnMuXG4gKi9cbnZhciBUYWJJbmRpY2F0b3IgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgaW5kaWNhdG9yU3R5bGUgPSB1c2VUYWJJbmRpY2F0b3IoKTtcblxuICB2YXIgc3R5bGUgPSBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIGluZGljYXRvclN0eWxlKTtcblxuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuZGl2LCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWZcbiAgfSwgcHJvcHMsIHtcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLXRhYnNfX3RhYi1pbmRpY2F0b3JcIiwgcHJvcHMuY2xhc3NOYW1lKSxcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgX19jc3M6IHN0eWxlcy5pbmRpY2F0b3JcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFRhYkluZGljYXRvci5kaXNwbGF5TmFtZSA9IFwiVGFiSW5kaWNhdG9yXCI7XG59XG5cbmV4cG9ydCB7IFRhYiwgVGFiSW5kaWNhdG9yLCBUYWJMaXN0LCBUYWJQYW5lbCwgVGFiUGFuZWxzLCBUYWJzLCBUYWJzRGVzY2VuZGFudHNQcm92aWRlciwgVGFic1Byb3ZpZGVyLCB1c2VUYWIsIHVzZVRhYkluZGljYXRvciwgdXNlVGFiTGlzdCwgdXNlVGFiUGFuZWwsIHVzZVRhYlBhbmVscywgdXNlVGFicywgdXNlVGFic0NvbnRleHQsIHVzZVRhYnNEZXNjZW5kYW50LCB1c2VUYWJzRGVzY2VuZGFudHMsIHVzZVRhYnNEZXNjZW5kYW50c0NvbnRleHQgfTtcbiIsImltcG9ydCB7IEljb24gfSBmcm9tICdAY2hha3JhLXVpL2ljb24nO1xuaW1wb3J0IHsgZm9yd2FyZFJlZiwgdXNlTXVsdGlTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcywgU3R5bGVzUHJvdmlkZXIsIGNoYWtyYSwgdXNlU3R5bGVzIH0gZnJvbSAnQGNoYWtyYS11aS9zeXN0ZW0nO1xuaW1wb3J0IHsgX19ERVZfXyB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxudmFyIF9leGNsdWRlZCA9IFtcImlzRGlzYWJsZWRcIiwgXCJjaGlsZHJlblwiXTtcblxuLyoqXG4gKiBUaGUgdGFnIGNvbXBvbmVudCBpcyB1c2VkIHRvIGxhYmVsIG9yIGNhdGVnb3JpemUgVUkgZWxlbWVudHMuXG4gKiBUbyBzdHlsZSB0aGUgdGFnIGdsb2JhbGx5LCBjaGFuZ2UgdGhlIHN0eWxlcyBpbiBgdGhlbWUuY29tcG9uZW50cy5UYWdgXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9jaGFrcmEtdWkuY29tL3RhZ1xuICovXG52YXIgVGFnID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZU11bHRpU3R5bGVDb25maWcoXCJUYWdcIiwgcHJvcHMpO1xuICB2YXIgb3duUHJvcHMgPSBvbWl0VGhlbWluZ1Byb3BzKHByb3BzKTtcblxuICB2YXIgY29udGFpbmVyU3R5bGVzID0gX2V4dGVuZHMoe1xuICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICB2ZXJ0aWNhbEFsaWduOiBcInRvcFwiLFxuICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgbWF4V2lkdGg6IFwiMTAwJVwiXG4gIH0sIHN0eWxlcy5jb250YWluZXIpO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZXNQcm92aWRlciwge1xuICAgIHZhbHVlOiBzdHlsZXNcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLnNwYW4sIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZlxuICB9LCBvd25Qcm9wcywge1xuICAgIF9fY3NzOiBjb250YWluZXJTdHlsZXNcbiAgfSkpKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBUYWcuZGlzcGxheU5hbWUgPSBcIlRhZ1wiO1xufVxuXG52YXIgVGFnTGFiZWwgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgc3R5bGVzID0gdXNlU3R5bGVzKCk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuc3BhbiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGlzVHJ1bmNhdGVkOiB0cnVlXG4gIH0sIHByb3BzLCB7XG4gICAgX19jc3M6IHN0eWxlcy5sYWJlbFxuICB9KSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgVGFnTGFiZWwuZGlzcGxheU5hbWUgPSBcIlRhZ0xhYmVsXCI7XG59XG5cbnZhciBUYWdMZWZ0SWNvbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgdmVydGljYWxBbGlnbjogXCJ0b3BcIixcbiAgICBtYXJnaW5FbmQ6IFwiMC41cmVtXCJcbiAgfSwgcHJvcHMpKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBUYWdMZWZ0SWNvbi5kaXNwbGF5TmFtZSA9IFwiVGFnTGVmdEljb25cIjtcbn1cblxudmFyIFRhZ1JpZ2h0SWNvbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgdmVydGljYWxBbGlnbjogXCJ0b3BcIixcbiAgICBtYXJnaW5TdGFydDogXCIwLjVyZW1cIlxuICB9LCBwcm9wcykpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFRhZ1JpZ2h0SWNvbi5kaXNwbGF5TmFtZSA9IFwiVGFnUmlnaHRJY29uXCI7XG59XG5cbnZhciBUYWdDbG9zZUljb24gPSBmdW5jdGlvbiBUYWdDbG9zZUljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIF9leHRlbmRzKHtcbiAgICB2ZXJ0aWNhbEFsaWduOiBcImluaGVyaXRcIixcbiAgICB2aWV3Qm94OiBcIjAgMCA1MTIgNTEyXCJcbiAgfSwgcHJvcHMpLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgZDogXCJNMjg5Ljk0IDI1Nmw5NS05NUEyNCAyNCAwIDAwMzUxIDEyN2wtOTUgOTUtOTUtOTVhMjQgMjQgMCAwMC0zNCAzNGw5NSA5NS05NSA5NWEyNCAyNCAwIDEwMzQgMzRsOTUtOTUgOTUgOTVhMjQgMjQgMCAwMDM0LTM0elwiXG4gIH0pKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIFRhZ0Nsb3NlSWNvbi5kaXNwbGF5TmFtZSA9IFwiVGFnQ2xvc2VJY29uXCI7XG59XG5cbi8qKlxuICogVGFnQ2xvc2VCdXR0b24gaXMgdXNlZCB0byBjbG9zZSBcInJlbW92ZVwiIHRoZSB0YWdcbiAqIEBzZWUgRG9jcyBodHRwczovL2NoYWtyYS11aS5jb20vdGFnXG4gKi9cbnZhciBUYWdDbG9zZUJ1dHRvbiA9IGZ1bmN0aW9uIFRhZ0Nsb3NlQnV0dG9uKHByb3BzKSB7XG4gIHZhciBpc0Rpc2FibGVkID0gcHJvcHMuaXNEaXNhYmxlZCxcbiAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIF9leGNsdWRlZCk7XG5cbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlcygpO1xuXG4gIHZhciBidG5TdHlsZXMgPSBfZXh0ZW5kcyh7XG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICBvdXRsaW5lOiBcIjBcIlxuICB9LCBzdHlsZXMuY2xvc2VCdXR0b24pO1xuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChjaGFrcmEuYnV0dG9uLCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgXCJhcmlhLWxhYmVsXCI6IFwiY2xvc2VcIixcbiAgICBkaXNhYmxlZDogaXNEaXNhYmxlZCxcbiAgICBfX2NzczogYnRuU3R5bGVzXG4gIH0pLCBjaGlsZHJlbiB8fCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWdDbG9zZUljb24sIG51bGwpKTtcbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIFRhZ0Nsb3NlQnV0dG9uLmRpc3BsYXlOYW1lID0gXCJUYWdDbG9zZUJ1dHRvblwiO1xufVxuXG5leHBvcnQgeyBUYWcsIFRhZ0Nsb3NlQnV0dG9uLCBUYWdMYWJlbCwgVGFnTGVmdEljb24sIFRhZ1JpZ2h0SWNvbiB9O1xuIiwiaW1wb3J0IHsgdXNlRm9ybUNvbnRyb2wgfSBmcm9tICdAY2hha3JhLXVpL2Zvcm0tY29udHJvbCc7XG5pbXBvcnQgeyBmb3J3YXJkUmVmLCB1c2VTdHlsZUNvbmZpZywgb21pdFRoZW1pbmdQcm9wcywgY2hha3JhIH0gZnJvbSAnQGNoYWtyYS11aS9zeXN0ZW0nO1xuaW1wb3J0IHsgb21pdCwgY3gsIF9fREVWX18gfSBmcm9tICdAY2hha3JhLXVpL3V0aWxzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IHt9O1xuICB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG4gIHZhciBrZXksIGk7XG5cbiAgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2ldO1xuICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJjbGFzc05hbWVcIiwgXCJyb3dzXCJdO1xuXG4vKipcbiAqIFRleHRhcmVhIGlzIHVzZWQgdG8gZW50ZXIgYW4gYW1vdW50IG9mIHRleHQgdGhhdCdzIGxvbmdlciB0aGFuIGEgc2luZ2xlIGxpbmVcbiAqIEBzZWUgRG9jcyBodHRwczovL2NoYWtyYS11aS5jb20vdGV4dGFyZWFcbiAqL1xudmFyIFRleHRhcmVhID0gLyojX19QVVJFX18qL2ZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHN0eWxlcyA9IHVzZVN0eWxlQ29uZmlnKFwiVGV4dGFyZWFcIiwgcHJvcHMpO1xuXG4gIHZhciBfb21pdFRoZW1pbmdQcm9wcyA9IG9taXRUaGVtaW5nUHJvcHMocHJvcHMpLFxuICAgICAgY2xhc3NOYW1lID0gX29taXRUaGVtaW5nUHJvcHMuY2xhc3NOYW1lLFxuICAgICAgcm93cyA9IF9vbWl0VGhlbWluZ1Byb3BzLnJvd3MsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX29taXRUaGVtaW5nUHJvcHMsIF9leGNsdWRlZCk7XG5cbiAgdmFyIHRleHRhcmVhUHJvcHMgPSB1c2VGb3JtQ29udHJvbChyZXN0KTtcbiAgdmFyIG9taXR0ZWQgPSBbXCJoXCIsIFwibWluSFwiLCBcImhlaWdodFwiLCBcIm1pbkhlaWdodFwiXTtcbiAgdmFyIHRleHRhcmVhU3R5bGVzID0gcm93cyA/IG9taXQoc3R5bGVzLCBvbWl0dGVkKSA6IHN0eWxlcztcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KGNoYWtyYS50ZXh0YXJlYSwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIHJvd3M6IHJvd3NcbiAgfSwgdGV4dGFyZWFQcm9wcywge1xuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtdGV4dGFyZWFcIiwgY2xhc3NOYW1lKSxcbiAgICBfX2NzczogdGV4dGFyZWFTdHlsZXNcbiAgfSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFRleHRhcmVhLmRpc3BsYXlOYW1lID0gXCJUZXh0YXJlYVwiO1xufVxuXG5leHBvcnQgeyBUZXh0YXJlYSB9O1xuIiwiaW1wb3J0IHsgVGlueUNvbG9yLCByZWFkYWJpbGl0eSwgaXNSZWFkYWJsZSwgcmFuZG9tIH0gZnJvbSAnQGN0cmwvdGlueWNvbG9yJztcbmltcG9ydCB7IG1lbW9pemVkR2V0LCBpc0VtcHR5T2JqZWN0LCB3YXJuLCBmcm9tRW50cmllcywgaXNPYmplY3QgfSBmcm9tICdAY2hha3JhLXVpL3V0aWxzJztcbmV4cG9ydCB7IHJ1bklmRm4gfSBmcm9tICdAY2hha3JhLXVpL3V0aWxzJztcblxuLyoqXG4gKiBHZXQgdGhlIGNvbG9yIHJhdyB2YWx1ZSBmcm9tIHRoZW1lXG4gKiBAcGFyYW0gdGhlbWUgLSB0aGUgdGhlbWUgb2JqZWN0XG4gKiBAcGFyYW0gY29sb3IgLSB0aGUgY29sb3IgcGF0aCAoXCJncmVlbi4yMDBcIilcbiAqIEBwYXJhbSBmYWxsYmFjayAtIHRoZSBmYWxsYmFjayBjb2xvclxuICovXG5cbnZhciBnZXRDb2xvciA9IGZ1bmN0aW9uIGdldENvbG9yKHRoZW1lLCBjb2xvciwgZmFsbGJhY2spIHtcbiAgdmFyIGhleCA9IG1lbW9pemVkR2V0KHRoZW1lLCBcImNvbG9ycy5cIiArIGNvbG9yLCBjb2xvcik7XG5cbiAgdmFyIF9UaW55Q29sb3IgPSBuZXcgVGlueUNvbG9yKGhleCksXG4gICAgICBpc1ZhbGlkID0gX1RpbnlDb2xvci5pc1ZhbGlkO1xuXG4gIHJldHVybiBpc1ZhbGlkID8gaGV4IDogZmFsbGJhY2s7XG59O1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIHRoZSB0b25lIG9mIGdpdmVuIGNvbG9yIGlzIFwibGlnaHRcIiBvciBcImRhcmtcIlxuICogQHBhcmFtIGNvbG9yIC0gdGhlIGNvbG9yIGluIGhleCwgcmdiLCBvciBoc2xcbiAqL1xuXG52YXIgdG9uZSA9IGZ1bmN0aW9uIHRvbmUoY29sb3IpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGVtZSkge1xuICAgIHZhciBoZXggPSBnZXRDb2xvcih0aGVtZSwgY29sb3IpO1xuICAgIHZhciBpc0RhcmsgPSBuZXcgVGlueUNvbG9yKGhleCkuaXNEYXJrKCk7XG4gICAgcmV0dXJuIGlzRGFyayA/IFwiZGFya1wiIDogXCJsaWdodFwiO1xuICB9O1xufTtcbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIGNvbG9yIHRvbmUgaXMgXCJkYXJrXCJcbiAqIEBwYXJhbSBjb2xvciAtIHRoZSBjb2xvciBpbiBoZXgsIHJnYiwgb3IgaHNsXG4gKi9cblxudmFyIGlzRGFyayA9IGZ1bmN0aW9uIGlzRGFyayhjb2xvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgcmV0dXJuIHRvbmUoY29sb3IpKHRoZW1lKSA9PT0gXCJkYXJrXCI7XG4gIH07XG59O1xuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGEgY29sb3IgdG9uZSBpcyBcImxpZ2h0XCJcbiAqIEBwYXJhbSBjb2xvciAtIHRoZSBjb2xvciBpbiBoZXgsIHJnYiwgb3IgaHNsXG4gKi9cblxudmFyIGlzTGlnaHQgPSBmdW5jdGlvbiBpc0xpZ2h0KGNvbG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhlbWUpIHtcbiAgICByZXR1cm4gdG9uZShjb2xvcikodGhlbWUpID09PSBcImxpZ2h0XCI7XG4gIH07XG59O1xuLyoqXG4gKiBNYWtlIGEgY29sb3IgdHJhbnNwYXJlbnRcbiAqIEBwYXJhbSBjb2xvciAtIHRoZSBjb2xvciBpbiBoZXgsIHJnYiwgb3IgaHNsXG4gKiBAcGFyYW0gb3BhY2l0eSAtIHRoZSBhbW91bnQgb2Ygb3BhY2l0eSB0aGUgY29sb3Igc2hvdWxkIGhhdmUgKDAtMSlcbiAqL1xuXG52YXIgdHJhbnNwYXJlbnRpemUgPSBmdW5jdGlvbiB0cmFuc3BhcmVudGl6ZShjb2xvciwgb3BhY2l0eSkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgdmFyIHJhdyA9IGdldENvbG9yKHRoZW1lLCBjb2xvcik7XG4gICAgcmV0dXJuIG5ldyBUaW55Q29sb3IocmF3KS5zZXRBbHBoYShvcGFjaXR5KS50b1JnYlN0cmluZygpO1xuICB9O1xufTtcbi8qKlxuICogQWRkIHdoaXRlIHRvIGEgY29sb3JcbiAqIEBwYXJhbSBjb2xvciAtIHRoZSBjb2xvciBpbiBoZXgsIHJnYiwgb3IgaHNsXG4gKiBAcGFyYW0gYW1vdW50IC0gdGhlIGFtb3VudCB3aGl0ZSB0byBhZGQgKDAtMTAwKVxuICovXG5cbnZhciB3aGl0ZW4gPSBmdW5jdGlvbiB3aGl0ZW4oY29sb3IsIGFtb3VudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgdmFyIHJhdyA9IGdldENvbG9yKHRoZW1lLCBjb2xvcik7XG4gICAgcmV0dXJuIG5ldyBUaW55Q29sb3IocmF3KS5taXgoXCIjZmZmXCIsIGFtb3VudCkudG9IZXhTdHJpbmcoKTtcbiAgfTtcbn07XG4vKipcbiAqIEFkZCBibGFjayB0byBhIGNvbG9yXG4gKiBAcGFyYW0gY29sb3IgLSB0aGUgY29sb3IgaW4gaGV4LCByZ2IsIG9yIGhzbFxuICogQHBhcmFtIGFtb3VudCAtIHRoZSBhbW91bnQgYmxhY2sgdG8gYWRkICgwLTEwMClcbiAqL1xuXG52YXIgYmxhY2tlbiA9IGZ1bmN0aW9uIGJsYWNrZW4oY29sb3IsIGFtb3VudCkge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgdmFyIHJhdyA9IGdldENvbG9yKHRoZW1lLCBjb2xvcik7XG4gICAgcmV0dXJuIG5ldyBUaW55Q29sb3IocmF3KS5taXgoXCIjMDAwXCIsIGFtb3VudCkudG9IZXhTdHJpbmcoKTtcbiAgfTtcbn07XG4vKipcbiAqIERhcmtlbiBhIHNwZWNpZmllZCBjb2xvclxuICogQHBhcmFtIGNvbG9yIC0gdGhlIGNvbG9yIGluIGhleCwgcmdiLCBvciBoc2xcbiAqIEBwYXJhbSBhbW91bnQgLSB0aGUgYW1vdW50IHRvIGRhcmtlbiAoMC0xMDApXG4gKi9cblxudmFyIGRhcmtlbiA9IGZ1bmN0aW9uIGRhcmtlbihjb2xvciwgYW1vdW50KSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhlbWUpIHtcbiAgICB2YXIgcmF3ID0gZ2V0Q29sb3IodGhlbWUsIGNvbG9yKTtcbiAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihyYXcpLmRhcmtlbihhbW91bnQpLnRvSGV4U3RyaW5nKCk7XG4gIH07XG59O1xuLyoqXG4gKiBMaWdodGVuIGEgc3BlY2lmaWVkIGNvbG9yXG4gKiBAcGFyYW0gY29sb3IgLSB0aGUgY29sb3IgaW4gaGV4LCByZ2IsIG9yIGhzbFxuICogQHBhcmFtIGFtb3VudCAtIHRoZSBhbW91bnQgdG8gbGlnaHRlbiAoMC0xMDApXG4gKi9cblxudmFyIGxpZ2h0ZW4gPSBmdW5jdGlvbiBsaWdodGVuKGNvbG9yLCBhbW91bnQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICh0aGVtZSkge1xuICAgIHJldHVybiBuZXcgVGlueUNvbG9yKGdldENvbG9yKHRoZW1lLCBjb2xvcikpLmxpZ2h0ZW4oYW1vdW50KS50b0hleFN0cmluZygpO1xuICB9O1xufTtcbi8qKlxuICogQ2hlY2tzIHRoZSBjb250cmFjdCByYXRpbyBvZiBiZXR3ZWVuIDIgY29sb3JzLFxuICogYmFzZWQgb24gdGhlIFdlYiBDb250ZW50IEFjY2Vzc2liaWxpdHkgR3VpZGVsaW5lcyAoVmVyc2lvbiAyLjApLlxuICpcbiAqIEBwYXJhbSBmZyAtIHRoZSBmb3JlZ3JvdW5kIG9yIHRleHQgY29sb3JcbiAqIEBwYXJhbSBiZyAtIHRoZSBiYWNrZ3JvdW5kIGNvbG9yXG4gKi9cblxudmFyIGNvbnRyYXN0ID0gZnVuY3Rpb24gY29udHJhc3QoZmcsIGJnKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhlbWUpIHtcbiAgICByZXR1cm4gcmVhZGFiaWxpdHkoZ2V0Q29sb3IodGhlbWUsIGJnKSwgZ2V0Q29sb3IodGhlbWUsIGZnKSk7XG4gIH07XG59O1xuLyoqXG4gKiBDaGVja3MgaWYgYSBjb2xvciBtZWV0cyB0aGUgV2ViIENvbnRlbnQgQWNjZXNzaWJpbGl0eVxuICogR3VpZGVsaW5lcyAoVmVyc2lvbiAyLjApIGZvciBjb25zdHJhY3QgcmF0aW8uXG4gKlxuICogQHBhcmFtIGZnIC0gdGhlIGZvcmVncm91bmQgb3IgdGV4dCBjb2xvclxuICogQHBhcmFtIGJnIC0gdGhlIGJhY2tncm91bmQgY29sb3JcbiAqL1xuXG52YXIgaXNBY2Nlc3NpYmxlID0gZnVuY3Rpb24gaXNBY2Nlc3NpYmxlKHRleHRDb2xvciwgYmdDb2xvciwgb3B0aW9ucykge1xuICByZXR1cm4gZnVuY3Rpb24gKHRoZW1lKSB7XG4gICAgcmV0dXJuIGlzUmVhZGFibGUoZ2V0Q29sb3IodGhlbWUsIGJnQ29sb3IpLCBnZXRDb2xvcih0aGVtZSwgdGV4dENvbG9yKSwgb3B0aW9ucyk7XG4gIH07XG59O1xudmFyIGNvbXBsZW1lbnRhcnkgPSBmdW5jdGlvbiBjb21wbGVtZW50YXJ5KGNvbG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGhlbWUpIHtcbiAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihnZXRDb2xvcih0aGVtZSwgY29sb3IpKS5jb21wbGVtZW50KCkudG9IZXhTdHJpbmcoKTtcbiAgfTtcbn07XG5mdW5jdGlvbiBnZW5lcmF0ZVN0cmlwZShzaXplLCBjb2xvcikge1xuICBpZiAoc2l6ZSA9PT0gdm9pZCAwKSB7XG4gICAgc2l6ZSA9IFwiMXJlbVwiO1xuICB9XG5cbiAgaWYgKGNvbG9yID09PSB2b2lkIDApIHtcbiAgICBjb2xvciA9IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE1KVwiO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiYWNrZ3JvdW5kSW1hZ2U6IFwibGluZWFyLWdyYWRpZW50KFxcbiAgICA0NWRlZyxcXG4gICAgXCIgKyBjb2xvciArIFwiIDI1JSxcXG4gICAgdHJhbnNwYXJlbnQgMjUlLFxcbiAgICB0cmFuc3BhcmVudCA1MCUsXFxuICAgIFwiICsgY29sb3IgKyBcIiA1MCUsXFxuICAgIFwiICsgY29sb3IgKyBcIiA3NSUsXFxuICAgIHRyYW5zcGFyZW50IDc1JSxcXG4gICAgdHJhbnNwYXJlbnRcXG4gIClcIixcbiAgICBiYWNrZ3JvdW5kU2l6ZTogc2l6ZSArIFwiIFwiICsgc2l6ZVxuICB9O1xufVxuZnVuY3Rpb24gcmFuZG9tQ29sb3Iob3B0cykge1xuICB2YXIgZmFsbGJhY2sgPSByYW5kb20oKS50b0hleFN0cmluZygpO1xuXG4gIGlmICghb3B0cyB8fCBpc0VtcHR5T2JqZWN0KG9wdHMpKSB7XG4gICAgcmV0dXJuIGZhbGxiYWNrO1xuICB9XG5cbiAgaWYgKG9wdHMuc3RyaW5nICYmIG9wdHMuY29sb3JzKSB7XG4gICAgcmV0dXJuIHJhbmRvbUNvbG9yRnJvbUxpc3Qob3B0cy5zdHJpbmcsIG9wdHMuY29sb3JzKTtcbiAgfVxuXG4gIGlmIChvcHRzLnN0cmluZyAmJiAhb3B0cy5jb2xvcnMpIHtcbiAgICByZXR1cm4gcmFuZG9tQ29sb3JGcm9tU3RyaW5nKG9wdHMuc3RyaW5nKTtcbiAgfVxuXG4gIGlmIChvcHRzLmNvbG9ycyAmJiAhb3B0cy5zdHJpbmcpIHtcbiAgICByZXR1cm4gcmFuZG9tRnJvbUxpc3Qob3B0cy5jb2xvcnMpO1xuICB9XG5cbiAgcmV0dXJuIGZhbGxiYWNrO1xufVxuXG5mdW5jdGlvbiByYW5kb21Db2xvckZyb21TdHJpbmcoc3RyKSB7XG4gIHZhciBoYXNoID0gMDtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHJldHVybiBoYXNoLnRvU3RyaW5nKCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBoYXNoID0gc3RyLmNoYXJDb2RlQXQoaSkgKyAoKGhhc2ggPDwgNSkgLSBoYXNoKTtcbiAgICBoYXNoID0gaGFzaCAmIGhhc2g7XG4gIH1cblxuICB2YXIgY29sb3IgPSBcIiNcIjtcblxuICBmb3IgKHZhciBqID0gMDsgaiA8IDM7IGogKz0gMSkge1xuICAgIHZhciB2YWx1ZSA9IGhhc2ggPj4gaiAqIDggJiAyNTU7XG4gICAgY29sb3IgKz0gKFwiMDBcIiArIHZhbHVlLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC0yKTtcbiAgfVxuXG4gIHJldHVybiBjb2xvcjtcbn1cblxuZnVuY3Rpb24gcmFuZG9tQ29sb3JGcm9tTGlzdChzdHIsIGxpc3QpIHtcbiAgdmFyIGluZGV4ID0gMDtcbiAgaWYgKHN0ci5sZW5ndGggPT09IDApIHJldHVybiBsaXN0WzBdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaW5kZXggPSBzdHIuY2hhckNvZGVBdChpKSArICgoaW5kZXggPDwgNSkgLSBpbmRleCk7XG4gICAgaW5kZXggPSBpbmRleCAmIGluZGV4O1xuICB9XG5cbiAgaW5kZXggPSAoaW5kZXggJSBsaXN0Lmxlbmd0aCArIGxpc3QubGVuZ3RoKSAlIGxpc3QubGVuZ3RoO1xuICByZXR1cm4gbGlzdFtpbmRleF07XG59XG5cbmZ1bmN0aW9uIHJhbmRvbUZyb21MaXN0KGxpc3QpIHtcbiAgcmV0dXJuIGxpc3RbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGlzdC5sZW5ndGgpXTtcbn1cblxuZnVuY3Rpb24gbW9kZShsaWdodCwgZGFyaykge1xuICByZXR1cm4gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzLmNvbG9yTW9kZSA9PT0gXCJkYXJrXCIgPyBkYXJrIDogbGlnaHQ7XG4gIH07XG59XG5mdW5jdGlvbiBvcmllbnQob3B0aW9ucykge1xuICB2YXIgb3JpZW50YXRpb24gPSBvcHRpb25zLm9yaWVudGF0aW9uLFxuICAgICAgdmVydGljYWwgPSBvcHRpb25zLnZlcnRpY2FsLFxuICAgICAgaG9yaXpvbnRhbCA9IG9wdGlvbnMuaG9yaXpvbnRhbDtcbiAgaWYgKCFvcmllbnRhdGlvbikgcmV0dXJuIHt9O1xuICByZXR1cm4gb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiA/IHZlcnRpY2FsIDogaG9yaXpvbnRhbDtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxudmFyIGNyZWF0ZUJyZWFrcG9pbnRzID0gZnVuY3Rpb24gY3JlYXRlQnJlYWtwb2ludHMoY29uZmlnKSB7XG4gIHdhcm4oe1xuICAgIGNvbmRpdGlvbjogdHJ1ZSxcbiAgICBtZXNzYWdlOiBbXCJbY2hha3JhLXVpXTogY3JlYXRlQnJlYWtwb2ludHMoLi4uKSB3aWxsIGJlIGRlcHJlY2F0ZWQgcHJldHR5IHNvb25cIiwgXCJzaW1wbHkgcGFzcyB0aGUgYnJlYWtwb2ludHMgYXMgYW4gb2JqZWN0LiBSZW1vdmUgdGhlIGNyZWF0ZUJyZWFrcG9pbnQoLi4pIGNhbGxcIl0uam9pbihcIlwiKVxuICB9KTtcbiAgcmV0dXJuIF9leHRlbmRzKHtcbiAgICBiYXNlOiBcIjBlbVwiXG4gIH0sIGNvbmZpZyk7XG59O1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7XG4gICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICByZXR1cm4gQ29uc3RydWN0b3I7XG59XG5cbi8qKlxuICogVXNlZCB0byBkZWZpbmUgdGhlIGFuYXRvbXkvcGFydHMgb2YgYSBjb21wb25lbnQgaW4gYSB3YXkgdGhhdCBwcm92aWRlc1xuICogYSBjb25zaXN0ZW50IEFQSSBmb3IgYGNsYXNzTmFtZWAsIGNzcyBzZWxlY3RvciBhbmQgYHRoZW1pbmdgLlxuICovXG5cbnZhciBBbmF0b215ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQW5hdG9teShuYW1lKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHRoaXMubWFwID0ge307XG4gICAgdGhpcy5jYWxsZWQgPSBmYWxzZTtcblxuICAgIHRoaXMuYXNzZXJ0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFfdGhpcy5jYWxsZWQpIHtcbiAgICAgICAgX3RoaXMuY2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJbYW5hdG9teV0gLnBhcnQoLi4uKSBzaG91bGQgb25seSBiZSBjYWxsZWQgb25jZS4gRGlkIHlvdSBtZWFuIHRvIHVzZSAuZXh0ZW5kKC4uLikgP1wiKTtcbiAgICB9O1xuXG4gICAgdGhpcy5wYXJ0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLmFzc2VydCgpO1xuXG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgdmFsdWVzID0gbmV3IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICB2YWx1ZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9pID0gMCwgX3ZhbHVlcyA9IHZhbHVlczsgX2kgPCBfdmFsdWVzLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcGFydCA9IF92YWx1ZXNbX2ldO1xuICAgICAgICBfdGhpcy5tYXBbcGFydF0gPSBfdGhpcy50b1BhcnQocGFydCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9O1xuXG4gICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIHBhcnRzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIHBhcnRzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIF9pMiA9IDAsIF9wYXJ0cyA9IHBhcnRzOyBfaTIgPCBfcGFydHMubGVuZ3RoOyBfaTIrKykge1xuICAgICAgICB2YXIgcGFydCA9IF9wYXJ0c1tfaTJdO1xuICAgICAgICBpZiAocGFydCBpbiBfdGhpcy5tYXApIGNvbnRpbnVlO1xuICAgICAgICBfdGhpcy5tYXBbcGFydF0gPSBfdGhpcy50b1BhcnQocGFydCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBfdGhpcztcbiAgICB9O1xuXG4gICAgdGhpcy50b1BhcnQgPSBmdW5jdGlvbiAocGFydCkge1xuICAgICAgdmFyIGVsID0gW1wiY29udGFpbmVyXCIsIFwicm9vdFwiXS5pbmNsdWRlcyhwYXJ0ICE9IG51bGwgPyBwYXJ0IDogXCJcIikgPyBbX3RoaXMubmFtZV0gOiBbX3RoaXMubmFtZSwgcGFydF07XG4gICAgICB2YXIgYXR0ciA9IGVsLmZpbHRlcihCb29sZWFuKS5qb2luKFwiX19cIik7XG4gICAgICB2YXIgY2xhc3NOYW1lID0gXCJjaGFrcmEtXCIgKyBhdHRyO1xuICAgICAgdmFyIHBhcnRPYmogPSB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICBzZWxlY3RvcjogXCIuXCIgKyBjbGFzc05hbWUsXG4gICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgICAgICByZXR1cm4gcGFydDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHJldHVybiBwYXJ0T2JqO1xuICAgIH07XG5cbiAgICB0aGlzLl9fdHlwZSA9IHt9O1xuICB9XG4gIC8qKlxuICAgKiBQcmV2ZW50cyB1c2VyIGZyb20gY2FsbGluZyBgLnBhcnRzYCBtdWx0aXBsZSB0aW1lcy5cbiAgICogSXQgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UuXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKEFuYXRvbXksIFt7XG4gICAga2V5OiBcInNlbGVjdG9yc1wiLFxuICAgIGdldDpcbiAgICAvKipcbiAgICAgKiBHZXQgYWxsIHNlbGVjdG9ycyBmb3IgdGhlIGNvbXBvbmVudCBhbmF0b215XG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgdmFyIHZhbHVlID0gZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModGhpcy5tYXApLm1hcChmdW5jdGlvbiAoX3JlZikge1xuICAgICAgICB2YXIga2V5ID0gX3JlZlswXSxcbiAgICAgICAgICAgIHBhcnQgPSBfcmVmWzFdO1xuICAgICAgICByZXR1cm4gW2tleSwgcGFydC5zZWxlY3Rvcl07XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgY2xhc3NOYW1lcyBmb3IgdGhlIGNvbXBvbmVudCBhbmF0b215XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJjbGFzc05hbWVzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBmcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0aGlzLm1hcCkubWFwKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgICB2YXIga2V5ID0gX3JlZjJbMF0sXG4gICAgICAgICAgICBwYXJ0ID0gX3JlZjJbMV07XG4gICAgICAgIHJldHVybiBba2V5LCBwYXJ0LmNsYXNzTmFtZV07XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbGwgcGFydHMgYXMgYXJyYXkgb2Ygc3RyaW5nXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJrZXlzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5tYXApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIHRoZSBwYXJ0IG9iamVjdCBmb3IgdGhlIGdpdmVuIHBhcnRcbiAgICAgKi9cblxuICB9XSk7XG5cbiAgcmV0dXJuIEFuYXRvbXk7XG59KCk7XG5mdW5jdGlvbiBhbmF0b215KG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBBbmF0b215KG5hbWUpO1xufVxuXG5mdW5jdGlvbiB0b1JlZihvcGVyYW5kKSB7XG4gIGlmIChpc09iamVjdChvcGVyYW5kKSAmJiBvcGVyYW5kLnJlZmVyZW5jZSkge1xuICAgIHJldHVybiBvcGVyYW5kLnJlZmVyZW5jZTtcbiAgfVxuXG4gIHJldHVybiBTdHJpbmcob3BlcmFuZCk7XG59XG5cbnZhciB0b0V4cHIgPSBmdW5jdGlvbiB0b0V4cHIob3BlcmF0b3IpIHtcbiAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIG9wZXJhbmRzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBvcGVyYW5kc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gIH1cblxuICByZXR1cm4gb3BlcmFuZHMubWFwKHRvUmVmKS5qb2luKFwiIFwiICsgb3BlcmF0b3IgKyBcIiBcIikucmVwbGFjZSgvY2FsYy9nLCBcIlwiKTtcbn07XG5cbnZhciBfYWRkID0gZnVuY3Rpb24gYWRkKCkge1xuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIG9wZXJhbmRzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgb3BlcmFuZHNbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgfVxuXG4gIHJldHVybiBcImNhbGMoXCIgKyB0b0V4cHIuYXBwbHkodm9pZCAwLCBbXCIrXCJdLmNvbmNhdChvcGVyYW5kcykpICsgXCIpXCI7XG59O1xuXG52YXIgX3N1YnRyYWN0ID0gZnVuY3Rpb24gc3VidHJhY3QoKSB7XG4gIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgb3BlcmFuZHMgPSBuZXcgQXJyYXkoX2xlbjMpLCBfa2V5MyA9IDA7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICBvcGVyYW5kc1tfa2V5M10gPSBhcmd1bWVudHNbX2tleTNdO1xuICB9XG5cbiAgcmV0dXJuIFwiY2FsYyhcIiArIHRvRXhwci5hcHBseSh2b2lkIDAsIFtcIi1cIl0uY29uY2F0KG9wZXJhbmRzKSkgKyBcIilcIjtcbn07XG5cbnZhciBfbXVsdGlwbHkgPSBmdW5jdGlvbiBtdWx0aXBseSgpIHtcbiAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBvcGVyYW5kcyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgIG9wZXJhbmRzW19rZXk0XSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gIH1cblxuICByZXR1cm4gXCJjYWxjKFwiICsgdG9FeHByLmFwcGx5KHZvaWQgMCwgW1wiKlwiXS5jb25jYXQob3BlcmFuZHMpKSArIFwiKVwiO1xufTtcblxudmFyIF9kaXZpZGUgPSBmdW5jdGlvbiBkaXZpZGUoKSB7XG4gIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgb3BlcmFuZHMgPSBuZXcgQXJyYXkoX2xlbjUpLCBfa2V5NSA9IDA7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICBvcGVyYW5kc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICB9XG5cbiAgcmV0dXJuIFwiY2FsYyhcIiArIHRvRXhwci5hcHBseSh2b2lkIDAsIFtcIi9cIl0uY29uY2F0KG9wZXJhbmRzKSkgKyBcIilcIjtcbn07XG5cbnZhciBfbmVnYXRlID0gZnVuY3Rpb24gbmVnYXRlKHgpIHtcbiAgdmFyIHZhbHVlID0gdG9SZWYoeCk7XG5cbiAgaWYgKHZhbHVlICE9IG51bGwgJiYgIU51bWJlci5pc05hTihwYXJzZUZsb2F0KHZhbHVlKSkpIHtcbiAgICByZXR1cm4gU3RyaW5nKHZhbHVlKS5zdGFydHNXaXRoKFwiLVwiKSA/IFN0cmluZyh2YWx1ZSkuc2xpY2UoMSkgOiBcIi1cIiArIHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIF9tdWx0aXBseSh2YWx1ZSwgLTEpO1xufTtcblxudmFyIGNhbGMgPSBPYmplY3QuYXNzaWduKGZ1bmN0aW9uICh4KSB7XG4gIHJldHVybiB7XG4gICAgYWRkOiBmdW5jdGlvbiBhZGQoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIG9wZXJhbmRzID0gbmV3IEFycmF5KF9sZW42KSwgX2tleTYgPSAwOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgICAgIG9wZXJhbmRzW19rZXk2XSA9IGFyZ3VtZW50c1tfa2V5Nl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYWxjKF9hZGQuYXBwbHkodm9pZCAwLCBbeF0uY29uY2F0KG9wZXJhbmRzKSkpO1xuICAgIH0sXG4gICAgc3VidHJhY3Q6IGZ1bmN0aW9uIHN1YnRyYWN0KCkge1xuICAgICAgZm9yICh2YXIgX2xlbjcgPSBhcmd1bWVudHMubGVuZ3RoLCBvcGVyYW5kcyA9IG5ldyBBcnJheShfbGVuNyksIF9rZXk3ID0gMDsgX2tleTcgPCBfbGVuNzsgX2tleTcrKykge1xuICAgICAgICBvcGVyYW5kc1tfa2V5N10gPSBhcmd1bWVudHNbX2tleTddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FsYyhfc3VidHJhY3QuYXBwbHkodm9pZCAwLCBbeF0uY29uY2F0KG9wZXJhbmRzKSkpO1xuICAgIH0sXG4gICAgbXVsdGlwbHk6IGZ1bmN0aW9uIG11bHRpcGx5KCkge1xuICAgICAgZm9yICh2YXIgX2xlbjggPSBhcmd1bWVudHMubGVuZ3RoLCBvcGVyYW5kcyA9IG5ldyBBcnJheShfbGVuOCksIF9rZXk4ID0gMDsgX2tleTggPCBfbGVuODsgX2tleTgrKykge1xuICAgICAgICBvcGVyYW5kc1tfa2V5OF0gPSBhcmd1bWVudHNbX2tleThdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY2FsYyhfbXVsdGlwbHkuYXBwbHkodm9pZCAwLCBbeF0uY29uY2F0KG9wZXJhbmRzKSkpO1xuICAgIH0sXG4gICAgZGl2aWRlOiBmdW5jdGlvbiBkaXZpZGUoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuOSA9IGFyZ3VtZW50cy5sZW5ndGgsIG9wZXJhbmRzID0gbmV3IEFycmF5KF9sZW45KSwgX2tleTkgPSAwOyBfa2V5OSA8IF9sZW45OyBfa2V5OSsrKSB7XG4gICAgICAgIG9wZXJhbmRzW19rZXk5XSA9IGFyZ3VtZW50c1tfa2V5OV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjYWxjKF9kaXZpZGUuYXBwbHkodm9pZCAwLCBbeF0uY29uY2F0KG9wZXJhbmRzKSkpO1xuICAgIH0sXG4gICAgbmVnYXRlOiBmdW5jdGlvbiBuZWdhdGUoKSB7XG4gICAgICByZXR1cm4gY2FsYyhfbmVnYXRlKHgpKTtcbiAgICB9LFxuICAgIHRvU3RyaW5nOiBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiB4LnRvU3RyaW5nKCk7XG4gICAgfVxuICB9O1xufSwge1xuICBhZGQ6IF9hZGQsXG4gIHN1YnRyYWN0OiBfc3VidHJhY3QsXG4gIG11bHRpcGx5OiBfbXVsdGlwbHksXG4gIGRpdmlkZTogX2RpdmlkZSxcbiAgbmVnYXRlOiBfbmVnYXRlXG59KTtcblxuZnVuY3Rpb24gaXNEZWNpbWFsKHZhbHVlKSB7XG4gIHJldHVybiAhTnVtYmVyLmlzSW50ZWdlcihwYXJzZUZsb2F0KHZhbHVlLnRvU3RyaW5nKCkpKTtcbn1cblxuZnVuY3Rpb24gcmVwbGFjZVdoaXRlU3BhY2UodmFsdWUsIHJlcGxhY2VWYWx1ZSkge1xuICBpZiAocmVwbGFjZVZhbHVlID09PSB2b2lkIDApIHtcbiAgICByZXBsYWNlVmFsdWUgPSBcIi1cIjtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZS5yZXBsYWNlKC9cXHMrL2csIHJlcGxhY2VWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZSh2YWx1ZSkge1xuICB2YXIgdmFsdWVTdHIgPSByZXBsYWNlV2hpdGVTcGFjZSh2YWx1ZS50b1N0cmluZygpKTtcbiAgaWYgKHZhbHVlU3RyLmluY2x1ZGVzKFwiXFxcXC5cIikpIHJldHVybiB2YWx1ZTtcbiAgcmV0dXJuIGlzRGVjaW1hbCh2YWx1ZSkgPyB2YWx1ZVN0ci5yZXBsYWNlKFwiLlwiLCBcIlxcXFwuXCIpIDogdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGFkZFByZWZpeCh2YWx1ZSwgcHJlZml4KSB7XG4gIGlmIChwcmVmaXggPT09IHZvaWQgMCkge1xuICAgIHByZWZpeCA9IFwiXCI7XG4gIH1cblxuICByZXR1cm4gW3ByZWZpeCwgZXNjYXBlKHZhbHVlKV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCItXCIpO1xufVxuZnVuY3Rpb24gdG9WYXJSZWYobmFtZSwgZmFsbGJhY2spIHtcbiAgcmV0dXJuIFwidmFyKFwiICsgZXNjYXBlKG5hbWUpICsgKGZhbGxiYWNrID8gXCIsIFwiICsgZmFsbGJhY2sgOiBcIlwiKSArIFwiKVwiO1xufVxuZnVuY3Rpb24gdG9WYXIodmFsdWUsIHByZWZpeCkge1xuICBpZiAocHJlZml4ID09PSB2b2lkIDApIHtcbiAgICBwcmVmaXggPSBcIlwiO1xuICB9XG5cbiAgcmV0dXJuIFwiLS1cIiArIGFkZFByZWZpeCh2YWx1ZSwgcHJlZml4KTtcbn1cbmZ1bmN0aW9uIGNzc1ZhcihuYW1lLCBvcHRpb25zKSB7XG4gIHZhciBjc3NWYXJpYWJsZSA9IHRvVmFyKG5hbWUsIG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMucHJlZml4KTtcbiAgcmV0dXJuIHtcbiAgICB2YXJpYWJsZTogY3NzVmFyaWFibGUsXG4gICAgcmVmZXJlbmNlOiB0b1ZhclJlZihjc3NWYXJpYWJsZSwgZ2V0RmFsbGJhY2sob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5mYWxsYmFjaykpXG4gIH07XG59XG5cbmZ1bmN0aW9uIGdldEZhbGxiYWNrKGZhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2YgZmFsbGJhY2sgPT09IFwic3RyaW5nXCIpIHJldHVybiBmYWxsYmFjaztcbiAgcmV0dXJuIGZhbGxiYWNrID09IG51bGwgPyB2b2lkIDAgOiBmYWxsYmFjay5yZWZlcmVuY2U7XG59XG5cbmV4cG9ydCB7IEFuYXRvbXksIGFkZFByZWZpeCwgYW5hdG9teSwgYmxhY2tlbiwgY2FsYywgY29tcGxlbWVudGFyeSwgY29udHJhc3QsIGNyZWF0ZUJyZWFrcG9pbnRzLCBjc3NWYXIsIGRhcmtlbiwgZ2VuZXJhdGVTdHJpcGUsIGdldENvbG9yLCBpc0FjY2Vzc2libGUsIGlzRGFyaywgaXNEZWNpbWFsLCBpc0xpZ2h0LCBsaWdodGVuLCBtb2RlLCBvcmllbnQsIHJhbmRvbUNvbG9yLCB0b1ZhciwgdG9WYXJSZWYsIHRvbmUsIHRyYW5zcGFyZW50aXplLCB3aGl0ZW4gfTtcbiIsImltcG9ydCB7IGFjY29yZGlvbkFuYXRvbXksIGFsZXJ0QW5hdG9teSwgYXZhdGFyQW5hdG9teSwgYnJlYWRjcnVtYkFuYXRvbXksIGNoZWNrYm94QW5hdG9teSwgZHJhd2VyQW5hdG9teSwgZWRpdGFibGVBbmF0b215LCBmb3JtQW5hdG9teSwgaW5wdXRBbmF0b215LCBsaXN0QW5hdG9teSwgbWVudUFuYXRvbXksIG1vZGFsQW5hdG9teSwgbnVtYmVySW5wdXRBbmF0b215LCBwb3BvdmVyQW5hdG9teSwgcHJvZ3Jlc3NBbmF0b215LCByYWRpb0FuYXRvbXksIHNlbGVjdEFuYXRvbXksIHNsaWRlckFuYXRvbXksIHN0YXRBbmF0b215LCBzd2l0Y2hBbmF0b215LCB0YWJsZUFuYXRvbXksIHRhYnNBbmF0b215LCB0YWdBbmF0b215LCBmb3JtRXJyb3JBbmF0b215IH0gZnJvbSAnQGNoYWtyYS11aS9hbmF0b215JztcbmltcG9ydCB7IG1vZGUsIGdldENvbG9yLCB0cmFuc3BhcmVudGl6ZSwgcmFuZG9tQ29sb3IsIGlzRGFyaywgY3NzVmFyLCBjYWxjLCBnZW5lcmF0ZVN0cmlwZSwgb3JpZW50LCBjcmVhdGVCcmVha3BvaW50cyB9IGZyb20gJ0BjaGFrcmEtdWkvdGhlbWUtdG9vbHMnO1xuaW1wb3J0IHsgbWVyZ2VXaXRoLCBpc09iamVjdCB9IGZyb20gJ0BjaGFrcmEtdWkvdXRpbHMnO1xuaW1wb3J0IHsga2V5ZnJhbWVzIH0gZnJvbSAnQGNoYWtyYS11aS9zeXN0ZW0nO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG52YXIgYmFzZVN0eWxlQ29udGFpbmVyJDMgPSB7XG4gIGJvcmRlclRvcFdpZHRoOiBcIjFweFwiLFxuICBib3JkZXJDb2xvcjogXCJpbmhlcml0XCIsXG4gIF9sYXN0OiB7XG4gICAgYm9yZGVyQm90dG9tV2lkdGg6IFwiMXB4XCJcbiAgfVxufTtcbnZhciBiYXNlU3R5bGVCdXR0b24kMSA9IHtcbiAgdHJhbnNpdGlvblByb3BlcnR5OiBcImNvbW1vblwiLFxuICB0cmFuc2l0aW9uRHVyYXRpb246IFwibm9ybWFsXCIsXG4gIGZvbnRTaXplOiBcIjFyZW1cIixcbiAgX2ZvY3VzOiB7XG4gICAgYm94U2hhZG93OiBcIm91dGxpbmVcIlxuICB9LFxuICBfaG92ZXI6IHtcbiAgICBiZzogXCJibGFja0FscGhhLjUwXCJcbiAgfSxcbiAgX2Rpc2FibGVkOiB7XG4gICAgb3BhY2l0eTogMC40LFxuICAgIGN1cnNvcjogXCJub3QtYWxsb3dlZFwiXG4gIH0sXG4gIHB4OiA0LFxuICBweTogMlxufTtcbnZhciBiYXNlU3R5bGVQYW5lbCA9IHtcbiAgcHQ6IDIsXG4gIHB4OiA0LFxuICBwYjogNVxufTtcbnZhciBiYXNlU3R5bGVJY29uJDUgPSB7XG4gIGZvbnRTaXplOiBcIjEuMjVlbVwiXG59O1xudmFyIGJhc2VTdHlsZSREID0ge1xuICBjb250YWluZXI6IGJhc2VTdHlsZUNvbnRhaW5lciQzLFxuICBidXR0b246IGJhc2VTdHlsZUJ1dHRvbiQxLFxuICBwYW5lbDogYmFzZVN0eWxlUGFuZWwsXG4gIGljb246IGJhc2VTdHlsZUljb24kNVxufTtcbnZhciBBY2NvcmRpb24gPSB7XG4gIHBhcnRzOiBhY2NvcmRpb25BbmF0b215LmtleXMsXG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJERcbn07XG5cbnZhciBiYXNlU3R5bGUkQyA9IHtcbiAgY29udGFpbmVyOiB7XG4gICAgcHg6IDQsXG4gICAgcHk6IDNcbiAgfSxcbiAgdGl0bGU6IHtcbiAgICBmb250V2VpZ2h0OiBcImJvbGRcIixcbiAgICBsaW5lSGVpZ2h0OiA2LFxuICAgIG1hcmdpbkVuZDogMlxuICB9LFxuICBkZXNjcmlwdGlvbjoge1xuICAgIGxpbmVIZWlnaHQ6IDZcbiAgfSxcbiAgaWNvbjoge1xuICAgIGZsZXhTaHJpbms6IDAsXG4gICAgbWFyZ2luRW5kOiAzLFxuICAgIHc6IDUsXG4gICAgaDogNlxuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRCZyhwcm9wcykge1xuICB2YXIgdGhlbWUgPSBwcm9wcy50aGVtZSxcbiAgICAgIGMgPSBwcm9wcy5jb2xvclNjaGVtZTtcbiAgdmFyIGxpZ2h0QmcgPSBnZXRDb2xvcih0aGVtZSwgYyArIFwiLjEwMFwiLCBjKTtcbiAgdmFyIGRhcmtCZyA9IHRyYW5zcGFyZW50aXplKGMgKyBcIi4yMDBcIiwgMC4xNikodGhlbWUpO1xuICByZXR1cm4gbW9kZShsaWdodEJnLCBkYXJrQmcpKHByb3BzKTtcbn1cblxudmFyIHZhcmlhbnRTdWJ0bGUkMSA9IGZ1bmN0aW9uIHZhcmlhbnRTdWJ0bGUocHJvcHMpIHtcbiAgdmFyIGMgPSBwcm9wcy5jb2xvclNjaGVtZTtcbiAgcmV0dXJuIHtcbiAgICBjb250YWluZXI6IHtcbiAgICAgIGJnOiBnZXRCZyhwcm9wcylcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgIGNvbG9yOiBtb2RlKGMgKyBcIi41MDBcIiwgYyArIFwiLjIwMFwiKShwcm9wcylcbiAgICB9XG4gIH07XG59O1xuXG52YXIgdmFyaWFudExlZnRBY2NlbnQgPSBmdW5jdGlvbiB2YXJpYW50TGVmdEFjY2VudChwcm9wcykge1xuICB2YXIgYyA9IHByb3BzLmNvbG9yU2NoZW1lO1xuICByZXR1cm4ge1xuICAgIGNvbnRhaW5lcjoge1xuICAgICAgcGFkZGluZ1N0YXJ0OiAzLFxuICAgICAgYm9yZGVyU3RhcnRXaWR0aDogXCI0cHhcIixcbiAgICAgIGJvcmRlclN0YXJ0Q29sb3I6IG1vZGUoYyArIFwiLjUwMFwiLCBjICsgXCIuMjAwXCIpKHByb3BzKSxcbiAgICAgIGJnOiBnZXRCZyhwcm9wcylcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgIGNvbG9yOiBtb2RlKGMgKyBcIi41MDBcIiwgYyArIFwiLjIwMFwiKShwcm9wcylcbiAgICB9XG4gIH07XG59O1xuXG52YXIgdmFyaWFudFRvcEFjY2VudCA9IGZ1bmN0aW9uIHZhcmlhbnRUb3BBY2NlbnQocHJvcHMpIHtcbiAgdmFyIGMgPSBwcm9wcy5jb2xvclNjaGVtZTtcbiAgcmV0dXJuIHtcbiAgICBjb250YWluZXI6IHtcbiAgICAgIHB0OiAyLFxuICAgICAgYm9yZGVyVG9wV2lkdGg6IFwiNHB4XCIsXG4gICAgICBib3JkZXJUb3BDb2xvcjogbW9kZShjICsgXCIuNTAwXCIsIGMgKyBcIi4yMDBcIikocHJvcHMpLFxuICAgICAgYmc6IGdldEJnKHByb3BzKVxuICAgIH0sXG4gICAgaWNvbjoge1xuICAgICAgY29sb3I6IG1vZGUoYyArIFwiLjUwMFwiLCBjICsgXCIuMjAwXCIpKHByb3BzKVxuICAgIH1cbiAgfTtcbn07XG5cbnZhciB2YXJpYW50U29saWQkMyA9IGZ1bmN0aW9uIHZhcmlhbnRTb2xpZChwcm9wcykge1xuICB2YXIgYyA9IHByb3BzLmNvbG9yU2NoZW1lO1xuICByZXR1cm4ge1xuICAgIGNvbnRhaW5lcjoge1xuICAgICAgYmc6IG1vZGUoYyArIFwiLjUwMFwiLCBjICsgXCIuMjAwXCIpKHByb3BzKSxcbiAgICAgIGNvbG9yOiBtb2RlKFwid2hpdGVcIiwgXCJncmF5LjkwMFwiKShwcm9wcylcbiAgICB9XG4gIH07XG59O1xuXG52YXIgdmFyaWFudHMkYiA9IHtcbiAgc3VidGxlOiB2YXJpYW50U3VidGxlJDEsXG4gIFwibGVmdC1hY2NlbnRcIjogdmFyaWFudExlZnRBY2NlbnQsXG4gIFwidG9wLWFjY2VudFwiOiB2YXJpYW50VG9wQWNjZW50LFxuICBzb2xpZDogdmFyaWFudFNvbGlkJDNcbn07XG52YXIgZGVmYXVsdFByb3BzJG4gPSB7XG4gIHZhcmlhbnQ6IFwic3VidGxlXCIsXG4gIGNvbG9yU2NoZW1lOiBcImJsdWVcIlxufTtcbnZhciBBbGVydCA9IHtcbiAgcGFydHM6IGFsZXJ0QW5hdG9teS5rZXlzLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRDLFxuICB2YXJpYW50czogdmFyaWFudHMkYixcbiAgZGVmYXVsdFByb3BzOiBkZWZhdWx0UHJvcHMkblxufTtcblxudmFyIHNwYWNpbmcgPSB7XG4gIHB4OiBcIjFweFwiLFxuICAwLjU6IFwiMC4xMjVyZW1cIixcbiAgMTogXCIwLjI1cmVtXCIsXG4gIDEuNTogXCIwLjM3NXJlbVwiLFxuICAyOiBcIjAuNXJlbVwiLFxuICAyLjU6IFwiMC42MjVyZW1cIixcbiAgMzogXCIwLjc1cmVtXCIsXG4gIDMuNTogXCIwLjg3NXJlbVwiLFxuICA0OiBcIjFyZW1cIixcbiAgNTogXCIxLjI1cmVtXCIsXG4gIDY6IFwiMS41cmVtXCIsXG4gIDc6IFwiMS43NXJlbVwiLFxuICA4OiBcIjJyZW1cIixcbiAgOTogXCIyLjI1cmVtXCIsXG4gIDEwOiBcIjIuNXJlbVwiLFxuICAxMjogXCIzcmVtXCIsXG4gIDE0OiBcIjMuNXJlbVwiLFxuICAxNjogXCI0cmVtXCIsXG4gIDIwOiBcIjVyZW1cIixcbiAgMjQ6IFwiNnJlbVwiLFxuICAyODogXCI3cmVtXCIsXG4gIDMyOiBcIjhyZW1cIixcbiAgMzY6IFwiOXJlbVwiLFxuICA0MDogXCIxMHJlbVwiLFxuICA0NDogXCIxMXJlbVwiLFxuICA0ODogXCIxMnJlbVwiLFxuICA1MjogXCIxM3JlbVwiLFxuICA1NjogXCIxNHJlbVwiLFxuICA2MDogXCIxNXJlbVwiLFxuICA2NDogXCIxNnJlbVwiLFxuICA3MjogXCIxOHJlbVwiLFxuICA4MDogXCIyMHJlbVwiLFxuICA5NjogXCIyNHJlbVwiXG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogU3BhY2luZyB0b2tlbnMgYXJlIGEgcGFydCBvZiBEZWZhdWx0Q2hha3JhVGhlbWVbJ3NpemVzJ11cbiAqL1xuXG52YXIgbGFyZ2VTaXplcyA9IHtcbiAgbWF4OiBcIm1heC1jb250ZW50XCIsXG4gIG1pbjogXCJtaW4tY29udGVudFwiLFxuICBmdWxsOiBcIjEwMCVcIixcbiAgXCIzeHNcIjogXCIxNHJlbVwiLFxuICBcIjJ4c1wiOiBcIjE2cmVtXCIsXG4gIHhzOiBcIjIwcmVtXCIsXG4gIHNtOiBcIjI0cmVtXCIsXG4gIG1kOiBcIjI4cmVtXCIsXG4gIGxnOiBcIjMycmVtXCIsXG4gIHhsOiBcIjM2cmVtXCIsXG4gIFwiMnhsXCI6IFwiNDJyZW1cIixcbiAgXCIzeGxcIjogXCI0OHJlbVwiLFxuICBcIjR4bFwiOiBcIjU2cmVtXCIsXG4gIFwiNXhsXCI6IFwiNjRyZW1cIixcbiAgXCI2eGxcIjogXCI3MnJlbVwiLFxuICBcIjd4bFwiOiBcIjgwcmVtXCIsXG4gIFwiOHhsXCI6IFwiOTByZW1cIlxufTtcbnZhciBjb250YWluZXIgPSB7XG4gIHNtOiBcIjY0MHB4XCIsXG4gIG1kOiBcIjc2OHB4XCIsXG4gIGxnOiBcIjEwMjRweFwiLFxuICB4bDogXCIxMjgwcHhcIlxufTtcblxudmFyIHNpemVzJGwgPSBfZXh0ZW5kcyh7fSwgc3BhY2luZywgbGFyZ2VTaXplcywge1xuICBjb250YWluZXI6IGNvbnRhaW5lclxufSk7XG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBZb3UgY2FuIGRlcml2ZSB0aGUgU2l6ZXMgdHlwZSBmcm9tIHRoZSBEZWZhdWx0Q2hha3JhVGhlbWVcbiAqXG4gKiB0eXBlIFNpemVzID0gRGVmYXVsdENoYWtyYVRoZW1lWydzaXplcyddXG4gKi9cblxuXG52YXIgc2l6ZXMkbSA9IHNpemVzJGw7XG5cbnZhciBiYXNlU3R5bGVCYWRnZSA9IGZ1bmN0aW9uIGJhc2VTdHlsZUJhZGdlKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgdHJhbnNmb3JtOiBcInRyYW5zbGF0ZSgyNSUsIDI1JSlcIixcbiAgICBib3JkZXJSYWRpdXM6IFwiZnVsbFwiLFxuICAgIGJvcmRlcjogXCIwLjJlbSBzb2xpZFwiLFxuICAgIGJvcmRlckNvbG9yOiBtb2RlKFwid2hpdGVcIiwgXCJncmF5LjgwMFwiKShwcm9wcylcbiAgfTtcbn07XG5cbnZhciBiYXNlU3R5bGVFeGNlc3NMYWJlbCA9IGZ1bmN0aW9uIGJhc2VTdHlsZUV4Y2Vzc0xhYmVsKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgYmc6IG1vZGUoXCJncmF5LjIwMFwiLCBcIndoaXRlQWxwaGEuNDAwXCIpKHByb3BzKVxuICB9O1xufTtcblxudmFyIGJhc2VTdHlsZUNvbnRhaW5lciQyID0gZnVuY3Rpb24gYmFzZVN0eWxlQ29udGFpbmVyKHByb3BzKSB7XG4gIHZhciBuYW1lID0gcHJvcHMubmFtZSxcbiAgICAgIHRoZW1lID0gcHJvcHMudGhlbWU7XG4gIHZhciBiZyA9IG5hbWUgPyByYW5kb21Db2xvcih7XG4gICAgc3RyaW5nOiBuYW1lXG4gIH0pIDogXCJncmF5LjQwMFwiO1xuICB2YXIgaXNCZ0RhcmsgPSBpc0RhcmsoYmcpKHRoZW1lKTtcbiAgdmFyIGNvbG9yID0gXCJ3aGl0ZVwiO1xuICBpZiAoIWlzQmdEYXJrKSBjb2xvciA9IFwiZ3JheS44MDBcIjtcbiAgdmFyIGJvcmRlckNvbG9yID0gbW9kZShcIndoaXRlXCIsIFwiZ3JheS44MDBcIikocHJvcHMpO1xuICByZXR1cm4ge1xuICAgIGJnOiBiZyxcbiAgICBjb2xvcjogY29sb3IsXG4gICAgYm9yZGVyQ29sb3I6IGJvcmRlckNvbG9yLFxuICAgIHZlcnRpY2FsQWxpZ246IFwidG9wXCJcbiAgfTtcbn07XG5cbnZhciBiYXNlU3R5bGUkQiA9IGZ1bmN0aW9uIGJhc2VTdHlsZShwcm9wcykge1xuICByZXR1cm4ge1xuICAgIGJhZGdlOiBiYXNlU3R5bGVCYWRnZShwcm9wcyksXG4gICAgZXhjZXNzTGFiZWw6IGJhc2VTdHlsZUV4Y2Vzc0xhYmVsKHByb3BzKSxcbiAgICBjb250YWluZXI6IGJhc2VTdHlsZUNvbnRhaW5lciQyKHByb3BzKVxuICB9O1xufTtcblxuZnVuY3Rpb24gZ2V0U2l6ZSQzKHNpemUpIHtcbiAgdmFyIHRoZW1lU2l6ZSA9IHNpemVzJG1bc2l6ZV07XG4gIHJldHVybiB7XG4gICAgY29udGFpbmVyOiB7XG4gICAgICB3aWR0aDogc2l6ZSxcbiAgICAgIGhlaWdodDogc2l6ZSxcbiAgICAgIGZvbnRTaXplOiBcImNhbGMoXCIgKyAodGhlbWVTaXplICE9IG51bGwgPyB0aGVtZVNpemUgOiBzaXplKSArIFwiIC8gMi41KVwiXG4gICAgfSxcbiAgICBleGNlc3NMYWJlbDoge1xuICAgICAgd2lkdGg6IHNpemUsXG4gICAgICBoZWlnaHQ6IHNpemVcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBmb250U2l6ZTogXCJjYWxjKFwiICsgKHRoZW1lU2l6ZSAhPSBudWxsID8gdGhlbWVTaXplIDogc2l6ZSkgKyBcIiAvIDIuNSlcIixcbiAgICAgIGxpbmVIZWlnaHQ6IHNpemUgIT09IFwiMTAwJVwiID8gdGhlbWVTaXplICE9IG51bGwgPyB0aGVtZVNpemUgOiBzaXplIDogdW5kZWZpbmVkXG4gICAgfVxuICB9O1xufVxuXG52YXIgc2l6ZXMkayA9IHtcbiAgXCIyeHNcIjogZ2V0U2l6ZSQzKFwiNFwiKSxcbiAgeHM6IGdldFNpemUkMyhcIjZcIiksXG4gIHNtOiBnZXRTaXplJDMoXCI4XCIpLFxuICBtZDogZ2V0U2l6ZSQzKFwiMTJcIiksXG4gIGxnOiBnZXRTaXplJDMoXCIxNlwiKSxcbiAgeGw6IGdldFNpemUkMyhcIjI0XCIpLFxuICBcIjJ4bFwiOiBnZXRTaXplJDMoXCIzMlwiKSxcbiAgZnVsbDogZ2V0U2l6ZSQzKFwiMTAwJVwiKVxufTtcbnZhciBkZWZhdWx0UHJvcHMkbSA9IHtcbiAgc2l6ZTogXCJtZFwiXG59O1xudmFyIEF2YXRhciA9IHtcbiAgcGFydHM6IGF2YXRhckFuYXRvbXkua2V5cyxcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGUkQixcbiAgc2l6ZXM6IHNpemVzJGssXG4gIGRlZmF1bHRQcm9wczogZGVmYXVsdFByb3BzJG1cbn07XG5cbnZhciBiYXNlU3R5bGUkQSA9IHtcbiAgcHg6IDEsXG4gIHRleHRUcmFuc2Zvcm06IFwidXBwZXJjYXNlXCIsXG4gIGZvbnRTaXplOiBcInhzXCIsXG4gIGJvcmRlclJhZGl1czogXCJzbVwiLFxuICBmb250V2VpZ2h0OiBcImJvbGRcIlxufTtcblxudmFyIHZhcmlhbnRTb2xpZCQyID0gZnVuY3Rpb24gdmFyaWFudFNvbGlkKHByb3BzKSB7XG4gIHZhciBjID0gcHJvcHMuY29sb3JTY2hlbWUsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lO1xuICB2YXIgZGFyayA9IHRyYW5zcGFyZW50aXplKGMgKyBcIi41MDBcIiwgMC42KSh0aGVtZSk7XG4gIHJldHVybiB7XG4gICAgYmc6IG1vZGUoYyArIFwiLjUwMFwiLCBkYXJrKShwcm9wcyksXG4gICAgY29sb3I6IG1vZGUoXCJ3aGl0ZVwiLCBcIndoaXRlQWxwaGEuODAwXCIpKHByb3BzKVxuICB9O1xufTtcblxudmFyIHZhcmlhbnRTdWJ0bGUgPSBmdW5jdGlvbiB2YXJpYW50U3VidGxlKHByb3BzKSB7XG4gIHZhciBjID0gcHJvcHMuY29sb3JTY2hlbWUsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lO1xuICB2YXIgZGFya0JnID0gdHJhbnNwYXJlbnRpemUoYyArIFwiLjIwMFwiLCAwLjE2KSh0aGVtZSk7XG4gIHJldHVybiB7XG4gICAgYmc6IG1vZGUoYyArIFwiLjEwMFwiLCBkYXJrQmcpKHByb3BzKSxcbiAgICBjb2xvcjogbW9kZShjICsgXCIuODAwXCIsIGMgKyBcIi4yMDBcIikocHJvcHMpXG4gIH07XG59O1xuXG52YXIgdmFyaWFudE91dGxpbmUkMiA9IGZ1bmN0aW9uIHZhcmlhbnRPdXRsaW5lKHByb3BzKSB7XG4gIHZhciBjID0gcHJvcHMuY29sb3JTY2hlbWUsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lO1xuICB2YXIgZGFya0NvbG9yID0gdHJhbnNwYXJlbnRpemUoYyArIFwiLjIwMFwiLCAwLjgpKHRoZW1lKTtcbiAgdmFyIGxpZ2h0Q29sb3IgPSBnZXRDb2xvcih0aGVtZSwgYyArIFwiLjUwMFwiKTtcbiAgdmFyIGNvbG9yID0gbW9kZShsaWdodENvbG9yLCBkYXJrQ29sb3IpKHByb3BzKTtcbiAgcmV0dXJuIHtcbiAgICBjb2xvcjogY29sb3IsXG4gICAgYm94U2hhZG93OiBcImluc2V0IDAgMCAwcHggMXB4IFwiICsgY29sb3JcbiAgfTtcbn07XG5cbnZhciB2YXJpYW50cyRhID0ge1xuICBzb2xpZDogdmFyaWFudFNvbGlkJDIsXG4gIHN1YnRsZTogdmFyaWFudFN1YnRsZSxcbiAgb3V0bGluZTogdmFyaWFudE91dGxpbmUkMlxufTtcbnZhciBkZWZhdWx0UHJvcHMkbCA9IHtcbiAgdmFyaWFudDogXCJzdWJ0bGVcIixcbiAgY29sb3JTY2hlbWU6IFwiZ3JheVwiXG59O1xudmFyIEJhZGdlID0ge1xuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRBLFxuICB2YXJpYW50czogdmFyaWFudHMkYSxcbiAgZGVmYXVsdFByb3BzOiBkZWZhdWx0UHJvcHMkbFxufTtcblxudmFyIGJhc2VTdHlsZUxpbmsgPSB7XG4gIHRyYW5zaXRpb25Qcm9wZXJ0eTogXCJjb21tb25cIixcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiBcImZhc3RcIixcbiAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBcImVhc2Utb3V0XCIsXG4gIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gIHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIixcbiAgb3V0bGluZTogXCJub25lXCIsXG4gIGNvbG9yOiBcImluaGVyaXRcIixcbiAgX2hvdmVyOiB7XG4gICAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCJcbiAgfSxcbiAgX2ZvY3VzOiB7XG4gICAgYm94U2hhZG93OiBcIm91dGxpbmVcIlxuICB9XG59O1xudmFyIGJhc2VTdHlsZSR6ID0ge1xuICBsaW5rOiBiYXNlU3R5bGVMaW5rXG59O1xudmFyIEJyZWFkY3J1bWIgPSB7XG4gIHBhcnRzOiBicmVhZGNydW1iQW5hdG9teS5rZXlzLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSR6XG59O1xuXG52YXIgYmFzZVN0eWxlJHkgPSB7XG4gIGxpbmVIZWlnaHQ6IFwiMS4yXCIsXG4gIGJvcmRlclJhZGl1czogXCJtZFwiLFxuICBmb250V2VpZ2h0OiBcInNlbWlib2xkXCIsXG4gIHRyYW5zaXRpb25Qcm9wZXJ0eTogXCJjb21tb25cIixcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiBcIm5vcm1hbFwiLFxuICBfZm9jdXM6IHtcbiAgICBib3hTaGFkb3c6IFwib3V0bGluZVwiXG4gIH0sXG4gIF9kaXNhYmxlZDoge1xuICAgIG9wYWNpdHk6IDAuNCxcbiAgICBjdXJzb3I6IFwibm90LWFsbG93ZWRcIixcbiAgICBib3hTaGFkb3c6IFwibm9uZVwiXG4gIH0sXG4gIF9ob3Zlcjoge1xuICAgIF9kaXNhYmxlZDoge1xuICAgICAgYmc6IFwiaW5pdGlhbFwiXG4gICAgfVxuICB9XG59O1xuXG52YXIgdmFyaWFudEdob3N0ID0gZnVuY3Rpb24gdmFyaWFudEdob3N0KHByb3BzKSB7XG4gIHZhciBjID0gcHJvcHMuY29sb3JTY2hlbWUsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lO1xuXG4gIGlmIChjID09PSBcImdyYXlcIikge1xuICAgIHJldHVybiB7XG4gICAgICBjb2xvcjogbW9kZShcImluaGVyaXRcIiwgXCJ3aGl0ZUFscGhhLjkwMFwiKShwcm9wcyksXG4gICAgICBfaG92ZXI6IHtcbiAgICAgICAgYmc6IG1vZGUoXCJncmF5LjEwMFwiLCBcIndoaXRlQWxwaGEuMjAwXCIpKHByb3BzKVxuICAgICAgfSxcbiAgICAgIF9hY3RpdmU6IHtcbiAgICAgICAgYmc6IG1vZGUoXCJncmF5LjIwMFwiLCBcIndoaXRlQWxwaGEuMzAwXCIpKHByb3BzKVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgZGFya0hvdmVyQmcgPSB0cmFuc3BhcmVudGl6ZShjICsgXCIuMjAwXCIsIDAuMTIpKHRoZW1lKTtcbiAgdmFyIGRhcmtBY3RpdmVCZyA9IHRyYW5zcGFyZW50aXplKGMgKyBcIi4yMDBcIiwgMC4yNCkodGhlbWUpO1xuICByZXR1cm4ge1xuICAgIGNvbG9yOiBtb2RlKGMgKyBcIi42MDBcIiwgYyArIFwiLjIwMFwiKShwcm9wcyksXG4gICAgYmc6IFwidHJhbnNwYXJlbnRcIixcbiAgICBfaG92ZXI6IHtcbiAgICAgIGJnOiBtb2RlKGMgKyBcIi41MFwiLCBkYXJrSG92ZXJCZykocHJvcHMpXG4gICAgfSxcbiAgICBfYWN0aXZlOiB7XG4gICAgICBiZzogbW9kZShjICsgXCIuMTAwXCIsIGRhcmtBY3RpdmVCZykocHJvcHMpXG4gICAgfVxuICB9O1xufTtcblxudmFyIHZhcmlhbnRPdXRsaW5lJDEgPSBmdW5jdGlvbiB2YXJpYW50T3V0bGluZShwcm9wcykge1xuICB2YXIgYyA9IHByb3BzLmNvbG9yU2NoZW1lO1xuICB2YXIgYm9yZGVyQ29sb3IgPSBtb2RlKFwiZ3JheS4yMDBcIiwgXCJ3aGl0ZUFscGhhLjMwMFwiKShwcm9wcyk7XG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgYm9yZGVyOiBcIjFweCBzb2xpZFwiLFxuICAgIGJvcmRlckNvbG9yOiBjID09PSBcImdyYXlcIiA/IGJvcmRlckNvbG9yIDogXCJjdXJyZW50Q29sb3JcIlxuICB9LCB2YXJpYW50R2hvc3QocHJvcHMpKTtcbn07XG5cbi8qKiBBY2Nlc3NpYmxlIGNvbG9yIG92ZXJyaWRlcyBmb3IgbGVzcyBhY2Nlc3NpYmxlIGNvbG9ycy4gKi9cbnZhciBhY2Nlc3NpYmxlQ29sb3JNYXAgPSB7XG4gIHllbGxvdzoge1xuICAgIGJnOiBcInllbGxvdy40MDBcIixcbiAgICBjb2xvcjogXCJibGFja1wiLFxuICAgIGhvdmVyQmc6IFwieWVsbG93LjUwMFwiLFxuICAgIGFjdGl2ZUJnOiBcInllbGxvdy42MDBcIlxuICB9LFxuICBjeWFuOiB7XG4gICAgYmc6IFwiY3lhbi40MDBcIixcbiAgICBjb2xvcjogXCJibGFja1wiLFxuICAgIGhvdmVyQmc6IFwiY3lhbi41MDBcIixcbiAgICBhY3RpdmVCZzogXCJjeWFuLjYwMFwiXG4gIH1cbn07XG5cbnZhciB2YXJpYW50U29saWQkMSA9IGZ1bmN0aW9uIHZhcmlhbnRTb2xpZChwcm9wcykge1xuICB2YXIgX2FjY2Vzc2libGVDb2xvck1hcCRjO1xuXG4gIHZhciBjID0gcHJvcHMuY29sb3JTY2hlbWU7XG5cbiAgaWYgKGMgPT09IFwiZ3JheVwiKSB7XG4gICAgdmFyIF9iZyA9IG1vZGUoXCJncmF5LjEwMFwiLCBcIndoaXRlQWxwaGEuMjAwXCIpKHByb3BzKTtcblxuICAgIHJldHVybiB7XG4gICAgICBiZzogX2JnLFxuICAgICAgX2hvdmVyOiB7XG4gICAgICAgIGJnOiBtb2RlKFwiZ3JheS4yMDBcIiwgXCJ3aGl0ZUFscGhhLjMwMFwiKShwcm9wcyksXG4gICAgICAgIF9kaXNhYmxlZDoge1xuICAgICAgICAgIGJnOiBfYmdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9hY3RpdmU6IHtcbiAgICAgICAgYmc6IG1vZGUoXCJncmF5LjMwMFwiLCBcIndoaXRlQWxwaGEuNDAwXCIpKHByb3BzKVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgX3JlZiA9IChfYWNjZXNzaWJsZUNvbG9yTWFwJGMgPSBhY2Nlc3NpYmxlQ29sb3JNYXBbY10pICE9IG51bGwgPyBfYWNjZXNzaWJsZUNvbG9yTWFwJGMgOiB7fSxcbiAgICAgIF9yZWYkYmcgPSBfcmVmLmJnLFxuICAgICAgYmcgPSBfcmVmJGJnID09PSB2b2lkIDAgPyBjICsgXCIuNTAwXCIgOiBfcmVmJGJnLFxuICAgICAgX3JlZiRjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBjb2xvciA9IF9yZWYkY29sb3IgPT09IHZvaWQgMCA/IFwid2hpdGVcIiA6IF9yZWYkY29sb3IsXG4gICAgICBfcmVmJGhvdmVyQmcgPSBfcmVmLmhvdmVyQmcsXG4gICAgICBob3ZlckJnID0gX3JlZiRob3ZlckJnID09PSB2b2lkIDAgPyBjICsgXCIuNjAwXCIgOiBfcmVmJGhvdmVyQmcsXG4gICAgICBfcmVmJGFjdGl2ZUJnID0gX3JlZi5hY3RpdmVCZyxcbiAgICAgIGFjdGl2ZUJnID0gX3JlZiRhY3RpdmVCZyA9PT0gdm9pZCAwID8gYyArIFwiLjcwMFwiIDogX3JlZiRhY3RpdmVCZztcblxuICB2YXIgYmFja2dyb3VuZCA9IG1vZGUoYmcsIGMgKyBcIi4yMDBcIikocHJvcHMpO1xuICByZXR1cm4ge1xuICAgIGJnOiBiYWNrZ3JvdW5kLFxuICAgIGNvbG9yOiBtb2RlKGNvbG9yLCBcImdyYXkuODAwXCIpKHByb3BzKSxcbiAgICBfaG92ZXI6IHtcbiAgICAgIGJnOiBtb2RlKGhvdmVyQmcsIGMgKyBcIi4zMDBcIikocHJvcHMpLFxuICAgICAgX2Rpc2FibGVkOiB7XG4gICAgICAgIGJnOiBiYWNrZ3JvdW5kXG4gICAgICB9XG4gICAgfSxcbiAgICBfYWN0aXZlOiB7XG4gICAgICBiZzogbW9kZShhY3RpdmVCZywgYyArIFwiLjQwMFwiKShwcm9wcylcbiAgICB9XG4gIH07XG59O1xuXG52YXIgdmFyaWFudExpbmsgPSBmdW5jdGlvbiB2YXJpYW50TGluayhwcm9wcykge1xuICB2YXIgYyA9IHByb3BzLmNvbG9yU2NoZW1lO1xuICByZXR1cm4ge1xuICAgIHBhZGRpbmc6IDAsXG4gICAgaGVpZ2h0OiBcImF1dG9cIixcbiAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiLFxuICAgIHZlcnRpY2FsQWxpZ246IFwiYmFzZWxpbmVcIixcbiAgICBjb2xvcjogbW9kZShjICsgXCIuNTAwXCIsIGMgKyBcIi4yMDBcIikocHJvcHMpLFxuICAgIF9ob3Zlcjoge1xuICAgICAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCIsXG4gICAgICBfZGlzYWJsZWQ6IHtcbiAgICAgICAgdGV4dERlY29yYXRpb246IFwibm9uZVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBfYWN0aXZlOiB7XG4gICAgICBjb2xvcjogbW9kZShjICsgXCIuNzAwXCIsIGMgKyBcIi41MDBcIikocHJvcHMpXG4gICAgfVxuICB9O1xufTtcblxudmFyIHZhcmlhbnRVbnN0eWxlZCQyID0ge1xuICBiZzogXCJub25lXCIsXG4gIGNvbG9yOiBcImluaGVyaXRcIixcbiAgZGlzcGxheTogXCJpbmxpbmVcIixcbiAgbGluZUhlaWdodDogXCJpbmhlcml0XCIsXG4gIG06IDAsXG4gIHA6IDBcbn07XG52YXIgdmFyaWFudHMkOSA9IHtcbiAgZ2hvc3Q6IHZhcmlhbnRHaG9zdCxcbiAgb3V0bGluZTogdmFyaWFudE91dGxpbmUkMSxcbiAgc29saWQ6IHZhcmlhbnRTb2xpZCQxLFxuICBsaW5rOiB2YXJpYW50TGluayxcbiAgdW5zdHlsZWQ6IHZhcmlhbnRVbnN0eWxlZCQyXG59O1xudmFyIHNpemVzJGogPSB7XG4gIGxnOiB7XG4gICAgaDogMTIsXG4gICAgbWluVzogMTIsXG4gICAgZm9udFNpemU6IFwibGdcIixcbiAgICBweDogNlxuICB9LFxuICBtZDoge1xuICAgIGg6IDEwLFxuICAgIG1pblc6IDEwLFxuICAgIGZvbnRTaXplOiBcIm1kXCIsXG4gICAgcHg6IDRcbiAgfSxcbiAgc206IHtcbiAgICBoOiA4LFxuICAgIG1pblc6IDgsXG4gICAgZm9udFNpemU6IFwic21cIixcbiAgICBweDogM1xuICB9LFxuICB4czoge1xuICAgIGg6IDYsXG4gICAgbWluVzogNixcbiAgICBmb250U2l6ZTogXCJ4c1wiLFxuICAgIHB4OiAyXG4gIH1cbn07XG52YXIgZGVmYXVsdFByb3BzJGsgPSB7XG4gIHZhcmlhbnQ6IFwic29saWRcIixcbiAgc2l6ZTogXCJtZFwiLFxuICBjb2xvclNjaGVtZTogXCJncmF5XCJcbn07XG52YXIgQnV0dG9uID0ge1xuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSR5LFxuICB2YXJpYW50czogdmFyaWFudHMkOSxcbiAgc2l6ZXM6IHNpemVzJGosXG4gIGRlZmF1bHRQcm9wczogZGVmYXVsdFByb3BzJGtcbn07XG5cbnZhciBiYXNlU3R5bGVDb250cm9sJDEgPSBmdW5jdGlvbiBiYXNlU3R5bGVDb250cm9sKHByb3BzKSB7XG4gIHZhciBjID0gcHJvcHMuY29sb3JTY2hlbWU7XG4gIHJldHVybiB7XG4gICAgdzogXCIxMDAlXCIsXG4gICAgdHJhbnNpdGlvblByb3BlcnR5OiBcImJveC1zaGFkb3dcIixcbiAgICB0cmFuc2l0aW9uRHVyYXRpb246IFwibm9ybWFsXCIsXG4gICAgYm9yZGVyOiBcIjJweCBzb2xpZFwiLFxuICAgIGJvcmRlclJhZGl1czogXCJzbVwiLFxuICAgIGJvcmRlckNvbG9yOiBcImluaGVyaXRcIixcbiAgICBjb2xvcjogXCJ3aGl0ZVwiLFxuICAgIF9jaGVja2VkOiB7XG4gICAgICBiZzogbW9kZShjICsgXCIuNTAwXCIsIGMgKyBcIi4yMDBcIikocHJvcHMpLFxuICAgICAgYm9yZGVyQ29sb3I6IG1vZGUoYyArIFwiLjUwMFwiLCBjICsgXCIuMjAwXCIpKHByb3BzKSxcbiAgICAgIGNvbG9yOiBtb2RlKFwid2hpdGVcIiwgXCJncmF5LjkwMFwiKShwcm9wcyksXG4gICAgICBfaG92ZXI6IHtcbiAgICAgICAgYmc6IG1vZGUoYyArIFwiLjYwMFwiLCBjICsgXCIuMzAwXCIpKHByb3BzKSxcbiAgICAgICAgYm9yZGVyQ29sb3I6IG1vZGUoYyArIFwiLjYwMFwiLCBjICsgXCIuMzAwXCIpKHByb3BzKVxuICAgICAgfSxcbiAgICAgIF9kaXNhYmxlZDoge1xuICAgICAgICBib3JkZXJDb2xvcjogbW9kZShcImdyYXkuMjAwXCIsIFwidHJhbnNwYXJlbnRcIikocHJvcHMpLFxuICAgICAgICBiZzogbW9kZShcImdyYXkuMjAwXCIsIFwid2hpdGVBbHBoYS4zMDBcIikocHJvcHMpLFxuICAgICAgICBjb2xvcjogbW9kZShcImdyYXkuNTAwXCIsIFwid2hpdGVBbHBoYS41MDBcIikocHJvcHMpXG4gICAgICB9XG4gICAgfSxcbiAgICBfaW5kZXRlcm1pbmF0ZToge1xuICAgICAgYmc6IG1vZGUoYyArIFwiLjUwMFwiLCBjICsgXCIuMjAwXCIpKHByb3BzKSxcbiAgICAgIGJvcmRlckNvbG9yOiBtb2RlKGMgKyBcIi41MDBcIiwgYyArIFwiLjIwMFwiKShwcm9wcyksXG4gICAgICBjb2xvcjogbW9kZShcIndoaXRlXCIsIFwiZ3JheS45MDBcIikocHJvcHMpXG4gICAgfSxcbiAgICBfZGlzYWJsZWQ6IHtcbiAgICAgIGJnOiBtb2RlKFwiZ3JheS4xMDBcIiwgXCJ3aGl0ZUFscGhhLjEwMFwiKShwcm9wcyksXG4gICAgICBib3JkZXJDb2xvcjogbW9kZShcImdyYXkuMTAwXCIsIFwidHJhbnNwYXJlbnRcIikocHJvcHMpXG4gICAgfSxcbiAgICBfZm9jdXM6IHtcbiAgICAgIGJveFNoYWRvdzogXCJvdXRsaW5lXCJcbiAgICB9LFxuICAgIF9pbnZhbGlkOiB7XG4gICAgICBib3JkZXJDb2xvcjogbW9kZShcInJlZC41MDBcIiwgXCJyZWQuMzAwXCIpKHByb3BzKVxuICAgIH1cbiAgfTtcbn07XG5cbnZhciBiYXNlU3R5bGVMYWJlbCQzID0ge1xuICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgX2Rpc2FibGVkOiB7XG4gICAgb3BhY2l0eTogMC40XG4gIH1cbn07XG52YXIgYmFzZVN0eWxlSWNvbiQ0ID0ge1xuICB0cmFuc2l0aW9uUHJvcGVydHk6IFwidHJhbnNmb3JtXCIsXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogXCJub3JtYWxcIlxufTtcblxudmFyIGJhc2VTdHlsZSR4ID0gZnVuY3Rpb24gYmFzZVN0eWxlKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgaWNvbjogYmFzZVN0eWxlSWNvbiQ0LFxuICAgIGNvbnRyb2w6IGJhc2VTdHlsZUNvbnRyb2wkMShwcm9wcyksXG4gICAgbGFiZWw6IGJhc2VTdHlsZUxhYmVsJDNcbiAgfTtcbn07XG5cbnZhciBzaXplcyRpID0ge1xuICBzbToge1xuICAgIGNvbnRyb2w6IHtcbiAgICAgIGg6IDMsXG4gICAgICB3OiAzXG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgZm9udFNpemU6IFwic21cIlxuICAgIH0sXG4gICAgaWNvbjoge1xuICAgICAgZm9udFNpemU6IFwiMC40NXJlbVwiXG4gICAgfVxuICB9LFxuICBtZDoge1xuICAgIGNvbnRyb2w6IHtcbiAgICAgIHc6IDQsXG4gICAgICBoOiA0XG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgZm9udFNpemU6IFwibWRcIlxuICAgIH0sXG4gICAgaWNvbjoge1xuICAgICAgZm9udFNpemU6IFwiMC42MjVyZW1cIlxuICAgIH1cbiAgfSxcbiAgbGc6IHtcbiAgICBjb250cm9sOiB7XG4gICAgICB3OiA1LFxuICAgICAgaDogNVxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGZvbnRTaXplOiBcImxnXCJcbiAgICB9LFxuICAgIGljb246IHtcbiAgICAgIGZvbnRTaXplOiBcIjAuNjI1cmVtXCJcbiAgICB9XG4gIH1cbn07XG52YXIgZGVmYXVsdFByb3BzJGogPSB7XG4gIHNpemU6IFwibWRcIixcbiAgY29sb3JTY2hlbWU6IFwiYmx1ZVwiXG59O1xudmFyIENoZWNrYm94ID0ge1xuICBwYXJ0czogY2hlY2tib3hBbmF0b215LmtleXMsXG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJHgsXG4gIHNpemVzOiBzaXplcyRpLFxuICBkZWZhdWx0UHJvcHM6IGRlZmF1bHRQcm9wcyRqXG59O1xuXG52YXIgX2xnJDEsIF9tZCQxLCBfc20kMTtcbnZhciAkc2l6ZSQxID0gY3NzVmFyKFwiY2xvc2UtYnV0dG9uLXNpemVcIik7XG5cbnZhciBiYXNlU3R5bGUkdyA9IGZ1bmN0aW9uIGJhc2VTdHlsZShwcm9wcykge1xuICB2YXIgaG92ZXJCZyA9IG1vZGUoXCJibGFja0FscGhhLjEwMFwiLCBcIndoaXRlQWxwaGEuMTAwXCIpKHByb3BzKTtcbiAgdmFyIGFjdGl2ZUJnID0gbW9kZShcImJsYWNrQWxwaGEuMjAwXCIsIFwid2hpdGVBbHBoYS4yMDBcIikocHJvcHMpO1xuICByZXR1cm4ge1xuICAgIHc6IFskc2l6ZSQxLnJlZmVyZW5jZV0sXG4gICAgaDogWyRzaXplJDEucmVmZXJlbmNlXSxcbiAgICBib3JkZXJSYWRpdXM6IFwibWRcIixcbiAgICB0cmFuc2l0aW9uUHJvcGVydHk6IFwiY29tbW9uXCIsXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uOiBcIm5vcm1hbFwiLFxuICAgIF9kaXNhYmxlZDoge1xuICAgICAgb3BhY2l0eTogMC40LFxuICAgICAgY3Vyc29yOiBcIm5vdC1hbGxvd2VkXCIsXG4gICAgICBib3hTaGFkb3c6IFwibm9uZVwiXG4gICAgfSxcbiAgICBfaG92ZXI6IHtcbiAgICAgIGJnOiBob3ZlckJnXG4gICAgfSxcbiAgICBfYWN0aXZlOiB7XG4gICAgICBiZzogYWN0aXZlQmdcbiAgICB9LFxuICAgIF9mb2N1czoge1xuICAgICAgYm94U2hhZG93OiBcIm91dGxpbmVcIlxuICAgIH1cbiAgfTtcbn07XG5cbnZhciBzaXplcyRoID0ge1xuICBsZzogKF9sZyQxID0ge30sIF9sZyQxWyRzaXplJDEudmFyaWFibGVdID0gXCI0MHB4XCIsIF9sZyQxLmZvbnRTaXplID0gXCIxNnB4XCIsIF9sZyQxKSxcbiAgbWQ6IChfbWQkMSA9IHt9LCBfbWQkMVskc2l6ZSQxLnZhcmlhYmxlXSA9IFwiMzJweFwiLCBfbWQkMS5mb250U2l6ZSA9IFwiMTJweFwiLCBfbWQkMSksXG4gIHNtOiAoX3NtJDEgPSB7fSwgX3NtJDFbJHNpemUkMS52YXJpYWJsZV0gPSBcIjI0cHhcIiwgX3NtJDEuZm9udFNpemUgPSBcIjEwcHhcIiwgX3NtJDEpXG59O1xudmFyIGRlZmF1bHRQcm9wcyRpID0ge1xuICBzaXplOiBcIm1kXCJcbn07XG52YXIgQ2xvc2VCdXR0b24gPSB7XG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJHcsXG4gIHNpemVzOiBzaXplcyRoLFxuICBkZWZhdWx0UHJvcHM6IGRlZmF1bHRQcm9wcyRpXG59O1xuXG52YXIgdmFyaWFudHMkOCA9IEJhZGdlLnZhcmlhbnRzLFxuICAgIGRlZmF1bHRQcm9wcyRoID0gQmFkZ2UuZGVmYXVsdFByb3BzO1xudmFyIGJhc2VTdHlsZSR2ID0ge1xuICBmb250RmFtaWx5OiBcIm1vbm9cIixcbiAgZm9udFNpemU6IFwic21cIixcbiAgcHg6IFwiMC4yZW1cIixcbiAgYm9yZGVyUmFkaXVzOiBcInNtXCJcbn07XG52YXIgQ29kZSA9IHtcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGUkdixcbiAgdmFyaWFudHM6IHZhcmlhbnRzJDgsXG4gIGRlZmF1bHRQcm9wczogZGVmYXVsdFByb3BzJGhcbn07XG5cbnZhciBiYXNlU3R5bGUkdSA9IHtcbiAgdzogXCIxMDAlXCIsXG4gIG14OiBcImF1dG9cIixcbiAgbWF4VzogXCI2MGNoXCIsXG4gIHB4OiBcIjFyZW1cIlxufTtcbnZhciBDb250YWluZXIgPSB7XG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJHVcbn07XG5cbnZhciBiYXNlU3R5bGUkdCA9IHtcbiAgb3BhY2l0eTogMC42LFxuICBib3JkZXJDb2xvcjogXCJpbmhlcml0XCJcbn07XG52YXIgdmFyaWFudFNvbGlkID0ge1xuICBib3JkZXJTdHlsZTogXCJzb2xpZFwiXG59O1xudmFyIHZhcmlhbnREYXNoZWQgPSB7XG4gIGJvcmRlclN0eWxlOiBcImRhc2hlZFwiXG59O1xudmFyIHZhcmlhbnRzJDcgPSB7XG4gIHNvbGlkOiB2YXJpYW50U29saWQsXG4gIGRhc2hlZDogdmFyaWFudERhc2hlZFxufTtcbnZhciBkZWZhdWx0UHJvcHMkZyA9IHtcbiAgdmFyaWFudDogXCJzb2xpZFwiXG59O1xudmFyIERpdmlkZXIgPSB7XG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJHQsXG4gIHZhcmlhbnRzOiB2YXJpYW50cyQ3LFxuICBkZWZhdWx0UHJvcHM6IGRlZmF1bHRQcm9wcyRnXG59O1xuXG4vKipcbiAqIFNpbmNlIHRoZSBgbWF4V2lkdGhgIHByb3AgcmVmZXJlbmNlcyB0aGVtZS5zaXplcyBpbnRlcm5hbGx5LFxuICogd2UgY2FuIGxldmVyYWdlIHRoYXQgdG8gc2l6ZSBvdXIgbW9kYWxzLlxuICovXG5cbmZ1bmN0aW9uIGdldFNpemUkMih2YWx1ZSkge1xuICBpZiAodmFsdWUgPT09IFwiZnVsbFwiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRpYWxvZzoge1xuICAgICAgICBtYXhXOiBcIjEwMHZ3XCIsXG4gICAgICAgIGg6IFwiMTAwdmhcIlxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRpYWxvZzoge1xuICAgICAgbWF4VzogdmFsdWVcbiAgICB9XG4gIH07XG59XG5cbnZhciBiYXNlU3R5bGVPdmVybGF5JDEgPSB7XG4gIGJnOiBcImJsYWNrQWxwaGEuNjAwXCIsXG4gIHpJbmRleDogXCJvdmVybGF5XCJcbn07XG52YXIgYmFzZVN0eWxlRGlhbG9nQ29udGFpbmVyJDEgPSB7XG4gIGRpc3BsYXk6IFwiZmxleFwiLFxuICB6SW5kZXg6IFwibW9kYWxcIixcbiAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCJcbn07XG5cbnZhciBiYXNlU3R5bGVEaWFsb2ckMSA9IGZ1bmN0aW9uIGJhc2VTdHlsZURpYWxvZyhwcm9wcykge1xuICB2YXIgaXNGdWxsSGVpZ2h0ID0gcHJvcHMuaXNGdWxsSGVpZ2h0O1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGlzRnVsbEhlaWdodCAmJiB7XG4gICAgaGVpZ2h0OiBcIjEwMHZoXCJcbiAgfSwge1xuICAgIHpJbmRleDogXCJtb2RhbFwiLFxuICAgIG1heEg6IFwiMTAwdmhcIixcbiAgICBiZzogbW9kZShcIndoaXRlXCIsIFwiZ3JheS43MDBcIikocHJvcHMpLFxuICAgIGNvbG9yOiBcImluaGVyaXRcIixcbiAgICBib3hTaGFkb3c6IG1vZGUoXCJsZ1wiLCBcImRhcmstbGdcIikocHJvcHMpXG4gIH0pO1xufTtcblxudmFyIGJhc2VTdHlsZUhlYWRlciQyID0ge1xuICBweDogNixcbiAgcHk6IDQsXG4gIGZvbnRTaXplOiBcInhsXCIsXG4gIGZvbnRXZWlnaHQ6IFwic2VtaWJvbGRcIlxufTtcbnZhciBiYXNlU3R5bGVDbG9zZUJ1dHRvbiQzID0ge1xuICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICB0b3A6IDIsXG4gIGluc2V0RW5kOiAzXG59O1xudmFyIGJhc2VTdHlsZUJvZHkkMiA9IHtcbiAgcHg6IDYsXG4gIHB5OiAyLFxuICBmbGV4OiAxLFxuICBvdmVyZmxvdzogXCJhdXRvXCJcbn07XG52YXIgYmFzZVN0eWxlRm9vdGVyJDIgPSB7XG4gIHB4OiA2LFxuICBweTogNFxufTtcblxudmFyIGJhc2VTdHlsZSRzID0gZnVuY3Rpb24gYmFzZVN0eWxlKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgb3ZlcmxheTogYmFzZVN0eWxlT3ZlcmxheSQxLFxuICAgIGRpYWxvZ0NvbnRhaW5lcjogYmFzZVN0eWxlRGlhbG9nQ29udGFpbmVyJDEsXG4gICAgZGlhbG9nOiBiYXNlU3R5bGVEaWFsb2ckMShwcm9wcyksXG4gICAgaGVhZGVyOiBiYXNlU3R5bGVIZWFkZXIkMixcbiAgICBjbG9zZUJ1dHRvbjogYmFzZVN0eWxlQ2xvc2VCdXR0b24kMyxcbiAgICBib2R5OiBiYXNlU3R5bGVCb2R5JDIsXG4gICAgZm9vdGVyOiBiYXNlU3R5bGVGb290ZXIkMlxuICB9O1xufTtcblxudmFyIHNpemVzJGcgPSB7XG4gIHhzOiBnZXRTaXplJDIoXCJ4c1wiKSxcbiAgc206IGdldFNpemUkMihcIm1kXCIpLFxuICBtZDogZ2V0U2l6ZSQyKFwibGdcIiksXG4gIGxnOiBnZXRTaXplJDIoXCIyeGxcIiksXG4gIHhsOiBnZXRTaXplJDIoXCI0eGxcIiksXG4gIGZ1bGw6IGdldFNpemUkMihcImZ1bGxcIilcbn07XG52YXIgZGVmYXVsdFByb3BzJGYgPSB7XG4gIHNpemU6IFwieHNcIlxufTtcbnZhciBEcmF3ZXIgPSB7XG4gIHBhcnRzOiBkcmF3ZXJBbmF0b215LmtleXMsXG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJHMsXG4gIHNpemVzOiBzaXplcyRnLFxuICBkZWZhdWx0UHJvcHM6IGRlZmF1bHRQcm9wcyRmXG59O1xuXG52YXIgYmFzZVN0eWxlUHJldmlldyA9IHtcbiAgYm9yZGVyUmFkaXVzOiBcIm1kXCIsXG4gIHB5OiBcIjNweFwiLFxuICB0cmFuc2l0aW9uUHJvcGVydHk6IFwiY29tbW9uXCIsXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogXCJub3JtYWxcIlxufTtcbnZhciBiYXNlU3R5bGVJbnB1dCA9IHtcbiAgYm9yZGVyUmFkaXVzOiBcIm1kXCIsXG4gIHB5OiBcIjNweFwiLFxuICB0cmFuc2l0aW9uUHJvcGVydHk6IFwiY29tbW9uXCIsXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogXCJub3JtYWxcIixcbiAgd2lkdGg6IFwiZnVsbFwiLFxuICBfZm9jdXM6IHtcbiAgICBib3hTaGFkb3c6IFwib3V0bGluZVwiXG4gIH0sXG4gIF9wbGFjZWhvbGRlcjoge1xuICAgIG9wYWNpdHk6IDAuNlxuICB9XG59O1xudmFyIGJhc2VTdHlsZSRyID0ge1xuICBwcmV2aWV3OiBiYXNlU3R5bGVQcmV2aWV3LFxuICBpbnB1dDogYmFzZVN0eWxlSW5wdXRcbn07XG52YXIgRWRpdGFibGUgPSB7XG4gIHBhcnRzOiBlZGl0YWJsZUFuYXRvbXkua2V5cyxcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGUkclxufTtcblxudmFyIGJhc2VTdHlsZVJlcXVpcmVkSW5kaWNhdG9yID0gZnVuY3Rpb24gYmFzZVN0eWxlUmVxdWlyZWRJbmRpY2F0b3IocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICBtYXJnaW5TdGFydDogMSxcbiAgICBjb2xvcjogbW9kZShcInJlZC41MDBcIiwgXCJyZWQuMzAwXCIpKHByb3BzKVxuICB9O1xufTtcblxudmFyIGJhc2VTdHlsZUhlbHBlclRleHQgPSBmdW5jdGlvbiBiYXNlU3R5bGVIZWxwZXJUZXh0KHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgbXQ6IDIsXG4gICAgY29sb3I6IG1vZGUoXCJncmF5LjUwMFwiLCBcIndoaXRlQWxwaGEuNjAwXCIpKHByb3BzKSxcbiAgICBsaW5lSGVpZ2h0OiBcIm5vcm1hbFwiLFxuICAgIGZvbnRTaXplOiBcInNtXCJcbiAgfTtcbn07XG5cbnZhciBiYXNlU3R5bGUkcSA9IGZ1bmN0aW9uIGJhc2VTdHlsZShwcm9wcykge1xuICByZXR1cm4ge1xuICAgIGNvbnRhaW5lcjoge1xuICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIlxuICAgIH0sXG4gICAgcmVxdWlyZWRJbmRpY2F0b3I6IGJhc2VTdHlsZVJlcXVpcmVkSW5kaWNhdG9yKHByb3BzKSxcbiAgICBoZWxwZXJUZXh0OiBiYXNlU3R5bGVIZWxwZXJUZXh0KHByb3BzKVxuICB9O1xufTtcblxudmFyIEZvcm0gPSB7XG4gIHBhcnRzOiBmb3JtQW5hdG9teS5rZXlzLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRxXG59O1xuXG52YXIgYmFzZVN0eWxlJHAgPSB7XG4gIGZvbnRTaXplOiBcIm1kXCIsXG4gIG1hcmdpbkVuZDogMyxcbiAgbWI6IDIsXG4gIGZvbnRXZWlnaHQ6IFwibWVkaXVtXCIsXG4gIHRyYW5zaXRpb25Qcm9wZXJ0eTogXCJjb21tb25cIixcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiBcIm5vcm1hbFwiLFxuICBvcGFjaXR5OiAxLFxuICBfZGlzYWJsZWQ6IHtcbiAgICBvcGFjaXR5OiAwLjRcbiAgfVxufTtcbnZhciBGb3JtTGFiZWwgPSB7XG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJHBcbn07XG5cbnZhciBiYXNlU3R5bGUkbyA9IHtcbiAgZm9udEZhbWlseTogXCJoZWFkaW5nXCIsXG4gIGZvbnRXZWlnaHQ6IFwiYm9sZFwiXG59O1xudmFyIHNpemVzJGYgPSB7XG4gIFwiNHhsXCI6IHtcbiAgICBmb250U2l6ZTogW1wiNnhsXCIsIG51bGwsIFwiN3hsXCJdLFxuICAgIGxpbmVIZWlnaHQ6IDFcbiAgfSxcbiAgXCIzeGxcIjoge1xuICAgIGZvbnRTaXplOiBbXCI1eGxcIiwgbnVsbCwgXCI2eGxcIl0sXG4gICAgbGluZUhlaWdodDogMVxuICB9LFxuICBcIjJ4bFwiOiB7XG4gICAgZm9udFNpemU6IFtcIjR4bFwiLCBudWxsLCBcIjV4bFwiXSxcbiAgICBsaW5lSGVpZ2h0OiBbMS4yLCBudWxsLCAxXVxuICB9LFxuICB4bDoge1xuICAgIGZvbnRTaXplOiBbXCIzeGxcIiwgbnVsbCwgXCI0eGxcIl0sXG4gICAgbGluZUhlaWdodDogWzEuMzMsIG51bGwsIDEuMl1cbiAgfSxcbiAgbGc6IHtcbiAgICBmb250U2l6ZTogW1wiMnhsXCIsIG51bGwsIFwiM3hsXCJdLFxuICAgIGxpbmVIZWlnaHQ6IFsxLjMzLCBudWxsLCAxLjJdXG4gIH0sXG4gIG1kOiB7XG4gICAgZm9udFNpemU6IFwieGxcIixcbiAgICBsaW5lSGVpZ2h0OiAxLjJcbiAgfSxcbiAgc206IHtcbiAgICBmb250U2l6ZTogXCJtZFwiLFxuICAgIGxpbmVIZWlnaHQ6IDEuMlxuICB9LFxuICB4czoge1xuICAgIGZvbnRTaXplOiBcInNtXCIsXG4gICAgbGluZUhlaWdodDogMS4yXG4gIH1cbn07XG52YXIgZGVmYXVsdFByb3BzJGUgPSB7XG4gIHNpemU6IFwieGxcIlxufTtcbnZhciBIZWFkaW5nID0ge1xuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRvLFxuICBzaXplczogc2l6ZXMkZixcbiAgZGVmYXVsdFByb3BzOiBkZWZhdWx0UHJvcHMkZVxufTtcblxudmFyIGJhc2VTdHlsZSRuID0ge1xuICBmaWVsZDoge1xuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICBtaW5XaWR0aDogMCxcbiAgICBvdXRsaW5lOiAwLFxuICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgYXBwZWFyYW5jZTogXCJub25lXCIsXG4gICAgdHJhbnNpdGlvblByb3BlcnR5OiBcImNvbW1vblwiLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogXCJub3JtYWxcIlxuICB9XG59O1xudmFyIHNpemUgPSB7XG4gIGxnOiB7XG4gICAgZm9udFNpemU6IFwibGdcIixcbiAgICBweDogNCxcbiAgICBoOiAxMixcbiAgICBib3JkZXJSYWRpdXM6IFwibWRcIlxuICB9LFxuICBtZDoge1xuICAgIGZvbnRTaXplOiBcIm1kXCIsXG4gICAgcHg6IDQsXG4gICAgaDogMTAsXG4gICAgYm9yZGVyUmFkaXVzOiBcIm1kXCJcbiAgfSxcbiAgc206IHtcbiAgICBmb250U2l6ZTogXCJzbVwiLFxuICAgIHB4OiAzLFxuICAgIGg6IDgsXG4gICAgYm9yZGVyUmFkaXVzOiBcInNtXCJcbiAgfSxcbiAgeHM6IHtcbiAgICBmb250U2l6ZTogXCJ4c1wiLFxuICAgIHB4OiAyLFxuICAgIGg6IDYsXG4gICAgYm9yZGVyUmFkaXVzOiBcInNtXCJcbiAgfVxufTtcbnZhciBzaXplcyRlID0ge1xuICBsZzoge1xuICAgIGZpZWxkOiBzaXplLmxnLFxuICAgIGFkZG9uOiBzaXplLmxnXG4gIH0sXG4gIG1kOiB7XG4gICAgZmllbGQ6IHNpemUubWQsXG4gICAgYWRkb246IHNpemUubWRcbiAgfSxcbiAgc206IHtcbiAgICBmaWVsZDogc2l6ZS5zbSxcbiAgICBhZGRvbjogc2l6ZS5zbVxuICB9LFxuICB4czoge1xuICAgIGZpZWxkOiBzaXplLnhzLFxuICAgIGFkZG9uOiBzaXplLnhzXG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRzKHByb3BzKSB7XG4gIHZhciBmYyA9IHByb3BzLmZvY3VzQm9yZGVyQ29sb3IsXG4gICAgICBlYyA9IHByb3BzLmVycm9yQm9yZGVyQ29sb3I7XG4gIHJldHVybiB7XG4gICAgZm9jdXNCb3JkZXJDb2xvcjogZmMgfHwgbW9kZShcImJsdWUuNTAwXCIsIFwiYmx1ZS4zMDBcIikocHJvcHMpLFxuICAgIGVycm9yQm9yZGVyQ29sb3I6IGVjIHx8IG1vZGUoXCJyZWQuNTAwXCIsIFwicmVkLjMwMFwiKShwcm9wcylcbiAgfTtcbn1cblxudmFyIHZhcmlhbnRPdXRsaW5lID0gZnVuY3Rpb24gdmFyaWFudE91dGxpbmUocHJvcHMpIHtcbiAgdmFyIHRoZW1lID0gcHJvcHMudGhlbWU7XG5cbiAgdmFyIF9nZXREZWZhdWx0cyA9IGdldERlZmF1bHRzKHByb3BzKSxcbiAgICAgIGZjID0gX2dldERlZmF1bHRzLmZvY3VzQm9yZGVyQ29sb3IsXG4gICAgICBlYyA9IF9nZXREZWZhdWx0cy5lcnJvckJvcmRlckNvbG9yO1xuXG4gIHJldHVybiB7XG4gICAgZmllbGQ6IHtcbiAgICAgIGJvcmRlcjogXCIxcHggc29saWRcIixcbiAgICAgIGJvcmRlckNvbG9yOiBcImluaGVyaXRcIixcbiAgICAgIGJnOiBcImluaGVyaXRcIixcbiAgICAgIF9ob3Zlcjoge1xuICAgICAgICBib3JkZXJDb2xvcjogbW9kZShcImdyYXkuMzAwXCIsIFwid2hpdGVBbHBoYS40MDBcIikocHJvcHMpXG4gICAgICB9LFxuICAgICAgX3JlYWRPbmx5OiB7XG4gICAgICAgIGJveFNoYWRvdzogXCJub25lICFpbXBvcnRhbnRcIixcbiAgICAgICAgdXNlclNlbGVjdDogXCJhbGxcIlxuICAgICAgfSxcbiAgICAgIF9kaXNhYmxlZDoge1xuICAgICAgICBvcGFjaXR5OiAwLjQsXG4gICAgICAgIGN1cnNvcjogXCJub3QtYWxsb3dlZFwiXG4gICAgICB9LFxuICAgICAgX2ludmFsaWQ6IHtcbiAgICAgICAgYm9yZGVyQ29sb3I6IGdldENvbG9yKHRoZW1lLCBlYyksXG4gICAgICAgIGJveFNoYWRvdzogXCIwIDAgMCAxcHggXCIgKyBnZXRDb2xvcih0aGVtZSwgZWMpXG4gICAgICB9LFxuICAgICAgX2ZvY3VzOiB7XG4gICAgICAgIHpJbmRleDogMSxcbiAgICAgICAgYm9yZGVyQ29sb3I6IGdldENvbG9yKHRoZW1lLCBmYyksXG4gICAgICAgIGJveFNoYWRvdzogXCIwIDAgMCAxcHggXCIgKyBnZXRDb2xvcih0aGVtZSwgZmMpXG4gICAgICB9XG4gICAgfSxcbiAgICBhZGRvbjoge1xuICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZFwiLFxuICAgICAgYm9yZGVyQ29sb3I6IG1vZGUoXCJpbmhlcml0XCIsIFwid2hpdGVBbHBoYS41MFwiKShwcm9wcyksXG4gICAgICBiZzogbW9kZShcImdyYXkuMTAwXCIsIFwid2hpdGVBbHBoYS4zMDBcIikocHJvcHMpXG4gICAgfVxuICB9O1xufTtcblxudmFyIHZhcmlhbnRGaWxsZWQgPSBmdW5jdGlvbiB2YXJpYW50RmlsbGVkKHByb3BzKSB7XG4gIHZhciB0aGVtZSA9IHByb3BzLnRoZW1lO1xuXG4gIHZhciBfZ2V0RGVmYXVsdHMyID0gZ2V0RGVmYXVsdHMocHJvcHMpLFxuICAgICAgZmMgPSBfZ2V0RGVmYXVsdHMyLmZvY3VzQm9yZGVyQ29sb3IsXG4gICAgICBlYyA9IF9nZXREZWZhdWx0czIuZXJyb3JCb3JkZXJDb2xvcjtcblxuICByZXR1cm4ge1xuICAgIGZpZWxkOiB7XG4gICAgICBib3JkZXI6IFwiMnB4IHNvbGlkXCIsXG4gICAgICBib3JkZXJDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgYmc6IG1vZGUoXCJncmF5LjEwMFwiLCBcIndoaXRlQWxwaGEuNTBcIikocHJvcHMpLFxuICAgICAgX2hvdmVyOiB7XG4gICAgICAgIGJnOiBtb2RlKFwiZ3JheS4yMDBcIiwgXCJ3aGl0ZUFscGhhLjEwMFwiKShwcm9wcylcbiAgICAgIH0sXG4gICAgICBfcmVhZE9ubHk6IHtcbiAgICAgICAgYm94U2hhZG93OiBcIm5vbmUgIWltcG9ydGFudFwiLFxuICAgICAgICB1c2VyU2VsZWN0OiBcImFsbFwiXG4gICAgICB9LFxuICAgICAgX2Rpc2FibGVkOiB7XG4gICAgICAgIG9wYWNpdHk6IDAuNCxcbiAgICAgICAgY3Vyc29yOiBcIm5vdC1hbGxvd2VkXCJcbiAgICAgIH0sXG4gICAgICBfaW52YWxpZDoge1xuICAgICAgICBib3JkZXJDb2xvcjogZ2V0Q29sb3IodGhlbWUsIGVjKVxuICAgICAgfSxcbiAgICAgIF9mb2N1czoge1xuICAgICAgICBiZzogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgICBib3JkZXJDb2xvcjogZ2V0Q29sb3IodGhlbWUsIGZjKVxuICAgICAgfVxuICAgIH0sXG4gICAgYWRkb246IHtcbiAgICAgIGJvcmRlcjogXCIycHggc29saWRcIixcbiAgICAgIGJvcmRlckNvbG9yOiBcInRyYW5zcGFyZW50XCIsXG4gICAgICBiZzogbW9kZShcImdyYXkuMTAwXCIsIFwid2hpdGVBbHBoYS41MFwiKShwcm9wcylcbiAgICB9XG4gIH07XG59O1xuXG52YXIgdmFyaWFudEZsdXNoZWQgPSBmdW5jdGlvbiB2YXJpYW50Rmx1c2hlZChwcm9wcykge1xuICB2YXIgdGhlbWUgPSBwcm9wcy50aGVtZTtcblxuICB2YXIgX2dldERlZmF1bHRzMyA9IGdldERlZmF1bHRzKHByb3BzKSxcbiAgICAgIGZjID0gX2dldERlZmF1bHRzMy5mb2N1c0JvcmRlckNvbG9yLFxuICAgICAgZWMgPSBfZ2V0RGVmYXVsdHMzLmVycm9yQm9yZGVyQ29sb3I7XG5cbiAgcmV0dXJuIHtcbiAgICBmaWVsZDoge1xuICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZFwiLFxuICAgICAgYm9yZGVyQ29sb3I6IFwiaW5oZXJpdFwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiAwLFxuICAgICAgcHg6IDAsXG4gICAgICBiZzogXCJ0cmFuc3BhcmVudFwiLFxuICAgICAgX3JlYWRPbmx5OiB7XG4gICAgICAgIGJveFNoYWRvdzogXCJub25lICFpbXBvcnRhbnRcIixcbiAgICAgICAgdXNlclNlbGVjdDogXCJhbGxcIlxuICAgICAgfSxcbiAgICAgIF9pbnZhbGlkOiB7XG4gICAgICAgIGJvcmRlckNvbG9yOiBnZXRDb2xvcih0aGVtZSwgZWMpLFxuICAgICAgICBib3hTaGFkb3c6IFwiMHB4IDFweCAwcHggMHB4IFwiICsgZ2V0Q29sb3IodGhlbWUsIGVjKVxuICAgICAgfSxcbiAgICAgIF9mb2N1czoge1xuICAgICAgICBib3JkZXJDb2xvcjogZ2V0Q29sb3IodGhlbWUsIGZjKSxcbiAgICAgICAgYm94U2hhZG93OiBcIjBweCAxcHggMHB4IDBweCBcIiArIGdldENvbG9yKHRoZW1lLCBmYylcbiAgICAgIH1cbiAgICB9LFxuICAgIGFkZG9uOiB7XG4gICAgICBib3JkZXJCb3R0b206IFwiMnB4IHNvbGlkXCIsXG4gICAgICBib3JkZXJDb2xvcjogXCJpbmhlcml0XCIsXG4gICAgICBib3JkZXJSYWRpdXM6IDAsXG4gICAgICBweDogMCxcbiAgICAgIGJnOiBcInRyYW5zcGFyZW50XCJcbiAgICB9XG4gIH07XG59O1xuXG52YXIgdmFyaWFudFVuc3R5bGVkJDEgPSB7XG4gIGZpZWxkOiB7XG4gICAgYmc6IFwidHJhbnNwYXJlbnRcIixcbiAgICBweDogMCxcbiAgICBoZWlnaHQ6IFwiYXV0b1wiXG4gIH0sXG4gIGFkZG9uOiB7XG4gICAgYmc6IFwidHJhbnNwYXJlbnRcIixcbiAgICBweDogMCxcbiAgICBoZWlnaHQ6IFwiYXV0b1wiXG4gIH1cbn07XG52YXIgdmFyaWFudHMkNiA9IHtcbiAgb3V0bGluZTogdmFyaWFudE91dGxpbmUsXG4gIGZpbGxlZDogdmFyaWFudEZpbGxlZCxcbiAgZmx1c2hlZDogdmFyaWFudEZsdXNoZWQsXG4gIHVuc3R5bGVkOiB2YXJpYW50VW5zdHlsZWQkMVxufTtcbnZhciBkZWZhdWx0UHJvcHMkZCA9IHtcbiAgc2l6ZTogXCJtZFwiLFxuICB2YXJpYW50OiBcIm91dGxpbmVcIlxufTtcbnZhciBJbnB1dCA9IHtcbiAgcGFydHM6IGlucHV0QW5hdG9teS5rZXlzLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRuLFxuICBzaXplczogc2l6ZXMkZSxcbiAgdmFyaWFudHM6IHZhcmlhbnRzJDYsXG4gIGRlZmF1bHRQcm9wczogZGVmYXVsdFByb3BzJGRcbn07XG5cbnZhciBiYXNlU3R5bGUkbSA9IGZ1bmN0aW9uIGJhc2VTdHlsZShwcm9wcykge1xuICByZXR1cm4ge1xuICAgIGJnOiBtb2RlKFwiZ3JheS4xMDBcIiwgXCJ3aGl0ZUFscGhhXCIpKHByb3BzKSxcbiAgICBib3JkZXJSYWRpdXM6IFwibWRcIixcbiAgICBib3JkZXJXaWR0aDogXCIxcHhcIixcbiAgICBib3JkZXJCb3R0b21XaWR0aDogXCIzcHhcIixcbiAgICBmb250U2l6ZTogXCIwLjhlbVwiLFxuICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgIGxpbmVIZWlnaHQ6IFwibm9ybWFsXCIsXG4gICAgcHg6IFwiMC40ZW1cIixcbiAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiXG4gIH07XG59O1xuXG52YXIgS2JkID0ge1xuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRtXG59O1xuXG52YXIgYmFzZVN0eWxlJGwgPSB7XG4gIHRyYW5zaXRpb25Qcm9wZXJ0eTogXCJjb21tb25cIixcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiBcImZhc3RcIixcbiAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBcImVhc2Utb3V0XCIsXG4gIGN1cnNvcjogXCJwb2ludGVyXCIsXG4gIHRleHREZWNvcmF0aW9uOiBcIm5vbmVcIixcbiAgb3V0bGluZTogXCJub25lXCIsXG4gIGNvbG9yOiBcImluaGVyaXRcIixcbiAgX2hvdmVyOiB7XG4gICAgdGV4dERlY29yYXRpb246IFwidW5kZXJsaW5lXCJcbiAgfSxcbiAgX2ZvY3VzOiB7XG4gICAgYm94U2hhZG93OiBcIm91dGxpbmVcIlxuICB9XG59O1xudmFyIExpbmsgPSB7XG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJGxcbn07XG5cbnZhciBiYXNlU3R5bGVJY29uJDMgPSB7XG4gIG1hcmdpbkVuZDogXCIwLjVyZW1cIixcbiAgZGlzcGxheTogXCJpbmxpbmVcIixcbiAgdmVydGljYWxBbGlnbjogXCJ0ZXh0LWJvdHRvbVwiXG59O1xudmFyIGJhc2VTdHlsZSRrID0ge1xuICBjb250YWluZXI6IHt9LFxuICBpdGVtOiB7fSxcbiAgaWNvbjogYmFzZVN0eWxlSWNvbiQzXG59O1xudmFyIExpc3QgPSB7XG4gIHBhcnRzOiBsaXN0QW5hdG9teS5rZXlzLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRrXG59O1xuXG52YXIgYmFzZVN0eWxlTGlzdCA9IGZ1bmN0aW9uIGJhc2VTdHlsZUxpc3QocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICBiZzogbW9kZShcIiNmZmZcIiwgXCJncmF5LjcwMFwiKShwcm9wcyksXG4gICAgYm94U2hhZG93OiBtb2RlKFwic21cIiwgXCJkYXJrLWxnXCIpKHByb3BzKSxcbiAgICBjb2xvcjogXCJpbmhlcml0XCIsXG4gICAgbWluVzogXCIzeHNcIixcbiAgICBweTogXCIyXCIsXG4gICAgekluZGV4OiAxLFxuICAgIGJvcmRlclJhZGl1czogXCJtZFwiLFxuICAgIGJvcmRlcldpZHRoOiBcIjFweFwiXG4gIH07XG59O1xuXG52YXIgYmFzZVN0eWxlSXRlbSA9IGZ1bmN0aW9uIGJhc2VTdHlsZUl0ZW0ocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICBweTogXCIwLjRyZW1cIixcbiAgICBweDogXCIwLjhyZW1cIixcbiAgICB0cmFuc2l0aW9uUHJvcGVydHk6IFwiYmFja2dyb3VuZFwiLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogXCJ1bHRyYS1mYXN0XCIsXG4gICAgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uOiBcImVhc2UtaW5cIixcbiAgICBfZm9jdXM6IHtcbiAgICAgIGJnOiBtb2RlKFwiZ3JheS4xMDBcIiwgXCJ3aGl0ZUFscGhhLjEwMFwiKShwcm9wcylcbiAgICB9LFxuICAgIF9hY3RpdmU6IHtcbiAgICAgIGJnOiBtb2RlKFwiZ3JheS4yMDBcIiwgXCJ3aGl0ZUFscGhhLjIwMFwiKShwcm9wcylcbiAgICB9LFxuICAgIF9leHBhbmRlZDoge1xuICAgICAgYmc6IG1vZGUoXCJncmF5LjEwMFwiLCBcIndoaXRlQWxwaGEuMTAwXCIpKHByb3BzKVxuICAgIH0sXG4gICAgX2Rpc2FibGVkOiB7XG4gICAgICBvcGFjaXR5OiAwLjQsXG4gICAgICBjdXJzb3I6IFwibm90LWFsbG93ZWRcIlxuICAgIH1cbiAgfTtcbn07XG5cbnZhciBiYXNlU3R5bGVHcm91cFRpdGxlID0ge1xuICBteDogNCxcbiAgbXk6IDIsXG4gIGZvbnRXZWlnaHQ6IFwic2VtaWJvbGRcIixcbiAgZm9udFNpemU6IFwic21cIlxufTtcbnZhciBiYXNlU3R5bGVDb21tYW5kID0ge1xuICBvcGFjaXR5OiAwLjZcbn07XG52YXIgYmFzZVN0eWxlRGl2aWRlciA9IHtcbiAgYm9yZGVyOiAwLFxuICBib3JkZXJCb3R0b206IFwiMXB4IHNvbGlkXCIsXG4gIGJvcmRlckNvbG9yOiBcImluaGVyaXRcIixcbiAgbXk6IFwiMC41cmVtXCIsXG4gIG9wYWNpdHk6IDAuNlxufTtcbnZhciBiYXNlU3R5bGVCdXR0b24gPSB7XG4gIHRyYW5zaXRpb25Qcm9wZXJ0eTogXCJjb21tb25cIixcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiBcIm5vcm1hbFwiXG59O1xuXG52YXIgYmFzZVN0eWxlJGogPSBmdW5jdGlvbiBiYXNlU3R5bGUocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICBidXR0b246IGJhc2VTdHlsZUJ1dHRvbixcbiAgICBsaXN0OiBiYXNlU3R5bGVMaXN0KHByb3BzKSxcbiAgICBpdGVtOiBiYXNlU3R5bGVJdGVtKHByb3BzKSxcbiAgICBncm91cFRpdGxlOiBiYXNlU3R5bGVHcm91cFRpdGxlLFxuICAgIGNvbW1hbmQ6IGJhc2VTdHlsZUNvbW1hbmQsXG4gICAgZGl2aWRlcjogYmFzZVN0eWxlRGl2aWRlclxuICB9O1xufTtcblxudmFyIE1lbnUgPSB7XG4gIHBhcnRzOiBtZW51QW5hdG9teS5rZXlzLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRqXG59O1xuXG52YXIgYmFzZVN0eWxlT3ZlcmxheSA9IHtcbiAgYmc6IFwiYmxhY2tBbHBoYS42MDBcIixcbiAgekluZGV4OiBcIm1vZGFsXCJcbn07XG5cbnZhciBiYXNlU3R5bGVEaWFsb2dDb250YWluZXIgPSBmdW5jdGlvbiBiYXNlU3R5bGVEaWFsb2dDb250YWluZXIocHJvcHMpIHtcbiAgdmFyIGlzQ2VudGVyZWQgPSBwcm9wcy5pc0NlbnRlcmVkLFxuICAgICAgc2Nyb2xsQmVoYXZpb3IgPSBwcm9wcy5zY3JvbGxCZWhhdmlvcjtcbiAgcmV0dXJuIHtcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICB6SW5kZXg6IFwibW9kYWxcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICBhbGlnbkl0ZW1zOiBpc0NlbnRlcmVkID8gXCJjZW50ZXJcIiA6IFwiZmxleC1zdGFydFwiLFxuICAgIG92ZXJmbG93OiBzY3JvbGxCZWhhdmlvciA9PT0gXCJpbnNpZGVcIiA/IFwiaGlkZGVuXCIgOiBcImF1dG9cIlxuICB9O1xufTtcblxudmFyIGJhc2VTdHlsZURpYWxvZyA9IGZ1bmN0aW9uIGJhc2VTdHlsZURpYWxvZyhwcm9wcykge1xuICB2YXIgc2Nyb2xsQmVoYXZpb3IgPSBwcm9wcy5zY3JvbGxCZWhhdmlvcjtcbiAgcmV0dXJuIHtcbiAgICBib3JkZXJSYWRpdXM6IFwibWRcIixcbiAgICBiZzogbW9kZShcIndoaXRlXCIsIFwiZ3JheS43MDBcIikocHJvcHMpLFxuICAgIGNvbG9yOiBcImluaGVyaXRcIixcbiAgICBteTogXCIzLjc1cmVtXCIsXG4gICAgekluZGV4OiBcIm1vZGFsXCIsXG4gICAgbWF4SDogc2Nyb2xsQmVoYXZpb3IgPT09IFwiaW5zaWRlXCIgPyBcImNhbGMoMTAwJSAtIDcuNXJlbSlcIiA6IHVuZGVmaW5lZCxcbiAgICBib3hTaGFkb3c6IG1vZGUoXCJsZ1wiLCBcImRhcmstbGdcIikocHJvcHMpXG4gIH07XG59O1xuXG52YXIgYmFzZVN0eWxlSGVhZGVyJDEgPSB7XG4gIHB4OiA2LFxuICBweTogNCxcbiAgZm9udFNpemU6IFwieGxcIixcbiAgZm9udFdlaWdodDogXCJzZW1pYm9sZFwiXG59O1xudmFyIGJhc2VTdHlsZUNsb3NlQnV0dG9uJDIgPSB7XG4gIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gIHRvcDogMixcbiAgaW5zZXRFbmQ6IDNcbn07XG5cbnZhciBiYXNlU3R5bGVCb2R5JDEgPSBmdW5jdGlvbiBiYXNlU3R5bGVCb2R5KHByb3BzKSB7XG4gIHZhciBzY3JvbGxCZWhhdmlvciA9IHByb3BzLnNjcm9sbEJlaGF2aW9yO1xuICByZXR1cm4ge1xuICAgIHB4OiA2LFxuICAgIHB5OiAyLFxuICAgIGZsZXg6IDEsXG4gICAgb3ZlcmZsb3c6IHNjcm9sbEJlaGF2aW9yID09PSBcImluc2lkZVwiID8gXCJhdXRvXCIgOiB1bmRlZmluZWRcbiAgfTtcbn07XG5cbnZhciBiYXNlU3R5bGVGb290ZXIkMSA9IHtcbiAgcHg6IDYsXG4gIHB5OiA0XG59O1xuXG52YXIgYmFzZVN0eWxlJGkgPSBmdW5jdGlvbiBiYXNlU3R5bGUocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICBvdmVybGF5OiBiYXNlU3R5bGVPdmVybGF5LFxuICAgIGRpYWxvZ0NvbnRhaW5lcjogYmFzZVN0eWxlRGlhbG9nQ29udGFpbmVyKHByb3BzKSxcbiAgICBkaWFsb2c6IGJhc2VTdHlsZURpYWxvZyhwcm9wcyksXG4gICAgaGVhZGVyOiBiYXNlU3R5bGVIZWFkZXIkMSxcbiAgICBjbG9zZUJ1dHRvbjogYmFzZVN0eWxlQ2xvc2VCdXR0b24kMixcbiAgICBib2R5OiBiYXNlU3R5bGVCb2R5JDEocHJvcHMpLFxuICAgIGZvb3RlcjogYmFzZVN0eWxlRm9vdGVyJDFcbiAgfTtcbn07XG4vKipcbiAqIFNpbmNlIHRoZSBgbWF4V2lkdGhgIHByb3AgcmVmZXJlbmNlcyB0aGVtZS5zaXplcyBpbnRlcm5hbGx5LFxuICogd2UgY2FuIGxldmVyYWdlIHRoYXQgdG8gc2l6ZSBvdXIgbW9kYWxzLlxuICovXG5cblxuZnVuY3Rpb24gZ2V0U2l6ZSQxKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gXCJmdWxsXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZGlhbG9nOiB7XG4gICAgICAgIG1heFc6IFwiMTAwdndcIixcbiAgICAgICAgbWluSDogXCIxMDB2aFwiLFxuICAgICAgICBteTogMFxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGRpYWxvZzoge1xuICAgICAgbWF4VzogdmFsdWVcbiAgICB9XG4gIH07XG59XG5cbnZhciBzaXplcyRkID0ge1xuICB4czogZ2V0U2l6ZSQxKFwieHNcIiksXG4gIHNtOiBnZXRTaXplJDEoXCJzbVwiKSxcbiAgbWQ6IGdldFNpemUkMShcIm1kXCIpLFxuICBsZzogZ2V0U2l6ZSQxKFwibGdcIiksXG4gIHhsOiBnZXRTaXplJDEoXCJ4bFwiKSxcbiAgXCIyeGxcIjogZ2V0U2l6ZSQxKFwiMnhsXCIpLFxuICBcIjN4bFwiOiBnZXRTaXplJDEoXCIzeGxcIiksXG4gIFwiNHhsXCI6IGdldFNpemUkMShcIjR4bFwiKSxcbiAgXCI1eGxcIjogZ2V0U2l6ZSQxKFwiNXhsXCIpLFxuICBcIjZ4bFwiOiBnZXRTaXplJDEoXCI2eGxcIiksXG4gIGZ1bGw6IGdldFNpemUkMShcImZ1bGxcIilcbn07XG52YXIgZGVmYXVsdFByb3BzJGMgPSB7XG4gIHNpemU6IFwibWRcIlxufTtcbnZhciBNb2RhbCA9IHtcbiAgcGFydHM6IG1vZGFsQW5hdG9teS5rZXlzLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRpLFxuICBzaXplczogc2l6ZXMkZCxcbiAgZGVmYXVsdFByb3BzOiBkZWZhdWx0UHJvcHMkY1xufTtcblxudmFyIHR5cG9ncmFwaHkgPSB7XG4gIGxldHRlclNwYWNpbmdzOiB7XG4gICAgdGlnaHRlcjogXCItMC4wNWVtXCIsXG4gICAgdGlnaHQ6IFwiLTAuMDI1ZW1cIixcbiAgICBub3JtYWw6IFwiMFwiLFxuICAgIHdpZGU6IFwiMC4wMjVlbVwiLFxuICAgIHdpZGVyOiBcIjAuMDVlbVwiLFxuICAgIHdpZGVzdDogXCIwLjFlbVwiXG4gIH0sXG4gIGxpbmVIZWlnaHRzOiB7XG4gICAgbm9ybWFsOiBcIm5vcm1hbFwiLFxuICAgIG5vbmU6IDEsXG4gICAgc2hvcnRlcjogMS4yNSxcbiAgICBcInNob3J0XCI6IDEuMzc1LFxuICAgIGJhc2U6IDEuNSxcbiAgICB0YWxsOiAxLjYyNSxcbiAgICB0YWxsZXI6IFwiMlwiLFxuICAgIFwiM1wiOiBcIi43NXJlbVwiLFxuICAgIFwiNFwiOiBcIjFyZW1cIixcbiAgICBcIjVcIjogXCIxLjI1cmVtXCIsXG4gICAgXCI2XCI6IFwiMS41cmVtXCIsXG4gICAgXCI3XCI6IFwiMS43NXJlbVwiLFxuICAgIFwiOFwiOiBcIjJyZW1cIixcbiAgICBcIjlcIjogXCIyLjI1cmVtXCIsXG4gICAgXCIxMFwiOiBcIjIuNXJlbVwiXG4gIH0sXG4gIGZvbnRXZWlnaHRzOiB7XG4gICAgaGFpcmxpbmU6IDEwMCxcbiAgICB0aGluOiAyMDAsXG4gICAgbGlnaHQ6IDMwMCxcbiAgICBub3JtYWw6IDQwMCxcbiAgICBtZWRpdW06IDUwMCxcbiAgICBzZW1pYm9sZDogNjAwLFxuICAgIGJvbGQ6IDcwMCxcbiAgICBleHRyYWJvbGQ6IDgwMCxcbiAgICBibGFjazogOTAwXG4gIH0sXG4gIGZvbnRzOiB7XG4gICAgaGVhZGluZzogXCItYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFxcXCJTZWdvZSBVSVxcXCIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsIFxcXCJBcHBsZSBDb2xvciBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiXCIsXG4gICAgYm9keTogXCItYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFxcXCJTZWdvZSBVSVxcXCIsIEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWYsIFxcXCJBcHBsZSBDb2xvciBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBFbW9qaVxcXCIsIFxcXCJTZWdvZSBVSSBTeW1ib2xcXFwiXCIsXG4gICAgbW9ubzogXCJTRk1vbm8tUmVndWxhcixNZW5sbyxNb25hY28sQ29uc29sYXMsXFxcIkxpYmVyYXRpb24gTW9ub1xcXCIsXFxcIkNvdXJpZXIgTmV3XFxcIixtb25vc3BhY2VcIlxuICB9LFxuICBmb250U2l6ZXM6IHtcbiAgICB4czogXCIwLjc1cmVtXCIsXG4gICAgc206IFwiMC44NzVyZW1cIixcbiAgICBtZDogXCIxcmVtXCIsXG4gICAgbGc6IFwiMS4xMjVyZW1cIixcbiAgICB4bDogXCIxLjI1cmVtXCIsXG4gICAgXCIyeGxcIjogXCIxLjVyZW1cIixcbiAgICBcIjN4bFwiOiBcIjEuODc1cmVtXCIsXG4gICAgXCI0eGxcIjogXCIyLjI1cmVtXCIsXG4gICAgXCI1eGxcIjogXCIzcmVtXCIsXG4gICAgXCI2eGxcIjogXCIzLjc1cmVtXCIsXG4gICAgXCI3eGxcIjogXCI0LjVyZW1cIixcbiAgICBcIjh4bFwiOiBcIjZyZW1cIixcbiAgICBcIjl4bFwiOiBcIjhyZW1cIlxuICB9XG59O1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICogWW91IGNhbiBkZXJpdmUgdGhlIFR5cG9ncmFwaHkgdHlwZSBmcm9tIHRoZSBEZWZhdWx0Q2hha3JhVGhlbWVcbiAqXG4gKiB0eXBlIFR5cG9ncmFwaHkgPSBQaWNrPFxuICogICBEZWZhdWx0Q2hha3JhVGhlbWUsXG4gKiAgIHwgXCJsZXR0ZXJTcGFjaW5nc1wiXG4gKiAgIHwgXCJsaW5lSGVpZ2h0c1wiXG4gKiAgIHwgXCJmb250V2VpZ2h0c1wiXG4gKiAgIHwgXCJmb250c1wiXG4gKiAgIHwgXCJmb250U2l6ZXNcIlxuICogID5cbiAqL1xuXG52YXIgdHlwb2dyYXBoeSQxID0gdHlwb2dyYXBoeTtcblxudmFyIF9iYXNlU3R5bGVSb290LCBfSW5wdXQkYmFzZVN0eWxlJGZpZWwsIF9JbnB1dCRiYXNlU3R5bGU7XG52YXIgdmFyaWFudHMkNSA9IElucHV0LnZhcmlhbnRzLFxuICAgIGRlZmF1bHRQcm9wcyRiID0gSW5wdXQuZGVmYXVsdFByb3BzO1xudmFyICRzdGVwcGVyV2lkdGggPSBjc3NWYXIoXCJudW1iZXItaW5wdXQtc3RlcHBlci13aWR0aFwiKTtcbnZhciAkaW5wdXRQYWRkaW5nID0gY3NzVmFyKFwibnVtYmVyLWlucHV0LWlucHV0LXBhZGRpbmdcIik7XG52YXIgaW5wdXRQYWRkaW5nVmFsdWUgPSBjYWxjKCRzdGVwcGVyV2lkdGgpLmFkZChcIjAuNXJlbVwiKS50b1N0cmluZygpO1xudmFyIGJhc2VTdHlsZVJvb3QkMSA9IChfYmFzZVN0eWxlUm9vdCA9IHt9LCBfYmFzZVN0eWxlUm9vdFskc3RlcHBlcldpZHRoLnZhcmlhYmxlXSA9IFwiMjRweFwiLCBfYmFzZVN0eWxlUm9vdFskaW5wdXRQYWRkaW5nLnZhcmlhYmxlXSA9IGlucHV0UGFkZGluZ1ZhbHVlLCBfYmFzZVN0eWxlUm9vdCk7XG52YXIgYmFzZVN0eWxlRmllbGQkMSA9IChfSW5wdXQkYmFzZVN0eWxlJGZpZWwgPSAoX0lucHV0JGJhc2VTdHlsZSA9IElucHV0LmJhc2VTdHlsZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9JbnB1dCRiYXNlU3R5bGUuZmllbGQpICE9IG51bGwgPyBfSW5wdXQkYmFzZVN0eWxlJGZpZWwgOiB7fTtcbnZhciBiYXNlU3R5bGVTdGVwcGVyR3JvdXAgPSB7XG4gIHdpZHRoOiBbJHN0ZXBwZXJXaWR0aC5yZWZlcmVuY2VdXG59O1xuXG52YXIgYmFzZVN0eWxlU3RlcHBlciA9IGZ1bmN0aW9uIGJhc2VTdHlsZVN0ZXBwZXIocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICBib3JkZXJTdGFydDogXCIxcHggc29saWRcIixcbiAgICBib3JkZXJTdGFydENvbG9yOiBtb2RlKFwiaW5oZXJpdFwiLCBcIndoaXRlQWxwaGEuMzAwXCIpKHByb3BzKSxcbiAgICBjb2xvcjogbW9kZShcImluaGVyaXRcIiwgXCJ3aGl0ZUFscGhhLjgwMFwiKShwcm9wcyksXG4gICAgX2FjdGl2ZToge1xuICAgICAgYmc6IG1vZGUoXCJncmF5LjIwMFwiLCBcIndoaXRlQWxwaGEuMzAwXCIpKHByb3BzKVxuICAgIH0sXG4gICAgX2Rpc2FibGVkOiB7XG4gICAgICBvcGFjaXR5OiAwLjQsXG4gICAgICBjdXJzb3I6IFwibm90LWFsbG93ZWRcIlxuICAgIH1cbiAgfTtcbn07XG5cbnZhciBiYXNlU3R5bGUkaCA9IGZ1bmN0aW9uIGJhc2VTdHlsZShwcm9wcykge1xuICByZXR1cm4ge1xuICAgIHJvb3Q6IGJhc2VTdHlsZVJvb3QkMSxcbiAgICBmaWVsZDogYmFzZVN0eWxlRmllbGQkMSxcbiAgICBzdGVwcGVyR3JvdXA6IGJhc2VTdHlsZVN0ZXBwZXJHcm91cCxcbiAgICBzdGVwcGVyOiBiYXNlU3R5bGVTdGVwcGVyKHByb3BzKVxuICB9O1xufTtcblxuZnVuY3Rpb24gZ2V0U2l6ZShzaXplKSB7XG4gIHZhciBfc2l6ZVN0eWxlJGZpZWxkJGZvbnQsIF9zaXplU3R5bGUkZmllbGQ7XG5cbiAgdmFyIHNpemVTdHlsZSA9IElucHV0LnNpemVzW3NpemVdO1xuICB2YXIgcmFkaXVzID0ge1xuICAgIGxnOiBcIm1kXCIsXG4gICAgbWQ6IFwibWRcIixcbiAgICBzbTogXCJzbVwiLFxuICAgIHhzOiBcInNtXCJcbiAgfTtcblxuICB2YXIgX2ZvbnRTaXplID0gKF9zaXplU3R5bGUkZmllbGQkZm9udCA9IChfc2l6ZVN0eWxlJGZpZWxkID0gc2l6ZVN0eWxlLmZpZWxkKSA9PSBudWxsID8gdm9pZCAwIDogX3NpemVTdHlsZSRmaWVsZC5mb250U2l6ZSkgIT0gbnVsbCA/IF9zaXplU3R5bGUkZmllbGQkZm9udCA6IFwibWRcIjtcblxuICB2YXIgZm9udFNpemUgPSB0eXBvZ3JhcGh5JDEuZm9udFNpemVzW19mb250U2l6ZS50b1N0cmluZygpXTtcblxuICByZXR1cm4ge1xuICAgIGZpZWxkOiBfZXh0ZW5kcyh7fSwgc2l6ZVN0eWxlLmZpZWxkLCB7XG4gICAgICBwYWRkaW5nSW5saW5lRW5kOiAkaW5wdXRQYWRkaW5nLnJlZmVyZW5jZSxcbiAgICAgIHZlcnRpY2FsQWxpZ246IFwidG9wXCJcbiAgICB9KSxcbiAgICBzdGVwcGVyOiB7XG4gICAgICBmb250U2l6ZTogY2FsYyhmb250U2l6ZSkubXVsdGlwbHkoMC43NSkudG9TdHJpbmcoKSxcbiAgICAgIF9maXJzdDoge1xuICAgICAgICBib3JkZXJUb3BFbmRSYWRpdXM6IHJhZGl1c1tzaXplXVxuICAgICAgfSxcbiAgICAgIF9sYXN0OiB7XG4gICAgICAgIGJvcmRlckJvdHRvbUVuZFJhZGl1czogcmFkaXVzW3NpemVdLFxuICAgICAgICBtdDogXCItMXB4XCIsXG4gICAgICAgIGJvcmRlclRvcFdpZHRoOiAxXG4gICAgICB9XG4gICAgfVxuICB9O1xufVxuXG52YXIgc2l6ZXMkYyA9IHtcbiAgeHM6IGdldFNpemUoXCJ4c1wiKSxcbiAgc206IGdldFNpemUoXCJzbVwiKSxcbiAgbWQ6IGdldFNpemUoXCJtZFwiKSxcbiAgbGc6IGdldFNpemUoXCJsZ1wiKVxufTtcbnZhciBOdW1iZXJJbnB1dCA9IHtcbiAgcGFydHM6IG51bWJlcklucHV0QW5hdG9teS5rZXlzLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRoLFxuICBzaXplczogc2l6ZXMkYyxcbiAgdmFyaWFudHM6IHZhcmlhbnRzJDUsXG4gIGRlZmF1bHRQcm9wczogZGVmYXVsdFByb3BzJGJcbn07XG5cbnZhciBfSW5wdXQkdmFyaWFudHMkdW5zdHkkMTtcblxudmFyIGJhc2VTdHlsZSRnID0gX2V4dGVuZHMoe30sIElucHV0LmJhc2VTdHlsZS5maWVsZCwge1xuICB0ZXh0QWxpZ246IFwiY2VudGVyXCJcbn0pO1xuXG52YXIgc2l6ZXMkYiA9IHtcbiAgbGc6IHtcbiAgICBmb250U2l6ZTogXCJsZ1wiLFxuICAgIHc6IDEyLFxuICAgIGg6IDEyLFxuICAgIGJvcmRlclJhZGl1czogXCJtZFwiXG4gIH0sXG4gIG1kOiB7XG4gICAgZm9udFNpemU6IFwibWRcIixcbiAgICB3OiAxMCxcbiAgICBoOiAxMCxcbiAgICBib3JkZXJSYWRpdXM6IFwibWRcIlxuICB9LFxuICBzbToge1xuICAgIGZvbnRTaXplOiBcInNtXCIsXG4gICAgdzogOCxcbiAgICBoOiA4LFxuICAgIGJvcmRlclJhZGl1czogXCJzbVwiXG4gIH0sXG4gIHhzOiB7XG4gICAgZm9udFNpemU6IFwieHNcIixcbiAgICB3OiA2LFxuICAgIGg6IDYsXG4gICAgYm9yZGVyUmFkaXVzOiBcInNtXCJcbiAgfVxufTtcbnZhciB2YXJpYW50cyQ0ID0ge1xuICBvdXRsaW5lOiBmdW5jdGlvbiBvdXRsaW5lKHByb3BzKSB7XG4gICAgdmFyIF9JbnB1dCR2YXJpYW50cyRvdXRsaTtcblxuICAgIHJldHVybiAoX0lucHV0JHZhcmlhbnRzJG91dGxpID0gSW5wdXQudmFyaWFudHMub3V0bGluZShwcm9wcykuZmllbGQpICE9IG51bGwgPyBfSW5wdXQkdmFyaWFudHMkb3V0bGkgOiB7fTtcbiAgfSxcbiAgZmx1c2hlZDogZnVuY3Rpb24gZmx1c2hlZChwcm9wcykge1xuICAgIHZhciBfSW5wdXQkdmFyaWFudHMkZmx1c2g7XG5cbiAgICByZXR1cm4gKF9JbnB1dCR2YXJpYW50cyRmbHVzaCA9IElucHV0LnZhcmlhbnRzLmZsdXNoZWQocHJvcHMpLmZpZWxkKSAhPSBudWxsID8gX0lucHV0JHZhcmlhbnRzJGZsdXNoIDoge307XG4gIH0sXG4gIGZpbGxlZDogZnVuY3Rpb24gZmlsbGVkKHByb3BzKSB7XG4gICAgdmFyIF9JbnB1dCR2YXJpYW50cyRmaWxsZTtcblxuICAgIHJldHVybiAoX0lucHV0JHZhcmlhbnRzJGZpbGxlID0gSW5wdXQudmFyaWFudHMuZmlsbGVkKHByb3BzKS5maWVsZCkgIT0gbnVsbCA/IF9JbnB1dCR2YXJpYW50cyRmaWxsZSA6IHt9O1xuICB9LFxuICB1bnN0eWxlZDogKF9JbnB1dCR2YXJpYW50cyR1bnN0eSQxID0gSW5wdXQudmFyaWFudHMudW5zdHlsZWQuZmllbGQpICE9IG51bGwgPyBfSW5wdXQkdmFyaWFudHMkdW5zdHkkMSA6IHt9XG59O1xudmFyIGRlZmF1bHRQcm9wcyRhID0gSW5wdXQuZGVmYXVsdFByb3BzO1xudmFyIFBpbklucHV0ID0ge1xuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRnLFxuICBzaXplczogc2l6ZXMkYixcbiAgdmFyaWFudHM6IHZhcmlhbnRzJDQsXG4gIGRlZmF1bHRQcm9wczogZGVmYXVsdFByb3BzJGFcbn07XG5cbnZhciAkcG9wcGVyQmcgPSBjc3NWYXIoXCJwb3BwZXItYmdcIik7XG52YXIgJGFycm93QmckMSA9IGNzc1ZhcihcInBvcHBlci1hcnJvdy1iZ1wiKTtcbnZhciAkYXJyb3dTaGFkb3dDb2xvciA9IGNzc1ZhcihcInBvcHBlci1hcnJvdy1zaGFkb3ctY29sb3JcIik7XG52YXIgYmFzZVN0eWxlUG9wcGVyID0ge1xuICB6SW5kZXg6IDEwXG59O1xuXG52YXIgYmFzZVN0eWxlQ29udGVudCA9IGZ1bmN0aW9uIGJhc2VTdHlsZUNvbnRlbnQocHJvcHMpIHtcbiAgdmFyIF9yZWY7XG5cbiAgdmFyIGJnID0gbW9kZShcIndoaXRlXCIsIFwiZ3JheS43MDBcIikocHJvcHMpO1xuICB2YXIgc2hhZG93Q29sb3IgPSBtb2RlKFwiZ3JheS4yMDBcIiwgXCJ3aGl0ZUFscGhhLjMwMFwiKShwcm9wcyk7XG4gIHJldHVybiBfcmVmID0ge30sIF9yZWZbJHBvcHBlckJnLnZhcmlhYmxlXSA9IFwiY29sb3JzLlwiICsgYmcsIF9yZWYuYmcgPSAkcG9wcGVyQmcucmVmZXJlbmNlLCBfcmVmWyRhcnJvd0JnJDEudmFyaWFibGVdID0gJHBvcHBlckJnLnJlZmVyZW5jZSwgX3JlZlskYXJyb3dTaGFkb3dDb2xvci52YXJpYWJsZV0gPSBcImNvbG9ycy5cIiArIHNoYWRvd0NvbG9yLCBfcmVmLndpZHRoID0gXCJ4c1wiLCBfcmVmLmJvcmRlciA9IFwiMXB4IHNvbGlkXCIsIF9yZWYuYm9yZGVyQ29sb3IgPSBcImluaGVyaXRcIiwgX3JlZi5ib3JkZXJSYWRpdXMgPSBcIm1kXCIsIF9yZWYuYm94U2hhZG93ID0gXCJzbVwiLCBfcmVmLnpJbmRleCA9IFwiaW5oZXJpdFwiLCBfcmVmLl9mb2N1cyA9IHtcbiAgICBvdXRsaW5lOiAwLFxuICAgIGJveFNoYWRvdzogXCJvdXRsaW5lXCJcbiAgfSwgX3JlZjtcbn07XG5cbnZhciBiYXNlU3R5bGVIZWFkZXIgPSB7XG4gIHB4OiAzLFxuICBweTogMixcbiAgYm9yZGVyQm90dG9tV2lkdGg6IFwiMXB4XCJcbn07XG52YXIgYmFzZVN0eWxlQm9keSA9IHtcbiAgcHg6IDMsXG4gIHB5OiAyXG59O1xudmFyIGJhc2VTdHlsZUZvb3RlciA9IHtcbiAgcHg6IDMsXG4gIHB5OiAyLFxuICBib3JkZXJUb3BXaWR0aDogXCIxcHhcIlxufTtcbnZhciBiYXNlU3R5bGVDbG9zZUJ1dHRvbiQxID0ge1xuICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICBib3JkZXJSYWRpdXM6IFwibWRcIixcbiAgdG9wOiAxLFxuICBpbnNldEVuZDogMixcbiAgcGFkZGluZzogMlxufTtcblxudmFyIGJhc2VTdHlsZSRmID0gZnVuY3Rpb24gYmFzZVN0eWxlKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgcG9wcGVyOiBiYXNlU3R5bGVQb3BwZXIsXG4gICAgY29udGVudDogYmFzZVN0eWxlQ29udGVudChwcm9wcyksXG4gICAgaGVhZGVyOiBiYXNlU3R5bGVIZWFkZXIsXG4gICAgYm9keTogYmFzZVN0eWxlQm9keSxcbiAgICBmb290ZXI6IGJhc2VTdHlsZUZvb3RlcixcbiAgICBhcnJvdzoge30sXG4gICAgY2xvc2VCdXR0b246IGJhc2VTdHlsZUNsb3NlQnV0dG9uJDFcbiAgfTtcbn07XG5cbnZhciBQb3BvdmVyID0ge1xuICBwYXJ0czogcG9wb3ZlckFuYXRvbXkua2V5cyxcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGUkZlxufTtcblxuZnVuY3Rpb24gZmlsbGVkU3R5bGUocHJvcHMpIHtcbiAgdmFyIGMgPSBwcm9wcy5jb2xvclNjaGVtZSxcbiAgICAgIHQgPSBwcm9wcy50aGVtZSxcbiAgICAgIGlzSW5kZXRlcm1pbmF0ZSA9IHByb3BzLmlzSW5kZXRlcm1pbmF0ZSxcbiAgICAgIGhhc1N0cmlwZSA9IHByb3BzLmhhc1N0cmlwZTtcbiAgdmFyIHN0cmlwZVN0eWxlID0gbW9kZShnZW5lcmF0ZVN0cmlwZSgpLCBnZW5lcmF0ZVN0cmlwZShcIjFyZW1cIiwgXCJyZ2JhKDAsMCwwLDAuMSlcIikpKHByb3BzKTtcbiAgdmFyIGJnQ29sb3IgPSBtb2RlKGMgKyBcIi41MDBcIiwgYyArIFwiLjIwMFwiKShwcm9wcyk7XG4gIHZhciBncmFkaWVudCA9IFwibGluZWFyLWdyYWRpZW50KFxcbiAgICB0byByaWdodCxcXG4gICAgdHJhbnNwYXJlbnQgMCUsXFxuICAgIFwiICsgZ2V0Q29sb3IodCwgYmdDb2xvcikgKyBcIiA1MCUsXFxuICAgIHRyYW5zcGFyZW50IDEwMCVcXG4gIClcIjtcbiAgdmFyIGFkZFN0cmlwZSA9ICFpc0luZGV0ZXJtaW5hdGUgJiYgaGFzU3RyaXBlO1xuICByZXR1cm4gX2V4dGVuZHMoe30sIGFkZFN0cmlwZSAmJiBzdHJpcGVTdHlsZSwgaXNJbmRldGVybWluYXRlID8ge1xuICAgIGJnSW1hZ2U6IGdyYWRpZW50XG4gIH0gOiB7XG4gICAgYmdDb2xvcjogYmdDb2xvclxuICB9KTtcbn1cblxudmFyIGJhc2VTdHlsZUxhYmVsJDIgPSB7XG4gIGxpbmVIZWlnaHQ6IFwiMVwiLFxuICBmb250U2l6ZTogXCIwLjI1ZW1cIixcbiAgZm9udFdlaWdodDogXCJib2xkXCIsXG4gIGNvbG9yOiBcIndoaXRlXCJcbn07XG5cbnZhciBiYXNlU3R5bGVUcmFjayQyID0gZnVuY3Rpb24gYmFzZVN0eWxlVHJhY2socHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICBiZzogbW9kZShcImdyYXkuMTAwXCIsIFwid2hpdGVBbHBoYS4zMDBcIikocHJvcHMpXG4gIH07XG59O1xuXG52YXIgYmFzZVN0eWxlRmlsbGVkVHJhY2skMSA9IGZ1bmN0aW9uIGJhc2VTdHlsZUZpbGxlZFRyYWNrKHByb3BzKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgdHJhbnNpdGlvblByb3BlcnR5OiBcImNvbW1vblwiLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogXCJzbG93XCJcbiAgfSwgZmlsbGVkU3R5bGUocHJvcHMpKTtcbn07XG5cbnZhciBiYXNlU3R5bGUkZSA9IGZ1bmN0aW9uIGJhc2VTdHlsZShwcm9wcykge1xuICByZXR1cm4ge1xuICAgIGxhYmVsOiBiYXNlU3R5bGVMYWJlbCQyLFxuICAgIGZpbGxlZFRyYWNrOiBiYXNlU3R5bGVGaWxsZWRUcmFjayQxKHByb3BzKSxcbiAgICB0cmFjazogYmFzZVN0eWxlVHJhY2skMihwcm9wcylcbiAgfTtcbn07XG5cbnZhciBzaXplcyRhID0ge1xuICB4czoge1xuICAgIHRyYWNrOiB7XG4gICAgICBoOiBcIjAuMjVyZW1cIlxuICAgIH1cbiAgfSxcbiAgc206IHtcbiAgICB0cmFjazoge1xuICAgICAgaDogXCIwLjVyZW1cIlxuICAgIH1cbiAgfSxcbiAgbWQ6IHtcbiAgICB0cmFjazoge1xuICAgICAgaDogXCIwLjc1cmVtXCJcbiAgICB9XG4gIH0sXG4gIGxnOiB7XG4gICAgdHJhY2s6IHtcbiAgICAgIGg6IFwiMXJlbVwiXG4gICAgfVxuICB9XG59O1xudmFyIGRlZmF1bHRQcm9wcyQ5ID0ge1xuICBzaXplOiBcIm1kXCIsXG4gIGNvbG9yU2NoZW1lOiBcImJsdWVcIlxufTtcbnZhciBQcm9ncmVzcyA9IHtcbiAgcGFydHM6IHByb2dyZXNzQW5hdG9teS5rZXlzLFxuICBzaXplczogc2l6ZXMkYSxcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGUkZSxcbiAgZGVmYXVsdFByb3BzOiBkZWZhdWx0UHJvcHMkOVxufTtcblxudmFyIGJhc2VTdHlsZUNvbnRyb2wgPSBmdW5jdGlvbiBiYXNlU3R5bGVDb250cm9sKHByb3BzKSB7XG4gIHZhciBfQ2hlY2tib3gkYmFzZVN0eWxlID0gQ2hlY2tib3guYmFzZVN0eWxlKHByb3BzKSxcbiAgICAgIF9DaGVja2JveCRiYXNlU3R5bGUkYyA9IF9DaGVja2JveCRiYXNlU3R5bGUuY29udHJvbCxcbiAgICAgIGNvbnRyb2wgPSBfQ2hlY2tib3gkYmFzZVN0eWxlJGMgPT09IHZvaWQgMCA/IHt9IDogX0NoZWNrYm94JGJhc2VTdHlsZSRjO1xuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgY29udHJvbCwge1xuICAgIGJvcmRlclJhZGl1czogXCJmdWxsXCIsXG4gICAgX2NoZWNrZWQ6IF9leHRlbmRzKHt9LCBjb250cm9sW1wiX2NoZWNrZWRcIl0sIHtcbiAgICAgIF9iZWZvcmU6IHtcbiAgICAgICAgY29udGVudDogXCJcXFwiXFxcIlwiLFxuICAgICAgICBkaXNwbGF5OiBcImlubGluZS1ibG9ja1wiLFxuICAgICAgICBwb3M6IFwicmVsYXRpdmVcIixcbiAgICAgICAgdzogXCI1MCVcIixcbiAgICAgICAgaDogXCI1MCVcIixcbiAgICAgICAgYm9yZGVyUmFkaXVzOiBcIjUwJVwiLFxuICAgICAgICBiZzogXCJjdXJyZW50Q29sb3JcIlxuICAgICAgfVxuICAgIH0pXG4gIH0pO1xufTtcblxudmFyIGJhc2VTdHlsZSRkID0gZnVuY3Rpb24gYmFzZVN0eWxlKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgbGFiZWw6IENoZWNrYm94LmJhc2VTdHlsZShwcm9wcykubGFiZWwsXG4gICAgY29udHJvbDogYmFzZVN0eWxlQ29udHJvbChwcm9wcylcbiAgfTtcbn07XG5cbnZhciBzaXplcyQ5ID0ge1xuICBtZDoge1xuICAgIGNvbnRyb2w6IHtcbiAgICAgIHc6IDQsXG4gICAgICBoOiA0XG4gICAgfSxcbiAgICBsYWJlbDoge1xuICAgICAgZm9udFNpemU6IFwibWRcIlxuICAgIH1cbiAgfSxcbiAgbGc6IHtcbiAgICBjb250cm9sOiB7XG4gICAgICB3OiA1LFxuICAgICAgaDogNVxuICAgIH0sXG4gICAgbGFiZWw6IHtcbiAgICAgIGZvbnRTaXplOiBcImxnXCJcbiAgICB9XG4gIH0sXG4gIHNtOiB7XG4gICAgY29udHJvbDoge1xuICAgICAgd2lkdGg6IDMsXG4gICAgICBoZWlnaHQ6IDNcbiAgICB9LFxuICAgIGxhYmVsOiB7XG4gICAgICBmb250U2l6ZTogXCJzbVwiXG4gICAgfVxuICB9XG59O1xudmFyIGRlZmF1bHRQcm9wcyQ4ID0ge1xuICBzaXplOiBcIm1kXCIsXG4gIGNvbG9yU2NoZW1lOiBcImJsdWVcIlxufTtcbnZhciBSYWRpbyA9IHtcbiAgcGFydHM6IHJhZGlvQW5hdG9teS5rZXlzLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSRkLFxuICBzaXplczogc2l6ZXMkOSxcbiAgZGVmYXVsdFByb3BzOiBkZWZhdWx0UHJvcHMkOFxufTtcblxudmFyIGJhc2VTdHlsZUZpZWxkID0gZnVuY3Rpb24gYmFzZVN0eWxlRmllbGQocHJvcHMpIHtcbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBJbnB1dC5iYXNlU3R5bGUuZmllbGQsIHtcbiAgICBiZzogbW9kZShcIndoaXRlXCIsIFwiZ3JheS43MDBcIikocHJvcHMpLFxuICAgIGFwcGVhcmFuY2U6IFwibm9uZVwiLFxuICAgIHBhZGRpbmdCb3R0b206IFwiMXB4XCIsXG4gICAgbGluZUhlaWdodDogXCJub3JtYWxcIixcbiAgICBcIj4gb3B0aW9uLCA+IG9wdGdyb3VwXCI6IHtcbiAgICAgIGJnOiBtb2RlKFwid2hpdGVcIiwgXCJncmF5LjcwMFwiKShwcm9wcylcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIGJhc2VTdHlsZUljb24kMiA9IHtcbiAgd2lkdGg6IFwiMS41cmVtXCIsXG4gIGhlaWdodDogXCIxMDAlXCIsXG4gIGluc2V0RW5kOiBcIjAuNXJlbVwiLFxuICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICBjb2xvcjogXCJjdXJyZW50Q29sb3JcIixcbiAgZm9udFNpemU6IFwiMS4yNXJlbVwiLFxuICBfZGlzYWJsZWQ6IHtcbiAgICBvcGFjaXR5OiAwLjVcbiAgfVxufTtcblxudmFyIGJhc2VTdHlsZSRjID0gZnVuY3Rpb24gYmFzZVN0eWxlKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgZmllbGQ6IGJhc2VTdHlsZUZpZWxkKHByb3BzKSxcbiAgICBpY29uOiBiYXNlU3R5bGVJY29uJDJcbiAgfTtcbn07XG5cbnZhciBpY29uU3BhY2luZyA9IHtcbiAgcGFkZGluZ0lubGluZUVuZDogXCIycmVtXCJcbn07XG52YXIgc2l6ZXMkOCA9IG1lcmdlV2l0aCh7fSwgSW5wdXQuc2l6ZXMsIHtcbiAgbGc6IHtcbiAgICBmaWVsZDogaWNvblNwYWNpbmdcbiAgfSxcbiAgbWQ6IHtcbiAgICBmaWVsZDogaWNvblNwYWNpbmdcbiAgfSxcbiAgc206IHtcbiAgICBmaWVsZDogaWNvblNwYWNpbmdcbiAgfSxcbiAgeHM6IHtcbiAgICBmaWVsZDogaWNvblNwYWNpbmcsXG4gICAgaWNvbjoge1xuICAgICAgaW5zZXRFbmQ6IFwiMC4yNXJlbVwiXG4gICAgfVxuICB9XG59KTtcbnZhciBTZWxlY3QgPSB7XG4gIHBhcnRzOiBzZWxlY3RBbmF0b215LmtleXMsXG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJGMsXG4gIHNpemVzOiBzaXplcyQ4LFxuICB2YXJpYW50czogSW5wdXQudmFyaWFudHMsXG4gIGRlZmF1bHRQcm9wczogSW5wdXQuZGVmYXVsdFByb3BzXG59O1xuXG52YXIgZmFkZSA9IGZ1bmN0aW9uIGZhZGUoc3RhcnRDb2xvciwgZW5kQ29sb3IpIHtcbiAgcmV0dXJuIGtleWZyYW1lcyh7XG4gICAgZnJvbToge1xuICAgICAgYm9yZGVyQ29sb3I6IHN0YXJ0Q29sb3IsXG4gICAgICBiYWNrZ3JvdW5kOiBzdGFydENvbG9yXG4gICAgfSxcbiAgICB0bzoge1xuICAgICAgYm9yZGVyQ29sb3I6IGVuZENvbG9yLFxuICAgICAgYmFja2dyb3VuZDogZW5kQ29sb3JcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIGJhc2VTdHlsZSRiID0gZnVuY3Rpb24gYmFzZVN0eWxlKHByb3BzKSB7XG4gIHZhciBkZWZhdWx0U3RhcnRDb2xvciA9IG1vZGUoXCJncmF5LjEwMFwiLCBcImdyYXkuODAwXCIpKHByb3BzKTtcbiAgdmFyIGRlZmF1bHRFbmRDb2xvciA9IG1vZGUoXCJncmF5LjQwMFwiLCBcImdyYXkuNjAwXCIpKHByb3BzKTtcbiAgdmFyIF9wcm9wcyRzdGFydENvbG9yID0gcHJvcHMuc3RhcnRDb2xvcixcbiAgICAgIHN0YXJ0Q29sb3IgPSBfcHJvcHMkc3RhcnRDb2xvciA9PT0gdm9pZCAwID8gZGVmYXVsdFN0YXJ0Q29sb3IgOiBfcHJvcHMkc3RhcnRDb2xvcixcbiAgICAgIF9wcm9wcyRlbmRDb2xvciA9IHByb3BzLmVuZENvbG9yLFxuICAgICAgZW5kQ29sb3IgPSBfcHJvcHMkZW5kQ29sb3IgPT09IHZvaWQgMCA/IGRlZmF1bHRFbmRDb2xvciA6IF9wcm9wcyRlbmRDb2xvcixcbiAgICAgIHNwZWVkID0gcHJvcHMuc3BlZWQsXG4gICAgICB0aGVtZSA9IHByb3BzLnRoZW1lO1xuICB2YXIgc3RhcnQgPSBnZXRDb2xvcih0aGVtZSwgc3RhcnRDb2xvcik7XG4gIHZhciBlbmQgPSBnZXRDb2xvcih0aGVtZSwgZW5kQ29sb3IpO1xuICByZXR1cm4ge1xuICAgIG9wYWNpdHk6IDAuNyxcbiAgICBib3JkZXJSYWRpdXM6IFwiMnB4XCIsXG4gICAgYm9yZGVyQ29sb3I6IHN0YXJ0LFxuICAgIGJhY2tncm91bmQ6IGVuZCxcbiAgICBhbmltYXRpb246IHNwZWVkICsgXCJzIGxpbmVhciBpbmZpbml0ZSBhbHRlcm5hdGUgXCIgKyBmYWRlKHN0YXJ0LCBlbmQpXG4gIH07XG59O1xuXG52YXIgU2tlbGV0b24gPSB7XG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJGJcbn07XG5cbnZhciBiYXNlU3R5bGUkYSA9IGZ1bmN0aW9uIGJhc2VTdHlsZShwcm9wcykge1xuICByZXR1cm4ge1xuICAgIGJvcmRlclJhZGl1czogXCJtZFwiLFxuICAgIGZvbnRXZWlnaHQ6IFwic2VtaWJvbGRcIixcbiAgICBfZm9jdXM6IHtcbiAgICAgIGJveFNoYWRvdzogXCJvdXRsaW5lXCIsXG4gICAgICBwYWRkaW5nOiBcIjFyZW1cIixcbiAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICB0b3A6IFwiMS41cmVtXCIsXG4gICAgICBpbnNldFN0YXJ0OiBcIjEuNXJlbVwiLFxuICAgICAgYmc6IG1vZGUoXCJ3aGl0ZVwiLCBcImdyYXkuNzAwXCIpKHByb3BzKVxuICAgIH1cbiAgfTtcbn07XG5cbnZhciBTa2lwTGluayA9IHtcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGUkYVxufTtcblxuZnVuY3Rpb24gdGh1bWJPcmllbnRhdGlvbihwcm9wcykge1xuICByZXR1cm4gb3JpZW50KHtcbiAgICBvcmllbnRhdGlvbjogcHJvcHMub3JpZW50YXRpb24sXG4gICAgdmVydGljYWw6IHtcbiAgICAgIGxlZnQ6IFwiNTAlXCIsXG4gICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWCgtNTAlKVwiLFxuICAgICAgX2FjdGl2ZToge1xuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWCgtNTAlKSBzY2FsZSgxLjE1KVwiXG4gICAgICB9XG4gICAgfSxcbiAgICBob3Jpem9udGFsOiB7XG4gICAgICB0b3A6IFwiNTAlXCIsXG4gICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgtNTAlKVwiLFxuICAgICAgX2FjdGl2ZToge1xuICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWSgtNTAlKSBzY2FsZSgxLjE1KVwiXG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxudmFyIGJhc2VTdHlsZUNvbnRhaW5lciQxID0gZnVuY3Rpb24gYmFzZVN0eWxlQ29udGFpbmVyKHByb3BzKSB7XG4gIHZhciBvcmllbnRhdGlvbiA9IHByb3BzLm9yaWVudGF0aW9uO1xuICByZXR1cm4gX2V4dGVuZHMoe1xuICAgIGRpc3BsYXk6IFwiaW5saW5lLWJsb2NrXCIsXG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgIF9kaXNhYmxlZDoge1xuICAgICAgb3BhY2l0eTogMC42LFxuICAgICAgY3Vyc29yOiBcImRlZmF1bHRcIixcbiAgICAgIHBvaW50ZXJFdmVudHM6IFwibm9uZVwiXG4gICAgfVxuICB9LCBvcmllbnQoe1xuICAgIG9yaWVudGF0aW9uOiBvcmllbnRhdGlvbixcbiAgICB2ZXJ0aWNhbDoge1xuICAgICAgaDogXCIxMDAlXCJcbiAgICB9LFxuICAgIGhvcml6b250YWw6IHtcbiAgICAgIHc6IFwiMTAwJVwiXG4gICAgfVxuICB9KSk7XG59O1xuXG52YXIgYmFzZVN0eWxlVHJhY2skMSA9IGZ1bmN0aW9uIGJhc2VTdHlsZVRyYWNrKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgYm9yZGVyUmFkaXVzOiBcInNtXCIsXG4gICAgYmc6IG1vZGUoXCJncmF5LjIwMFwiLCBcIndoaXRlQWxwaGEuMjAwXCIpKHByb3BzKSxcbiAgICBfZGlzYWJsZWQ6IHtcbiAgICAgIGJnOiBtb2RlKFwiZ3JheS4zMDBcIiwgXCJ3aGl0ZUFscGhhLjMwMFwiKShwcm9wcylcbiAgICB9XG4gIH07XG59O1xuXG52YXIgYmFzZVN0eWxlVGh1bWIkMSA9IGZ1bmN0aW9uIGJhc2VTdHlsZVRodW1iKHByb3BzKSB7XG4gIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgIG91dGxpbmU6IDAsXG4gICAgekluZGV4OiAxLFxuICAgIGJvcmRlclJhZGl1czogXCJmdWxsXCIsXG4gICAgYmc6IFwid2hpdGVcIixcbiAgICBib3hTaGFkb3c6IFwiYmFzZVwiLFxuICAgIGJvcmRlcjogXCIxcHggc29saWRcIixcbiAgICBib3JkZXJDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxuICAgIHRyYW5zaXRpb25Qcm9wZXJ0eTogXCJ0cmFuc2Zvcm1cIixcbiAgICB0cmFuc2l0aW9uRHVyYXRpb246IFwibm9ybWFsXCIsXG4gICAgX2ZvY3VzOiB7XG4gICAgICBib3hTaGFkb3c6IFwib3V0bGluZVwiXG4gICAgfSxcbiAgICBfZGlzYWJsZWQ6IHtcbiAgICAgIGJnOiBcImdyYXkuMzAwXCJcbiAgICB9XG4gIH0sIHRodW1iT3JpZW50YXRpb24ocHJvcHMpKTtcbn07XG5cbnZhciBiYXNlU3R5bGVGaWxsZWRUcmFjayA9IGZ1bmN0aW9uIGJhc2VTdHlsZUZpbGxlZFRyYWNrKHByb3BzKSB7XG4gIHZhciBjID0gcHJvcHMuY29sb3JTY2hlbWU7XG4gIHJldHVybiB7XG4gICAgd2lkdGg6IFwiaW5oZXJpdFwiLFxuICAgIGhlaWdodDogXCJpbmhlcml0XCIsXG4gICAgYmc6IG1vZGUoYyArIFwiLjUwMFwiLCBjICsgXCIuMjAwXCIpKHByb3BzKVxuICB9O1xufTtcblxudmFyIGJhc2VTdHlsZSQ5ID0gZnVuY3Rpb24gYmFzZVN0eWxlKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgY29udGFpbmVyOiBiYXNlU3R5bGVDb250YWluZXIkMShwcm9wcyksXG4gICAgdHJhY2s6IGJhc2VTdHlsZVRyYWNrJDEocHJvcHMpLFxuICAgIHRodW1iOiBiYXNlU3R5bGVUaHVtYiQxKHByb3BzKSxcbiAgICBmaWxsZWRUcmFjazogYmFzZVN0eWxlRmlsbGVkVHJhY2socHJvcHMpXG4gIH07XG59O1xuXG52YXIgc2l6ZUxnID0gZnVuY3Rpb24gc2l6ZUxnKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgdGh1bWI6IHtcbiAgICAgIHc6IFwiMTZweFwiLFxuICAgICAgaDogXCIxNnB4XCJcbiAgICB9LFxuICAgIHRyYWNrOiBvcmllbnQoe1xuICAgICAgb3JpZW50YXRpb246IHByb3BzLm9yaWVudGF0aW9uLFxuICAgICAgaG9yaXpvbnRhbDoge1xuICAgICAgICBoOiBcIjRweFwiXG4gICAgICB9LFxuICAgICAgdmVydGljYWw6IHtcbiAgICAgICAgdzogXCI0cHhcIlxuICAgICAgfVxuICAgIH0pXG4gIH07XG59O1xuXG52YXIgc2l6ZU1kID0gZnVuY3Rpb24gc2l6ZU1kKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgdGh1bWI6IHtcbiAgICAgIHc6IFwiMTRweFwiLFxuICAgICAgaDogXCIxNHB4XCJcbiAgICB9LFxuICAgIHRyYWNrOiBvcmllbnQoe1xuICAgICAgb3JpZW50YXRpb246IHByb3BzLm9yaWVudGF0aW9uLFxuICAgICAgaG9yaXpvbnRhbDoge1xuICAgICAgICBoOiBcIjRweFwiXG4gICAgICB9LFxuICAgICAgdmVydGljYWw6IHtcbiAgICAgICAgdzogXCI0cHhcIlxuICAgICAgfVxuICAgIH0pXG4gIH07XG59O1xuXG52YXIgc2l6ZVNtID0gZnVuY3Rpb24gc2l6ZVNtKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgdGh1bWI6IHtcbiAgICAgIHc6IFwiMTBweFwiLFxuICAgICAgaDogXCIxMHB4XCJcbiAgICB9LFxuICAgIHRyYWNrOiBvcmllbnQoe1xuICAgICAgb3JpZW50YXRpb246IHByb3BzLm9yaWVudGF0aW9uLFxuICAgICAgaG9yaXpvbnRhbDoge1xuICAgICAgICBoOiBcIjJweFwiXG4gICAgICB9LFxuICAgICAgdmVydGljYWw6IHtcbiAgICAgICAgdzogXCIycHhcIlxuICAgICAgfVxuICAgIH0pXG4gIH07XG59O1xuXG52YXIgc2l6ZXMkNyA9IHtcbiAgbGc6IHNpemVMZyxcbiAgbWQ6IHNpemVNZCxcbiAgc206IHNpemVTbVxufTtcbnZhciBkZWZhdWx0UHJvcHMkNyA9IHtcbiAgc2l6ZTogXCJtZFwiLFxuICBjb2xvclNjaGVtZTogXCJibHVlXCJcbn07XG52YXIgU2xpZGVyID0ge1xuICBwYXJ0czogc2xpZGVyQW5hdG9teS5rZXlzLFxuICBzaXplczogc2l6ZXMkNyxcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGUkOSxcbiAgZGVmYXVsdFByb3BzOiBkZWZhdWx0UHJvcHMkN1xufTtcblxudmFyIF94cywgX3NtLCBfbWQsIF9sZywgX3hsO1xudmFyICRzaXplID0gY3NzVmFyKFwic3Bpbm5lci1zaXplXCIpO1xudmFyIGJhc2VTdHlsZSQ4ID0ge1xuICB3aWR0aDogWyRzaXplLnJlZmVyZW5jZV0sXG4gIGhlaWdodDogWyRzaXplLnJlZmVyZW5jZV1cbn07XG52YXIgc2l6ZXMkNiA9IHtcbiAgeHM6IChfeHMgPSB7fSwgX3hzWyRzaXplLnZhcmlhYmxlXSA9IFwiMC43NXJlbVwiLCBfeHMpLFxuICBzbTogKF9zbSA9IHt9LCBfc21bJHNpemUudmFyaWFibGVdID0gXCIxcmVtXCIsIF9zbSksXG4gIG1kOiAoX21kID0ge30sIF9tZFskc2l6ZS52YXJpYWJsZV0gPSBcIjEuNXJlbVwiLCBfbWQpLFxuICBsZzogKF9sZyA9IHt9LCBfbGdbJHNpemUudmFyaWFibGVdID0gXCIycmVtXCIsIF9sZyksXG4gIHhsOiAoX3hsID0ge30sIF94bFskc2l6ZS52YXJpYWJsZV0gPSBcIjNyZW1cIiwgX3hsKVxufTtcbnZhciBkZWZhdWx0UHJvcHMkNiA9IHtcbiAgc2l6ZTogXCJtZFwiXG59O1xudmFyIFNwaW5uZXIgPSB7XG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJDgsXG4gIHNpemVzOiBzaXplcyQ2LFxuICBkZWZhdWx0UHJvcHM6IGRlZmF1bHRQcm9wcyQ2XG59O1xuXG52YXIgYmFzZVN0eWxlTGFiZWwkMSA9IHtcbiAgZm9udFdlaWdodDogXCJtZWRpdW1cIlxufTtcbnZhciBiYXNlU3R5bGVIZWxwVGV4dCA9IHtcbiAgb3BhY2l0eTogMC44LFxuICBtYXJnaW5Cb3R0b206IDJcbn07XG52YXIgYmFzZVN0eWxlTnVtYmVyID0ge1xuICB2ZXJ0aWNhbEFsaWduOiBcImJhc2VsaW5lXCIsXG4gIGZvbnRXZWlnaHQ6IFwic2VtaWJvbGRcIlxufTtcbnZhciBiYXNlU3R5bGVJY29uJDEgPSB7XG4gIG1hcmdpbkVuZDogMSxcbiAgdzogXCIxNHB4XCIsXG4gIGg6IFwiMTRweFwiLFxuICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiXG59O1xudmFyIGJhc2VTdHlsZSQ3ID0ge1xuICBjb250YWluZXI6IHt9LFxuICBsYWJlbDogYmFzZVN0eWxlTGFiZWwkMSxcbiAgaGVscFRleHQ6IGJhc2VTdHlsZUhlbHBUZXh0LFxuICBudW1iZXI6IGJhc2VTdHlsZU51bWJlcixcbiAgaWNvbjogYmFzZVN0eWxlSWNvbiQxXG59O1xudmFyIHNpemVzJDUgPSB7XG4gIG1kOiB7XG4gICAgbGFiZWw6IHtcbiAgICAgIGZvbnRTaXplOiBcInNtXCJcbiAgICB9LFxuICAgIGhlbHBUZXh0OiB7XG4gICAgICBmb250U2l6ZTogXCJzbVwiXG4gICAgfSxcbiAgICBudW1iZXI6IHtcbiAgICAgIGZvbnRTaXplOiBcIjJ4bFwiXG4gICAgfVxuICB9XG59O1xudmFyIGRlZmF1bHRQcm9wcyQ1ID0ge1xuICBzaXplOiBcIm1kXCJcbn07XG52YXIgU3RhdCA9IHtcbiAgcGFydHM6IHN0YXRBbmF0b215LmtleXMsXG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJDcsXG4gIHNpemVzOiBzaXplcyQ1LFxuICBkZWZhdWx0UHJvcHM6IGRlZmF1bHRQcm9wcyQ1XG59O1xuXG52YXIgX2NvbnRhaW5lcjIsIF9jb250YWluZXIzLCBfY29udGFpbmVyNDtcbnZhciAkd2lkdGggPSBjc3NWYXIoXCJzd2l0Y2gtdHJhY2std2lkdGhcIik7XG52YXIgJGhlaWdodCA9IGNzc1ZhcihcInN3aXRjaC10cmFjay1oZWlnaHRcIik7XG52YXIgJGRpZmYgPSBjc3NWYXIoXCJzd2l0Y2gtdHJhY2stZGlmZlwiKTtcbnZhciBkaWZmVmFsdWUgPSBjYWxjLnN1YnRyYWN0KCR3aWR0aCwgJGhlaWdodCk7XG52YXIgJHRyYW5zbGF0ZVggPSBjc3NWYXIoXCJzd2l0Y2gtdGh1bWIteFwiKTtcblxudmFyIGJhc2VTdHlsZVRyYWNrID0gZnVuY3Rpb24gYmFzZVN0eWxlVHJhY2socHJvcHMpIHtcbiAgdmFyIGMgPSBwcm9wcy5jb2xvclNjaGVtZTtcbiAgcmV0dXJuIHtcbiAgICBib3JkZXJSYWRpdXM6IFwiZnVsbFwiLFxuICAgIHA6IFwiMnB4XCIsXG4gICAgd2lkdGg6IFskd2lkdGgucmVmZXJlbmNlXSxcbiAgICBoZWlnaHQ6IFskaGVpZ2h0LnJlZmVyZW5jZV0sXG4gICAgdHJhbnNpdGlvblByb3BlcnR5OiBcImNvbW1vblwiLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogXCJmYXN0XCIsXG4gICAgYmc6IG1vZGUoXCJncmF5LjMwMFwiLCBcIndoaXRlQWxwaGEuNDAwXCIpKHByb3BzKSxcbiAgICBfZm9jdXM6IHtcbiAgICAgIGJveFNoYWRvdzogXCJvdXRsaW5lXCJcbiAgICB9LFxuICAgIF9kaXNhYmxlZDoge1xuICAgICAgb3BhY2l0eTogMC40LFxuICAgICAgY3Vyc29yOiBcIm5vdC1hbGxvd2VkXCJcbiAgICB9LFxuICAgIF9jaGVja2VkOiB7XG4gICAgICBiZzogbW9kZShjICsgXCIuNTAwXCIsIGMgKyBcIi4yMDBcIikocHJvcHMpXG4gICAgfVxuICB9O1xufTtcblxudmFyIGJhc2VTdHlsZVRodW1iID0ge1xuICBiZzogXCJ3aGl0ZVwiLFxuICB0cmFuc2l0aW9uUHJvcGVydHk6IFwidHJhbnNmb3JtXCIsXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogXCJub3JtYWxcIixcbiAgYm9yZGVyUmFkaXVzOiBcImluaGVyaXRcIixcbiAgd2lkdGg6IFskaGVpZ2h0LnJlZmVyZW5jZV0sXG4gIGhlaWdodDogWyRoZWlnaHQucmVmZXJlbmNlXSxcbiAgX2NoZWNrZWQ6IHtcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlWChcIiArICR0cmFuc2xhdGVYLnJlZmVyZW5jZSArIFwiKVwiXG4gIH1cbn07XG5cbnZhciBiYXNlU3R5bGUkNiA9IGZ1bmN0aW9uIGJhc2VTdHlsZShwcm9wcykge1xuICB2YXIgX3J0bCwgX2NvbnRhaW5lcjtcblxuICByZXR1cm4ge1xuICAgIGNvbnRhaW5lcjogKF9jb250YWluZXIgPSB7fSwgX2NvbnRhaW5lclskZGlmZi52YXJpYWJsZV0gPSBkaWZmVmFsdWUsIF9jb250YWluZXJbJHRyYW5zbGF0ZVgudmFyaWFibGVdID0gJGRpZmYucmVmZXJlbmNlLCBfY29udGFpbmVyLl9ydGwgPSAoX3J0bCA9IHt9LCBfcnRsWyR0cmFuc2xhdGVYLnZhcmlhYmxlXSA9IGNhbGMoJGRpZmYpLm5lZ2F0ZSgpLnRvU3RyaW5nKCksIF9ydGwpLCBfY29udGFpbmVyKSxcbiAgICB0cmFjazogYmFzZVN0eWxlVHJhY2socHJvcHMpLFxuICAgIHRodW1iOiBiYXNlU3R5bGVUaHVtYlxuICB9O1xufTtcblxudmFyIHNpemVzJDQgPSB7XG4gIHNtOiB7XG4gICAgY29udGFpbmVyOiAoX2NvbnRhaW5lcjIgPSB7fSwgX2NvbnRhaW5lcjJbJHdpZHRoLnZhcmlhYmxlXSA9IFwiMS4zNzVyZW1cIiwgX2NvbnRhaW5lcjJbJGhlaWdodC52YXJpYWJsZV0gPSBcIjAuNzVyZW1cIiwgX2NvbnRhaW5lcjIpXG4gIH0sXG4gIG1kOiB7XG4gICAgY29udGFpbmVyOiAoX2NvbnRhaW5lcjMgPSB7fSwgX2NvbnRhaW5lcjNbJHdpZHRoLnZhcmlhYmxlXSA9IFwiMS44NzVyZW1cIiwgX2NvbnRhaW5lcjNbJGhlaWdodC52YXJpYWJsZV0gPSBcIjFyZW1cIiwgX2NvbnRhaW5lcjMpXG4gIH0sXG4gIGxnOiB7XG4gICAgY29udGFpbmVyOiAoX2NvbnRhaW5lcjQgPSB7fSwgX2NvbnRhaW5lcjRbJHdpZHRoLnZhcmlhYmxlXSA9IFwiMi44NzVyZW1cIiwgX2NvbnRhaW5lcjRbJGhlaWdodC52YXJpYWJsZV0gPSBcIjEuNXJlbVwiLCBfY29udGFpbmVyNClcbiAgfVxufTtcbnZhciBkZWZhdWx0UHJvcHMkNCA9IHtcbiAgc2l6ZTogXCJtZFwiLFxuICBjb2xvclNjaGVtZTogXCJibHVlXCJcbn07XG52YXIgU3dpdGNoID0ge1xuICBwYXJ0czogc3dpdGNoQW5hdG9teS5rZXlzLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSQ2LFxuICBzaXplczogc2l6ZXMkNCxcbiAgZGVmYXVsdFByb3BzOiBkZWZhdWx0UHJvcHMkNFxufTtcblxudmFyIGJhc2VTdHlsZSQ1ID0ge1xuICB0YWJsZToge1xuICAgIGZvbnRWYXJpYW50TnVtZXJpYzogXCJsaW5pbmctbnVtcyB0YWJ1bGFyLW51bXNcIixcbiAgICBib3JkZXJDb2xsYXBzZTogXCJjb2xsYXBzZVwiLFxuICAgIHdpZHRoOiBcImZ1bGxcIlxuICB9LFxuICB0aDoge1xuICAgIGZvbnRGYW1pbHk6IFwiaGVhZGluZ1wiLFxuICAgIGZvbnRXZWlnaHQ6IFwiYm9sZFwiLFxuICAgIHRleHRUcmFuc2Zvcm06IFwidXBwZXJjYXNlXCIsXG4gICAgbGV0dGVyU3BhY2luZzogXCJ3aWRlclwiLFxuICAgIHRleHRBbGlnbjogXCJzdGFydFwiXG4gIH0sXG4gIHRkOiB7XG4gICAgdGV4dEFsaWduOiBcInN0YXJ0XCJcbiAgfSxcbiAgY2FwdGlvbjoge1xuICAgIG10OiA0LFxuICAgIGZvbnRGYW1pbHk6IFwiaGVhZGluZ1wiLFxuICAgIHRleHRBbGlnbjogXCJjZW50ZXJcIixcbiAgICBmb250V2VpZ2h0OiBcIm1lZGl1bVwiXG4gIH1cbn07XG52YXIgbnVtZXJpY1N0eWxlcyA9IHtcbiAgXCImW2RhdGEtaXMtbnVtZXJpYz10cnVlXVwiOiB7XG4gICAgdGV4dEFsaWduOiBcImVuZFwiXG4gIH1cbn07XG5cbnZhciB2YXJpYW50U2ltcGxlID0gZnVuY3Rpb24gdmFyaWFudFNpbXBsZShwcm9wcykge1xuICB2YXIgYyA9IHByb3BzLmNvbG9yU2NoZW1lO1xuICByZXR1cm4ge1xuICAgIHRoOiBfZXh0ZW5kcyh7XG4gICAgICBjb2xvcjogbW9kZShcImdyYXkuNjAwXCIsIFwiZ3JheS40MDBcIikocHJvcHMpLFxuICAgICAgYm9yZGVyQm90dG9tOiBcIjFweFwiLFxuICAgICAgYm9yZGVyQ29sb3I6IG1vZGUoYyArIFwiLjEwMFwiLCBjICsgXCIuNzAwXCIpKHByb3BzKVxuICAgIH0sIG51bWVyaWNTdHlsZXMpLFxuICAgIHRkOiBfZXh0ZW5kcyh7XG4gICAgICBib3JkZXJCb3R0b206IFwiMXB4XCIsXG4gICAgICBib3JkZXJDb2xvcjogbW9kZShjICsgXCIuMTAwXCIsIGMgKyBcIi43MDBcIikocHJvcHMpXG4gICAgfSwgbnVtZXJpY1N0eWxlcyksXG4gICAgY2FwdGlvbjoge1xuICAgICAgY29sb3I6IG1vZGUoXCJncmF5LjYwMFwiLCBcImdyYXkuMTAwXCIpKHByb3BzKVxuICAgIH0sXG4gICAgdGZvb3Q6IHtcbiAgICAgIHRyOiB7XG4gICAgICAgIFwiJjpsYXN0LW9mLXR5cGVcIjoge1xuICAgICAgICAgIHRoOiB7XG4gICAgICAgICAgICBib3JkZXJCb3R0b21XaWR0aDogMFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbnZhciB2YXJpYW50U3RyaXBlID0gZnVuY3Rpb24gdmFyaWFudFN0cmlwZShwcm9wcykge1xuICB2YXIgYyA9IHByb3BzLmNvbG9yU2NoZW1lO1xuICByZXR1cm4ge1xuICAgIHRoOiBfZXh0ZW5kcyh7XG4gICAgICBjb2xvcjogbW9kZShcImdyYXkuNjAwXCIsIFwiZ3JheS40MDBcIikocHJvcHMpLFxuICAgICAgYm9yZGVyQm90dG9tOiBcIjFweFwiLFxuICAgICAgYm9yZGVyQ29sb3I6IG1vZGUoYyArIFwiLjEwMFwiLCBjICsgXCIuNzAwXCIpKHByb3BzKVxuICAgIH0sIG51bWVyaWNTdHlsZXMpLFxuICAgIHRkOiBfZXh0ZW5kcyh7XG4gICAgICBib3JkZXJCb3R0b206IFwiMXB4XCIsXG4gICAgICBib3JkZXJDb2xvcjogbW9kZShjICsgXCIuMTAwXCIsIGMgKyBcIi43MDBcIikocHJvcHMpXG4gICAgfSwgbnVtZXJpY1N0eWxlcyksXG4gICAgY2FwdGlvbjoge1xuICAgICAgY29sb3I6IG1vZGUoXCJncmF5LjYwMFwiLCBcImdyYXkuMTAwXCIpKHByb3BzKVxuICAgIH0sXG4gICAgdGJvZHk6IHtcbiAgICAgIHRyOiB7XG4gICAgICAgIFwiJjpudGgtb2YtdHlwZShvZGQpXCI6IHtcbiAgICAgICAgICBcInRoLCB0ZFwiOiB7XG4gICAgICAgICAgICBib3JkZXJCb3R0b21XaWR0aDogXCIxcHhcIixcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiBtb2RlKGMgKyBcIi4xMDBcIiwgYyArIFwiLjcwMFwiKShwcm9wcylcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRkOiB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiBtb2RlKGMgKyBcIi4xMDBcIiwgYyArIFwiLjcwMFwiKShwcm9wcylcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHRmb290OiB7XG4gICAgICB0cjoge1xuICAgICAgICBcIiY6bGFzdC1vZi10eXBlXCI6IHtcbiAgICAgICAgICB0aDoge1xuICAgICAgICAgICAgYm9yZGVyQm90dG9tV2lkdGg6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG52YXIgdmFyaWFudHMkMyA9IHtcbiAgc2ltcGxlOiB2YXJpYW50U2ltcGxlLFxuICBzdHJpcGVkOiB2YXJpYW50U3RyaXBlLFxuICB1bnN0eWxlZDoge31cbn07XG52YXIgc2l6ZXMkMyA9IHtcbiAgc206IHtcbiAgICB0aDoge1xuICAgICAgcHg6IFwiNFwiLFxuICAgICAgcHk6IFwiMVwiLFxuICAgICAgbGluZUhlaWdodDogXCI0XCIsXG4gICAgICBmb250U2l6ZTogXCJ4c1wiXG4gICAgfSxcbiAgICB0ZDoge1xuICAgICAgcHg6IFwiNFwiLFxuICAgICAgcHk6IFwiMlwiLFxuICAgICAgZm9udFNpemU6IFwic21cIixcbiAgICAgIGxpbmVIZWlnaHQ6IFwiNFwiXG4gICAgfSxcbiAgICBjYXB0aW9uOiB7XG4gICAgICBweDogXCI0XCIsXG4gICAgICBweTogXCIyXCIsXG4gICAgICBmb250U2l6ZTogXCJ4c1wiXG4gICAgfVxuICB9LFxuICBtZDoge1xuICAgIHRoOiB7XG4gICAgICBweDogXCI2XCIsXG4gICAgICBweTogXCIzXCIsXG4gICAgICBsaW5lSGVpZ2h0OiBcIjRcIixcbiAgICAgIGZvbnRTaXplOiBcInhzXCJcbiAgICB9LFxuICAgIHRkOiB7XG4gICAgICBweDogXCI2XCIsXG4gICAgICBweTogXCI0XCIsXG4gICAgICBsaW5lSGVpZ2h0OiBcIjVcIlxuICAgIH0sXG4gICAgY2FwdGlvbjoge1xuICAgICAgcHg6IFwiNlwiLFxuICAgICAgcHk6IFwiMlwiLFxuICAgICAgZm9udFNpemU6IFwic21cIlxuICAgIH1cbiAgfSxcbiAgbGc6IHtcbiAgICB0aDoge1xuICAgICAgcHg6IFwiOFwiLFxuICAgICAgcHk6IFwiNFwiLFxuICAgICAgbGluZUhlaWdodDogXCI1XCIsXG4gICAgICBmb250U2l6ZTogXCJzbVwiXG4gICAgfSxcbiAgICB0ZDoge1xuICAgICAgcHg6IFwiOFwiLFxuICAgICAgcHk6IFwiNVwiLFxuICAgICAgbGluZUhlaWdodDogXCI2XCJcbiAgICB9LFxuICAgIGNhcHRpb246IHtcbiAgICAgIHB4OiBcIjZcIixcbiAgICAgIHB5OiBcIjJcIixcbiAgICAgIGZvbnRTaXplOiBcIm1kXCJcbiAgICB9XG4gIH1cbn07XG52YXIgZGVmYXVsdFByb3BzJDMgPSB7XG4gIHZhcmlhbnQ6IFwic2ltcGxlXCIsXG4gIHNpemU6IFwibWRcIixcbiAgY29sb3JTY2hlbWU6IFwiZ3JheVwiXG59O1xudmFyIFRhYmxlID0ge1xuICBwYXJ0czogdGFibGVBbmF0b215LmtleXMsXG4gIGJhc2VTdHlsZTogYmFzZVN0eWxlJDUsXG4gIHZhcmlhbnRzOiB2YXJpYW50cyQzLFxuICBzaXplczogc2l6ZXMkMyxcbiAgZGVmYXVsdFByb3BzOiBkZWZhdWx0UHJvcHMkM1xufTtcblxudmFyIGJhc2VTdHlsZVJvb3QgPSBmdW5jdGlvbiBiYXNlU3R5bGVSb290KHByb3BzKSB7XG4gIHZhciBvcmllbnRhdGlvbiA9IHByb3BzLm9yaWVudGF0aW9uO1xuICByZXR1cm4ge1xuICAgIGRpc3BsYXk6IG9yaWVudGF0aW9uID09PSBcInZlcnRpY2FsXCIgPyBcImZsZXhcIiA6IFwiYmxvY2tcIlxuICB9O1xufTtcblxudmFyIGJhc2VTdHlsZVRhYiA9IGZ1bmN0aW9uIGJhc2VTdHlsZVRhYihwcm9wcykge1xuICB2YXIgaXNGaXR0ZWQgPSBwcm9wcy5pc0ZpdHRlZDtcbiAgcmV0dXJuIHtcbiAgICBmbGV4OiBpc0ZpdHRlZCA/IDEgOiB1bmRlZmluZWQsXG4gICAgdHJhbnNpdGlvblByb3BlcnR5OiBcImNvbW1vblwiLFxuICAgIHRyYW5zaXRpb25EdXJhdGlvbjogXCJub3JtYWxcIixcbiAgICBfZm9jdXM6IHtcbiAgICAgIHpJbmRleDogMSxcbiAgICAgIGJveFNoYWRvdzogXCJvdXRsaW5lXCJcbiAgICB9XG4gIH07XG59O1xuXG52YXIgYmFzZVN0eWxlVGFibGlzdCA9IGZ1bmN0aW9uIGJhc2VTdHlsZVRhYmxpc3QocHJvcHMpIHtcbiAgdmFyIF9wcm9wcyRhbGlnbiA9IHByb3BzLmFsaWduLFxuICAgICAgYWxpZ24gPSBfcHJvcHMkYWxpZ24gPT09IHZvaWQgMCA/IFwic3RhcnRcIiA6IF9wcm9wcyRhbGlnbixcbiAgICAgIG9yaWVudGF0aW9uID0gcHJvcHMub3JpZW50YXRpb247XG4gIHZhciBhbGlnbm1lbnRzID0ge1xuICAgIGVuZDogXCJmbGV4LWVuZFwiLFxuICAgIGNlbnRlcjogXCJjZW50ZXJcIixcbiAgICBzdGFydDogXCJmbGV4LXN0YXJ0XCJcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBqdXN0aWZ5Q29udGVudDogYWxpZ25tZW50c1thbGlnbl0sXG4gICAgZmxleERpcmVjdGlvbjogb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIiA/IFwiY29sdW1uXCIgOiBcInJvd1wiXG4gIH07XG59O1xuXG52YXIgYmFzZVN0eWxlVGFicGFuZWwgPSB7XG4gIHA6IDRcbn07XG5cbnZhciBiYXNlU3R5bGUkNCA9IGZ1bmN0aW9uIGJhc2VTdHlsZShwcm9wcykge1xuICByZXR1cm4ge1xuICAgIHJvb3Q6IGJhc2VTdHlsZVJvb3QocHJvcHMpLFxuICAgIHRhYjogYmFzZVN0eWxlVGFiKHByb3BzKSxcbiAgICB0YWJsaXN0OiBiYXNlU3R5bGVUYWJsaXN0KHByb3BzKSxcbiAgICB0YWJwYW5lbDogYmFzZVN0eWxlVGFicGFuZWxcbiAgfTtcbn07XG5cbnZhciBzaXplcyQyID0ge1xuICBzbToge1xuICAgIHRhYjoge1xuICAgICAgcHk6IDEsXG4gICAgICBweDogNCxcbiAgICAgIGZvbnRTaXplOiBcInNtXCJcbiAgICB9XG4gIH0sXG4gIG1kOiB7XG4gICAgdGFiOiB7XG4gICAgICBmb250U2l6ZTogXCJtZFwiLFxuICAgICAgcHk6IDIsXG4gICAgICBweDogNFxuICAgIH1cbiAgfSxcbiAgbGc6IHtcbiAgICB0YWI6IHtcbiAgICAgIGZvbnRTaXplOiBcImxnXCIsXG4gICAgICBweTogMyxcbiAgICAgIHB4OiA0XG4gICAgfVxuICB9XG59O1xuXG52YXIgdmFyaWFudExpbmUgPSBmdW5jdGlvbiB2YXJpYW50TGluZShwcm9wcykge1xuICB2YXIgX3RhYmxpc3QsIF90YWI7XG5cbiAgdmFyIGMgPSBwcm9wcy5jb2xvclNjaGVtZSxcbiAgICAgIG9yaWVudGF0aW9uID0gcHJvcHMub3JpZW50YXRpb247XG4gIHZhciBpc1ZlcnRpY2FsID0gb3JpZW50YXRpb24gPT09IFwidmVydGljYWxcIjtcbiAgdmFyIGJvcmRlclByb3AgPSBvcmllbnRhdGlvbiA9PT0gXCJ2ZXJ0aWNhbFwiID8gXCJib3JkZXJTdGFydFwiIDogXCJib3JkZXJCb3R0b21cIjtcbiAgdmFyIG1hcmdpblByb3AgPSBpc1ZlcnRpY2FsID8gXCJtYXJnaW5TdGFydFwiIDogXCJtYXJnaW5Cb3R0b21cIjtcbiAgcmV0dXJuIHtcbiAgICB0YWJsaXN0OiAoX3RhYmxpc3QgPSB7fSwgX3RhYmxpc3RbYm9yZGVyUHJvcF0gPSBcIjJweCBzb2xpZFwiLCBfdGFibGlzdC5ib3JkZXJDb2xvciA9IFwiaW5oZXJpdFwiLCBfdGFibGlzdCksXG4gICAgdGFiOiAoX3RhYiA9IHt9LCBfdGFiW2JvcmRlclByb3BdID0gXCIycHggc29saWRcIiwgX3RhYi5ib3JkZXJDb2xvciA9IFwidHJhbnNwYXJlbnRcIiwgX3RhYlttYXJnaW5Qcm9wXSA9IFwiLTJweFwiLCBfdGFiLl9zZWxlY3RlZCA9IHtcbiAgICAgIGNvbG9yOiBtb2RlKGMgKyBcIi42MDBcIiwgYyArIFwiLjMwMFwiKShwcm9wcyksXG4gICAgICBib3JkZXJDb2xvcjogXCJjdXJyZW50Q29sb3JcIlxuICAgIH0sIF90YWIuX2FjdGl2ZSA9IHtcbiAgICAgIGJnOiBtb2RlKFwiZ3JheS4yMDBcIiwgXCJ3aGl0ZUFscGhhLjMwMFwiKShwcm9wcylcbiAgICB9LCBfdGFiLl9kaXNhYmxlZCA9IHtcbiAgICAgIG9wYWNpdHk6IDAuNCxcbiAgICAgIGN1cnNvcjogXCJub3QtYWxsb3dlZFwiXG4gICAgfSwgX3RhYilcbiAgfTtcbn07XG5cbnZhciB2YXJpYW50RW5jbG9zZWQgPSBmdW5jdGlvbiB2YXJpYW50RW5jbG9zZWQocHJvcHMpIHtcbiAgdmFyIGMgPSBwcm9wcy5jb2xvclNjaGVtZTtcbiAgcmV0dXJuIHtcbiAgICB0YWI6IHtcbiAgICAgIGJvcmRlclRvcFJhZGl1czogXCJtZFwiLFxuICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZFwiLFxuICAgICAgYm9yZGVyQ29sb3I6IFwidHJhbnNwYXJlbnRcIixcbiAgICAgIG1iOiBcIi0xcHhcIixcbiAgICAgIF9zZWxlY3RlZDoge1xuICAgICAgICBjb2xvcjogbW9kZShjICsgXCIuNjAwXCIsIGMgKyBcIi4zMDBcIikocHJvcHMpLFxuICAgICAgICBib3JkZXJDb2xvcjogXCJpbmhlcml0XCIsXG4gICAgICAgIGJvcmRlckJvdHRvbUNvbG9yOiBtb2RlKFwid2hpdGVcIiwgXCJncmF5LjgwMFwiKShwcm9wcylcbiAgICAgIH1cbiAgICB9LFxuICAgIHRhYmxpc3Q6IHtcbiAgICAgIG1iOiBcIi0xcHhcIixcbiAgICAgIGJvcmRlckJvdHRvbTogXCIxcHggc29saWRcIixcbiAgICAgIGJvcmRlckNvbG9yOiBcImluaGVyaXRcIlxuICAgIH1cbiAgfTtcbn07XG5cbnZhciB2YXJpYW50RW5jbG9zZWRDb2xvcmVkID0gZnVuY3Rpb24gdmFyaWFudEVuY2xvc2VkQ29sb3JlZChwcm9wcykge1xuICB2YXIgYyA9IHByb3BzLmNvbG9yU2NoZW1lO1xuICByZXR1cm4ge1xuICAgIHRhYjoge1xuICAgICAgYm9yZGVyOiBcIjFweCBzb2xpZFwiLFxuICAgICAgYm9yZGVyQ29sb3I6IFwiaW5oZXJpdFwiLFxuICAgICAgYmc6IG1vZGUoXCJncmF5LjUwXCIsIFwid2hpdGVBbHBoYS41MFwiKShwcm9wcyksXG4gICAgICBtYjogXCItMXB4XCIsXG4gICAgICBfbm90TGFzdDoge1xuICAgICAgICBtYXJnaW5FbmQ6IFwiLTFweFwiXG4gICAgICB9LFxuICAgICAgX3NlbGVjdGVkOiB7XG4gICAgICAgIGJnOiBtb2RlKFwiI2ZmZlwiLCBcImdyYXkuODAwXCIpKHByb3BzKSxcbiAgICAgICAgY29sb3I6IG1vZGUoYyArIFwiLjYwMFwiLCBjICsgXCIuMzAwXCIpKHByb3BzKSxcbiAgICAgICAgYm9yZGVyQ29sb3I6IFwiaW5oZXJpdFwiLFxuICAgICAgICBib3JkZXJUb3BDb2xvcjogXCJjdXJyZW50Q29sb3JcIixcbiAgICAgICAgYm9yZGVyQm90dG9tQ29sb3I6IFwidHJhbnNwYXJlbnRcIlxuICAgICAgfVxuICAgIH0sXG4gICAgdGFibGlzdDoge1xuICAgICAgbWI6IFwiLTFweFwiLFxuICAgICAgYm9yZGVyQm90dG9tOiBcIjFweCBzb2xpZFwiLFxuICAgICAgYm9yZGVyQ29sb3I6IFwiaW5oZXJpdFwiXG4gICAgfVxuICB9O1xufTtcblxudmFyIHZhcmlhbnRTb2Z0Um91bmRlZCA9IGZ1bmN0aW9uIHZhcmlhbnRTb2Z0Um91bmRlZChwcm9wcykge1xuICB2YXIgYyA9IHByb3BzLmNvbG9yU2NoZW1lLFxuICAgICAgdGhlbWUgPSBwcm9wcy50aGVtZTtcbiAgcmV0dXJuIHtcbiAgICB0YWI6IHtcbiAgICAgIGJvcmRlclJhZGl1czogXCJmdWxsXCIsXG4gICAgICBmb250V2VpZ2h0OiBcInNlbWlib2xkXCIsXG4gICAgICBjb2xvcjogXCJncmF5LjYwMFwiLFxuICAgICAgX3NlbGVjdGVkOiB7XG4gICAgICAgIGNvbG9yOiBnZXRDb2xvcih0aGVtZSwgYyArIFwiLjcwMFwiKSxcbiAgICAgICAgYmc6IGdldENvbG9yKHRoZW1lLCBjICsgXCIuMTAwXCIpXG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxudmFyIHZhcmlhbnRTb2xpZFJvdW5kZWQgPSBmdW5jdGlvbiB2YXJpYW50U29saWRSb3VuZGVkKHByb3BzKSB7XG4gIHZhciBjID0gcHJvcHMuY29sb3JTY2hlbWU7XG4gIHJldHVybiB7XG4gICAgdGFiOiB7XG4gICAgICBib3JkZXJSYWRpdXM6IFwiZnVsbFwiLFxuICAgICAgZm9udFdlaWdodDogXCJzZW1pYm9sZFwiLFxuICAgICAgY29sb3I6IG1vZGUoXCJncmF5LjYwMFwiLCBcImluaGVyaXRcIikocHJvcHMpLFxuICAgICAgX3NlbGVjdGVkOiB7XG4gICAgICAgIGNvbG9yOiBtb2RlKFwiI2ZmZlwiLCBcImdyYXkuODAwXCIpKHByb3BzKSxcbiAgICAgICAgYmc6IG1vZGUoYyArIFwiLjYwMFwiLCBjICsgXCIuMzAwXCIpKHByb3BzKVxuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbnZhciB2YXJpYW50VW5zdHlsZWQgPSB7fTtcbnZhciB2YXJpYW50cyQyID0ge1xuICBsaW5lOiB2YXJpYW50TGluZSxcbiAgZW5jbG9zZWQ6IHZhcmlhbnRFbmNsb3NlZCxcbiAgXCJlbmNsb3NlZC1jb2xvcmVkXCI6IHZhcmlhbnRFbmNsb3NlZENvbG9yZWQsXG4gIFwic29mdC1yb3VuZGVkXCI6IHZhcmlhbnRTb2Z0Um91bmRlZCxcbiAgXCJzb2xpZC1yb3VuZGVkXCI6IHZhcmlhbnRTb2xpZFJvdW5kZWQsXG4gIHVuc3R5bGVkOiB2YXJpYW50VW5zdHlsZWRcbn07XG52YXIgZGVmYXVsdFByb3BzJDIgPSB7XG4gIHNpemU6IFwibWRcIixcbiAgdmFyaWFudDogXCJsaW5lXCIsXG4gIGNvbG9yU2NoZW1lOiBcImJsdWVcIlxufTtcbnZhciBUYWJzID0ge1xuICBwYXJ0czogdGFic0FuYXRvbXkua2V5cyxcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGUkNCxcbiAgc2l6ZXM6IHNpemVzJDIsXG4gIHZhcmlhbnRzOiB2YXJpYW50cyQyLFxuICBkZWZhdWx0UHJvcHM6IGRlZmF1bHRQcm9wcyQyXG59O1xuXG52YXIgYmFzZVN0eWxlQ29udGFpbmVyID0ge1xuICBmb250V2VpZ2h0OiBcIm1lZGl1bVwiLFxuICBsaW5lSGVpZ2h0OiAxLjIsXG4gIG91dGxpbmU6IDAsXG4gIF9mb2N1czoge1xuICAgIGJveFNoYWRvdzogXCJvdXRsaW5lXCJcbiAgfVxufTtcbnZhciBiYXNlU3R5bGVMYWJlbCA9IHtcbiAgbGluZUhlaWdodDogMS4yLFxuICBvdmVyZmxvdzogXCJ2aXNpYmxlXCJcbn07XG52YXIgYmFzZVN0eWxlQ2xvc2VCdXR0b24gPSB7XG4gIGZvbnRTaXplOiBcIjE4cHhcIixcbiAgdzogXCIxLjI1cmVtXCIsXG4gIGg6IFwiMS4yNXJlbVwiLFxuICB0cmFuc2l0aW9uUHJvcGVydHk6IFwiY29tbW9uXCIsXG4gIHRyYW5zaXRpb25EdXJhdGlvbjogXCJub3JtYWxcIixcbiAgYm9yZGVyUmFkaXVzOiBcImZ1bGxcIixcbiAgbWFyZ2luU3RhcnQ6IFwiMC4zNzVyZW1cIixcbiAgbWFyZ2luRW5kOiBcIi0xXCIsXG4gIG9wYWNpdHk6IDAuNSxcbiAgX2Rpc2FibGVkOiB7XG4gICAgb3BhY2l0eTogMC40XG4gIH0sXG4gIF9mb2N1czoge1xuICAgIGJveFNoYWRvdzogXCJvdXRsaW5lXCIsXG4gICAgYmc6IFwicmdiYSgwLCAwLCAwLCAwLjE0KVwiXG4gIH0sXG4gIF9ob3Zlcjoge1xuICAgIG9wYWNpdHk6IDAuOFxuICB9LFxuICBfYWN0aXZlOiB7XG4gICAgb3BhY2l0eTogMVxuICB9XG59O1xudmFyIGJhc2VTdHlsZSQzID0ge1xuICBjb250YWluZXI6IGJhc2VTdHlsZUNvbnRhaW5lcixcbiAgbGFiZWw6IGJhc2VTdHlsZUxhYmVsLFxuICBjbG9zZUJ1dHRvbjogYmFzZVN0eWxlQ2xvc2VCdXR0b25cbn07XG52YXIgc2l6ZXMkMSA9IHtcbiAgc206IHtcbiAgICBjb250YWluZXI6IHtcbiAgICAgIG1pbkg6IFwiMS4yNXJlbVwiLFxuICAgICAgbWluVzogXCIxLjI1cmVtXCIsXG4gICAgICBmb250U2l6ZTogXCJ4c1wiLFxuICAgICAgcHg6IDIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwibWRcIlxuICAgIH0sXG4gICAgY2xvc2VCdXR0b246IHtcbiAgICAgIG1hcmdpbkVuZDogXCItMnB4XCIsXG4gICAgICBtYXJnaW5TdGFydDogXCIwLjM1cmVtXCJcbiAgICB9XG4gIH0sXG4gIG1kOiB7XG4gICAgY29udGFpbmVyOiB7XG4gICAgICBtaW5IOiBcIjEuNXJlbVwiLFxuICAgICAgbWluVzogXCIxLjVyZW1cIixcbiAgICAgIGZvbnRTaXplOiBcInNtXCIsXG4gICAgICBib3JkZXJSYWRpdXM6IFwibWRcIixcbiAgICAgIHB4OiAyXG4gICAgfVxuICB9LFxuICBsZzoge1xuICAgIGNvbnRhaW5lcjoge1xuICAgICAgbWluSDogOCxcbiAgICAgIG1pblc6IDgsXG4gICAgICBmb250U2l6ZTogXCJtZFwiLFxuICAgICAgYm9yZGVyUmFkaXVzOiBcIm1kXCIsXG4gICAgICBweDogM1xuICAgIH1cbiAgfVxufTtcbnZhciB2YXJpYW50cyQxID0ge1xuICBzdWJ0bGU6IGZ1bmN0aW9uIHN1YnRsZShwcm9wcykge1xuICAgIHJldHVybiB7XG4gICAgICBjb250YWluZXI6IEJhZGdlLnZhcmlhbnRzLnN1YnRsZShwcm9wcylcbiAgICB9O1xuICB9LFxuICBzb2xpZDogZnVuY3Rpb24gc29saWQocHJvcHMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY29udGFpbmVyOiBCYWRnZS52YXJpYW50cy5zb2xpZChwcm9wcylcbiAgICB9O1xuICB9LFxuICBvdXRsaW5lOiBmdW5jdGlvbiBvdXRsaW5lKHByb3BzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnRhaW5lcjogQmFkZ2UudmFyaWFudHMub3V0bGluZShwcm9wcylcbiAgICB9O1xuICB9XG59O1xudmFyIGRlZmF1bHRQcm9wcyQxID0ge1xuICBzaXplOiBcIm1kXCIsXG4gIHZhcmlhbnQ6IFwic3VidGxlXCIsXG4gIGNvbG9yU2NoZW1lOiBcImdyYXlcIlxufTtcbnZhciBUYWcgPSB7XG4gIHBhcnRzOiB0YWdBbmF0b215LmtleXMsXG4gIHZhcmlhbnRzOiB2YXJpYW50cyQxLFxuICBiYXNlU3R5bGU6IGJhc2VTdHlsZSQzLFxuICBzaXplczogc2l6ZXMkMSxcbiAgZGVmYXVsdFByb3BzOiBkZWZhdWx0UHJvcHMkMVxufTtcblxudmFyIF9JbnB1dCR2YXJpYW50cyR1bnN0eSwgX0lucHV0JHNpemVzJHhzJGZpZWxkLCBfSW5wdXQkc2l6ZXMkc20kZmllbGQsIF9JbnB1dCRzaXplcyRtZCRmaWVsZCwgX0lucHV0JHNpemVzJGxnJGZpZWxkO1xuXG52YXIgYmFzZVN0eWxlJDIgPSBfZXh0ZW5kcyh7fSwgSW5wdXQuYmFzZVN0eWxlLmZpZWxkLCB7XG4gIHBhZGRpbmdZOiBcIjhweFwiLFxuICBtaW5IZWlnaHQ6IFwiODBweFwiLFxuICBsaW5lSGVpZ2h0OiBcInNob3J0XCIsXG4gIHZlcnRpY2FsQWxpZ246IFwidG9wXCJcbn0pO1xuXG52YXIgdmFyaWFudHMgPSB7XG4gIG91dGxpbmU6IGZ1bmN0aW9uIG91dGxpbmUocHJvcHMpIHtcbiAgICB2YXIgX0lucHV0JHZhcmlhbnRzJG91dGxpO1xuXG4gICAgcmV0dXJuIChfSW5wdXQkdmFyaWFudHMkb3V0bGkgPSBJbnB1dC52YXJpYW50cy5vdXRsaW5lKHByb3BzKS5maWVsZCkgIT0gbnVsbCA/IF9JbnB1dCR2YXJpYW50cyRvdXRsaSA6IHt9O1xuICB9LFxuICBmbHVzaGVkOiBmdW5jdGlvbiBmbHVzaGVkKHByb3BzKSB7XG4gICAgdmFyIF9JbnB1dCR2YXJpYW50cyRmbHVzaDtcblxuICAgIHJldHVybiAoX0lucHV0JHZhcmlhbnRzJGZsdXNoID0gSW5wdXQudmFyaWFudHMuZmx1c2hlZChwcm9wcykuZmllbGQpICE9IG51bGwgPyBfSW5wdXQkdmFyaWFudHMkZmx1c2ggOiB7fTtcbiAgfSxcbiAgZmlsbGVkOiBmdW5jdGlvbiBmaWxsZWQocHJvcHMpIHtcbiAgICB2YXIgX0lucHV0JHZhcmlhbnRzJGZpbGxlO1xuXG4gICAgcmV0dXJuIChfSW5wdXQkdmFyaWFudHMkZmlsbGUgPSBJbnB1dC52YXJpYW50cy5maWxsZWQocHJvcHMpLmZpZWxkKSAhPSBudWxsID8gX0lucHV0JHZhcmlhbnRzJGZpbGxlIDoge307XG4gIH0sXG4gIHVuc3R5bGVkOiAoX0lucHV0JHZhcmlhbnRzJHVuc3R5ID0gSW5wdXQudmFyaWFudHMudW5zdHlsZWQuZmllbGQpICE9IG51bGwgPyBfSW5wdXQkdmFyaWFudHMkdW5zdHkgOiB7fVxufTtcbnZhciBzaXplcyA9IHtcbiAgeHM6IChfSW5wdXQkc2l6ZXMkeHMkZmllbGQgPSBJbnB1dC5zaXplcy54cy5maWVsZCkgIT0gbnVsbCA/IF9JbnB1dCRzaXplcyR4cyRmaWVsZCA6IHt9LFxuICBzbTogKF9JbnB1dCRzaXplcyRzbSRmaWVsZCA9IElucHV0LnNpemVzLnNtLmZpZWxkKSAhPSBudWxsID8gX0lucHV0JHNpemVzJHNtJGZpZWxkIDoge30sXG4gIG1kOiAoX0lucHV0JHNpemVzJG1kJGZpZWxkID0gSW5wdXQuc2l6ZXMubWQuZmllbGQpICE9IG51bGwgPyBfSW5wdXQkc2l6ZXMkbWQkZmllbGQgOiB7fSxcbiAgbGc6IChfSW5wdXQkc2l6ZXMkbGckZmllbGQgPSBJbnB1dC5zaXplcy5sZy5maWVsZCkgIT0gbnVsbCA/IF9JbnB1dCRzaXplcyRsZyRmaWVsZCA6IHt9XG59O1xudmFyIGRlZmF1bHRQcm9wcyA9IHtcbiAgc2l6ZTogXCJtZFwiLFxuICB2YXJpYW50OiBcIm91dGxpbmVcIlxufTtcbnZhciBUZXh0YXJlYSA9IHtcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGUkMixcbiAgc2l6ZXM6IHNpemVzLFxuICB2YXJpYW50czogdmFyaWFudHMsXG4gIGRlZmF1bHRQcm9wczogZGVmYXVsdFByb3BzXG59O1xuXG52YXIgJGJnID0gY3NzVmFyKFwidG9vbHRpcC1iZ1wiKTtcbnZhciAkYXJyb3dCZyA9IGNzc1ZhcihcInBvcHBlci1hcnJvdy1iZ1wiKTtcblxudmFyIGJhc2VTdHlsZSQxID0gZnVuY3Rpb24gYmFzZVN0eWxlKHByb3BzKSB7XG4gIHZhciBfcmVmO1xuXG4gIHZhciBiZyA9IG1vZGUoXCJncmF5LjcwMFwiLCBcImdyYXkuMzAwXCIpKHByb3BzKTtcbiAgcmV0dXJuIF9yZWYgPSB7fSwgX3JlZlskYmcudmFyaWFibGVdID0gXCJjb2xvcnMuXCIgKyBiZywgX3JlZi5weCA9IFwiOHB4XCIsIF9yZWYucHkgPSBcIjJweFwiLCBfcmVmLmJnID0gWyRiZy5yZWZlcmVuY2VdLCBfcmVmWyRhcnJvd0JnLnZhcmlhYmxlXSA9IFskYmcucmVmZXJlbmNlXSwgX3JlZi5jb2xvciA9IG1vZGUoXCJ3aGl0ZUFscGhhLjkwMFwiLCBcImdyYXkuOTAwXCIpKHByb3BzKSwgX3JlZi5ib3JkZXJSYWRpdXMgPSBcInNtXCIsIF9yZWYuZm9udFdlaWdodCA9IFwibWVkaXVtXCIsIF9yZWYuZm9udFNpemUgPSBcInNtXCIsIF9yZWYuYm94U2hhZG93ID0gXCJtZFwiLCBfcmVmLm1heFcgPSBcIjMyMHB4XCIsIF9yZWYuekluZGV4ID0gXCJ0b29sdGlwXCIsIF9yZWY7XG59O1xuXG52YXIgVG9vbHRpcCA9IHtcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGUkMVxufTtcblxudmFyIGJhc2VTdHlsZVRleHQgPSBmdW5jdGlvbiBiYXNlU3R5bGVUZXh0KHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgY29sb3I6IG1vZGUoXCJyZWQuNTAwXCIsIFwicmVkLjMwMFwiKShwcm9wcyksXG4gICAgbXQ6IDIsXG4gICAgZm9udFNpemU6IFwic21cIlxuICB9O1xufTtcblxudmFyIGJhc2VTdHlsZUljb24gPSBmdW5jdGlvbiBiYXNlU3R5bGVJY29uKHByb3BzKSB7XG4gIHJldHVybiB7XG4gICAgbWFyZ2luRW5kOiBcIjAuNWVtXCIsXG4gICAgY29sb3I6IG1vZGUoXCJyZWQuNTAwXCIsIFwicmVkLjMwMFwiKShwcm9wcylcbiAgfTtcbn07XG5cbnZhciBiYXNlU3R5bGUgPSBmdW5jdGlvbiBiYXNlU3R5bGUocHJvcHMpIHtcbiAgcmV0dXJuIHtcbiAgICB0ZXh0OiBiYXNlU3R5bGVUZXh0KHByb3BzKSxcbiAgICBpY29uOiBiYXNlU3R5bGVJY29uKHByb3BzKVxuICB9O1xufTtcblxudmFyIEZvcm1FcnJvciA9IHtcbiAgcGFydHM6IGZvcm1FcnJvckFuYXRvbXkua2V5cyxcbiAgYmFzZVN0eWxlOiBiYXNlU3R5bGVcbn07XG5cbnZhciBjb21wb25lbnRzID0ge1xuICBBY2NvcmRpb246IEFjY29yZGlvbixcbiAgQWxlcnQ6IEFsZXJ0LFxuICBBdmF0YXI6IEF2YXRhcixcbiAgQmFkZ2U6IEJhZGdlLFxuICBCcmVhZGNydW1iOiBCcmVhZGNydW1iLFxuICBCdXR0b246IEJ1dHRvbixcbiAgQ2hlY2tib3g6IENoZWNrYm94LFxuICBDbG9zZUJ1dHRvbjogQ2xvc2VCdXR0b24sXG4gIENvZGU6IENvZGUsXG4gIENvbnRhaW5lcjogQ29udGFpbmVyLFxuICBEaXZpZGVyOiBEaXZpZGVyLFxuICBEcmF3ZXI6IERyYXdlcixcbiAgRWRpdGFibGU6IEVkaXRhYmxlLFxuICBGb3JtOiBGb3JtLFxuICBGb3JtTGFiZWw6IEZvcm1MYWJlbCxcbiAgSGVhZGluZzogSGVhZGluZyxcbiAgSW5wdXQ6IElucHV0LFxuICBLYmQ6IEtiZCxcbiAgTGluazogTGluayxcbiAgTGlzdDogTGlzdCxcbiAgTWVudTogTWVudSxcbiAgTW9kYWw6IE1vZGFsLFxuICBOdW1iZXJJbnB1dDogTnVtYmVySW5wdXQsXG4gIFBpbklucHV0OiBQaW5JbnB1dCxcbiAgUG9wb3ZlcjogUG9wb3ZlcixcbiAgUHJvZ3Jlc3M6IFByb2dyZXNzLFxuICBSYWRpbzogUmFkaW8sXG4gIFNlbGVjdDogU2VsZWN0LFxuICBTa2VsZXRvbjogU2tlbGV0b24sXG4gIFNraXBMaW5rOiBTa2lwTGluayxcbiAgU2xpZGVyOiBTbGlkZXIsXG4gIFNwaW5uZXI6IFNwaW5uZXIsXG4gIFN0YXQ6IFN0YXQsXG4gIFN3aXRjaDogU3dpdGNoLFxuICBUYWJsZTogVGFibGUsXG4gIFRhYnM6IFRhYnMsXG4gIFRhZzogVGFnLFxuICBUZXh0YXJlYTogVGV4dGFyZWEsXG4gIFRvb2x0aXA6IFRvb2x0aXAsXG4gIEZvcm1FcnJvcjogRm9ybUVycm9yXG59O1xuXG52YXIgYm9yZGVycyA9IHtcbiAgbm9uZTogMCxcbiAgXCIxcHhcIjogXCIxcHggc29saWRcIixcbiAgXCIycHhcIjogXCIycHggc29saWRcIixcbiAgXCI0cHhcIjogXCI0cHggc29saWRcIixcbiAgXCI4cHhcIjogXCI4cHggc29saWRcIlxufTtcbnZhciBib3JkZXJzJDEgPSBib3JkZXJzO1xuXG4vKipcbiAqIEJyZWFrcG9pbnRzIGZvciByZXNwb25zaXZlIGRlc2lnblxuICovXG5cbnZhciBicmVha3BvaW50cyA9IGNyZWF0ZUJyZWFrcG9pbnRzKHtcbiAgc206IFwiMzBlbVwiLFxuICBtZDogXCI0OGVtXCIsXG4gIGxnOiBcIjYyZW1cIixcbiAgeGw6IFwiODBlbVwiLFxuICBcIjJ4bFwiOiBcIjk2ZW1cIlxufSk7XG52YXIgYnJlYWtwb2ludHMkMSA9IGJyZWFrcG9pbnRzO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBZb3UgY2FuIGRlcml2ZSB0aGUgQ29sb3JzIHR5cGUgZnJvbSB0aGUgRGVmYXVsdENoYWtyYVRoZW1lOlxuICpcbiAqIHR5cGUgQ29sb3JzID0gRGVmYXVsdENoYWtyYVRoZW1lW1wiY29sb3JzXCJdXG4gKi9cbnZhciBjb2xvcnMgPSB7XG4gIHRyYW5zcGFyZW50OiBcInRyYW5zcGFyZW50XCIsXG4gIGN1cnJlbnQ6IFwiY3VycmVudENvbG9yXCIsXG4gIGJsYWNrOiBcIiMwMDAwMDBcIixcbiAgd2hpdGU6IFwiI0ZGRkZGRlwiLFxuICB3aGl0ZUFscGhhOiB7XG4gICAgNTA6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjA0KVwiLFxuICAgIDEwMDogXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMDYpXCIsXG4gICAgMjAwOiBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4wOClcIixcbiAgICAzMDA6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjE2KVwiLFxuICAgIDQwMDogXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMjQpXCIsXG4gICAgNTAwOiBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC4zNilcIixcbiAgICA2MDA6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjQ4KVwiLFxuICAgIDcwMDogXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNjQpXCIsXG4gICAgODAwOiBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMC44MClcIixcbiAgICA5MDA6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwLjkyKVwiXG4gIH0sXG4gIGJsYWNrQWxwaGE6IHtcbiAgICA1MDogXCJyZ2JhKDAsIDAsIDAsIDAuMDQpXCIsXG4gICAgMTAwOiBcInJnYmEoMCwgMCwgMCwgMC4wNilcIixcbiAgICAyMDA6IFwicmdiYSgwLCAwLCAwLCAwLjA4KVwiLFxuICAgIDMwMDogXCJyZ2JhKDAsIDAsIDAsIDAuMTYpXCIsXG4gICAgNDAwOiBcInJnYmEoMCwgMCwgMCwgMC4yNClcIixcbiAgICA1MDA6IFwicmdiYSgwLCAwLCAwLCAwLjM2KVwiLFxuICAgIDYwMDogXCJyZ2JhKDAsIDAsIDAsIDAuNDgpXCIsXG4gICAgNzAwOiBcInJnYmEoMCwgMCwgMCwgMC42NClcIixcbiAgICA4MDA6IFwicmdiYSgwLCAwLCAwLCAwLjgwKVwiLFxuICAgIDkwMDogXCJyZ2JhKDAsIDAsIDAsIDAuOTIpXCJcbiAgfSxcbiAgZ3JheToge1xuICAgIDUwOiBcIiNGN0ZBRkNcIixcbiAgICAxMDA6IFwiI0VERjJGN1wiLFxuICAgIDIwMDogXCIjRTJFOEYwXCIsXG4gICAgMzAwOiBcIiNDQkQ1RTBcIixcbiAgICA0MDA6IFwiI0EwQUVDMFwiLFxuICAgIDUwMDogXCIjNzE4MDk2XCIsXG4gICAgNjAwOiBcIiM0QTU1NjhcIixcbiAgICA3MDA6IFwiIzJEMzc0OFwiLFxuICAgIDgwMDogXCIjMUEyMDJDXCIsXG4gICAgOTAwOiBcIiMxNzE5MjNcIlxuICB9LFxuICByZWQ6IHtcbiAgICA1MDogXCIjRkZGNUY1XCIsXG4gICAgMTAwOiBcIiNGRUQ3RDdcIixcbiAgICAyMDA6IFwiI0ZFQjJCMlwiLFxuICAgIDMwMDogXCIjRkM4MTgxXCIsXG4gICAgNDAwOiBcIiNGNTY1NjVcIixcbiAgICA1MDA6IFwiI0U1M0UzRVwiLFxuICAgIDYwMDogXCIjQzUzMDMwXCIsXG4gICAgNzAwOiBcIiM5QjJDMkNcIixcbiAgICA4MDA6IFwiIzgyMjcyN1wiLFxuICAgIDkwMDogXCIjNjMxNzFCXCJcbiAgfSxcbiAgb3JhbmdlOiB7XG4gICAgNTA6IFwiI0ZGRkFGMFwiLFxuICAgIDEwMDogXCIjRkVFQkM4XCIsXG4gICAgMjAwOiBcIiNGQkQzOERcIixcbiAgICAzMDA6IFwiI0Y2QUQ1NVwiLFxuICAgIDQwMDogXCIjRUQ4OTM2XCIsXG4gICAgNTAwOiBcIiNERDZCMjBcIixcbiAgICA2MDA6IFwiI0MwNTYyMVwiLFxuICAgIDcwMDogXCIjOUM0MjIxXCIsXG4gICAgODAwOiBcIiM3QjM0MUVcIixcbiAgICA5MDA6IFwiIzY1MkIxOVwiXG4gIH0sXG4gIHllbGxvdzoge1xuICAgIDUwOiBcIiNGRkZGRjBcIixcbiAgICAxMDA6IFwiI0ZFRkNCRlwiLFxuICAgIDIwMDogXCIjRkFGMDg5XCIsXG4gICAgMzAwOiBcIiNGNkUwNUVcIixcbiAgICA0MDA6IFwiI0VDQzk0QlwiLFxuICAgIDUwMDogXCIjRDY5RTJFXCIsXG4gICAgNjAwOiBcIiNCNzc5MUZcIixcbiAgICA3MDA6IFwiIzk3NUExNlwiLFxuICAgIDgwMDogXCIjNzQ0MjEwXCIsXG4gICAgOTAwOiBcIiM1RjM3MEVcIlxuICB9LFxuICBncmVlbjoge1xuICAgIDUwOiBcIiNGMEZGRjRcIixcbiAgICAxMDA6IFwiI0M2RjZENVwiLFxuICAgIDIwMDogXCIjOUFFNkI0XCIsXG4gICAgMzAwOiBcIiM2OEQzOTFcIixcbiAgICA0MDA6IFwiIzQ4QkI3OFwiLFxuICAgIDUwMDogXCIjMzhBMTY5XCIsXG4gICAgNjAwOiBcIiMyRjg1NUFcIixcbiAgICA3MDA6IFwiIzI3Njc0OVwiLFxuICAgIDgwMDogXCIjMjI1NDNEXCIsXG4gICAgOTAwOiBcIiMxQzQ1MzJcIlxuICB9LFxuICB0ZWFsOiB7XG4gICAgNTA6IFwiI0U2RkZGQVwiLFxuICAgIDEwMDogXCIjQjJGNUVBXCIsXG4gICAgMjAwOiBcIiM4MUU2RDlcIixcbiAgICAzMDA6IFwiIzRGRDFDNVwiLFxuICAgIDQwMDogXCIjMzhCMkFDXCIsXG4gICAgNTAwOiBcIiMzMTk3OTVcIixcbiAgICA2MDA6IFwiIzJDN0E3QlwiLFxuICAgIDcwMDogXCIjMjg1RTYxXCIsXG4gICAgODAwOiBcIiMyMzRFNTJcIixcbiAgICA5MDA6IFwiIzFENDA0NFwiXG4gIH0sXG4gIGJsdWU6IHtcbiAgICA1MDogXCIjZWJmOGZmXCIsXG4gICAgMTAwOiBcIiNiZWUzZjhcIixcbiAgICAyMDA6IFwiIzkwY2RmNFwiLFxuICAgIDMwMDogXCIjNjNiM2VkXCIsXG4gICAgNDAwOiBcIiM0Mjk5ZTFcIixcbiAgICA1MDA6IFwiIzMxODJjZVwiLFxuICAgIDYwMDogXCIjMmI2Y2IwXCIsXG4gICAgNzAwOiBcIiMyYzUyODJcIixcbiAgICA4MDA6IFwiIzJhNDM2NVwiLFxuICAgIDkwMDogXCIjMUEzNjVEXCJcbiAgfSxcbiAgY3lhbjoge1xuICAgIDUwOiBcIiNFREZERkRcIixcbiAgICAxMDA6IFwiI0M0RjFGOVwiLFxuICAgIDIwMDogXCIjOURFQ0Y5XCIsXG4gICAgMzAwOiBcIiM3NkU0RjdcIixcbiAgICA0MDA6IFwiIzBCQzVFQVwiLFxuICAgIDUwMDogXCIjMDBCNUQ4XCIsXG4gICAgNjAwOiBcIiMwMEEzQzRcIixcbiAgICA3MDA6IFwiIzA5ODdBMFwiLFxuICAgIDgwMDogXCIjMDg2RjgzXCIsXG4gICAgOTAwOiBcIiMwNjU2NjZcIlxuICB9LFxuICBwdXJwbGU6IHtcbiAgICA1MDogXCIjRkFGNUZGXCIsXG4gICAgMTAwOiBcIiNFOUQ4RkRcIixcbiAgICAyMDA6IFwiI0Q2QkNGQVwiLFxuICAgIDMwMDogXCIjQjc5NEY0XCIsXG4gICAgNDAwOiBcIiM5RjdBRUFcIixcbiAgICA1MDA6IFwiIzgwNUFENVwiLFxuICAgIDYwMDogXCIjNkI0NkMxXCIsXG4gICAgNzAwOiBcIiM1NTNDOUFcIixcbiAgICA4MDA6IFwiIzQ0MzM3QVwiLFxuICAgIDkwMDogXCIjMzIyNjU5XCJcbiAgfSxcbiAgcGluazoge1xuICAgIDUwOiBcIiNGRkY1RjdcIixcbiAgICAxMDA6IFwiI0ZFRDdFMlwiLFxuICAgIDIwMDogXCIjRkJCNkNFXCIsXG4gICAgMzAwOiBcIiNGNjg3QjNcIixcbiAgICA0MDA6IFwiI0VENjRBNlwiLFxuICAgIDUwMDogXCIjRDUzRjhDXCIsXG4gICAgNjAwOiBcIiNCODMyODBcIixcbiAgICA3MDA6IFwiIzk3MjY2RFwiLFxuICAgIDgwMDogXCIjNzAyNDU5XCIsXG4gICAgOTAwOiBcIiM1MjFCNDFcIlxuICB9LFxuICBsaW5rZWRpbjoge1xuICAgIDUwOiBcIiNFOEY0RjlcIixcbiAgICAxMDA6IFwiI0NGRURGQlwiLFxuICAgIDIwMDogXCIjOUJEQUYzXCIsXG4gICAgMzAwOiBcIiM2OEM3RUNcIixcbiAgICA0MDA6IFwiIzM0QjNFNFwiLFxuICAgIDUwMDogXCIjMDBBMERDXCIsXG4gICAgNjAwOiBcIiMwMDhDQzlcIixcbiAgICA3MDA6IFwiIzAwNzdCNVwiLFxuICAgIDgwMDogXCIjMDA1RTkzXCIsXG4gICAgOTAwOiBcIiMwMDQ0NzFcIlxuICB9LFxuICBmYWNlYm9vazoge1xuICAgIDUwOiBcIiNFOEY0RjlcIixcbiAgICAxMDA6IFwiI0Q5REVFOVwiLFxuICAgIDIwMDogXCIjQjdDMkRBXCIsXG4gICAgMzAwOiBcIiM2NDgyQzBcIixcbiAgICA0MDA6IFwiIzQyNjdCMlwiLFxuICAgIDUwMDogXCIjMzg1ODk4XCIsXG4gICAgNjAwOiBcIiMzMTRFODlcIixcbiAgICA3MDA6IFwiIzI5NDg3RFwiLFxuICAgIDgwMDogXCIjMjIzQjY3XCIsXG4gICAgOTAwOiBcIiMxRTM1NUJcIlxuICB9LFxuICBtZXNzZW5nZXI6IHtcbiAgICA1MDogXCIjRDBFNkZGXCIsXG4gICAgMTAwOiBcIiNCOURBRkZcIixcbiAgICAyMDA6IFwiI0EyQ0RGRlwiLFxuICAgIDMwMDogXCIjN0FCOEZGXCIsXG4gICAgNDAwOiBcIiMyRTkwRkZcIixcbiAgICA1MDA6IFwiIzAwNzhGRlwiLFxuICAgIDYwMDogXCIjMDA2M0QxXCIsXG4gICAgNzAwOiBcIiMwMDUyQUNcIixcbiAgICA4MDA6IFwiIzAwM0M3RVwiLFxuICAgIDkwMDogXCIjMDAyQzVDXCJcbiAgfSxcbiAgd2hhdHNhcHA6IHtcbiAgICA1MDogXCIjZGZmZWVjXCIsXG4gICAgMTAwOiBcIiNiOWY1ZDBcIixcbiAgICAyMDA6IFwiIzkwZWRiM1wiLFxuICAgIDMwMDogXCIjNjVlNDk1XCIsXG4gICAgNDAwOiBcIiMzY2RkNzhcIixcbiAgICA1MDA6IFwiIzIyYzM1ZVwiLFxuICAgIDYwMDogXCIjMTc5ODQ4XCIsXG4gICAgNzAwOiBcIiMwYzZjMzNcIixcbiAgICA4MDA6IFwiIzAxNDIxY1wiLFxuICAgIDkwMDogXCIjMDAxODAzXCJcbiAgfSxcbiAgdHdpdHRlcjoge1xuICAgIDUwOiBcIiNFNUY0RkRcIixcbiAgICAxMDA6IFwiI0M4RTlGQlwiLFxuICAgIDIwMDogXCIjQThEQ0ZBXCIsXG4gICAgMzAwOiBcIiM4M0NERjdcIixcbiAgICA0MDA6IFwiIzU3QkJGNVwiLFxuICAgIDUwMDogXCIjMURBMUYyXCIsXG4gICAgNjAwOiBcIiMxQTk0REFcIixcbiAgICA3MDA6IFwiIzE2ODFCRlwiLFxuICAgIDgwMDogXCIjMTM2QjlFXCIsXG4gICAgOTAwOiBcIiMwRDRENzFcIlxuICB9LFxuICB0ZWxlZ3JhbToge1xuICAgIDUwOiBcIiNFM0YyRjlcIixcbiAgICAxMDA6IFwiI0M1RTRGM1wiLFxuICAgIDIwMDogXCIjQTJENEVDXCIsXG4gICAgMzAwOiBcIiM3QUMxRTRcIixcbiAgICA0MDA6IFwiIzQ3QTlEQVwiLFxuICAgIDUwMDogXCIjMDA4OENDXCIsXG4gICAgNjAwOiBcIiMwMDdBQjhcIixcbiAgICA3MDA6IFwiIzAwNkJBMVwiLFxuICAgIDgwMDogXCIjMDA1ODg1XCIsXG4gICAgOTAwOiBcIiMwMDNGNUVcIlxuICB9XG59O1xudmFyIGNvbG9ycyQxID0gY29sb3JzO1xuXG52YXIgcmFkaWkgPSB7XG4gIG5vbmU6IFwiMFwiLFxuICBzbTogXCIwLjEyNXJlbVwiLFxuICBiYXNlOiBcIjAuMjVyZW1cIixcbiAgbWQ6IFwiMC4zNzVyZW1cIixcbiAgbGc6IFwiMC41cmVtXCIsXG4gIHhsOiBcIjAuNzVyZW1cIixcbiAgXCIyeGxcIjogXCIxcmVtXCIsXG4gIFwiM3hsXCI6IFwiMS41cmVtXCIsXG4gIGZ1bGw6IFwiOTk5OXB4XCJcbn07XG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBZb3UgY2FuIGRlcml2ZSB0aGUgUmFkaWkgdHlwZSBmcm9tIHRoZSBEZWZhdWx0Q2hha3JhVGhlbWVcbiAqXG4gKiB0eXBlIFJhZGlpID0gRGVmYXVsdENoYWtyYVRoZW1lWydyYWRpaSddXG4gKi9cblxudmFyIHJhZGlpJDEgPSByYWRpaTtcblxudmFyIHNoYWRvd3MgPSB7XG4gIHhzOiBcIjAgMCAwIDFweCByZ2JhKDAsIDAsIDAsIDAuMDUpXCIsXG4gIHNtOiBcIjAgMXB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4wNSlcIixcbiAgYmFzZTogXCIwIDFweCAzcHggMCByZ2JhKDAsIDAsIDAsIDAuMSksIDAgMXB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4wNilcIixcbiAgbWQ6IFwiMCA0cHggNnB4IC0xcHggcmdiYSgwLCAwLCAwLCAwLjEpLCAwIDJweCA0cHggLTFweCByZ2JhKDAsIDAsIDAsIDAuMDYpXCIsXG4gIGxnOiBcIjAgMTBweCAxNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjEpLCAwIDRweCA2cHggLTJweCByZ2JhKDAsIDAsIDAsIDAuMDUpXCIsXG4gIHhsOiBcIjAgMjBweCAyNXB4IC01cHggcmdiYSgwLCAwLCAwLCAwLjEpLCAwIDEwcHggMTBweCAtNXB4IHJnYmEoMCwgMCwgMCwgMC4wNClcIixcbiAgXCIyeGxcIjogXCIwIDI1cHggNTBweCAtMTJweCByZ2JhKDAsIDAsIDAsIDAuMjUpXCIsXG4gIG91dGxpbmU6IFwiMCAwIDAgM3B4IHJnYmEoNjYsIDE1MywgMjI1LCAwLjYpXCIsXG4gIGlubmVyOiBcImluc2V0IDAgMnB4IDRweCAwIHJnYmEoMCwwLDAsMC4wNilcIixcbiAgbm9uZTogXCJub25lXCIsXG4gIFwiZGFyay1sZ1wiOiBcInJnYmEoMCwgMCwgMCwgMC4xKSAwcHggMHB4IDBweCAxcHgsIHJnYmEoMCwgMCwgMCwgMC4yKSAwcHggNXB4IDEwcHgsIHJnYmEoMCwgMCwgMCwgMC40KSAwcHggMTVweCA0MHB4XCJcbn07XG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBZb3UgY2FuIGRlcml2ZSB0aGUgU2hhZG93cyB0eXBlIGZyb20gdGhlIERlZmF1bHRDaGFrcmFUaGVtZVxuICpcbiAqIHR5cGUgU2hhZG93cyA9IERlZmF1bHRDaGFrcmFUaGVtZVsnc2hhZG93cyddXG4gKi9cblxudmFyIHNoYWRvd3MkMSA9IHNoYWRvd3M7XG5cbnZhciB0cmFuc2l0aW9uUHJvcGVydHkgPSB7XG4gIGNvbW1vbjogXCJiYWNrZ3JvdW5kLWNvbG9yLCBib3JkZXItY29sb3IsIGNvbG9yLCBmaWxsLCBzdHJva2UsIG9wYWNpdHksIGJveC1zaGFkb3csIHRyYW5zZm9ybVwiLFxuICBjb2xvcnM6IFwiYmFja2dyb3VuZC1jb2xvciwgYm9yZGVyLWNvbG9yLCBjb2xvciwgZmlsbCwgc3Ryb2tlXCIsXG4gIGRpbWVuc2lvbnM6IFwid2lkdGgsIGhlaWdodFwiLFxuICBwb3NpdGlvbjogXCJsZWZ0LCByaWdodCwgdG9wLCBib3R0b21cIixcbiAgYmFja2dyb3VuZDogXCJiYWNrZ3JvdW5kLWNvbG9yLCBiYWNrZ3JvdW5kLWltYWdlLCBiYWNrZ3JvdW5kLXBvc2l0aW9uXCJcbn07XG52YXIgdHJhbnNpdGlvblRpbWluZ0Z1bmN0aW9uID0ge1xuICBcImVhc2UtaW5cIjogXCJjdWJpYy1iZXppZXIoMC40LCAwLCAxLCAxKVwiLFxuICBcImVhc2Utb3V0XCI6IFwiY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSlcIixcbiAgXCJlYXNlLWluLW91dFwiOiBcImN1YmljLWJlemllcigwLjQsIDAsIDAuMiwgMSlcIlxufTtcbnZhciB0cmFuc2l0aW9uRHVyYXRpb24gPSB7XG4gIFwidWx0cmEtZmFzdFwiOiBcIjUwbXNcIixcbiAgZmFzdGVyOiBcIjEwMG1zXCIsXG4gIGZhc3Q6IFwiMTUwbXNcIixcbiAgbm9ybWFsOiBcIjIwMG1zXCIsXG4gIHNsb3c6IFwiMzAwbXNcIixcbiAgc2xvd2VyOiBcIjQwMG1zXCIsXG4gIFwidWx0cmEtc2xvd1wiOiBcIjUwMG1zXCJcbn07XG52YXIgdHJhbnNpdGlvbiA9IHtcbiAgcHJvcGVydHk6IHRyYW5zaXRpb25Qcm9wZXJ0eSxcbiAgZWFzaW5nOiB0cmFuc2l0aW9uVGltaW5nRnVuY3Rpb24sXG4gIGR1cmF0aW9uOiB0cmFuc2l0aW9uRHVyYXRpb25cbn07XG52YXIgdHJhbnNpdGlvbiQxID0gdHJhbnNpdGlvbjtcblxudmFyIHpJbmRpY2VzID0ge1xuICBoaWRlOiAtMSxcbiAgYXV0bzogXCJhdXRvXCIsXG4gIGJhc2U6IDAsXG4gIGRvY2tlZDogMTAsXG4gIGRyb3Bkb3duOiAxMDAwLFxuICBzdGlja3k6IDExMDAsXG4gIGJhbm5lcjogMTIwMCxcbiAgb3ZlcmxheTogMTMwMCxcbiAgbW9kYWw6IDE0MDAsXG4gIHBvcG92ZXI6IDE1MDAsXG4gIHNraXBMaW5rOiAxNjAwLFxuICB0b2FzdDogMTcwMCxcbiAgdG9vbHRpcDogMTgwMFxufTtcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIFlvdSBjYW4gZGVyaXZlIHRoZSBaSW5kaWNlcyB0eXBlIGZyb20gdGhlIERlZmF1bHRDaGFrcmFUaGVtZVxuICpcbiAqIHR5cGUgWkluZGljZXMgPSBEZWZhdWx0Q2hha3JhVGhlbWVbJ3pJbmRpY2VzJ11cbiAqL1xuXG52YXIgekluZGljZXMkMSA9IHpJbmRpY2VzO1xuXG52YXIgYmx1ciA9IHtcbiAgbm9uZTogMCxcbiAgc206IFwiNHB4XCIsXG4gIGJhc2U6IFwiOHB4XCIsXG4gIG1kOiBcIjEycHhcIixcbiAgbGc6IFwiMTZweFwiLFxuICB4bDogXCIyNHB4XCIsXG4gIFwiMnhsXCI6IFwiNDBweFwiLFxuICBcIjN4bFwiOiBcIjY0cHhcIlxufTtcbnZhciBibHVyJDEgPSBibHVyO1xuXG52YXIgZm91bmRhdGlvbnMgPSBfZXh0ZW5kcyh7XG4gIGJyZWFrcG9pbnRzOiBicmVha3BvaW50cyQxLFxuICB6SW5kaWNlczogekluZGljZXMkMSxcbiAgcmFkaWk6IHJhZGlpJDEsXG4gIGJsdXI6IGJsdXIkMSxcbiAgY29sb3JzOiBjb2xvcnMkMVxufSwgdHlwb2dyYXBoeSQxLCB7XG4gIHNpemVzOiBzaXplcyRtLFxuICBzaGFkb3dzOiBzaGFkb3dzJDEsXG4gIHNwYWNlOiBzcGFjaW5nLFxuICBib3JkZXJzOiBib3JkZXJzJDEsXG4gIHRyYW5zaXRpb246IHRyYW5zaXRpb24kMVxufSk7XG5cbnZhciBmb3VuZGF0aW9ucyQxID0gZm91bmRhdGlvbnM7XG5cbnZhciBzdHlsZXMgPSB7XG4gIGdsb2JhbDogZnVuY3Rpb24gZ2xvYmFsKHByb3BzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGJvZHk6IHtcbiAgICAgICAgZm9udEZhbWlseTogXCJib2R5XCIsXG4gICAgICAgIGNvbG9yOiBtb2RlKFwiZ3JheS44MDBcIiwgXCJ3aGl0ZUFscGhhLjkwMFwiKShwcm9wcyksXG4gICAgICAgIGJnOiBtb2RlKFwid2hpdGVcIiwgXCJncmF5LjgwMFwiKShwcm9wcyksXG4gICAgICAgIHRyYW5zaXRpb25Qcm9wZXJ0eTogXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXG4gICAgICAgIHRyYW5zaXRpb25EdXJhdGlvbjogXCJub3JtYWxcIixcbiAgICAgICAgbGluZUhlaWdodDogXCJiYXNlXCJcbiAgICAgIH0sXG4gICAgICBcIio6OnBsYWNlaG9sZGVyXCI6IHtcbiAgICAgICAgY29sb3I6IG1vZGUoXCJncmF5LjQwMFwiLCBcIndoaXRlQWxwaGEuNDAwXCIpKHByb3BzKVxuICAgICAgfSxcbiAgICAgIFwiKiwgKjo6YmVmb3JlLCAmOjphZnRlclwiOiB7XG4gICAgICAgIGJvcmRlckNvbG9yOiBtb2RlKFwiZ3JheS4yMDBcIiwgXCJ3aGl0ZUFscGhhLjMwMFwiKShwcm9wcyksXG4gICAgICAgIHdvcmRXcmFwOiBcImJyZWFrLXdvcmRcIlxuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG52YXIgc3R5bGVzJDEgPSBzdHlsZXM7XG5cbnZhciByZXF1aXJlZENoYWtyYVRoZW1lS2V5cyA9IFtcImJvcmRlcnNcIiwgXCJicmVha3BvaW50c1wiLCBcImNvbG9yc1wiLCBcImNvbXBvbmVudHNcIiwgXCJjb25maWdcIiwgXCJkaXJlY3Rpb25cIiwgXCJmb250c1wiLCBcImZvbnRTaXplc1wiLCBcImZvbnRXZWlnaHRzXCIsIFwibGV0dGVyU3BhY2luZ3NcIiwgXCJsaW5lSGVpZ2h0c1wiLCBcInJhZGlpXCIsIFwic2hhZG93c1wiLCBcInNpemVzXCIsIFwic3BhY2VcIiwgXCJzdHlsZXNcIiwgXCJ0cmFuc2l0aW9uXCIsIFwiekluZGljZXNcIl07XG5mdW5jdGlvbiBpc0NoYWtyYVRoZW1lKHVuaXQpIHtcbiAgaWYgKCFpc09iamVjdCh1bml0KSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiByZXF1aXJlZENoYWtyYVRoZW1lS2V5cy5ldmVyeShmdW5jdGlvbiAocHJvcGVydHlOYW1lKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh1bml0LCBwcm9wZXJ0eU5hbWUpO1xuICB9KTtcbn1cblxudmFyIGRpcmVjdGlvbiA9IFwibHRyXCI7XG52YXIgY29uZmlnID0ge1xuICB1c2VTeXN0ZW1Db2xvck1vZGU6IGZhbHNlLFxuICBpbml0aWFsQ29sb3JNb2RlOiBcImxpZ2h0XCIsXG4gIGNzc1ZhclByZWZpeDogXCJjaGFrcmFcIlxufTtcbnZhciB0aGVtZSA9IF9leHRlbmRzKHtcbiAgZGlyZWN0aW9uOiBkaXJlY3Rpb25cbn0sIGZvdW5kYXRpb25zJDEsIHtcbiAgY29tcG9uZW50czogY29tcG9uZW50cyxcbiAgc3R5bGVzOiBzdHlsZXMkMSxcbiAgY29uZmlnOiBjb25maWdcbn0pO1xuXG5leHBvcnQgeyB0aGVtZSBhcyBkZWZhdWx0LCBpc0NoYWtyYVRoZW1lLCByZXF1aXJlZENoYWtyYVRoZW1lS2V5cywgdGhlbWUgfTtcbiIsImltcG9ydCB7IEFsZXJ0LCBBbGVydEljb24sIEFsZXJ0VGl0bGUsIEFsZXJ0RGVzY3JpcHRpb24gfSBmcm9tICdAY2hha3JhLXVpL2FsZXJ0JztcbmltcG9ydCB7IENsb3NlQnV0dG9uIH0gZnJvbSAnQGNoYWtyYS11aS9jbG9zZS1idXR0b24nO1xuaW1wb3J0IHsgdXNlQ2hha3JhLCBUaGVtZVByb3ZpZGVyLCBDb2xvck1vZGVDb250ZXh0LCBjaGFrcmEgfSBmcm9tICdAY2hha3JhLXVpL3N5c3RlbSc7XG5pbXBvcnQgZGVmYXVsdFRoZW1lIGZyb20gJ0BjaGFrcmEtdWkvdGhlbWUnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiwgX19ERVZfXywgb2JqZWN0S2V5cywgaXNCcm93c2VyLCBub29wIH0gZnJvbSAnQGNoYWtyYS11aS91dGlscyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgdXNlSXNQcmVzZW50LCBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IHsgdXNlVXBkYXRlRWZmZWN0LCB1c2VUaW1lb3V0IH0gZnJvbSAnQGNoYWtyYS11aS9ob29rcyc7XG5pbXBvcnQgUmVhY2hBbGVydCBmcm9tICdAcmVhY2gvYWxlcnQnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn1cblxuZnVuY3Rpb24gX2luaGVyaXRzTG9vc2Uoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHtcbiAgc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzLnByb3RvdHlwZSk7XG4gIHN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IHN1YkNsYXNzO1xuICBfc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpO1xufVxuXG4vKipcbiAqIEdpdmVuIGFuIGFycmF5IG9mIHRvYXN0cyBmb3IgYSBzcGVjaWZpYyBwb3NpdGlvbi5cbiAqIEl0IHJldHVybnMgdGhlIHRvYXN0IHRoYXQgbWF0Y2hlcyB0aGUgYGlkYCBwYXNzZWRcbiAqL1xuLyoqXG4gKiBHaXZlbiB0aGUgdG9hc3QgbWFuYWdlciBzdGF0ZSwgZmluZHMgdGhlIHRvYXN0IHRoYXQgbWF0Y2hlc1xuICogdGhlIGlkIGFuZCByZXR1cm4gaXRzIHBvc2l0aW9uIGFuZCBpbmRleFxuICovXG5cbmZ1bmN0aW9uIGZpbmRUb2FzdCh0b2FzdHMsIGlkKSB7XG4gIHZhciBwb3NpdGlvbiA9IGdldFRvYXN0UG9zaXRpb24odG9hc3RzLCBpZCk7XG4gIHZhciBpbmRleCA9IHBvc2l0aW9uID8gdG9hc3RzW3Bvc2l0aW9uXS5maW5kSW5kZXgoZnVuY3Rpb24gKHRvYXN0KSB7XG4gICAgcmV0dXJuIHRvYXN0LmlkID09PSBpZDtcbiAgfSkgOiAtMTtcbiAgcmV0dXJuIHtcbiAgICBwb3NpdGlvbjogcG9zaXRpb24sXG4gICAgaW5kZXg6IGluZGV4XG4gIH07XG59XG4vKipcbiAqIEdpdmVuIHRoZSB0b2FzdCBtYW5hZ2VyIHN0YXRlLCBmaW5kcyB0aGUgcG9zaXRpb24gb2YgdGhlIHRvYXN0IHRoYXRcbiAqIG1hdGNoZXMgdGhlIGBpZGBcbiAqL1xuXG52YXIgZ2V0VG9hc3RQb3NpdGlvbiA9IGZ1bmN0aW9uIGdldFRvYXN0UG9zaXRpb24odG9hc3RzLCBpZCkge1xuICB2YXIgX09iamVjdCR2YWx1ZXMkZmxhdCRmO1xuXG4gIHJldHVybiAoX09iamVjdCR2YWx1ZXMkZmxhdCRmID0gT2JqZWN0LnZhbHVlcyh0b2FzdHMpLmZsYXQoKS5maW5kKGZ1bmN0aW9uICh0b2FzdCkge1xuICAgIHJldHVybiB0b2FzdC5pZCA9PT0gaWQ7XG4gIH0pKSA9PSBudWxsID8gdm9pZCAwIDogX09iamVjdCR2YWx1ZXMkZmxhdCRmLnBvc2l0aW9uO1xufTtcbi8qKlxuICogR2V0J3MgdGhlIHN0eWxlcyB0byBiZSBhcHBsaWVkIHRvIGEgdG9hc3QncyBjb250YWluZXJcbiAqIGJhc2VkIG9uIGl0cyBwb3NpdGlvbiBpbiB0aGUgbWFuYWdlclxuICovXG5cbmZ1bmN0aW9uIGdldFRvYXN0U3R5bGUocG9zaXRpb24pIHtcbiAgdmFyIGlzUmlnaHR5ID0gcG9zaXRpb24uaW5jbHVkZXMoXCJyaWdodFwiKTtcbiAgdmFyIGlzTGVmdHkgPSBwb3NpdGlvbi5pbmNsdWRlcyhcImxlZnRcIik7XG4gIHZhciBhbGlnbkl0ZW1zID0gXCJjZW50ZXJcIjtcbiAgaWYgKGlzUmlnaHR5KSBhbGlnbkl0ZW1zID0gXCJmbGV4LWVuZFwiO1xuICBpZiAoaXNMZWZ0eSkgYWxpZ25JdGVtcyA9IFwiZmxleC1zdGFydFwiO1xuICByZXR1cm4ge1xuICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgYWxpZ25JdGVtczogYWxpZ25JdGVtc1xuICB9O1xufVxuXG4vKipcbiAqIEB0b2RvIEFmdGVyIEdlcnJpdCByZWZhY3RvcnMgdGhpcyBpbXBsZW1lbnRhdGlvbixcbiAqIGFsbG93IHVzZXJzIHRvIGNoYW5nZSB0aGUgdG9hc3QgdHJhbnNpdGlvbiBkaXJlY3Rpb24gZnJvbVxuICogYSBgVG9hc3RQcm92aWRlcmAgY29tcG9uZW50LlxuICpcbiAqIEhlcmUncyBhbiBBUEkgZXhhbXBsZTpcbiAqXG4gKiBgYGBqc3hcbiAqIDxUb2FzdFByb3ZpZGVyXG4gKiAgIG1vdGlvbj17Y3VzdG9tVmFyaWFudHN9XG4gKiAgIGNvbXBvbmVudD17Q3VzdG9tVG9hc3RDb21wb25lbnR9XG4gKiAgIGF1dG9DbG9zZVRpbWVvdXQ9ezMwMDB9XG4gKiAgIHRvYXN0U3BhY2luZz17MzJ9IC8vIHRoaXMgd2lsbCBjb250cm9sIHRoZSBgbWFyZ2luYCB2YWx1ZSBhcHBsaWVkXG4gKiA+XG4gKiA8L1RvYXN0UHJvdmlkZXI+XG4gKiBgYGBcbiAqL1xuXG52YXIgdG9hc3RNb3Rpb25WYXJpYW50cyA9IHtcbiAgaW5pdGlhbDogZnVuY3Rpb24gaW5pdGlhbChwcm9wcykge1xuICAgIHZhciBfcmVmO1xuXG4gICAgdmFyIHBvc2l0aW9uID0gcHJvcHMucG9zaXRpb247XG4gICAgdmFyIGRpciA9IFtcInRvcFwiLCBcImJvdHRvbVwiXS5pbmNsdWRlcyhwb3NpdGlvbikgPyBcInlcIiA6IFwieFwiO1xuICAgIHZhciBmYWN0b3IgPSBbXCJ0b3AtcmlnaHRcIiwgXCJib3R0b20tcmlnaHRcIl0uaW5jbHVkZXMocG9zaXRpb24pID8gMSA6IC0xO1xuICAgIGlmIChwb3NpdGlvbiA9PT0gXCJib3R0b21cIikgZmFjdG9yID0gMTtcbiAgICByZXR1cm4gX3JlZiA9IHtcbiAgICAgIG9wYWNpdHk6IDBcbiAgICB9LCBfcmVmW2Rpcl0gPSBmYWN0b3IgKiAyNCwgX3JlZjtcbiAgfSxcbiAgYW5pbWF0ZToge1xuICAgIG9wYWNpdHk6IDEsXG4gICAgeTogMCxcbiAgICB4OiAwLFxuICAgIHNjYWxlOiAxLFxuICAgIHRyYW5zaXRpb246IHtcbiAgICAgIGR1cmF0aW9uOiAwLjQsXG4gICAgICBlYXNlOiBbMC40LCAwLCAwLjIsIDFdXG4gICAgfVxuICB9LFxuICBleGl0OiB7XG4gICAgb3BhY2l0eTogMCxcbiAgICBzY2FsZTogMC44NSxcbiAgICB0cmFuc2l0aW9uOiB7XG4gICAgICBkdXJhdGlvbjogMC4yLFxuICAgICAgZWFzZTogWzAuNCwgMCwgMSwgMV1cbiAgICB9XG4gIH1cbn07XG52YXIgVG9hc3QkMSA9IGZ1bmN0aW9uIFRvYXN0KHByb3BzKSB7XG4gIHZhciBpZCA9IHByb3BzLmlkLFxuICAgICAgbWVzc2FnZSA9IHByb3BzLm1lc3NhZ2UsXG4gICAgICBvbkNsb3NlQ29tcGxldGUgPSBwcm9wcy5vbkNsb3NlQ29tcGxldGUsXG4gICAgICBvblJlcXVlc3RSZW1vdmUgPSBwcm9wcy5vblJlcXVlc3RSZW1vdmUsXG4gICAgICBfcHJvcHMkcmVxdWVzdENsb3NlID0gcHJvcHMucmVxdWVzdENsb3NlLFxuICAgICAgcmVxdWVzdENsb3NlID0gX3Byb3BzJHJlcXVlc3RDbG9zZSA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkcmVxdWVzdENsb3NlLFxuICAgICAgX3Byb3BzJHBvc2l0aW9uID0gcHJvcHMucG9zaXRpb24sXG4gICAgICBwb3NpdGlvbiA9IF9wcm9wcyRwb3NpdGlvbiA9PT0gdm9pZCAwID8gXCJib3R0b21cIiA6IF9wcm9wcyRwb3NpdGlvbixcbiAgICAgIF9wcm9wcyRkdXJhdGlvbiA9IHByb3BzLmR1cmF0aW9uLFxuICAgICAgZHVyYXRpb24gPSBfcHJvcHMkZHVyYXRpb24gPT09IHZvaWQgMCA/IDUwMDAgOiBfcHJvcHMkZHVyYXRpb24sXG4gICAgICBfcHJvcHMkY29udGFpbmVyU3R5bGUgPSBwcm9wcy5jb250YWluZXJTdHlsZSxcbiAgICAgIGNvbnRhaW5lclN0eWxlID0gX3Byb3BzJGNvbnRhaW5lclN0eWxlID09PSB2b2lkIDAgPyB7fSA6IF9wcm9wcyRjb250YWluZXJTdHlsZTtcblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZHVyYXRpb24pLFxuICAgICAgZGVsYXkgPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICBzZXREZWxheSA9IF9SZWFjdCR1c2VTdGF0ZVsxXTtcblxuICB2YXIgaXNQcmVzZW50ID0gdXNlSXNQcmVzZW50KCk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCFpc1ByZXNlbnQpIHtcbiAgICAgIG9uQ2xvc2VDb21wbGV0ZSA9PSBudWxsID8gdm9pZCAwIDogb25DbG9zZUNvbXBsZXRlKCk7XG4gICAgfVxuICB9LCBbaXNQcmVzZW50XSk7XG4gIHVzZVVwZGF0ZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2V0RGVsYXkoZHVyYXRpb24pO1xuICB9LCBbZHVyYXRpb25dKTtcblxuICB2YXIgb25Nb3VzZUVudGVyID0gZnVuY3Rpb24gb25Nb3VzZUVudGVyKCkge1xuICAgIHJldHVybiBzZXREZWxheShudWxsKTtcbiAgfTtcblxuICB2YXIgb25Nb3VzZUxlYXZlID0gZnVuY3Rpb24gb25Nb3VzZUxlYXZlKCkge1xuICAgIHJldHVybiBzZXREZWxheShkdXJhdGlvbik7XG4gIH07XG5cbiAgdmFyIGNsb3NlID0gZnVuY3Rpb24gY2xvc2UoKSB7XG4gICAgaWYgKGlzUHJlc2VudCkgb25SZXF1ZXN0UmVtb3ZlKCk7XG4gIH07XG5cbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoaXNQcmVzZW50ICYmIHJlcXVlc3RDbG9zZSkge1xuICAgICAgb25SZXF1ZXN0UmVtb3ZlKCk7XG4gICAgfVxuICB9LCBbaXNQcmVzZW50LCByZXF1ZXN0Q2xvc2UsIG9uUmVxdWVzdFJlbW92ZV0pO1xuICB1c2VUaW1lb3V0KGNsb3NlLCBkZWxheSk7XG4gIHZhciBzdHlsZSA9IFJlYWN0LnVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBnZXRUb2FzdFN0eWxlKHBvc2l0aW9uKTtcbiAgfSwgW3Bvc2l0aW9uXSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChtb3Rpb24ubGksIHtcbiAgICBsYXlvdXQ6IHRydWUsXG4gICAgY2xhc3NOYW1lOiBcImNoYWtyYS10b2FzdFwiLFxuICAgIHZhcmlhbnRzOiB0b2FzdE1vdGlvblZhcmlhbnRzLFxuICAgIGluaXRpYWw6IFwiaW5pdGlhbFwiLFxuICAgIGFuaW1hdGU6IFwiYW5pbWF0ZVwiLFxuICAgIGV4aXQ6IFwiZXhpdFwiLFxuICAgIG9uSG92ZXJTdGFydDogb25Nb3VzZUVudGVyLFxuICAgIG9uSG92ZXJFbmQ6IG9uTW91c2VMZWF2ZSxcbiAgICBjdXN0b206IHtcbiAgICAgIHBvc2l0aW9uOiBwb3NpdGlvblxuICAgIH0sXG4gICAgc3R5bGU6IHN0eWxlXG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWNoQWxlcnQsIHtcbiAgICBjbGFzc05hbWU6IFwiY2hha3JhLXRvYXN0X19pbm5lclwiLFxuICAgIHN0eWxlOiBfZXh0ZW5kcyh7XG4gICAgICBwb2ludGVyRXZlbnRzOiBcImF1dG9cIixcbiAgICAgIG1heFdpZHRoOiA1NjAsXG4gICAgICBtaW5XaWR0aDogMzAwLFxuICAgICAgbWFyZ2luOiBcIjAuNXJlbVwiXG4gICAgfSwgY29udGFpbmVyU3R5bGUpXG4gIH0sIGlzRnVuY3Rpb24obWVzc2FnZSkgPyBtZXNzYWdlKHtcbiAgICBpZDogaWQsXG4gICAgb25DbG9zZTogY2xvc2VcbiAgfSkgOiBtZXNzYWdlKSk7XG59O1xuXG5pZiAoX19ERVZfXykge1xuICBUb2FzdCQxLmRpc3BsYXlOYW1lID0gXCJUb2FzdFwiO1xufVxuXG4vKipcbiAqIE1hbmFnZXMgdGhlIGNyZWF0aW9uLCBhbmQgcmVtb3ZhbCBvZiB0b2FzdHNcbiAqIGFjcm9zcyBhbGwgY29ybmVycyAoXCJ0b3BcIiwgXCJib3R0b21cIiwgZXRjLilcbiAqL1xudmFyIFRvYXN0TWFuYWdlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHNMb29zZShUb2FzdE1hbmFnZXIsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIC8qKlxuICAgKiBTdGF0aWMgaWQgY291bnRlciB0byBjcmVhdGUgdW5pcXVlIGlkc1xuICAgKiBmb3IgZWFjaCB0b2FzdFxuICAgKi9cblxuICAvKipcbiAgICogU3RhdGUgdG8gdHJhY2sgYWxsIHRoZSB0b2FzdCBhY3Jvc3MgYWxsIHBvc2l0aW9uc1xuICAgKi9cbiAgZnVuY3Rpb24gVG9hc3RNYW5hZ2VyKHByb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICB0b3A6IFtdLFxuICAgICAgXCJ0b3AtbGVmdFwiOiBbXSxcbiAgICAgIFwidG9wLXJpZ2h0XCI6IFtdLFxuICAgICAgXCJib3R0b20tbGVmdFwiOiBbXSxcbiAgICAgIGJvdHRvbTogW10sXG4gICAgICBcImJvdHRvbS1yaWdodFwiOiBbXVxuICAgIH07XG5cbiAgICBfdGhpcy5ub3RpZnkgPSBmdW5jdGlvbiAobWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgdmFyIHRvYXN0ID0gX3RoaXMuY3JlYXRlVG9hc3QobWVzc2FnZSwgb3B0aW9ucyk7XG5cbiAgICAgIHZhciBwb3NpdGlvbiA9IHRvYXN0LnBvc2l0aW9uLFxuICAgICAgICAgIGlkID0gdG9hc3QuaWQ7XG5cbiAgICAgIF90aGlzLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2VG9hc3RzKSB7XG4gICAgICAgIHZhciBfZXh0ZW5kczI7XG5cbiAgICAgICAgdmFyIGlzVG9wID0gcG9zaXRpb24uaW5jbHVkZXMoXCJ0b3BcIik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiAtIElmIHRoZSB0b2FzdCBpcyBwb3NpdGlvbmVkIGF0IHRoZSB0b3AgZWRnZXMsIHRoZVxuICAgICAgICAgKiByZWNlbnQgdG9hc3Qgc3RhY2tzIG9uIHRvcCBvZiB0aGUgb3RoZXIgdG9hc3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiAtIElmIHRoZSB0b2FzdCBpcyBwb3NpdGlvbmVkIGF0IHRoZSBib3R0b20gZWRnZXMsIHRoZSByZWNlbnRcbiAgICAgICAgICogdG9hc3Qgc3RhY2tzIGJlbG93IHRoZSBvdGhlciB0b2FzdHMuXG4gICAgICAgICAqL1xuXG4gICAgICAgIHZhciB0b2FzdHMgPSBpc1RvcCA/IFt0b2FzdF0uY29uY2F0KHByZXZUb2FzdHNbcG9zaXRpb25dKSA6IFtdLmNvbmNhdChwcmV2VG9hc3RzW3Bvc2l0aW9uXSwgW3RvYXN0XSk7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJldlRvYXN0cywgKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbcG9zaXRpb25dID0gdG9hc3RzLCBfZXh0ZW5kczIpKTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gaWQ7XG4gICAgfTtcblxuICAgIF90aGlzLnVwZGF0ZVRvYXN0ID0gZnVuY3Rpb24gKGlkLCBvcHRpb25zKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgIHZhciBuZXh0U3RhdGUgPSBfZXh0ZW5kcyh7fSwgcHJldlN0YXRlKTtcblxuICAgICAgICB2YXIgX2ZpbmRUb2FzdCA9IGZpbmRUb2FzdChuZXh0U3RhdGUsIGlkKSxcbiAgICAgICAgICAgIHBvc2l0aW9uID0gX2ZpbmRUb2FzdC5wb3NpdGlvbixcbiAgICAgICAgICAgIGluZGV4ID0gX2ZpbmRUb2FzdC5pbmRleDtcblxuICAgICAgICBpZiAocG9zaXRpb24gJiYgaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgbmV4dFN0YXRlW3Bvc2l0aW9uXVtpbmRleF0gPSBfZXh0ZW5kcyh7fSwgbmV4dFN0YXRlW3Bvc2l0aW9uXVtpbmRleF0sIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5leHRTdGF0ZTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZUFsbCA9IGZ1bmN0aW9uIChfdGVtcCkge1xuICAgICAgdmFyIF9yZWYgPSBfdGVtcCA9PT0gdm9pZCAwID8ge30gOiBfdGVtcCxcbiAgICAgICAgICBwb3NpdGlvbnMgPSBfcmVmLnBvc2l0aW9ucztcblxuICAgICAgLy8gb25seSBvbmUgc2V0U3RhdGUgaGVyZSBmb3IgcGVyZiByZWFzb25zXG4gICAgICAvLyBpbnN0ZWFkIG9mIHNwYW1taW5nIHRoaXMuY2xvc2VUb2FzdFxuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXYpIHtcbiAgICAgICAgdmFyIGFsbFBvc2l0aW9ucyA9IFtcImJvdHRvbVwiLCBcImJvdHRvbS1yaWdodFwiLCBcImJvdHRvbS1sZWZ0XCIsIFwidG9wXCIsIFwidG9wLWxlZnRcIiwgXCJ0b3AtcmlnaHRcIl07XG4gICAgICAgIHZhciBwb3NpdGlvbnNUb0Nsb3NlID0gcG9zaXRpb25zICE9IG51bGwgPyBwb3NpdGlvbnMgOiBhbGxQb3NpdGlvbnM7XG4gICAgICAgIHJldHVybiBwb3NpdGlvbnNUb0Nsb3NlLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBwb3NpdGlvbikge1xuICAgICAgICAgIGFjY1twb3NpdGlvbl0gPSBwcmV2W3Bvc2l0aW9uXS5tYXAoZnVuY3Rpb24gKHRvYXN0KSB7XG4gICAgICAgICAgICByZXR1cm4gX2V4dGVuZHMoe30sIHRvYXN0LCB7XG4gICAgICAgICAgICAgIHJlcXVlc3RDbG9zZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwge30pO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLmNyZWF0ZVRvYXN0ID0gZnVuY3Rpb24gKG1lc3NhZ2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBfb3B0aW9ucyRpZCwgX29wdGlvbnMkcG9zaXRpb247XG5cbiAgICAgIFRvYXN0TWFuYWdlci5jb3VudGVyICs9IDE7XG4gICAgICB2YXIgaWQgPSAoX29wdGlvbnMkaWQgPSBvcHRpb25zLmlkKSAhPSBudWxsID8gX29wdGlvbnMkaWQgOiBUb2FzdE1hbmFnZXIuY291bnRlcjtcbiAgICAgIHZhciBwb3NpdGlvbiA9IChfb3B0aW9ucyRwb3NpdGlvbiA9IG9wdGlvbnMucG9zaXRpb24pICE9IG51bGwgPyBfb3B0aW9ucyRwb3NpdGlvbiA6IFwidG9wXCI7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgIHBvc2l0aW9uOiBwb3NpdGlvbixcbiAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgIG9uQ2xvc2VDb21wbGV0ZTogb3B0aW9ucy5vbkNsb3NlQ29tcGxldGUsXG4gICAgICAgIG9uUmVxdWVzdFJlbW92ZTogZnVuY3Rpb24gb25SZXF1ZXN0UmVtb3ZlKCkge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5yZW1vdmVUb2FzdChTdHJpbmcoaWQpLCBwb3NpdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIHN0YXR1czogb3B0aW9ucy5zdGF0dXMsXG4gICAgICAgIHJlcXVlc3RDbG9zZTogZmFsc2UsXG4gICAgICAgIGNvbnRhaW5lclN0eWxlOiBvcHRpb25zLmNvbnRhaW5lclN0eWxlXG4gICAgICB9O1xuICAgIH07XG5cbiAgICBfdGhpcy5jbG9zZVRvYXN0ID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBfdGhpcy5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgIHZhciBfZXh0ZW5kczM7XG5cbiAgICAgICAgdmFyIHBvc2l0aW9uID0gZ2V0VG9hc3RQb3NpdGlvbihwcmV2U3RhdGUsIGlkKTtcbiAgICAgICAgaWYgKCFwb3NpdGlvbikgcmV0dXJuIHByZXZTdGF0ZTtcbiAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCBwcmV2U3RhdGUsIChfZXh0ZW5kczMgPSB7fSwgX2V4dGVuZHMzW3Bvc2l0aW9uXSA9IHByZXZTdGF0ZVtwb3NpdGlvbl0ubWFwKGZ1bmN0aW9uICh0b2FzdCkge1xuICAgICAgICAgIC8vIGlkIG1heSBiZSBzdHJpbmcgb3IgbnVtYmVyXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxuICAgICAgICAgIGlmICh0b2FzdC5pZCA9PSBpZCkge1xuICAgICAgICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCB0b2FzdCwge1xuICAgICAgICAgICAgICByZXF1ZXN0Q2xvc2U6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiB0b2FzdDtcbiAgICAgICAgfSksIF9leHRlbmRzMykpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF90aGlzLnJlbW92ZVRvYXN0ID0gZnVuY3Rpb24gKGlkLCBwb3NpdGlvbikge1xuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHByZXZTdGF0ZSkge1xuICAgICAgICB2YXIgX2V4dGVuZHM0O1xuXG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgcHJldlN0YXRlLCAoX2V4dGVuZHM0ID0ge30sIF9leHRlbmRzNFtwb3NpdGlvbl0gPSBwcmV2U3RhdGVbcG9zaXRpb25dLmZpbHRlcihmdW5jdGlvbiAodG9hc3QpIHtcbiAgICAgICAgICByZXR1cm4gdG9hc3QuaWQgIT0gaWQ7XG4gICAgICAgIH0pLCBfZXh0ZW5kczQpKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5pc1Zpc2libGUgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHZhciBfZmluZFRvYXN0MiA9IGZpbmRUb2FzdChfdGhpcy5zdGF0ZSwgaWQpLFxuICAgICAgICAgIHBvc2l0aW9uID0gX2ZpbmRUb2FzdDIucG9zaXRpb247XG5cbiAgICAgIHJldHVybiBCb29sZWFuKHBvc2l0aW9uKTtcbiAgICB9O1xuXG4gICAgX3RoaXMuZ2V0U3R5bGUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHtcbiAgICAgIHZhciBpc1RvcE9yQm90dG9tID0gcG9zaXRpb24gPT09IFwidG9wXCIgfHwgcG9zaXRpb24gPT09IFwiYm90dG9tXCI7XG4gICAgICB2YXIgbWFyZ2luID0gaXNUb3BPckJvdHRvbSA/IFwiMCBhdXRvXCIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgdG9wID0gcG9zaXRpb24uaW5jbHVkZXMoXCJ0b3BcIikgPyBcImVudihzYWZlLWFyZWEtaW5zZXQtdG9wLCAwcHgpXCIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgYm90dG9tID0gcG9zaXRpb24uaW5jbHVkZXMoXCJib3R0b21cIikgPyBcImVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tLCAwcHgpXCIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgcmlnaHQgPSAhcG9zaXRpb24uaW5jbHVkZXMoXCJsZWZ0XCIpID8gXCJlbnYoc2FmZS1hcmVhLWluc2V0LXJpZ2h0LCAwcHgpXCIgOiB1bmRlZmluZWQ7XG4gICAgICB2YXIgbGVmdCA9ICFwb3NpdGlvbi5pbmNsdWRlcyhcInJpZ2h0XCIpID8gXCJlbnYoc2FmZS1hcmVhLWluc2V0LWxlZnQsIDBweClcIiA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCIsXG4gICAgICAgIHpJbmRleDogNTUwMCxcbiAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICAgICAgICBtYXJnaW46IG1hcmdpbixcbiAgICAgICAgdG9wOiB0b3AsXG4gICAgICAgIGJvdHRvbTogYm90dG9tLFxuICAgICAgICByaWdodDogcmlnaHQsXG4gICAgICAgIGxlZnQ6IGxlZnRcbiAgICAgIH07XG4gICAgfTtcblxuICAgIHZhciBtZXRob2RzID0ge1xuICAgICAgbm90aWZ5OiBfdGhpcy5ub3RpZnksXG4gICAgICBjbG9zZUFsbDogX3RoaXMuY2xvc2VBbGwsXG4gICAgICBjbG9zZTogX3RoaXMuY2xvc2VUb2FzdCxcbiAgICAgIHVwZGF0ZTogX3RoaXMudXBkYXRlVG9hc3QsXG4gICAgICBpc0FjdGl2ZTogX3RoaXMuaXNWaXNpYmxlXG4gICAgfTtcbiAgICBwcm9wcy5ub3RpZnkobWV0aG9kcyk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIC8qKlxuICAgKiBGdW5jdGlvbiB0byBhY3R1YWxseSBjcmVhdGUgYSB0b2FzdCBhbmQgYWRkIGl0XG4gICAqIHRvIHN0YXRlIGF0IHRoZSBzcGVjaWZpZWQgcG9zaXRpb25cbiAgICovXG5cblxuICB2YXIgX3Byb3RvID0gVG9hc3RNYW5hZ2VyLnByb3RvdHlwZTtcblxuICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgcmV0dXJuIG9iamVjdEtleXModGhpcy5zdGF0ZSkubWFwKGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgdmFyIHRvYXN0cyA9IF90aGlzMi5zdGF0ZVtwb3NpdGlvbl07XG4gICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ1bFwiLCB7XG4gICAgICAgIGtleTogcG9zaXRpb24sXG4gICAgICAgIGlkOiBcImNoYWtyYS10b2FzdC1tYW5hZ2VyLVwiICsgcG9zaXRpb24sXG4gICAgICAgIHN0eWxlOiBfdGhpczIuZ2V0U3R5bGUocG9zaXRpb24pXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBbmltYXRlUHJlc2VuY2UsIHtcbiAgICAgICAgaW5pdGlhbDogZmFsc2VcbiAgICAgIH0sIHRvYXN0cy5tYXAoZnVuY3Rpb24gKHRvYXN0KSB7XG4gICAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb2FzdCQxLCBfZXh0ZW5kcyh7XG4gICAgICAgICAga2V5OiB0b2FzdC5pZFxuICAgICAgICB9LCB0b2FzdCkpO1xuICAgICAgfSkpKTtcbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gVG9hc3RNYW5hZ2VyO1xufShSZWFjdC5Db21wb25lbnQpO1xuVG9hc3RNYW5hZ2VyLmNvdW50ZXIgPSAwO1xuXG52YXIgcG9ydGFsSWQgPSBcImNoYWtyYS10b2FzdC1wb3J0YWxcIjtcblxudmFyIFRvYXN0ZXIgPVxuLyoqXG4gKiBJbml0aWFsaXplIHRoZSBtYW5hZ2VyIGFuZCBtb3VudCBpdCBpbiB0aGUgRE9NXG4gKiBpbnNpZGUgdGhlIHBvcnRhbCBub2RlLlxuICpcbiAqIEB0b2RvXG4gKlxuICogVXBkYXRlIHRvYXN0IGNvbnN0cnVjdG9yIHRvIHVzZSBgUG9ydGFsTWFuYWdlcmAncyBub2RlIG9yIGRvY3VtZW50LmJvZHkuXG4gKiBPbmNlIGRvbmUsIHdlIGNhbiByZW1vdmUgdGhlIGB6SW5kZXhgIGluIGB0b2FzdC5tYW5hZ2VyLnRzeGBcbiAqL1xuZnVuY3Rpb24gVG9hc3RlcigpIHtcbiAgdmFyIF90aGlzID0gdGhpcztcblxuICB0aGlzLmNyZWF0ZVRvYXN0ID0gdm9pZCAwO1xuICB0aGlzLnJlbW92ZUFsbCA9IHZvaWQgMDtcbiAgdGhpcy5jbG9zZVRvYXN0ID0gdm9pZCAwO1xuICB0aGlzLnVwZGF0ZVRvYXN0ID0gdm9pZCAwO1xuICB0aGlzLmlzVG9hc3RBY3RpdmUgPSB2b2lkIDA7XG5cbiAgdGhpcy5iaW5kRnVuY3Rpb25zID0gZnVuY3Rpb24gKG1ldGhvZHMpIHtcbiAgICBfdGhpcy5jcmVhdGVUb2FzdCA9IG1ldGhvZHMubm90aWZ5O1xuICAgIF90aGlzLnJlbW92ZUFsbCA9IG1ldGhvZHMuY2xvc2VBbGw7XG4gICAgX3RoaXMuY2xvc2VUb2FzdCA9IG1ldGhvZHMuY2xvc2U7XG4gICAgX3RoaXMudXBkYXRlVG9hc3QgPSBtZXRob2RzLnVwZGF0ZTtcbiAgICBfdGhpcy5pc1RvYXN0QWN0aXZlID0gbWV0aG9kcy5pc0FjdGl2ZTtcbiAgfTtcblxuICB0aGlzLm5vdGlmeSA9IGZ1bmN0aW9uIChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIHJldHVybiBfdGhpcy5jcmVhdGVUb2FzdCA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMuY3JlYXRlVG9hc3QobWVzc2FnZSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgdGhpcy5jbG9zZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgIF90aGlzLmNsb3NlVG9hc3QgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzLmNsb3NlVG9hc3QoaWQpO1xuICB9O1xuXG4gIHRoaXMuY2xvc2VBbGwgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIF90aGlzLnJlbW92ZUFsbCA9PSBudWxsID8gdm9pZCAwIDogX3RoaXMucmVtb3ZlQWxsKG9wdGlvbnMpO1xuICB9O1xuXG4gIHRoaXMudXBkYXRlID0gZnVuY3Rpb24gKGlkLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIF90aGlzLnVwZGF0ZVRvYXN0ID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcy51cGRhdGVUb2FzdChpZCwgb3B0aW9ucyk7XG4gIH07XG5cbiAgdGhpcy5pc0FjdGl2ZSA9IGZ1bmN0aW9uIChpZCkge1xuICAgIHJldHVybiBfdGhpcy5pc1RvYXN0QWN0aXZlID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcy5pc1RvYXN0QWN0aXZlKGlkKTtcbiAgfTtcblxuICBpZiAoIWlzQnJvd3NlcikgcmV0dXJuO1xuICB2YXIgcG9ydGFsO1xuICB2YXIgZXhpc3RpbmdQb3J0YWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwb3J0YWxJZCk7XG5cbiAgaWYgKGV4aXN0aW5nUG9ydGFsKSB7XG4gICAgcG9ydGFsID0gZXhpc3RpbmdQb3J0YWw7XG4gIH0gZWxzZSB7XG4gICAgdmFyIF9kb2N1bWVudCRib2R5O1xuXG4gICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGl2LmlkID0gcG9ydGFsSWQ7XG4gICAgKF9kb2N1bWVudCRib2R5ID0gZG9jdW1lbnQuYm9keSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kb2N1bWVudCRib2R5LmFwcGVuZENoaWxkKGRpdik7XG4gICAgcG9ydGFsID0gZGl2O1xuICB9XG5cbiAgcmVuZGVyKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUb2FzdE1hbmFnZXIsIHtcbiAgICBub3RpZnk6IHRoaXMuYmluZEZ1bmN0aW9uc1xuICB9KSwgcG9ydGFsKTtcbn07XG5cbnZhciB0b2FzdCA9IG5ldyBUb2FzdGVyKCk7XG5cbmZ1bmN0aW9uIGdldFRvYXN0UGxhY2VtZW50KHBvc2l0aW9uLCBkaXIpIHtcbiAgdmFyIF9sb2dpY2FsJGRpcjtcblxuICBpZiAoIXBvc2l0aW9uKSByZXR1cm47XG4gIHZhciBsb2dpY2FscyA9IHtcbiAgICBcInRvcC1zdGFydFwiOiB7XG4gICAgICBsdHI6IFwidG9wLWxlZnRcIixcbiAgICAgIHJ0bDogXCJ0b3AtcmlnaHRcIlxuICAgIH0sXG4gICAgXCJ0b3AtZW5kXCI6IHtcbiAgICAgIGx0cjogXCJ0b3AtcmlnaHRcIixcbiAgICAgIHJ0bDogXCJ0b3AtbGVmdFwiXG4gICAgfSxcbiAgICBcImJvdHRvbS1zdGFydFwiOiB7XG4gICAgICBsdHI6IFwiYm90dG9tLWxlZnRcIixcbiAgICAgIHJ0bDogXCJib3R0b20tcmlnaHRcIlxuICAgIH0sXG4gICAgXCJib3R0b20tZW5kXCI6IHtcbiAgICAgIGx0cjogXCJib3R0b20tcmlnaHRcIixcbiAgICAgIHJ0bDogXCJib3R0b20tbGVmdFwiXG4gICAgfVxuICB9O1xuICB2YXIgbG9naWNhbCA9IGxvZ2ljYWxzW3Bvc2l0aW9uXTtcbiAgcmV0dXJuIChfbG9naWNhbCRkaXIgPSBsb2dpY2FsID09IG51bGwgPyB2b2lkIDAgOiBsb2dpY2FsW2Rpcl0pICE9IG51bGwgPyBfbG9naWNhbCRkaXIgOiBwb3NpdGlvbjtcbn1cblxudmFyIFRvYXN0ID0gZnVuY3Rpb24gVG9hc3QocHJvcHMpIHtcbiAgdmFyIHN0YXR1cyA9IHByb3BzLnN0YXR1cyxcbiAgICAgIHZhcmlhbnQgPSBwcm9wcy52YXJpYW50LFxuICAgICAgaWQgPSBwcm9wcy5pZCxcbiAgICAgIHRpdGxlID0gcHJvcHMudGl0bGUsXG4gICAgICBpc0Nsb3NhYmxlID0gcHJvcHMuaXNDbG9zYWJsZSxcbiAgICAgIG9uQ2xvc2UgPSBwcm9wcy5vbkNsb3NlLFxuICAgICAgZGVzY3JpcHRpb24gPSBwcm9wcy5kZXNjcmlwdGlvbjtcbiAgdmFyIGFsZXJ0VGl0bGVJZCA9IHR5cGVvZiBpZCAhPT0gXCJ1bmRlZmluZWRcIiA/IFwidG9hc3QtXCIgKyBpZCArIFwiLXRpdGxlXCIgOiB1bmRlZmluZWQ7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBbGVydCwge1xuICAgIHN0YXR1czogc3RhdHVzLFxuICAgIHZhcmlhbnQ6IHZhcmlhbnQsXG4gICAgaWQ6IGlkLFxuICAgIGFsaWduSXRlbXM6IFwic3RhcnRcIixcbiAgICBib3JkZXJSYWRpdXM6IFwibWRcIixcbiAgICBib3hTaGFkb3c6IFwibGdcIixcbiAgICBwYWRkaW5nRW5kOiA4LFxuICAgIHRleHRBbGlnbjogXCJzdGFydFwiLFxuICAgIHdpZHRoOiBcImF1dG9cIixcbiAgICBcImFyaWEtbGFiZWxsZWRieVwiOiBhbGVydFRpdGxlSWRcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQWxlcnRJY29uLCBudWxsKSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoY2hha3JhLmRpdiwge1xuICAgIGZsZXg6IFwiMVwiLFxuICAgIG1heFdpZHRoOiBcIjEwMCVcIlxuICB9LCB0aXRsZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChBbGVydFRpdGxlLCB7XG4gICAgaWQ6IGFsZXJ0VGl0bGVJZFxuICB9LCB0aXRsZSksIGRlc2NyaXB0aW9uICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFsZXJ0RGVzY3JpcHRpb24sIHtcbiAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgfSwgZGVzY3JpcHRpb24pKSwgaXNDbG9zYWJsZSAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDbG9zZUJ1dHRvbiwge1xuICAgIHNpemU6IFwic21cIixcbiAgICBvbkNsaWNrOiBvbkNsb3NlLFxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgaW5zZXRFbmQ6IDEsXG4gICAgdG9wOiAxXG4gIH0pKTtcbn07XG5cbnZhciBkZWZhdWx0cyA9IHtcbiAgZHVyYXRpb246IDUwMDAsXG4gIHBvc2l0aW9uOiBcImJvdHRvbVwiLFxuICB2YXJpYW50OiBcInNvbGlkXCJcbn07XG52YXIgZGVmYXVsdFN0YW5kYWxvbmVQYXJhbSA9IHtcbiAgdGhlbWU6IGRlZmF1bHRUaGVtZSxcbiAgY29sb3JNb2RlOiBcImxpZ2h0XCIsXG4gIHRvZ2dsZUNvbG9yTW9kZTogbm9vcCxcbiAgc2V0Q29sb3JNb2RlOiBub29wLFxuICBkZWZhdWx0T3B0aW9uczogZGVmYXVsdHNcbn07XG4vKipcbiAqIENyZWF0ZSBhIHRvYXN0IGZyb20gb3V0c2lkZSBvZiBSZWFjdCBDb21wb25lbnRzXG4gKi9cblxuZnVuY3Rpb24gY3JlYXRlU3RhbmRhbG9uZVRvYXN0KF90ZW1wKSB7XG4gIHZhciBfcmVmID0gX3RlbXAgPT09IHZvaWQgMCA/IGRlZmF1bHRTdGFuZGFsb25lUGFyYW0gOiBfdGVtcCxcbiAgICAgIF9yZWYkdGhlbWUgPSBfcmVmLnRoZW1lLFxuICAgICAgdGhlbWUgPSBfcmVmJHRoZW1lID09PSB2b2lkIDAgPyBkZWZhdWx0U3RhbmRhbG9uZVBhcmFtLnRoZW1lIDogX3JlZiR0aGVtZSxcbiAgICAgIF9yZWYkY29sb3JNb2RlID0gX3JlZi5jb2xvck1vZGUsXG4gICAgICBjb2xvck1vZGUgPSBfcmVmJGNvbG9yTW9kZSA9PT0gdm9pZCAwID8gZGVmYXVsdFN0YW5kYWxvbmVQYXJhbS5jb2xvck1vZGUgOiBfcmVmJGNvbG9yTW9kZSxcbiAgICAgIF9yZWYkdG9nZ2xlQ29sb3JNb2RlID0gX3JlZi50b2dnbGVDb2xvck1vZGUsXG4gICAgICB0b2dnbGVDb2xvck1vZGUgPSBfcmVmJHRvZ2dsZUNvbG9yTW9kZSA9PT0gdm9pZCAwID8gZGVmYXVsdFN0YW5kYWxvbmVQYXJhbS50b2dnbGVDb2xvck1vZGUgOiBfcmVmJHRvZ2dsZUNvbG9yTW9kZSxcbiAgICAgIF9yZWYkc2V0Q29sb3JNb2RlID0gX3JlZi5zZXRDb2xvck1vZGUsXG4gICAgICBzZXRDb2xvck1vZGUgPSBfcmVmJHNldENvbG9yTW9kZSA9PT0gdm9pZCAwID8gZGVmYXVsdFN0YW5kYWxvbmVQYXJhbS5zZXRDb2xvck1vZGUgOiBfcmVmJHNldENvbG9yTW9kZSxcbiAgICAgIF9yZWYkZGVmYXVsdE9wdGlvbnMgPSBfcmVmLmRlZmF1bHRPcHRpb25zLFxuICAgICAgZGVmYXVsdE9wdGlvbnMgPSBfcmVmJGRlZmF1bHRPcHRpb25zID09PSB2b2lkIDAgPyBkZWZhdWx0U3RhbmRhbG9uZVBhcmFtLmRlZmF1bHRPcHRpb25zIDogX3JlZiRkZWZhdWx0T3B0aW9ucztcblxuICB2YXIgcmVuZGVyV2l0aFByb3ZpZGVycyA9IGZ1bmN0aW9uIHJlbmRlcldpdGhQcm92aWRlcnMocHJvcHMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlbWVQcm92aWRlciwge1xuICAgICAgdGhlbWU6IHRoZW1lXG4gICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29sb3JNb2RlQ29udGV4dC5Qcm92aWRlciwge1xuICAgICAgdmFsdWU6IHtcbiAgICAgICAgY29sb3JNb2RlOiBjb2xvck1vZGUsXG4gICAgICAgIHNldENvbG9yTW9kZTogc2V0Q29sb3JNb2RlLFxuICAgICAgICB0b2dnbGVDb2xvck1vZGU6IHRvZ2dsZUNvbG9yTW9kZVxuICAgICAgfVxuICAgIH0sIGlzRnVuY3Rpb24ob3B0aW9ucy5yZW5kZXIpID8gb3B0aW9ucy5yZW5kZXIocHJvcHMpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVG9hc3QsIF9leHRlbmRzKHt9LCBwcm9wcywgb3B0aW9ucykpKSk7XG4gIH07XG5cbiAgdmFyIHRvYXN0SW1wbCA9IGZ1bmN0aW9uIHRvYXN0SW1wbChvcHRpb25zKSB7XG4gICAgdmFyIG9wdHMgPSBfZXh0ZW5kcyh7fSwgZGVmYXVsdE9wdGlvbnMsIG9wdGlvbnMpO1xuXG4gICAgb3B0cy5wb3NpdGlvbiA9IGdldFRvYXN0UGxhY2VtZW50KG9wdHMucG9zaXRpb24sIHRoZW1lLmRpcmVjdGlvbik7XG5cbiAgICB2YXIgTWVzc2FnZSA9IGZ1bmN0aW9uIE1lc3NhZ2UocHJvcHMpIHtcbiAgICAgIHJldHVybiByZW5kZXJXaXRoUHJvdmlkZXJzKHByb3BzLCBvcHRzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHRvYXN0Lm5vdGlmeShNZXNzYWdlLCBvcHRzKTtcbiAgfTtcblxuICB0b2FzdEltcGwuY2xvc2UgPSB0b2FzdC5jbG9zZTtcbiAgdG9hc3RJbXBsLmNsb3NlQWxsID0gdG9hc3QuY2xvc2VBbGw7IC8vIHRvYXN0cyBjYW4gb25seSBiZSB1cGRhdGVkIGlmIHRoZXkgaGF2ZSBhIHZhbGlkIGlkXG5cbiAgdG9hc3RJbXBsLnVwZGF0ZSA9IGZ1bmN0aW9uIChpZCwgb3B0aW9ucykge1xuICAgIGlmICghaWQpIHJldHVybjtcblxuICAgIHZhciBvcHRzID0gX2V4dGVuZHMoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICAgIG9wdHMucG9zaXRpb24gPSBnZXRUb2FzdFBsYWNlbWVudChvcHRzLnBvc2l0aW9uLCB0aGVtZS5kaXJlY3Rpb24pO1xuICAgIHRvYXN0LnVwZGF0ZShpZCwgX2V4dGVuZHMoe30sIG9wdHMsIHtcbiAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uIG1lc3NhZ2UocHJvcHMpIHtcbiAgICAgICAgcmV0dXJuIHJlbmRlcldpdGhQcm92aWRlcnMocHJvcHMsIG9wdHMpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfTtcblxuICB0b2FzdEltcGwuaXNBY3RpdmUgPSB0b2FzdC5pc0FjdGl2ZTtcbiAgcmV0dXJuIHRvYXN0SW1wbDtcbn1cbi8qKlxuICogUmVhY3QgaG9vayB1c2VkIHRvIGNyZWF0ZSBhIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWRcbiAqIHRvIHNob3cgdG9hc3RzIGluIGFuIGFwcGxpY2F0aW9uLlxuICovXG5cbmZ1bmN0aW9uIHVzZVRvYXN0KG9wdGlvbnMpIHtcbiAgdmFyIF91c2VDaGFrcmEgPSB1c2VDaGFrcmEoKSxcbiAgICAgIHRoZW1lID0gX3VzZUNoYWtyYS50aGVtZSxcbiAgICAgIHNldENvbG9yTW9kZSA9IF91c2VDaGFrcmEuc2V0Q29sb3JNb2RlLFxuICAgICAgdG9nZ2xlQ29sb3JNb2RlID0gX3VzZUNoYWtyYS50b2dnbGVDb2xvck1vZGUsXG4gICAgICBjb2xvck1vZGUgPSBfdXNlQ2hha3JhLmNvbG9yTW9kZTtcblxuICByZXR1cm4gUmVhY3QudXNlTWVtbyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZVN0YW5kYWxvbmVUb2FzdCh7XG4gICAgICB0aGVtZTogdGhlbWUsXG4gICAgICBjb2xvck1vZGU6IGNvbG9yTW9kZSxcbiAgICAgIHNldENvbG9yTW9kZTogc2V0Q29sb3JNb2RlLFxuICAgICAgdG9nZ2xlQ29sb3JNb2RlOiB0b2dnbGVDb2xvck1vZGUsXG4gICAgICBkZWZhdWx0T3B0aW9uczogb3B0aW9uc1xuICAgIH0pO1xuICB9LCBbdGhlbWUsIHNldENvbG9yTW9kZSwgdG9nZ2xlQ29sb3JNb2RlLCBjb2xvck1vZGUsIG9wdGlvbnNdKTtcbn1cblxuZXhwb3J0IHsgY3JlYXRlU3RhbmRhbG9uZVRvYXN0LCBkZWZhdWx0U3RhbmRhbG9uZVBhcmFtLCB0b2FzdCwgdXNlVG9hc3QgfTtcbiIsImltcG9ydCB7IGlzTnVtYmVyLCB3YXJuLCBtZXJnZVdpdGgsIGN4LCBfX0RFVl9fIH0gZnJvbSAnQGNoYWtyYS11aS91dGlscyc7XG5pbXBvcnQgeyBBbmltYXRlUHJlc2VuY2UsIG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7XG4gIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfTtcblxuICByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxudmFyIFRyYW5zaXRpb25FYXNpbmdzID0ge1xuICBlYXNlOiBbMC4yNSwgMC4xLCAwLjI1LCAxXSxcbiAgZWFzZUluOiBbMC40LCAwLCAxLCAxXSxcbiAgZWFzZU91dDogWzAsIDAsIDAuMiwgMV0sXG4gIGVhc2VJbk91dDogWzAuNCwgMCwgMC4yLCAxXVxufTtcbnZhciBUcmFuc2l0aW9uVmFyaWFudHMgPSB7XG4gIHNjYWxlOiB7XG4gICAgZW50ZXI6IHtcbiAgICAgIHNjYWxlOiAxXG4gICAgfSxcbiAgICBleGl0OiB7XG4gICAgICBzY2FsZTogMC45NVxuICAgIH1cbiAgfSxcbiAgZmFkZToge1xuICAgIGVudGVyOiB7XG4gICAgICBvcGFjaXR5OiAxXG4gICAgfSxcbiAgICBleGl0OiB7XG4gICAgICBvcGFjaXR5OiAwXG4gICAgfVxuICB9LFxuICBwdXNoTGVmdDoge1xuICAgIGVudGVyOiB7XG4gICAgICB4OiBcIjEwMCVcIlxuICAgIH0sXG4gICAgZXhpdDoge1xuICAgICAgeDogXCItMzAlXCJcbiAgICB9XG4gIH0sXG4gIHB1c2hSaWdodDoge1xuICAgIGVudGVyOiB7XG4gICAgICB4OiBcIi0xMDAlXCJcbiAgICB9LFxuICAgIGV4aXQ6IHtcbiAgICAgIHg6IFwiMzAlXCJcbiAgICB9XG4gIH0sXG4gIHB1c2hVcDoge1xuICAgIGVudGVyOiB7XG4gICAgICB5OiBcIjEwMCVcIlxuICAgIH0sXG4gICAgZXhpdDoge1xuICAgICAgeTogXCItMzAlXCJcbiAgICB9XG4gIH0sXG4gIHB1c2hEb3duOiB7XG4gICAgZW50ZXI6IHtcbiAgICAgIHk6IFwiLTEwMCVcIlxuICAgIH0sXG4gICAgZXhpdDoge1xuICAgICAgeTogXCIzMCVcIlxuICAgIH1cbiAgfSxcbiAgc2xpZGVMZWZ0OiB7XG4gICAgcG9zaXRpb246IHtcbiAgICAgIGxlZnQ6IDAsXG4gICAgICB0b3A6IDAsXG4gICAgICBib3R0b206IDAsXG4gICAgICB3aWR0aDogXCIxMDAlXCJcbiAgICB9LFxuICAgIGVudGVyOiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogMFxuICAgIH0sXG4gICAgZXhpdDoge1xuICAgICAgeDogXCItMTAwJVwiLFxuICAgICAgeTogMFxuICAgIH1cbiAgfSxcbiAgc2xpZGVSaWdodDoge1xuICAgIHBvc2l0aW9uOiB7XG4gICAgICByaWdodDogMCxcbiAgICAgIHRvcDogMCxcbiAgICAgIGJvdHRvbTogMCxcbiAgICAgIHdpZHRoOiBcIjEwMCVcIlxuICAgIH0sXG4gICAgZW50ZXI6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfSxcbiAgICBleGl0OiB7XG4gICAgICB4OiBcIjEwMCVcIixcbiAgICAgIHk6IDBcbiAgICB9XG4gIH0sXG4gIHNsaWRlVXA6IHtcbiAgICBwb3NpdGlvbjoge1xuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgbWF4V2lkdGg6IFwiMTAwdndcIlxuICAgIH0sXG4gICAgZW50ZXI6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfSxcbiAgICBleGl0OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogXCItMTAwJVwiXG4gICAgfVxuICB9LFxuICBzbGlkZURvd246IHtcbiAgICBwb3NpdGlvbjoge1xuICAgICAgYm90dG9tOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHJpZ2h0OiAwLFxuICAgICAgbWF4V2lkdGg6IFwiMTAwdndcIlxuICAgIH0sXG4gICAgZW50ZXI6IHtcbiAgICAgIHg6IDAsXG4gICAgICB5OiAwXG4gICAgfSxcbiAgICBleGl0OiB7XG4gICAgICB4OiAwLFxuICAgICAgeTogXCIxMDAlXCJcbiAgICB9XG4gIH1cbn07XG5mdW5jdGlvbiBzbGlkZVRyYW5zaXRpb24ob3B0aW9ucykge1xuICB2YXIgX29wdGlvbnMkZGlyZWN0aW9uO1xuXG4gIHZhciBzaWRlID0gKF9vcHRpb25zJGRpcmVjdGlvbiA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGlyZWN0aW9uKSAhPSBudWxsID8gX29wdGlvbnMkZGlyZWN0aW9uIDogXCJyaWdodFwiO1xuXG4gIHN3aXRjaCAoc2lkZSkge1xuICAgIGNhc2UgXCJyaWdodFwiOlxuICAgICAgcmV0dXJuIFRyYW5zaXRpb25WYXJpYW50cy5zbGlkZVJpZ2h0O1xuXG4gICAgY2FzZSBcImxlZnRcIjpcbiAgICAgIHJldHVybiBUcmFuc2l0aW9uVmFyaWFudHMuc2xpZGVMZWZ0O1xuXG4gICAgY2FzZSBcImJvdHRvbVwiOlxuICAgICAgcmV0dXJuIFRyYW5zaXRpb25WYXJpYW50cy5zbGlkZURvd247XG5cbiAgICBjYXNlIFwidG9wXCI6XG4gICAgICByZXR1cm4gVHJhbnNpdGlvblZhcmlhbnRzLnNsaWRlVXA7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFRyYW5zaXRpb25WYXJpYW50cy5zbGlkZVJpZ2h0O1xuICB9XG59XG52YXIgVHJhbnNpdGlvbkRlZmF1bHRzID0ge1xuICBlbnRlcjoge1xuICAgIGR1cmF0aW9uOiAwLjIsXG4gICAgZWFzZTogVHJhbnNpdGlvbkVhc2luZ3MuZWFzZU91dFxuICB9LFxuICBleGl0OiB7XG4gICAgZHVyYXRpb246IDAuMSxcbiAgICBlYXNlOiBUcmFuc2l0aW9uRWFzaW5ncy5lYXNlSW5cbiAgfVxufTtcbnZhciB3aXRoRGVsYXkgPSB7XG4gIGVudGVyOiBmdW5jdGlvbiBlbnRlcih0cmFuc2l0aW9uLCBkZWxheSkge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgdHJhbnNpdGlvbiwge1xuICAgICAgZGVsYXk6IGlzTnVtYmVyKGRlbGF5KSA/IGRlbGF5IDogZGVsYXkgPT0gbnVsbCA/IHZvaWQgMCA6IGRlbGF5W1wiZW50ZXJcIl1cbiAgICB9KTtcbiAgfSxcbiAgZXhpdDogZnVuY3Rpb24gZXhpdCh0cmFuc2l0aW9uLCBkZWxheSkge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgdHJhbnNpdGlvbiwge1xuICAgICAgZGVsYXk6IGlzTnVtYmVyKGRlbGF5KSA/IGRlbGF5IDogZGVsYXkgPT0gbnVsbCA/IHZvaWQgMCA6IGRlbGF5W1wiZXhpdFwiXVxuICAgIH0pO1xuICB9XG59O1xuXG52YXIgX2V4Y2x1ZGVkJDQgPSBbXCJpblwiLCBcInVubW91bnRPbkV4aXRcIiwgXCJhbmltYXRlT3BhY2l0eVwiLCBcInN0YXJ0aW5nSGVpZ2h0XCIsIFwiZW5kaW5nSGVpZ2h0XCIsIFwic3R5bGVcIiwgXCJjbGFzc05hbWVcIiwgXCJ0cmFuc2l0aW9uXCIsIFwidHJhbnNpdGlvbkVuZFwiXTtcblxudmFyIGlzTnVtZXJpYyA9IGZ1bmN0aW9uIGlzTnVtZXJpYyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiBwYXJzZUludCh2YWx1ZS50b1N0cmluZygpLCAxMCkgPiAwO1xufTtcblxudmFyIGRlZmF1bHRUcmFuc2l0aW9ucyA9IHtcbiAgZXhpdDoge1xuICAgIGhlaWdodDoge1xuICAgICAgZHVyYXRpb246IDAuMixcbiAgICAgIGVhc2U6IFRyYW5zaXRpb25FYXNpbmdzLmVhc2VcbiAgICB9LFxuICAgIG9wYWNpdHk6IHtcbiAgICAgIGR1cmF0aW9uOiAwLjMsXG4gICAgICBlYXNlOiBUcmFuc2l0aW9uRWFzaW5ncy5lYXNlXG4gICAgfVxuICB9LFxuICBlbnRlcjoge1xuICAgIGhlaWdodDoge1xuICAgICAgZHVyYXRpb246IDAuMyxcbiAgICAgIGVhc2U6IFRyYW5zaXRpb25FYXNpbmdzLmVhc2VcbiAgICB9LFxuICAgIG9wYWNpdHk6IHtcbiAgICAgIGR1cmF0aW9uOiAwLjQsXG4gICAgICBlYXNlOiBUcmFuc2l0aW9uRWFzaW5ncy5lYXNlXG4gICAgfVxuICB9XG59O1xudmFyIHZhcmlhbnRzJDQgPSB7XG4gIGV4aXQ6IGZ1bmN0aW9uIGV4aXQoX3JlZikge1xuICAgIHZhciBfdHJhbnNpdGlvbiRleGl0O1xuXG4gICAgdmFyIGFuaW1hdGVPcGFjaXR5ID0gX3JlZi5hbmltYXRlT3BhY2l0eSxcbiAgICAgICAgc3RhcnRpbmdIZWlnaHQgPSBfcmVmLnN0YXJ0aW5nSGVpZ2h0LFxuICAgICAgICB0cmFuc2l0aW9uID0gX3JlZi50cmFuc2l0aW9uLFxuICAgICAgICB0cmFuc2l0aW9uRW5kID0gX3JlZi50cmFuc2l0aW9uRW5kLFxuICAgICAgICBkZWxheSA9IF9yZWYuZGVsYXk7XG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBhbmltYXRlT3BhY2l0eSAmJiB7XG4gICAgICBvcGFjaXR5OiBpc051bWVyaWMoc3RhcnRpbmdIZWlnaHQpID8gMSA6IDBcbiAgICB9LCB7XG4gICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgIGhlaWdodDogc3RhcnRpbmdIZWlnaHQsXG4gICAgICB0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uRW5kLmV4aXQsXG4gICAgICB0cmFuc2l0aW9uOiAoX3RyYW5zaXRpb24kZXhpdCA9IHRyYW5zaXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zaXRpb24uZXhpdCkgIT0gbnVsbCA/IF90cmFuc2l0aW9uJGV4aXQgOiB3aXRoRGVsYXkuZXhpdChkZWZhdWx0VHJhbnNpdGlvbnMuZXhpdCwgZGVsYXkpXG4gICAgfSk7XG4gIH0sXG4gIGVudGVyOiBmdW5jdGlvbiBlbnRlcihfcmVmMikge1xuICAgIHZhciBfdHJhbnNpdGlvbiRlbnRlcjtcblxuICAgIHZhciBhbmltYXRlT3BhY2l0eSA9IF9yZWYyLmFuaW1hdGVPcGFjaXR5LFxuICAgICAgICBlbmRpbmdIZWlnaHQgPSBfcmVmMi5lbmRpbmdIZWlnaHQsXG4gICAgICAgIHRyYW5zaXRpb24gPSBfcmVmMi50cmFuc2l0aW9uLFxuICAgICAgICB0cmFuc2l0aW9uRW5kID0gX3JlZjIudHJhbnNpdGlvbkVuZCxcbiAgICAgICAgZGVsYXkgPSBfcmVmMi5kZWxheTtcbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGFuaW1hdGVPcGFjaXR5ICYmIHtcbiAgICAgIG9wYWNpdHk6IDFcbiAgICB9LCB7XG4gICAgICBoZWlnaHQ6IGVuZGluZ0hlaWdodCxcbiAgICAgIHRyYW5zaXRpb25FbmQ6IHRyYW5zaXRpb25FbmQgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zaXRpb25FbmQuZW50ZXIsXG4gICAgICB0cmFuc2l0aW9uOiAoX3RyYW5zaXRpb24kZW50ZXIgPSB0cmFuc2l0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uLmVudGVyKSAhPSBudWxsID8gX3RyYW5zaXRpb24kZW50ZXIgOiB3aXRoRGVsYXkuZW50ZXIoZGVmYXVsdFRyYW5zaXRpb25zLmVudGVyLCBkZWxheSlcbiAgICB9KTtcbiAgfVxufTtcbnZhciBDb2xsYXBzZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBpc09wZW4gPSBwcm9wc1tcImluXCJdLFxuICAgICAgdW5tb3VudE9uRXhpdCA9IHByb3BzLnVubW91bnRPbkV4aXQsXG4gICAgICBfcHJvcHMkYW5pbWF0ZU9wYWNpdHkgPSBwcm9wcy5hbmltYXRlT3BhY2l0eSxcbiAgICAgIGFuaW1hdGVPcGFjaXR5ID0gX3Byb3BzJGFuaW1hdGVPcGFjaXR5ID09PSB2b2lkIDAgPyB0cnVlIDogX3Byb3BzJGFuaW1hdGVPcGFjaXR5LFxuICAgICAgX3Byb3BzJHN0YXJ0aW5nSGVpZ2h0ID0gcHJvcHMuc3RhcnRpbmdIZWlnaHQsXG4gICAgICBzdGFydGluZ0hlaWdodCA9IF9wcm9wcyRzdGFydGluZ0hlaWdodCA9PT0gdm9pZCAwID8gMCA6IF9wcm9wcyRzdGFydGluZ0hlaWdodCxcbiAgICAgIF9wcm9wcyRlbmRpbmdIZWlnaHQgPSBwcm9wcy5lbmRpbmdIZWlnaHQsXG4gICAgICBlbmRpbmdIZWlnaHQgPSBfcHJvcHMkZW5kaW5nSGVpZ2h0ID09PSB2b2lkIDAgPyBcImF1dG9cIiA6IF9wcm9wcyRlbmRpbmdIZWlnaHQsXG4gICAgICBzdHlsZSA9IHByb3BzLnN0eWxlLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgdHJhbnNpdGlvbiA9IHByb3BzLnRyYW5zaXRpb24sXG4gICAgICB0cmFuc2l0aW9uRW5kID0gcHJvcHMudHJhbnNpdGlvbkVuZCxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkJDQpO1xuXG4gIHZhciBfUmVhY3QkdXNlU3RhdGUgPSBSZWFjdC51c2VTdGF0ZShmYWxzZSksXG4gICAgICBtb3VudGVkID0gX1JlYWN0JHVzZVN0YXRlWzBdLFxuICAgICAgc2V0TW91bnRlZCA9IF9SZWFjdCR1c2VTdGF0ZVsxXTtcblxuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBzZXRNb3VudGVkKHRydWUpO1xuICAgIH0pO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgIH07XG4gIH0sIFtdKTtcbiAgLyoqXG4gICAqIFdhcm4g8J+aqDogYHN0YXJ0aW5nSGVpZ2h0YCBhbmQgYHVubW91bnRPbkV4aXRgIGFyZSBtdXR1YWxseSBleGNsdXNpdmVcbiAgICpcbiAgICogSWYgeW91IHNwZWNpZnkgYSBzdGFydGluZyBoZWlnaHQsIHRoZSBjb2xsYXBzZWQgbmVlZHMgdG8gYmUgbW91bnRlZFxuICAgKiBmb3IgdGhlIGhlaWdodCB0byB0YWtlIGVmZmVjdC5cbiAgICovXG5cbiAgd2Fybih7XG4gICAgY29uZGl0aW9uOiBCb29sZWFuKHN0YXJ0aW5nSGVpZ2h0ID4gMCAmJiB1bm1vdW50T25FeGl0KSxcbiAgICBtZXNzYWdlOiBcInN0YXJ0aW5nSGVpZ2h0IGFuZCB1bm1vdW50T25FeGl0IGFyZSBtdXR1YWxseSBleGNsdXNpdmUuIFlvdSBjYW4ndCB1c2UgdGhlbSB0b2dldGhlclwiXG4gIH0pO1xuICB2YXIgaGFzU3RhcnRpbmdIZWlnaHQgPSBwYXJzZUZsb2F0KHN0YXJ0aW5nSGVpZ2h0LnRvU3RyaW5nKCkpID4gMDtcbiAgdmFyIGN1c3RvbSA9IHtcbiAgICBzdGFydGluZ0hlaWdodDogc3RhcnRpbmdIZWlnaHQsXG4gICAgZW5kaW5nSGVpZ2h0OiBlbmRpbmdIZWlnaHQsXG4gICAgYW5pbWF0ZU9wYWNpdHk6IGFuaW1hdGVPcGFjaXR5LFxuICAgIHRyYW5zaXRpb246ICFtb3VudGVkID8ge1xuICAgICAgZW50ZXI6IHtcbiAgICAgICAgZHVyYXRpb246IDBcbiAgICAgIH1cbiAgICB9IDogdHJhbnNpdGlvbixcbiAgICB0cmFuc2l0aW9uRW5kOiBtZXJnZVdpdGgodHJhbnNpdGlvbkVuZCwge1xuICAgICAgZW50ZXI6IHtcbiAgICAgICAgb3ZlcmZsb3c6IFwiaW5pdGlhbFwiXG4gICAgICB9LFxuICAgICAgZXhpdDogdW5tb3VudE9uRXhpdCA/IHVuZGVmaW5lZCA6IHtcbiAgICAgICAgZGlzcGxheTogaGFzU3RhcnRpbmdIZWlnaHQgPyBcImJsb2NrXCIgOiBcIm5vbmVcIlxuICAgICAgfVxuICAgIH0pXG4gIH07XG4gIHZhciBzaG93ID0gdW5tb3VudE9uRXhpdCA/IGlzT3BlbiA6IHRydWU7XG4gIHZhciBhbmltYXRlID0gaXNPcGVuIHx8IHVubW91bnRPbkV4aXQgPyBcImVudGVyXCIgOiBcImV4aXRcIjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFuaW1hdGVQcmVzZW5jZSwge1xuICAgIGluaXRpYWw6IGZhbHNlLFxuICAgIGN1c3RvbTogY3VzdG9tXG4gIH0sIHNob3cgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQobW90aW9uLmRpdiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmXG4gIH0sIHJlc3QsIHtcbiAgICBjbGFzc05hbWU6IGN4KFwiY2hha3JhLWNvbGxhcHNlXCIsIGNsYXNzTmFtZSksXG4gICAgc3R5bGU6IF9leHRlbmRzKHtcbiAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgZGlzcGxheTogXCJibG9ja1wiXG4gICAgfSwgc3R5bGUpLFxuICAgIGN1c3RvbTogY3VzdG9tLFxuICAgIHZhcmlhbnRzOiB2YXJpYW50cyQ0LFxuICAgIGluaXRpYWw6IHVubW91bnRPbkV4aXQgPyBcImV4aXRcIiA6IGZhbHNlLFxuICAgIGFuaW1hdGU6IGFuaW1hdGUsXG4gICAgZXhpdDogXCJleGl0XCJcbiAgfSkpKTtcbn0pO1xuXG5pZiAoX19ERVZfXykge1xuICBDb2xsYXBzZS5kaXNwbGF5TmFtZSA9IFwiQ29sbGFwc2VcIjtcbn1cblxudmFyIF9leGNsdWRlZCQzID0gW1widW5tb3VudE9uRXhpdFwiLCBcImluXCIsIFwiY2xhc3NOYW1lXCIsIFwidHJhbnNpdGlvblwiLCBcInRyYW5zaXRpb25FbmRcIiwgXCJkZWxheVwiXTtcbnZhciB2YXJpYW50cyQzID0ge1xuICBlbnRlcjogZnVuY3Rpb24gZW50ZXIoX3RlbXApIHtcbiAgICB2YXIgX3RyYW5zaXRpb24kZW50ZXI7XG5cbiAgICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgICB0cmFuc2l0aW9uID0gX3JlZi50cmFuc2l0aW9uLFxuICAgICAgICB0cmFuc2l0aW9uRW5kID0gX3JlZi50cmFuc2l0aW9uRW5kLFxuICAgICAgICBkZWxheSA9IF9yZWYuZGVsYXk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgb3BhY2l0eTogMSxcbiAgICAgIHRyYW5zaXRpb246IChfdHJhbnNpdGlvbiRlbnRlciA9IHRyYW5zaXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zaXRpb24uZW50ZXIpICE9IG51bGwgPyBfdHJhbnNpdGlvbiRlbnRlciA6IHdpdGhEZWxheS5lbnRlcihUcmFuc2l0aW9uRGVmYXVsdHMuZW50ZXIsIGRlbGF5KSxcbiAgICAgIHRyYW5zaXRpb25FbmQ6IHRyYW5zaXRpb25FbmQgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zaXRpb25FbmQuZW50ZXJcbiAgICB9O1xuICB9LFxuICBleGl0OiBmdW5jdGlvbiBleGl0KF90ZW1wMikge1xuICAgIHZhciBfdHJhbnNpdGlvbiRleGl0O1xuXG4gICAgdmFyIF9yZWYyID0gX3RlbXAyID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wMixcbiAgICAgICAgdHJhbnNpdGlvbiA9IF9yZWYyLnRyYW5zaXRpb24sXG4gICAgICAgIHRyYW5zaXRpb25FbmQgPSBfcmVmMi50cmFuc2l0aW9uRW5kLFxuICAgICAgICBkZWxheSA9IF9yZWYyLmRlbGF5O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB0cmFuc2l0aW9uOiAoX3RyYW5zaXRpb24kZXhpdCA9IHRyYW5zaXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zaXRpb24uZXhpdCkgIT0gbnVsbCA/IF90cmFuc2l0aW9uJGV4aXQgOiB3aXRoRGVsYXkuZXhpdChUcmFuc2l0aW9uRGVmYXVsdHMuZXhpdCwgZGVsYXkpLFxuICAgICAgdHJhbnNpdGlvbkVuZDogdHJhbnNpdGlvbkVuZCA9PSBudWxsID8gdm9pZCAwIDogdHJhbnNpdGlvbkVuZC5leGl0XG4gICAgfTtcbiAgfVxufTtcbnZhciBmYWRlQ29uZmlnID0ge1xuICBpbml0aWFsOiBcImV4aXRcIixcbiAgYW5pbWF0ZTogXCJlbnRlclwiLFxuICBleGl0OiBcImV4aXRcIixcbiAgdmFyaWFudHM6IHZhcmlhbnRzJDNcbn07XG52YXIgRmFkZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciB1bm1vdW50T25FeGl0ID0gcHJvcHMudW5tb3VudE9uRXhpdCxcbiAgICAgIGlzT3BlbiA9IHByb3BzW1wiaW5cIl0sXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICB0cmFuc2l0aW9uID0gcHJvcHMudHJhbnNpdGlvbixcbiAgICAgIHRyYW5zaXRpb25FbmQgPSBwcm9wcy50cmFuc2l0aW9uRW5kLFxuICAgICAgZGVsYXkgPSBwcm9wcy5kZWxheSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkJDMpO1xuXG4gIHZhciBhbmltYXRlID0gaXNPcGVuIHx8IHVubW91bnRPbkV4aXQgPyBcImVudGVyXCIgOiBcImV4aXRcIjtcbiAgdmFyIHNob3cgPSB1bm1vdW50T25FeGl0ID8gaXNPcGVuICYmIHVubW91bnRPbkV4aXQgOiB0cnVlO1xuICB2YXIgY3VzdG9tID0ge1xuICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24sXG4gICAgdHJhbnNpdGlvbkVuZDogdHJhbnNpdGlvbkVuZCxcbiAgICBkZWxheTogZGVsYXlcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFuaW1hdGVQcmVzZW5jZSwge1xuICAgIGN1c3RvbTogY3VzdG9tXG4gIH0sIHNob3cgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQobW90aW9uLmRpdiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtZmFkZVwiLCBjbGFzc05hbWUpLFxuICAgIGN1c3RvbTogY3VzdG9tXG4gIH0sIGZhZGVDb25maWcsIHtcbiAgICBhbmltYXRlOiBhbmltYXRlXG4gIH0sIHJlc3QpKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgRmFkZS5kaXNwbGF5TmFtZSA9IFwiRmFkZVwiO1xufVxuXG52YXIgX2V4Y2x1ZGVkJDIgPSBbXCJ1bm1vdW50T25FeGl0XCIsIFwiaW5cIiwgXCJyZXZlcnNlXCIsIFwiaW5pdGlhbFNjYWxlXCIsIFwiY2xhc3NOYW1lXCIsIFwidHJhbnNpdGlvblwiLCBcInRyYW5zaXRpb25FbmRcIiwgXCJkZWxheVwiXTtcbnZhciB2YXJpYW50cyQyID0ge1xuICBleGl0OiBmdW5jdGlvbiBleGl0KF9yZWYpIHtcbiAgICB2YXIgX3RyYW5zaXRpb24kZXhpdDtcblxuICAgIHZhciByZXZlcnNlID0gX3JlZi5yZXZlcnNlLFxuICAgICAgICBpbml0aWFsU2NhbGUgPSBfcmVmLmluaXRpYWxTY2FsZSxcbiAgICAgICAgdHJhbnNpdGlvbiA9IF9yZWYudHJhbnNpdGlvbixcbiAgICAgICAgdHJhbnNpdGlvbkVuZCA9IF9yZWYudHJhbnNpdGlvbkVuZCxcbiAgICAgICAgZGVsYXkgPSBfcmVmLmRlbGF5O1xuICAgIHJldHVybiBfZXh0ZW5kcyh7XG4gICAgICBvcGFjaXR5OiAwXG4gICAgfSwgcmV2ZXJzZSA/IHtcbiAgICAgIHNjYWxlOiBpbml0aWFsU2NhbGUsXG4gICAgICB0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uRW5kLmV4aXRcbiAgICB9IDoge1xuICAgICAgdHJhbnNpdGlvbkVuZDogX2V4dGVuZHMoe1xuICAgICAgICBzY2FsZTogaW5pdGlhbFNjYWxlXG4gICAgICB9LCB0cmFuc2l0aW9uRW5kID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uRW5kLmV4aXQpXG4gICAgfSwge1xuICAgICAgdHJhbnNpdGlvbjogKF90cmFuc2l0aW9uJGV4aXQgPSB0cmFuc2l0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uLmV4aXQpICE9IG51bGwgPyBfdHJhbnNpdGlvbiRleGl0IDogd2l0aERlbGF5LmV4aXQoVHJhbnNpdGlvbkRlZmF1bHRzLmV4aXQsIGRlbGF5KVxuICAgIH0pO1xuICB9LFxuICBlbnRlcjogZnVuY3Rpb24gZW50ZXIoX3JlZjIpIHtcbiAgICB2YXIgX3RyYW5zaXRpb24kZW50ZXI7XG5cbiAgICB2YXIgdHJhbnNpdGlvbkVuZCA9IF9yZWYyLnRyYW5zaXRpb25FbmQsXG4gICAgICAgIHRyYW5zaXRpb24gPSBfcmVmMi50cmFuc2l0aW9uLFxuICAgICAgICBkZWxheSA9IF9yZWYyLmRlbGF5O1xuICAgIHJldHVybiB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgc2NhbGU6IDEsXG4gICAgICB0cmFuc2l0aW9uOiAoX3RyYW5zaXRpb24kZW50ZXIgPSB0cmFuc2l0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uLmVudGVyKSAhPSBudWxsID8gX3RyYW5zaXRpb24kZW50ZXIgOiB3aXRoRGVsYXkuZW50ZXIoVHJhbnNpdGlvbkRlZmF1bHRzLmVudGVyLCBkZWxheSksXG4gICAgICB0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uRW5kLmVudGVyXG4gICAgfTtcbiAgfVxufTtcbnZhciBzY2FsZUZhZGVDb25maWcgPSB7XG4gIGluaXRpYWw6IFwiZXhpdFwiLFxuICBhbmltYXRlOiBcImVudGVyXCIsXG4gIGV4aXQ6IFwiZXhpdFwiLFxuICB2YXJpYW50czogdmFyaWFudHMkMlxufTtcbnZhciBTY2FsZUZhZGUgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgdW5tb3VudE9uRXhpdCA9IHByb3BzLnVubW91bnRPbkV4aXQsXG4gICAgICBpc09wZW4gPSBwcm9wc1tcImluXCJdLFxuICAgICAgX3Byb3BzJHJldmVyc2UgPSBwcm9wcy5yZXZlcnNlLFxuICAgICAgcmV2ZXJzZSA9IF9wcm9wcyRyZXZlcnNlID09PSB2b2lkIDAgPyB0cnVlIDogX3Byb3BzJHJldmVyc2UsXG4gICAgICBfcHJvcHMkaW5pdGlhbFNjYWxlID0gcHJvcHMuaW5pdGlhbFNjYWxlLFxuICAgICAgaW5pdGlhbFNjYWxlID0gX3Byb3BzJGluaXRpYWxTY2FsZSA9PT0gdm9pZCAwID8gMC45NSA6IF9wcm9wcyRpbml0aWFsU2NhbGUsXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICB0cmFuc2l0aW9uID0gcHJvcHMudHJhbnNpdGlvbixcbiAgICAgIHRyYW5zaXRpb25FbmQgPSBwcm9wcy50cmFuc2l0aW9uRW5kLFxuICAgICAgZGVsYXkgPSBwcm9wcy5kZWxheSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkJDIpO1xuXG4gIHZhciBzaG93ID0gdW5tb3VudE9uRXhpdCA/IGlzT3BlbiAmJiB1bm1vdW50T25FeGl0IDogdHJ1ZTtcbiAgdmFyIGFuaW1hdGUgPSBpc09wZW4gfHwgdW5tb3VudE9uRXhpdCA/IFwiZW50ZXJcIiA6IFwiZXhpdFwiO1xuICB2YXIgY3VzdG9tID0ge1xuICAgIGluaXRpYWxTY2FsZTogaW5pdGlhbFNjYWxlLFxuICAgIHJldmVyc2U6IHJldmVyc2UsXG4gICAgdHJhbnNpdGlvbjogdHJhbnNpdGlvbixcbiAgICB0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kLFxuICAgIGRlbGF5OiBkZWxheVxuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQW5pbWF0ZVByZXNlbmNlLCB7XG4gICAgY3VzdG9tOiBjdXN0b21cbiAgfSwgc2hvdyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChtb3Rpb24uZGl2LCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgY2xhc3NOYW1lOiBjeChcImNoYWtyYS1vZmZzZXQtc2xpZGVcIiwgY2xhc3NOYW1lKVxuICB9LCBzY2FsZUZhZGVDb25maWcsIHtcbiAgICBhbmltYXRlOiBhbmltYXRlLFxuICAgIGN1c3RvbTogY3VzdG9tXG4gIH0sIHJlc3QpKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgU2NhbGVGYWRlLmRpc3BsYXlOYW1lID0gXCJTY2FsZUZhZGVcIjtcbn1cblxudmFyIF9leGNsdWRlZCQxID0gW1wiZGlyZWN0aW9uXCIsIFwic3R5bGVcIiwgXCJ1bm1vdW50T25FeGl0XCIsIFwiaW5cIiwgXCJjbGFzc05hbWVcIiwgXCJ0cmFuc2l0aW9uXCIsIFwidHJhbnNpdGlvbkVuZFwiLCBcImRlbGF5XCJdO1xudmFyIGRlZmF1bHRUcmFuc2l0aW9uID0ge1xuICBleGl0OiB7XG4gICAgZHVyYXRpb246IDAuMTUsXG4gICAgZWFzZTogVHJhbnNpdGlvbkVhc2luZ3MuZWFzZUluT3V0XG4gIH0sXG4gIGVudGVyOiB7XG4gICAgdHlwZTogXCJzcHJpbmdcIixcbiAgICBkYW1waW5nOiAyNSxcbiAgICBzdGlmZm5lc3M6IDE4MFxuICB9XG59O1xudmFyIHZhcmlhbnRzJDEgPSB7XG4gIGV4aXQ6IGZ1bmN0aW9uIGV4aXQoX3JlZikge1xuICAgIHZhciBfdHJhbnNpdGlvbiRleGl0O1xuXG4gICAgdmFyIGRpcmVjdGlvbiA9IF9yZWYuZGlyZWN0aW9uLFxuICAgICAgICB0cmFuc2l0aW9uID0gX3JlZi50cmFuc2l0aW9uLFxuICAgICAgICB0cmFuc2l0aW9uRW5kID0gX3JlZi50cmFuc2l0aW9uRW5kLFxuICAgICAgICBkZWxheSA9IF9yZWYuZGVsYXk7XG5cbiAgICB2YXIgX3NsaWRlVHJhbnNpdGlvbiA9IHNsaWRlVHJhbnNpdGlvbih7XG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgIH0pLFxuICAgICAgICBleGl0U3R5bGVzID0gX3NsaWRlVHJhbnNpdGlvbi5leGl0O1xuXG4gICAgcmV0dXJuIF9leHRlbmRzKHt9LCBleGl0U3R5bGVzLCB7XG4gICAgICB0cmFuc2l0aW9uOiAoX3RyYW5zaXRpb24kZXhpdCA9IHRyYW5zaXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zaXRpb24uZXhpdCkgIT0gbnVsbCA/IF90cmFuc2l0aW9uJGV4aXQgOiB3aXRoRGVsYXkuZXhpdChkZWZhdWx0VHJhbnNpdGlvbi5leGl0LCBkZWxheSksXG4gICAgICB0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uRW5kLmV4aXRcbiAgICB9KTtcbiAgfSxcbiAgZW50ZXI6IGZ1bmN0aW9uIGVudGVyKF9yZWYyKSB7XG4gICAgdmFyIF90cmFuc2l0aW9uJGVudGVyO1xuXG4gICAgdmFyIGRpcmVjdGlvbiA9IF9yZWYyLmRpcmVjdGlvbixcbiAgICAgICAgdHJhbnNpdGlvbkVuZCA9IF9yZWYyLnRyYW5zaXRpb25FbmQsXG4gICAgICAgIHRyYW5zaXRpb24gPSBfcmVmMi50cmFuc2l0aW9uLFxuICAgICAgICBkZWxheSA9IF9yZWYyLmRlbGF5O1xuXG4gICAgdmFyIF9zbGlkZVRyYW5zaXRpb24yID0gc2xpZGVUcmFuc2l0aW9uKHtcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgfSksXG4gICAgICAgIGVudGVyU3R5bGVzID0gX3NsaWRlVHJhbnNpdGlvbjIuZW50ZXI7XG5cbiAgICByZXR1cm4gX2V4dGVuZHMoe30sIGVudGVyU3R5bGVzLCB7XG4gICAgICB0cmFuc2l0aW9uOiAoX3RyYW5zaXRpb24kZW50ZXIgPSB0cmFuc2l0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uLmVudGVyKSAhPSBudWxsID8gX3RyYW5zaXRpb24kZW50ZXIgOiB3aXRoRGVsYXkuZW50ZXIoZGVmYXVsdFRyYW5zaXRpb24uZW50ZXIsIGRlbGF5KSxcbiAgICAgIHRyYW5zaXRpb25FbmQ6IHRyYW5zaXRpb25FbmQgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zaXRpb25FbmQuZW50ZXJcbiAgICB9KTtcbiAgfVxufTtcbnZhciBTbGlkZSA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcmVmKSB7XG4gIHZhciBfcHJvcHMkZGlyZWN0aW9uID0gcHJvcHMuZGlyZWN0aW9uLFxuICAgICAgZGlyZWN0aW9uID0gX3Byb3BzJGRpcmVjdGlvbiA9PT0gdm9pZCAwID8gXCJyaWdodFwiIDogX3Byb3BzJGRpcmVjdGlvbixcbiAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGUsXG4gICAgICB1bm1vdW50T25FeGl0ID0gcHJvcHMudW5tb3VudE9uRXhpdCxcbiAgICAgIGlzT3BlbiA9IHByb3BzW1wiaW5cIl0sXG4gICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICB0cmFuc2l0aW9uID0gcHJvcHMudHJhbnNpdGlvbixcbiAgICAgIHRyYW5zaXRpb25FbmQgPSBwcm9wcy50cmFuc2l0aW9uRW5kLFxuICAgICAgZGVsYXkgPSBwcm9wcy5kZWxheSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShwcm9wcywgX2V4Y2x1ZGVkJDEpO1xuXG4gIHZhciB0cmFuc2l0aW9uU3R5bGVzID0gc2xpZGVUcmFuc2l0aW9uKHtcbiAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICB9KTtcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSBPYmplY3QuYXNzaWduKHtcbiAgICBwb3NpdGlvbjogXCJmaXhlZFwiXG4gIH0sIHRyYW5zaXRpb25TdHlsZXMucG9zaXRpb24sIHN0eWxlKTtcbiAgdmFyIHNob3cgPSB1bm1vdW50T25FeGl0ID8gaXNPcGVuICYmIHVubW91bnRPbkV4aXQgOiB0cnVlO1xuICB2YXIgYW5pbWF0ZSA9IGlzT3BlbiB8fCB1bm1vdW50T25FeGl0ID8gXCJlbnRlclwiIDogXCJleGl0XCI7XG4gIHZhciBjdXN0b20gPSB7XG4gICAgdHJhbnNpdGlvbkVuZDogdHJhbnNpdGlvbkVuZCxcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uLFxuICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uLFxuICAgIGRlbGF5OiBkZWxheVxuICB9O1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQW5pbWF0ZVByZXNlbmNlLCB7XG4gICAgY3VzdG9tOiBjdXN0b21cbiAgfSwgc2hvdyAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChtb3Rpb24uZGl2LCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIHJlZjogcmVmLFxuICAgIGluaXRpYWw6IFwiZXhpdFwiLFxuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtc2xpZGVcIiwgY2xhc3NOYW1lKSxcbiAgICBhbmltYXRlOiBhbmltYXRlLFxuICAgIGV4aXQ6IFwiZXhpdFwiLFxuICAgIGN1c3RvbTogY3VzdG9tLFxuICAgIHZhcmlhbnRzOiB2YXJpYW50cyQxLFxuICAgIHN0eWxlOiBjb21wdXRlZFN0eWxlXG4gIH0pKSk7XG59KTtcblxuaWYgKF9fREVWX18pIHtcbiAgU2xpZGUuZGlzcGxheU5hbWUgPSBcIlNsaWRlXCI7XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJ1bm1vdW50T25FeGl0XCIsIFwiaW5cIiwgXCJyZXZlcnNlXCIsIFwiY2xhc3NOYW1lXCIsIFwib2Zmc2V0WFwiLCBcIm9mZnNldFlcIiwgXCJ0cmFuc2l0aW9uXCIsIFwidHJhbnNpdGlvbkVuZFwiLCBcImRlbGF5XCJdO1xudmFyIHZhcmlhbnRzID0ge1xuICBpbml0aWFsOiBmdW5jdGlvbiBpbml0aWFsKF9yZWYpIHtcbiAgICB2YXIgX3RyYW5zaXRpb24kZXhpdDtcblxuICAgIHZhciBvZmZzZXRYID0gX3JlZi5vZmZzZXRYLFxuICAgICAgICBvZmZzZXRZID0gX3JlZi5vZmZzZXRZLFxuICAgICAgICB0cmFuc2l0aW9uID0gX3JlZi50cmFuc2l0aW9uLFxuICAgICAgICB0cmFuc2l0aW9uRW5kID0gX3JlZi50cmFuc2l0aW9uRW5kLFxuICAgICAgICBkZWxheSA9IF9yZWYuZGVsYXk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG9wYWNpdHk6IDAsXG4gICAgICB4OiBvZmZzZXRYLFxuICAgICAgeTogb2Zmc2V0WSxcbiAgICAgIHRyYW5zaXRpb246IChfdHJhbnNpdGlvbiRleGl0ID0gdHJhbnNpdGlvbiA9PSBudWxsID8gdm9pZCAwIDogdHJhbnNpdGlvbi5leGl0KSAhPSBudWxsID8gX3RyYW5zaXRpb24kZXhpdCA6IHdpdGhEZWxheS5leGl0KFRyYW5zaXRpb25EZWZhdWx0cy5leGl0LCBkZWxheSksXG4gICAgICB0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uRW5kLmV4aXRcbiAgICB9O1xuICB9LFxuICBlbnRlcjogZnVuY3Rpb24gZW50ZXIoX3JlZjIpIHtcbiAgICB2YXIgX3RyYW5zaXRpb24kZW50ZXI7XG5cbiAgICB2YXIgdHJhbnNpdGlvbiA9IF9yZWYyLnRyYW5zaXRpb24sXG4gICAgICAgIHRyYW5zaXRpb25FbmQgPSBfcmVmMi50cmFuc2l0aW9uRW5kLFxuICAgICAgICBkZWxheSA9IF9yZWYyLmRlbGF5O1xuICAgIHJldHVybiB7XG4gICAgICBvcGFjaXR5OiAxLFxuICAgICAgeDogMCxcbiAgICAgIHk6IDAsXG4gICAgICB0cmFuc2l0aW9uOiAoX3RyYW5zaXRpb24kZW50ZXIgPSB0cmFuc2l0aW9uID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uLmVudGVyKSAhPSBudWxsID8gX3RyYW5zaXRpb24kZW50ZXIgOiB3aXRoRGVsYXkuZW50ZXIoVHJhbnNpdGlvbkRlZmF1bHRzLmVudGVyLCBkZWxheSksXG4gICAgICB0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uRW5kLmVudGVyXG4gICAgfTtcbiAgfSxcbiAgZXhpdDogZnVuY3Rpb24gZXhpdChfcmVmMykge1xuICAgIHZhciBfdHJhbnNpdGlvbiRleGl0MjtcblxuICAgIHZhciBvZmZzZXRZID0gX3JlZjMub2Zmc2V0WSxcbiAgICAgICAgb2Zmc2V0WCA9IF9yZWYzLm9mZnNldFgsXG4gICAgICAgIHRyYW5zaXRpb24gPSBfcmVmMy50cmFuc2l0aW9uLFxuICAgICAgICB0cmFuc2l0aW9uRW5kID0gX3JlZjMudHJhbnNpdGlvbkVuZCxcbiAgICAgICAgcmV2ZXJzZSA9IF9yZWYzLnJldmVyc2UsXG4gICAgICAgIGRlbGF5ID0gX3JlZjMuZGVsYXk7XG4gICAgdmFyIG9mZnNldCA9IHtcbiAgICAgIHg6IG9mZnNldFgsXG4gICAgICB5OiBvZmZzZXRZXG4gICAgfTtcbiAgICByZXR1cm4gX2V4dGVuZHMoe1xuICAgICAgb3BhY2l0eTogMCxcbiAgICAgIHRyYW5zaXRpb246IChfdHJhbnNpdGlvbiRleGl0MiA9IHRyYW5zaXRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zaXRpb24uZXhpdCkgIT0gbnVsbCA/IF90cmFuc2l0aW9uJGV4aXQyIDogd2l0aERlbGF5LmV4aXQoVHJhbnNpdGlvbkRlZmF1bHRzLmV4aXQsIGRlbGF5KVxuICAgIH0sIHJldmVyc2UgPyBfZXh0ZW5kcyh7fSwgb2Zmc2V0LCB7XG4gICAgICB0cmFuc2l0aW9uRW5kOiB0cmFuc2l0aW9uRW5kID09IG51bGwgPyB2b2lkIDAgOiB0cmFuc2l0aW9uRW5kLmV4aXRcbiAgICB9KSA6IHtcbiAgICAgIHRyYW5zaXRpb25FbmQ6IF9leHRlbmRzKHt9LCBvZmZzZXQsIHRyYW5zaXRpb25FbmQgPT0gbnVsbCA/IHZvaWQgMCA6IHRyYW5zaXRpb25FbmQuZXhpdClcbiAgICB9KTtcbiAgfVxufTtcbnZhciBzbGlkZUZhZGVDb25maWcgPSB7XG4gIGluaXRpYWw6IFwiaW5pdGlhbFwiLFxuICBhbmltYXRlOiBcImVudGVyXCIsXG4gIGV4aXQ6IFwiZXhpdFwiLFxuICB2YXJpYW50czogdmFyaWFudHNcbn07XG52YXIgU2xpZGVGYWRlID0gLyojX19QVVJFX18qL1JlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHtcbiAgdmFyIHVubW91bnRPbkV4aXQgPSBwcm9wcy51bm1vdW50T25FeGl0LFxuICAgICAgaXNPcGVuID0gcHJvcHNbXCJpblwiXSxcbiAgICAgIF9wcm9wcyRyZXZlcnNlID0gcHJvcHMucmV2ZXJzZSxcbiAgICAgIHJldmVyc2UgPSBfcHJvcHMkcmV2ZXJzZSA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9wcm9wcyRyZXZlcnNlLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgX3Byb3BzJG9mZnNldFggPSBwcm9wcy5vZmZzZXRYLFxuICAgICAgb2Zmc2V0WCA9IF9wcm9wcyRvZmZzZXRYID09PSB2b2lkIDAgPyAwIDogX3Byb3BzJG9mZnNldFgsXG4gICAgICBfcHJvcHMkb2Zmc2V0WSA9IHByb3BzLm9mZnNldFksXG4gICAgICBvZmZzZXRZID0gX3Byb3BzJG9mZnNldFkgPT09IHZvaWQgMCA/IDggOiBfcHJvcHMkb2Zmc2V0WSxcbiAgICAgIHRyYW5zaXRpb24gPSBwcm9wcy50cmFuc2l0aW9uLFxuICAgICAgdHJhbnNpdGlvbkVuZCA9IHByb3BzLnRyYW5zaXRpb25FbmQsXG4gICAgICBkZWxheSA9IHByb3BzLmRlbGF5LFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHByb3BzLCBfZXhjbHVkZWQpO1xuXG4gIHZhciBzaG93ID0gdW5tb3VudE9uRXhpdCA/IGlzT3BlbiAmJiB1bm1vdW50T25FeGl0IDogdHJ1ZTtcbiAgdmFyIGFuaW1hdGUgPSBpc09wZW4gfHwgdW5tb3VudE9uRXhpdCA/IFwiZW50ZXJcIiA6IFwiZXhpdFwiO1xuICB2YXIgY3VzdG9tID0ge1xuICAgIG9mZnNldFg6IG9mZnNldFgsXG4gICAgb2Zmc2V0WTogb2Zmc2V0WSxcbiAgICByZXZlcnNlOiByZXZlcnNlLFxuICAgIHRyYW5zaXRpb246IHRyYW5zaXRpb24sXG4gICAgdHJhbnNpdGlvbkVuZDogdHJhbnNpdGlvbkVuZCxcbiAgICBkZWxheTogZGVsYXlcbiAgfTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEFuaW1hdGVQcmVzZW5jZSwge1xuICAgIGN1c3RvbTogY3VzdG9tXG4gIH0sIHNob3cgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQobW90aW9uLmRpdiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIGNsYXNzTmFtZTogY3goXCJjaGFrcmEtb2Zmc2V0LXNsaWRlXCIsIGNsYXNzTmFtZSksXG4gICAgY3VzdG9tOiBjdXN0b21cbiAgfSwgc2xpZGVGYWRlQ29uZmlnLCB7XG4gICAgYW5pbWF0ZTogYW5pbWF0ZVxuICB9LCByZXN0KSkpO1xufSk7XG5cbmlmIChfX0RFVl9fKSB7XG4gIFNsaWRlRmFkZS5kaXNwbGF5TmFtZSA9IFwiU2xpZGVGYWRlXCI7XG59XG5cbmV4cG9ydCB7IENvbGxhcHNlLCBUcmFuc2l0aW9uRWFzaW5ncyBhcyBFQVNJTkdTLCBGYWRlLCBTY2FsZUZhZGUsIFNsaWRlLCBTbGlkZUZhZGUsIGZhZGVDb25maWcsIHNjYWxlRmFkZUNvbmZpZywgc2xpZGVGYWRlQ29uZmlnIH07XG4iLCJpbXBvcnQgeyBib3VuZDAxLCBwYWQyIH0gZnJvbSAnLi91dGlsJztcbi8vIGByZ2JUb0hzbGAsIGByZ2JUb0hzdmAsIGBoc2xUb1JnYmAsIGBoc3ZUb1JnYmAgbW9kaWZpZWQgZnJvbTpcbi8vIDxodHRwOi8vbWppamFja3Nvbi5jb20vMjAwOC8wMi9yZ2ItdG8taHNsLWFuZC1yZ2ItdG8taHN2LWNvbG9yLW1vZGVsLWNvbnZlcnNpb24tYWxnb3JpdGhtcy1pbi1qYXZhc2NyaXB0PlxuLyoqXG4gKiBIYW5kbGUgYm91bmRzIC8gcGVyY2VudGFnZSBjaGVja2luZyB0byBjb25mb3JtIHRvIENTUyBjb2xvciBzcGVjXG4gKiA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1jb2xvci8+XG4gKiAqQXNzdW1lczoqIHIsIGcsIGIgaW4gWzAsIDI1NV0gb3IgWzAsIDFdXG4gKiAqUmV0dXJuczoqIHsgciwgZywgYiB9IGluIFswLCAyNTVdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZ2JUb1JnYihyLCBnLCBiKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcjogYm91bmQwMShyLCAyNTUpICogMjU1LFxuICAgICAgICBnOiBib3VuZDAxKGcsIDI1NSkgKiAyNTUsXG4gICAgICAgIGI6IGJvdW5kMDEoYiwgMjU1KSAqIDI1NSxcbiAgICB9O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBSR0IgY29sb3IgdmFsdWUgdG8gSFNMLlxuICogKkFzc3VtZXM6KiByLCBnLCBhbmQgYiBhcmUgY29udGFpbmVkIGluIFswLCAyNTVdIG9yIFswLCAxXVxuICogKlJldHVybnM6KiB7IGgsIHMsIGwgfSBpbiBbMCwxXVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmdiVG9Ic2wociwgZywgYikge1xuICAgIHIgPSBib3VuZDAxKHIsIDI1NSk7XG4gICAgZyA9IGJvdW5kMDEoZywgMjU1KTtcbiAgICBiID0gYm91bmQwMShiLCAyNTUpO1xuICAgIHZhciBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gICAgdmFyIGggPSAwO1xuICAgIHZhciBzID0gMDtcbiAgICB2YXIgbCA9IChtYXggKyBtaW4pIC8gMjtcbiAgICBpZiAobWF4ID09PSBtaW4pIHtcbiAgICAgICAgcyA9IDA7XG4gICAgICAgIGggPSAwOyAvLyBhY2hyb21hdGljXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgZCA9IG1heCAtIG1pbjtcbiAgICAgICAgcyA9IGwgPiAwLjUgPyBkIC8gKDIgLSBtYXggLSBtaW4pIDogZCAvIChtYXggKyBtaW4pO1xuICAgICAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgICAgICAgY2FzZSByOlxuICAgICAgICAgICAgICAgIGggPSAoZyAtIGIpIC8gZCArIChnIDwgYiA/IDYgOiAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZzpcbiAgICAgICAgICAgICAgICBoID0gKGIgLSByKSAvIGQgKyAyO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiOlxuICAgICAgICAgICAgICAgIGggPSAociAtIGcpIC8gZCArIDQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGggLz0gNjtcbiAgICB9XG4gICAgcmV0dXJuIHsgaDogaCwgczogcywgbDogbCB9O1xufVxuZnVuY3Rpb24gaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgaWYgKHQgPCAwKSB7XG4gICAgICAgIHQgKz0gMTtcbiAgICB9XG4gICAgaWYgKHQgPiAxKSB7XG4gICAgICAgIHQgLT0gMTtcbiAgICB9XG4gICAgaWYgKHQgPCAxIC8gNikge1xuICAgICAgICByZXR1cm4gcCArIChxIC0gcCkgKiAoNiAqIHQpO1xuICAgIH1cbiAgICBpZiAodCA8IDEgLyAyKSB7XG4gICAgICAgIHJldHVybiBxO1xuICAgIH1cbiAgICBpZiAodCA8IDIgLyAzKSB7XG4gICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgICB9XG4gICAgcmV0dXJuIHA7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIEhTTCBjb2xvciB2YWx1ZSB0byBSR0IuXG4gKlxuICogKkFzc3VtZXM6KiBoIGlzIGNvbnRhaW5lZCBpbiBbMCwgMV0gb3IgWzAsIDM2MF0gYW5kIHMgYW5kIGwgYXJlIGNvbnRhaW5lZCBbMCwgMV0gb3IgWzAsIDEwMF1cbiAqICpSZXR1cm5zOiogeyByLCBnLCBiIH0gaW4gdGhlIHNldCBbMCwgMjU1XVxuICovXG5leHBvcnQgZnVuY3Rpb24gaHNsVG9SZ2IoaCwgcywgbCkge1xuICAgIHZhciByO1xuICAgIHZhciBnO1xuICAgIHZhciBiO1xuICAgIGggPSBib3VuZDAxKGgsIDM2MCk7XG4gICAgcyA9IGJvdW5kMDEocywgMTAwKTtcbiAgICBsID0gYm91bmQwMShsLCAxMDApO1xuICAgIGlmIChzID09PSAwKSB7XG4gICAgICAgIC8vIGFjaHJvbWF0aWNcbiAgICAgICAgZyA9IGw7XG4gICAgICAgIGIgPSBsO1xuICAgICAgICByID0gbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZhciBxID0gbCA8IDAuNSA/IGwgKiAoMSArIHMpIDogbCArIHMgLSBsICogcztcbiAgICAgICAgdmFyIHAgPSAyICogbCAtIHE7XG4gICAgICAgIHIgPSBodWUycmdiKHAsIHEsIGggKyAxIC8gMyk7XG4gICAgICAgIGcgPSBodWUycmdiKHAsIHEsIGgpO1xuICAgICAgICBiID0gaHVlMnJnYihwLCBxLCBoIC0gMSAvIDMpO1xuICAgIH1cbiAgICByZXR1cm4geyByOiByICogMjU1LCBnOiBnICogMjU1LCBiOiBiICogMjU1IH07XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIFJHQiBjb2xvciB2YWx1ZSB0byBIU1ZcbiAqXG4gKiAqQXNzdW1lczoqIHIsIGcsIGFuZCBiIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMjU1XSBvciBbMCwgMV1cbiAqICpSZXR1cm5zOiogeyBoLCBzLCB2IH0gaW4gWzAsMV1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJnYlRvSHN2KHIsIGcsIGIpIHtcbiAgICByID0gYm91bmQwMShyLCAyNTUpO1xuICAgIGcgPSBib3VuZDAxKGcsIDI1NSk7XG4gICAgYiA9IGJvdW5kMDEoYiwgMjU1KTtcbiAgICB2YXIgbWF4ID0gTWF0aC5tYXgociwgZywgYik7XG4gICAgdmFyIG1pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgIHZhciBoID0gMDtcbiAgICB2YXIgdiA9IG1heDtcbiAgICB2YXIgZCA9IG1heCAtIG1pbjtcbiAgICB2YXIgcyA9IG1heCA9PT0gMCA/IDAgOiBkIC8gbWF4O1xuICAgIGlmIChtYXggPT09IG1pbikge1xuICAgICAgICBoID0gMDsgLy8gYWNocm9tYXRpY1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3dpdGNoIChtYXgpIHtcbiAgICAgICAgICAgIGNhc2UgcjpcbiAgICAgICAgICAgICAgICBoID0gKGcgLSBiKSAvIGQgKyAoZyA8IGIgPyA2IDogMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGc6XG4gICAgICAgICAgICAgICAgaCA9IChiIC0gcikgLyBkICsgMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYjpcbiAgICAgICAgICAgICAgICBoID0gKHIgLSBnKSAvIGQgKyA0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBoIC89IDY7XG4gICAgfVxuICAgIHJldHVybiB7IGg6IGgsIHM6IHMsIHY6IHYgfTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gSFNWIGNvbG9yIHZhbHVlIHRvIFJHQi5cbiAqXG4gKiAqQXNzdW1lczoqIGggaXMgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMzYwXSBhbmQgcyBhbmQgdiBhcmUgY29udGFpbmVkIGluIFswLCAxXSBvciBbMCwgMTAwXVxuICogKlJldHVybnM6KiB7IHIsIGcsIGIgfSBpbiB0aGUgc2V0IFswLCAyNTVdXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoc3ZUb1JnYihoLCBzLCB2KSB7XG4gICAgaCA9IGJvdW5kMDEoaCwgMzYwKSAqIDY7XG4gICAgcyA9IGJvdW5kMDEocywgMTAwKTtcbiAgICB2ID0gYm91bmQwMSh2LCAxMDApO1xuICAgIHZhciBpID0gTWF0aC5mbG9vcihoKTtcbiAgICB2YXIgZiA9IGggLSBpO1xuICAgIHZhciBwID0gdiAqICgxIC0gcyk7XG4gICAgdmFyIHEgPSB2ICogKDEgLSBmICogcyk7XG4gICAgdmFyIHQgPSB2ICogKDEgLSAoMSAtIGYpICogcyk7XG4gICAgdmFyIG1vZCA9IGkgJSA2O1xuICAgIHZhciByID0gW3YsIHEsIHAsIHAsIHQsIHZdW21vZF07XG4gICAgdmFyIGcgPSBbdCwgdiwgdiwgcSwgcCwgcF1bbW9kXTtcbiAgICB2YXIgYiA9IFtwLCBwLCB0LCB2LCB2LCBxXVttb2RdO1xuICAgIHJldHVybiB7IHI6IHIgKiAyNTUsIGc6IGcgKiAyNTUsIGI6IGIgKiAyNTUgfTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gUkdCIGNvbG9yIHRvIGhleFxuICpcbiAqIEFzc3VtZXMgciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdXG4gKiBSZXR1cm5zIGEgMyBvciA2IGNoYXJhY3RlciBoZXhcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJnYlRvSGV4KHIsIGcsIGIsIGFsbG93M0NoYXIpIHtcbiAgICB2YXIgaGV4ID0gW1xuICAgICAgICBwYWQyKE1hdGgucm91bmQocikudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihNYXRoLnJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIoTWF0aC5yb3VuZChiKS50b1N0cmluZygxNikpLFxuICAgIF07XG4gICAgLy8gUmV0dXJuIGEgMyBjaGFyYWN0ZXIgaGV4IGlmIHBvc3NpYmxlXG4gICAgaWYgKGFsbG93M0NoYXIgJiZcbiAgICAgICAgaGV4WzBdLnN0YXJ0c1dpdGgoaGV4WzBdLmNoYXJBdCgxKSkgJiZcbiAgICAgICAgaGV4WzFdLnN0YXJ0c1dpdGgoaGV4WzFdLmNoYXJBdCgxKSkgJiZcbiAgICAgICAgaGV4WzJdLnN0YXJ0c1dpdGgoaGV4WzJdLmNoYXJBdCgxKSkpIHtcbiAgICAgICAgcmV0dXJuIGhleFswXS5jaGFyQXQoMCkgKyBoZXhbMV0uY2hhckF0KDApICsgaGV4WzJdLmNoYXJBdCgwKTtcbiAgICB9XG4gICAgcmV0dXJuIGhleC5qb2luKCcnKTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4gUkdCQSBjb2xvciBwbHVzIGFscGhhIHRyYW5zcGFyZW5jeSB0byBoZXhcbiAqXG4gKiBBc3N1bWVzIHIsIGcsIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdIGFuZFxuICogYSBpbiBbMCwgMV0uIFJldHVybnMgYSA0IG9yIDggY2hhcmFjdGVyIHJnYmEgaGV4XG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtcGFyYW1zXG5leHBvcnQgZnVuY3Rpb24gcmdiYVRvSGV4KHIsIGcsIGIsIGEsIGFsbG93NENoYXIpIHtcbiAgICB2YXIgaGV4ID0gW1xuICAgICAgICBwYWQyKE1hdGgucm91bmQocikudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihNYXRoLnJvdW5kKGcpLnRvU3RyaW5nKDE2KSksXG4gICAgICAgIHBhZDIoTWF0aC5yb3VuZChiKS50b1N0cmluZygxNikpLFxuICAgICAgICBwYWQyKGNvbnZlcnREZWNpbWFsVG9IZXgoYSkpLFxuICAgIF07XG4gICAgLy8gUmV0dXJuIGEgNCBjaGFyYWN0ZXIgaGV4IGlmIHBvc3NpYmxlXG4gICAgaWYgKGFsbG93NENoYXIgJiZcbiAgICAgICAgaGV4WzBdLnN0YXJ0c1dpdGgoaGV4WzBdLmNoYXJBdCgxKSkgJiZcbiAgICAgICAgaGV4WzFdLnN0YXJ0c1dpdGgoaGV4WzFdLmNoYXJBdCgxKSkgJiZcbiAgICAgICAgaGV4WzJdLnN0YXJ0c1dpdGgoaGV4WzJdLmNoYXJBdCgxKSkgJiZcbiAgICAgICAgaGV4WzNdLnN0YXJ0c1dpdGgoaGV4WzNdLmNoYXJBdCgxKSkpIHtcbiAgICAgICAgcmV0dXJuIGhleFswXS5jaGFyQXQoMCkgKyBoZXhbMV0uY2hhckF0KDApICsgaGV4WzJdLmNoYXJBdCgwKSArIGhleFszXS5jaGFyQXQoMCk7XG4gICAgfVxuICAgIHJldHVybiBoZXguam9pbignJyk7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIFJHQkEgY29sb3IgdG8gYW4gQVJHQiBIZXg4IHN0cmluZ1xuICogUmFyZWx5IHVzZWQsIGJ1dCByZXF1aXJlZCBmb3IgXCJ0b0ZpbHRlcigpXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJnYmFUb0FyZ2JIZXgociwgZywgYiwgYSkge1xuICAgIHZhciBoZXggPSBbXG4gICAgICAgIHBhZDIoY29udmVydERlY2ltYWxUb0hleChhKSksXG4gICAgICAgIHBhZDIoTWF0aC5yb3VuZChyKS50b1N0cmluZygxNikpLFxuICAgICAgICBwYWQyKE1hdGgucm91bmQoZykudG9TdHJpbmcoMTYpKSxcbiAgICAgICAgcGFkMihNYXRoLnJvdW5kKGIpLnRvU3RyaW5nKDE2KSksXG4gICAgXTtcbiAgICByZXR1cm4gaGV4LmpvaW4oJycpO1xufVxuLyoqIENvbnZlcnRzIGEgZGVjaW1hbCB0byBhIGhleCB2YWx1ZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnREZWNpbWFsVG9IZXgoZCkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoZCkgKiAyNTUpLnRvU3RyaW5nKDE2KTtcbn1cbi8qKiBDb252ZXJ0cyBhIGhleCB2YWx1ZSB0byBhIGRlY2ltYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBjb252ZXJ0SGV4VG9EZWNpbWFsKGgpIHtcbiAgICByZXR1cm4gcGFyc2VJbnRGcm9tSGV4KGgpIC8gMjU1O1xufVxuLyoqIFBhcnNlIGEgYmFzZS0xNiBoZXggdmFsdWUgaW50byBhIGJhc2UtMTAgaW50ZWdlciAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlSW50RnJvbUhleCh2YWwpIHtcbiAgICByZXR1cm4gcGFyc2VJbnQodmFsLCAxNik7XG59XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVySW5wdXRUb09iamVjdChjb2xvcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHI6IGNvbG9yID4+IDE2LFxuICAgICAgICBnOiAoY29sb3IgJiAweGZmMDApID4+IDgsXG4gICAgICAgIGI6IGNvbG9yICYgMHhmZixcbiAgICB9O1xufVxuIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL2JhaGFtYXMxMC9jc3MtY29sb3ItbmFtZXMvYmxvYi9tYXN0ZXIvY3NzLWNvbG9yLW5hbWVzLmpzb25cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgdmFyIG5hbWVzID0ge1xuICAgIGFsaWNlYmx1ZTogJyNmMGY4ZmYnLFxuICAgIGFudGlxdWV3aGl0ZTogJyNmYWViZDcnLFxuICAgIGFxdWE6ICcjMDBmZmZmJyxcbiAgICBhcXVhbWFyaW5lOiAnIzdmZmZkNCcsXG4gICAgYXp1cmU6ICcjZjBmZmZmJyxcbiAgICBiZWlnZTogJyNmNWY1ZGMnLFxuICAgIGJpc3F1ZTogJyNmZmU0YzQnLFxuICAgIGJsYWNrOiAnIzAwMDAwMCcsXG4gICAgYmxhbmNoZWRhbG1vbmQ6ICcjZmZlYmNkJyxcbiAgICBibHVlOiAnIzAwMDBmZicsXG4gICAgYmx1ZXZpb2xldDogJyM4YTJiZTInLFxuICAgIGJyb3duOiAnI2E1MmEyYScsXG4gICAgYnVybHl3b29kOiAnI2RlYjg4NycsXG4gICAgY2FkZXRibHVlOiAnIzVmOWVhMCcsXG4gICAgY2hhcnRyZXVzZTogJyM3ZmZmMDAnLFxuICAgIGNob2NvbGF0ZTogJyNkMjY5MWUnLFxuICAgIGNvcmFsOiAnI2ZmN2Y1MCcsXG4gICAgY29ybmZsb3dlcmJsdWU6ICcjNjQ5NWVkJyxcbiAgICBjb3Juc2lsazogJyNmZmY4ZGMnLFxuICAgIGNyaW1zb246ICcjZGMxNDNjJyxcbiAgICBjeWFuOiAnIzAwZmZmZicsXG4gICAgZGFya2JsdWU6ICcjMDAwMDhiJyxcbiAgICBkYXJrY3lhbjogJyMwMDhiOGInLFxuICAgIGRhcmtnb2xkZW5yb2Q6ICcjYjg4NjBiJyxcbiAgICBkYXJrZ3JheTogJyNhOWE5YTknLFxuICAgIGRhcmtncmVlbjogJyMwMDY0MDAnLFxuICAgIGRhcmtncmV5OiAnI2E5YTlhOScsXG4gICAgZGFya2toYWtpOiAnI2JkYjc2YicsXG4gICAgZGFya21hZ2VudGE6ICcjOGIwMDhiJyxcbiAgICBkYXJrb2xpdmVncmVlbjogJyM1NTZiMmYnLFxuICAgIGRhcmtvcmFuZ2U6ICcjZmY4YzAwJyxcbiAgICBkYXJrb3JjaGlkOiAnIzk5MzJjYycsXG4gICAgZGFya3JlZDogJyM4YjAwMDAnLFxuICAgIGRhcmtzYWxtb246ICcjZTk5NjdhJyxcbiAgICBkYXJrc2VhZ3JlZW46ICcjOGZiYzhmJyxcbiAgICBkYXJrc2xhdGVibHVlOiAnIzQ4M2Q4YicsXG4gICAgZGFya3NsYXRlZ3JheTogJyMyZjRmNGYnLFxuICAgIGRhcmtzbGF0ZWdyZXk6ICcjMmY0ZjRmJyxcbiAgICBkYXJrdHVycXVvaXNlOiAnIzAwY2VkMScsXG4gICAgZGFya3Zpb2xldDogJyM5NDAwZDMnLFxuICAgIGRlZXBwaW5rOiAnI2ZmMTQ5MycsXG4gICAgZGVlcHNreWJsdWU6ICcjMDBiZmZmJyxcbiAgICBkaW1ncmF5OiAnIzY5Njk2OScsXG4gICAgZGltZ3JleTogJyM2OTY5NjknLFxuICAgIGRvZGdlcmJsdWU6ICcjMWU5MGZmJyxcbiAgICBmaXJlYnJpY2s6ICcjYjIyMjIyJyxcbiAgICBmbG9yYWx3aGl0ZTogJyNmZmZhZjAnLFxuICAgIGZvcmVzdGdyZWVuOiAnIzIyOGIyMicsXG4gICAgZnVjaHNpYTogJyNmZjAwZmYnLFxuICAgIGdhaW5zYm9ybzogJyNkY2RjZGMnLFxuICAgIGdob3N0d2hpdGU6ICcjZjhmOGZmJyxcbiAgICBnb2xkZW5yb2Q6ICcjZGFhNTIwJyxcbiAgICBnb2xkOiAnI2ZmZDcwMCcsXG4gICAgZ3JheTogJyM4MDgwODAnLFxuICAgIGdyZWVuOiAnIzAwODAwMCcsXG4gICAgZ3JlZW55ZWxsb3c6ICcjYWRmZjJmJyxcbiAgICBncmV5OiAnIzgwODA4MCcsXG4gICAgaG9uZXlkZXc6ICcjZjBmZmYwJyxcbiAgICBob3RwaW5rOiAnI2ZmNjliNCcsXG4gICAgaW5kaWFucmVkOiAnI2NkNWM1YycsXG4gICAgaW5kaWdvOiAnIzRiMDA4MicsXG4gICAgaXZvcnk6ICcjZmZmZmYwJyxcbiAgICBraGFraTogJyNmMGU2OGMnLFxuICAgIGxhdmVuZGVyYmx1c2g6ICcjZmZmMGY1JyxcbiAgICBsYXZlbmRlcjogJyNlNmU2ZmEnLFxuICAgIGxhd25ncmVlbjogJyM3Y2ZjMDAnLFxuICAgIGxlbW9uY2hpZmZvbjogJyNmZmZhY2QnLFxuICAgIGxpZ2h0Ymx1ZTogJyNhZGQ4ZTYnLFxuICAgIGxpZ2h0Y29yYWw6ICcjZjA4MDgwJyxcbiAgICBsaWdodGN5YW46ICcjZTBmZmZmJyxcbiAgICBsaWdodGdvbGRlbnJvZHllbGxvdzogJyNmYWZhZDInLFxuICAgIGxpZ2h0Z3JheTogJyNkM2QzZDMnLFxuICAgIGxpZ2h0Z3JlZW46ICcjOTBlZTkwJyxcbiAgICBsaWdodGdyZXk6ICcjZDNkM2QzJyxcbiAgICBsaWdodHBpbms6ICcjZmZiNmMxJyxcbiAgICBsaWdodHNhbG1vbjogJyNmZmEwN2EnLFxuICAgIGxpZ2h0c2VhZ3JlZW46ICcjMjBiMmFhJyxcbiAgICBsaWdodHNreWJsdWU6ICcjODdjZWZhJyxcbiAgICBsaWdodHNsYXRlZ3JheTogJyM3Nzg4OTknLFxuICAgIGxpZ2h0c2xhdGVncmV5OiAnIzc3ODg5OScsXG4gICAgbGlnaHRzdGVlbGJsdWU6ICcjYjBjNGRlJyxcbiAgICBsaWdodHllbGxvdzogJyNmZmZmZTAnLFxuICAgIGxpbWU6ICcjMDBmZjAwJyxcbiAgICBsaW1lZ3JlZW46ICcjMzJjZDMyJyxcbiAgICBsaW5lbjogJyNmYWYwZTYnLFxuICAgIG1hZ2VudGE6ICcjZmYwMGZmJyxcbiAgICBtYXJvb246ICcjODAwMDAwJyxcbiAgICBtZWRpdW1hcXVhbWFyaW5lOiAnIzY2Y2RhYScsXG4gICAgbWVkaXVtYmx1ZTogJyMwMDAwY2QnLFxuICAgIG1lZGl1bW9yY2hpZDogJyNiYTU1ZDMnLFxuICAgIG1lZGl1bXB1cnBsZTogJyM5MzcwZGInLFxuICAgIG1lZGl1bXNlYWdyZWVuOiAnIzNjYjM3MScsXG4gICAgbWVkaXVtc2xhdGVibHVlOiAnIzdiNjhlZScsXG4gICAgbWVkaXVtc3ByaW5nZ3JlZW46ICcjMDBmYTlhJyxcbiAgICBtZWRpdW10dXJxdW9pc2U6ICcjNDhkMWNjJyxcbiAgICBtZWRpdW12aW9sZXRyZWQ6ICcjYzcxNTg1JyxcbiAgICBtaWRuaWdodGJsdWU6ICcjMTkxOTcwJyxcbiAgICBtaW50Y3JlYW06ICcjZjVmZmZhJyxcbiAgICBtaXN0eXJvc2U6ICcjZmZlNGUxJyxcbiAgICBtb2NjYXNpbjogJyNmZmU0YjUnLFxuICAgIG5hdmFqb3doaXRlOiAnI2ZmZGVhZCcsXG4gICAgbmF2eTogJyMwMDAwODAnLFxuICAgIG9sZGxhY2U6ICcjZmRmNWU2JyxcbiAgICBvbGl2ZTogJyM4MDgwMDAnLFxuICAgIG9saXZlZHJhYjogJyM2YjhlMjMnLFxuICAgIG9yYW5nZTogJyNmZmE1MDAnLFxuICAgIG9yYW5nZXJlZDogJyNmZjQ1MDAnLFxuICAgIG9yY2hpZDogJyNkYTcwZDYnLFxuICAgIHBhbGVnb2xkZW5yb2Q6ICcjZWVlOGFhJyxcbiAgICBwYWxlZ3JlZW46ICcjOThmYjk4JyxcbiAgICBwYWxldHVycXVvaXNlOiAnI2FmZWVlZScsXG4gICAgcGFsZXZpb2xldHJlZDogJyNkYjcwOTMnLFxuICAgIHBhcGF5YXdoaXA6ICcjZmZlZmQ1JyxcbiAgICBwZWFjaHB1ZmY6ICcjZmZkYWI5JyxcbiAgICBwZXJ1OiAnI2NkODUzZicsXG4gICAgcGluazogJyNmZmMwY2InLFxuICAgIHBsdW06ICcjZGRhMGRkJyxcbiAgICBwb3dkZXJibHVlOiAnI2IwZTBlNicsXG4gICAgcHVycGxlOiAnIzgwMDA4MCcsXG4gICAgcmViZWNjYXB1cnBsZTogJyM2NjMzOTknLFxuICAgIHJlZDogJyNmZjAwMDAnLFxuICAgIHJvc3licm93bjogJyNiYzhmOGYnLFxuICAgIHJveWFsYmx1ZTogJyM0MTY5ZTEnLFxuICAgIHNhZGRsZWJyb3duOiAnIzhiNDUxMycsXG4gICAgc2FsbW9uOiAnI2ZhODA3MicsXG4gICAgc2FuZHlicm93bjogJyNmNGE0NjAnLFxuICAgIHNlYWdyZWVuOiAnIzJlOGI1NycsXG4gICAgc2Vhc2hlbGw6ICcjZmZmNWVlJyxcbiAgICBzaWVubmE6ICcjYTA1MjJkJyxcbiAgICBzaWx2ZXI6ICcjYzBjMGMwJyxcbiAgICBza3libHVlOiAnIzg3Y2VlYicsXG4gICAgc2xhdGVibHVlOiAnIzZhNWFjZCcsXG4gICAgc2xhdGVncmF5OiAnIzcwODA5MCcsXG4gICAgc2xhdGVncmV5OiAnIzcwODA5MCcsXG4gICAgc25vdzogJyNmZmZhZmEnLFxuICAgIHNwcmluZ2dyZWVuOiAnIzAwZmY3ZicsXG4gICAgc3RlZWxibHVlOiAnIzQ2ODJiNCcsXG4gICAgdGFuOiAnI2QyYjQ4YycsXG4gICAgdGVhbDogJyMwMDgwODAnLFxuICAgIHRoaXN0bGU6ICcjZDhiZmQ4JyxcbiAgICB0b21hdG86ICcjZmY2MzQ3JyxcbiAgICB0dXJxdW9pc2U6ICcjNDBlMGQwJyxcbiAgICB2aW9sZXQ6ICcjZWU4MmVlJyxcbiAgICB3aGVhdDogJyNmNWRlYjMnLFxuICAgIHdoaXRlOiAnI2ZmZmZmZicsXG4gICAgd2hpdGVzbW9rZTogJyNmNWY1ZjUnLFxuICAgIHllbGxvdzogJyNmZmZmMDAnLFxuICAgIHllbGxvd2dyZWVuOiAnIzlhY2QzMicsXG59O1xuIiwiaW1wb3J0IHsgY29udmVydEhleFRvRGVjaW1hbCwgaHNsVG9SZ2IsIGhzdlRvUmdiLCBwYXJzZUludEZyb21IZXgsIHJnYlRvUmdiIH0gZnJvbSAnLi9jb252ZXJzaW9uJztcbmltcG9ydCB7IG5hbWVzIH0gZnJvbSAnLi9jc3MtY29sb3ItbmFtZXMnO1xuaW1wb3J0IHsgYm91bmRBbHBoYSwgY29udmVydFRvUGVyY2VudGFnZSB9IGZyb20gJy4vdXRpbCc7XG4vKipcbiAqIEdpdmVuIGEgc3RyaW5nIG9yIG9iamVjdCwgY29udmVydCB0aGF0IGlucHV0IHRvIFJHQlxuICpcbiAqIFBvc3NpYmxlIHN0cmluZyBpbnB1dHM6XG4gKiBgYGBcbiAqIFwicmVkXCJcbiAqIFwiI2YwMFwiIG9yIFwiZjAwXCJcbiAqIFwiI2ZmMDAwMFwiIG9yIFwiZmYwMDAwXCJcbiAqIFwiI2ZmMDAwMDAwXCIgb3IgXCJmZjAwMDAwMFwiXG4gKiBcInJnYiAyNTUgMCAwXCIgb3IgXCJyZ2IgKDI1NSwgMCwgMClcIlxuICogXCJyZ2IgMS4wIDAgMFwiIG9yIFwicmdiICgxLCAwLCAwKVwiXG4gKiBcInJnYmEgKDI1NSwgMCwgMCwgMSlcIiBvciBcInJnYmEgMjU1LCAwLCAwLCAxXCJcbiAqIFwicmdiYSAoMS4wLCAwLCAwLCAxKVwiIG9yIFwicmdiYSAxLjAsIDAsIDAsIDFcIlxuICogXCJoc2woMCwgMTAwJSwgNTAlKVwiIG9yIFwiaHNsIDAgMTAwJSA1MCVcIlxuICogXCJoc2xhKDAsIDEwMCUsIDUwJSwgMSlcIiBvciBcImhzbGEgMCAxMDAlIDUwJSwgMVwiXG4gKiBcImhzdigwLCAxMDAlLCAxMDAlKVwiIG9yIFwiaHN2IDAgMTAwJSAxMDAlXCJcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5wdXRUb1JHQihjb2xvcikge1xuICAgIHZhciByZ2IgPSB7IHI6IDAsIGc6IDAsIGI6IDAgfTtcbiAgICB2YXIgYSA9IDE7XG4gICAgdmFyIHMgPSBudWxsO1xuICAgIHZhciB2ID0gbnVsbDtcbiAgICB2YXIgbCA9IG51bGw7XG4gICAgdmFyIG9rID0gZmFsc2U7XG4gICAgdmFyIGZvcm1hdCA9IGZhbHNlO1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbG9yID0gc3RyaW5nSW5wdXRUb09iamVjdChjb2xvcik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc1ZhbGlkQ1NTVW5pdChjb2xvci5yKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5nKSAmJiBpc1ZhbGlkQ1NTVW5pdChjb2xvci5iKSkge1xuICAgICAgICAgICAgcmdiID0gcmdiVG9SZ2IoY29sb3IuciwgY29sb3IuZywgY29sb3IuYik7XG4gICAgICAgICAgICBvayA9IHRydWU7XG4gICAgICAgICAgICBmb3JtYXQgPSBTdHJpbmcoY29sb3Iucikuc3Vic3RyKC0xKSA9PT0gJyUnID8gJ3ByZ2InIDogJ3JnYic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNWYWxpZENTU1VuaXQoY29sb3IuaCkgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IucykgJiYgaXNWYWxpZENTU1VuaXQoY29sb3IudikpIHtcbiAgICAgICAgICAgIHMgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLnMpO1xuICAgICAgICAgICAgdiA9IGNvbnZlcnRUb1BlcmNlbnRhZ2UoY29sb3Iudik7XG4gICAgICAgICAgICByZ2IgPSBoc3ZUb1JnYihjb2xvci5oLCBzLCB2KTtcbiAgICAgICAgICAgIG9rID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvcm1hdCA9ICdoc3YnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzVmFsaWRDU1NVbml0KGNvbG9yLmgpICYmIGlzVmFsaWRDU1NVbml0KGNvbG9yLnMpICYmIGlzVmFsaWRDU1NVbml0KGNvbG9yLmwpKSB7XG4gICAgICAgICAgICBzID0gY29udmVydFRvUGVyY2VudGFnZShjb2xvci5zKTtcbiAgICAgICAgICAgIGwgPSBjb252ZXJ0VG9QZXJjZW50YWdlKGNvbG9yLmwpO1xuICAgICAgICAgICAgcmdiID0gaHNsVG9SZ2IoY29sb3IuaCwgcywgbCk7XG4gICAgICAgICAgICBvayA9IHRydWU7XG4gICAgICAgICAgICBmb3JtYXQgPSAnaHNsJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbG9yLCAnYScpKSB7XG4gICAgICAgICAgICBhID0gY29sb3IuYTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhID0gYm91bmRBbHBoYShhKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBvazogb2ssXG4gICAgICAgIGZvcm1hdDogY29sb3IuZm9ybWF0IHx8IGZvcm1hdCxcbiAgICAgICAgcjogTWF0aC5taW4oMjU1LCBNYXRoLm1heChyZ2IuciwgMCkpLFxuICAgICAgICBnOiBNYXRoLm1pbigyNTUsIE1hdGgubWF4KHJnYi5nLCAwKSksXG4gICAgICAgIGI6IE1hdGgubWluKDI1NSwgTWF0aC5tYXgocmdiLmIsIDApKSxcbiAgICAgICAgYTogYSxcbiAgICB9O1xufVxuLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtdmFsdWVzLyNpbnRlZ2Vycz5cbnZhciBDU1NfSU5URUdFUiA9ICdbLVxcXFwrXT9cXFxcZCslPyc7XG4vLyA8aHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy12YWx1ZXMvI251bWJlci12YWx1ZT5cbnZhciBDU1NfTlVNQkVSID0gJ1stXFxcXCtdP1xcXFxkKlxcXFwuXFxcXGQrJT8nO1xuLy8gQWxsb3cgcG9zaXRpdmUvbmVnYXRpdmUgaW50ZWdlci9udW1iZXIuICBEb24ndCBjYXB0dXJlIHRoZSBlaXRoZXIvb3IsIGp1c3QgdGhlIGVudGlyZSBvdXRjb21lLlxudmFyIENTU19VTklUID0gXCIoPzpcIiArIENTU19OVU1CRVIgKyBcIil8KD86XCIgKyBDU1NfSU5URUdFUiArIFwiKVwiO1xuLy8gQWN0dWFsIG1hdGNoaW5nLlxuLy8gUGFyZW50aGVzZXMgYW5kIGNvbW1hcyBhcmUgb3B0aW9uYWwsIGJ1dCBub3QgcmVxdWlyZWQuXG4vLyBXaGl0ZXNwYWNlIGNhbiB0YWtlIHRoZSBwbGFjZSBvZiBjb21tYXMgb3Igb3BlbmluZyBwYXJlblxudmFyIFBFUk1JU1NJVkVfTUFUQ0gzID0gXCJbXFxcXHN8XFxcXChdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpWyx8XFxcXHNdKyhcIiArIENTU19VTklUICsgXCIpXFxcXHMqXFxcXCk/XCI7XG52YXIgUEVSTUlTU0lWRV9NQVRDSDQgPSBcIltcXFxcc3xcXFxcKF0rKFwiICsgQ1NTX1VOSVQgKyBcIilbLHxcXFxcc10rKFwiICsgQ1NTX1VOSVQgKyBcIilbLHxcXFxcc10rKFwiICsgQ1NTX1VOSVQgKyBcIilbLHxcXFxcc10rKFwiICsgQ1NTX1VOSVQgKyBcIilcXFxccypcXFxcKT9cIjtcbnZhciBtYXRjaGVycyA9IHtcbiAgICBDU1NfVU5JVDogbmV3IFJlZ0V4cChDU1NfVU5JVCksXG4gICAgcmdiOiBuZXcgUmVnRXhwKCdyZ2InICsgUEVSTUlTU0lWRV9NQVRDSDMpLFxuICAgIHJnYmE6IG5ldyBSZWdFeHAoJ3JnYmEnICsgUEVSTUlTU0lWRV9NQVRDSDQpLFxuICAgIGhzbDogbmV3IFJlZ0V4cCgnaHNsJyArIFBFUk1JU1NJVkVfTUFUQ0gzKSxcbiAgICBoc2xhOiBuZXcgUmVnRXhwKCdoc2xhJyArIFBFUk1JU1NJVkVfTUFUQ0g0KSxcbiAgICBoc3Y6IG5ldyBSZWdFeHAoJ2hzdicgKyBQRVJNSVNTSVZFX01BVENIMyksXG4gICAgaHN2YTogbmV3IFJlZ0V4cCgnaHN2YScgKyBQRVJNSVNTSVZFX01BVENINCksXG4gICAgaGV4MzogL14jPyhbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLFxuICAgIGhleDY6IC9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkkLyxcbiAgICBoZXg0OiAvXiM/KFswLTlhLWZBLUZdezF9KShbMC05YS1mQS1GXXsxfSkoWzAtOWEtZkEtRl17MX0pKFswLTlhLWZBLUZdezF9KSQvLFxuICAgIGhleDg6IC9eIz8oWzAtOWEtZkEtRl17Mn0pKFswLTlhLWZBLUZdezJ9KShbMC05YS1mQS1GXXsyfSkoWzAtOWEtZkEtRl17Mn0pJC8sXG59O1xuLyoqXG4gKiBQZXJtaXNzaXZlIHN0cmluZyBwYXJzaW5nLiAgVGFrZSBpbiBhIG51bWJlciBvZiBmb3JtYXRzLCBhbmQgb3V0cHV0IGFuIG9iamVjdFxuICogYmFzZWQgb24gZGV0ZWN0ZWQgZm9ybWF0LiAgUmV0dXJucyBgeyByLCBnLCBiIH1gIG9yIGB7IGgsIHMsIGwgfWAgb3IgYHsgaCwgcywgdn1gXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdJbnB1dFRvT2JqZWN0KGNvbG9yKSB7XG4gICAgY29sb3IgPSBjb2xvci50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoY29sb3IubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdmFyIG5hbWVkID0gZmFsc2U7XG4gICAgaWYgKG5hbWVzW2NvbG9yXSkge1xuICAgICAgICBjb2xvciA9IG5hbWVzW2NvbG9yXTtcbiAgICAgICAgbmFtZWQgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICByZXR1cm4geyByOiAwLCBnOiAwLCBiOiAwLCBhOiAwLCBmb3JtYXQ6ICduYW1lJyB9O1xuICAgIH1cbiAgICAvLyBUcnkgdG8gbWF0Y2ggc3RyaW5nIGlucHV0IHVzaW5nIHJlZ3VsYXIgZXhwcmVzc2lvbnMuXG4gICAgLy8gS2VlcCBtb3N0IG9mIHRoZSBudW1iZXIgYm91bmRpbmcgb3V0IG9mIHRoaXMgZnVuY3Rpb24gLSBkb24ndCB3b3JyeSBhYm91dCBbMCwxXSBvciBbMCwxMDBdIG9yIFswLDM2MF1cbiAgICAvLyBKdXN0IHJldHVybiBhbiBvYmplY3QgYW5kIGxldCB0aGUgY29udmVyc2lvbiBmdW5jdGlvbnMgaGFuZGxlIHRoYXQuXG4gICAgLy8gVGhpcyB3YXkgdGhlIHJlc3VsdCB3aWxsIGJlIHRoZSBzYW1lIHdoZXRoZXIgdGhlIHRpbnljb2xvciBpcyBpbml0aWFsaXplZCB3aXRoIHN0cmluZyBvciBvYmplY3QuXG4gICAgdmFyIG1hdGNoID0gbWF0Y2hlcnMucmdiLmV4ZWMoY29sb3IpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4geyByOiBtYXRjaFsxXSwgZzogbWF0Y2hbMl0sIGI6IG1hdGNoWzNdIH07XG4gICAgfVxuICAgIG1hdGNoID0gbWF0Y2hlcnMucmdiYS5leGVjKGNvbG9yKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHsgcjogbWF0Y2hbMV0sIGc6IG1hdGNoWzJdLCBiOiBtYXRjaFszXSwgYTogbWF0Y2hbNF0gfTtcbiAgICB9XG4gICAgbWF0Y2ggPSBtYXRjaGVycy5oc2wuZXhlYyhjb2xvcik7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgbDogbWF0Y2hbM10gfTtcbiAgICB9XG4gICAgbWF0Y2ggPSBtYXRjaGVycy5oc2xhLmV4ZWMoY29sb3IpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4geyBoOiBtYXRjaFsxXSwgczogbWF0Y2hbMl0sIGw6IG1hdGNoWzNdLCBhOiBtYXRjaFs0XSB9O1xuICAgIH1cbiAgICBtYXRjaCA9IG1hdGNoZXJzLmhzdi5leGVjKGNvbG9yKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHsgaDogbWF0Y2hbMV0sIHM6IG1hdGNoWzJdLCB2OiBtYXRjaFszXSB9O1xuICAgIH1cbiAgICBtYXRjaCA9IG1hdGNoZXJzLmhzdmEuZXhlYyhjb2xvcik7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7IGg6IG1hdGNoWzFdLCBzOiBtYXRjaFsyXSwgdjogbWF0Y2hbM10sIGE6IG1hdGNoWzRdIH07XG4gICAgfVxuICAgIG1hdGNoID0gbWF0Y2hlcnMuaGV4OC5leGVjKGNvbG9yKTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IHBhcnNlSW50RnJvbUhleChtYXRjaFsxXSksXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0pLFxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdKSxcbiAgICAgICAgICAgIGE6IGNvbnZlcnRIZXhUb0RlY2ltYWwobWF0Y2hbNF0pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/ICduYW1lJyA6ICdoZXg4JyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbWF0Y2ggPSBtYXRjaGVycy5oZXg2LmV4ZWMoY29sb3IpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdKSxcbiAgICAgICAgICAgIGc6IHBhcnNlSW50RnJvbUhleChtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/ICduYW1lJyA6ICdoZXgnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBtYXRjaCA9IG1hdGNoZXJzLmhleDQuZXhlYyhjb2xvcik7XG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMV0gKyBtYXRjaFsxXSksXG4gICAgICAgICAgICBnOiBwYXJzZUludEZyb21IZXgobWF0Y2hbMl0gKyBtYXRjaFsyXSksXG4gICAgICAgICAgICBiOiBwYXJzZUludEZyb21IZXgobWF0Y2hbM10gKyBtYXRjaFszXSksXG4gICAgICAgICAgICBhOiBjb252ZXJ0SGV4VG9EZWNpbWFsKG1hdGNoWzRdICsgbWF0Y2hbNF0pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/ICduYW1lJyA6ICdoZXg4JyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgbWF0Y2ggPSBtYXRjaGVycy5oZXgzLmV4ZWMoY29sb3IpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzFdICsgbWF0Y2hbMV0pLFxuICAgICAgICAgICAgZzogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzJdICsgbWF0Y2hbMl0pLFxuICAgICAgICAgICAgYjogcGFyc2VJbnRGcm9tSGV4KG1hdGNoWzNdICsgbWF0Y2hbM10pLFxuICAgICAgICAgICAgZm9ybWF0OiBuYW1lZCA/ICduYW1lJyA6ICdoZXgnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiBpdCBsb29rcyBsaWtlIGEgQ1NTIHVuaXRcbiAqIChzZWUgYG1hdGNoZXJzYCBhYm92ZSBmb3IgZGVmaW5pdGlvbikuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkQ1NTVW5pdChjb2xvcikge1xuICAgIHJldHVybiBCb29sZWFuKG1hdGNoZXJzLkNTU19VTklULmV4ZWMoU3RyaW5nKGNvbG9yKSkpO1xufVxuIiwiaW1wb3J0IHsgcmdiYVRvSGV4LCByZ2JUb0hleCwgcmdiVG9Ic2wsIHJnYlRvSHN2LCBudW1iZXJJbnB1dFRvT2JqZWN0IH0gZnJvbSAnLi9jb252ZXJzaW9uJztcbmltcG9ydCB7IG5hbWVzIH0gZnJvbSAnLi9jc3MtY29sb3ItbmFtZXMnO1xuaW1wb3J0IHsgaW5wdXRUb1JHQiB9IGZyb20gJy4vZm9ybWF0LWlucHV0JztcbmltcG9ydCB7IGJvdW5kMDEsIGJvdW5kQWxwaGEsIGNsYW1wMDEgfSBmcm9tICcuL3V0aWwnO1xudmFyIFRpbnlDb2xvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUaW55Q29sb3IoY29sb3IsIG9wdHMpIHtcbiAgICAgICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSAnJzsgfVxuICAgICAgICBpZiAob3B0cyA9PT0gdm9pZCAwKSB7IG9wdHMgPSB7fTsgfVxuICAgICAgICB2YXIgX2E7XG4gICAgICAgIC8vIElmIGlucHV0IGlzIGFscmVhZHkgYSB0aW55Y29sb3IsIHJldHVybiBpdHNlbGZcbiAgICAgICAgaWYgKGNvbG9yIGluc3RhbmNlb2YgVGlueUNvbG9yKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc3RydWN0b3ItcmV0dXJuXG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjb2xvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIGNvbG9yID0gbnVtYmVySW5wdXRUb09iamVjdChjb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcmlnaW5hbElucHV0ID0gY29sb3I7XG4gICAgICAgIHZhciByZ2IgPSBpbnB1dFRvUkdCKGNvbG9yKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbElucHV0ID0gY29sb3I7XG4gICAgICAgIHRoaXMuciA9IHJnYi5yO1xuICAgICAgICB0aGlzLmcgPSByZ2IuZztcbiAgICAgICAgdGhpcy5iID0gcmdiLmI7XG4gICAgICAgIHRoaXMuYSA9IHJnYi5hO1xuICAgICAgICB0aGlzLnJvdW5kQSA9IE1hdGgucm91bmQoMTAwICogdGhpcy5hKSAvIDEwMDtcbiAgICAgICAgdGhpcy5mb3JtYXQgPSAoX2EgPSBvcHRzLmZvcm1hdCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogcmdiLmZvcm1hdDtcbiAgICAgICAgdGhpcy5ncmFkaWVudFR5cGUgPSBvcHRzLmdyYWRpZW50VHlwZTtcbiAgICAgICAgLy8gRG9uJ3QgbGV0IHRoZSByYW5nZSBvZiBbMCwyNTVdIGNvbWUgYmFjayBpbiBbMCwxXS5cbiAgICAgICAgLy8gUG90ZW50aWFsbHkgbG9zZSBhIGxpdHRsZSBiaXQgb2YgcHJlY2lzaW9uIGhlcmUsIGJ1dCB3aWxsIGZpeCBpc3N1ZXMgd2hlcmVcbiAgICAgICAgLy8gLjUgZ2V0cyBpbnRlcnByZXRlZCBhcyBoYWxmIG9mIHRoZSB0b3RhbCwgaW5zdGVhZCBvZiBoYWxmIG9mIDFcbiAgICAgICAgLy8gSWYgaXQgd2FzIHN1cHBvc2VkIHRvIGJlIDEyOCwgdGhpcyB3YXMgYWxyZWFkeSB0YWtlbiBjYXJlIG9mIGJ5IGBpbnB1dFRvUmdiYFxuICAgICAgICBpZiAodGhpcy5yIDwgMSkge1xuICAgICAgICAgICAgdGhpcy5yID0gTWF0aC5yb3VuZCh0aGlzLnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmcgPCAxKSB7XG4gICAgICAgICAgICB0aGlzLmcgPSBNYXRoLnJvdW5kKHRoaXMuZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYiA8IDEpIHtcbiAgICAgICAgICAgIHRoaXMuYiA9IE1hdGgucm91bmQodGhpcy5iKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzVmFsaWQgPSByZ2Iub2s7XG4gICAgfVxuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuaXNEYXJrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRCcmlnaHRuZXNzKCkgPCAxMjg7XG4gICAgfTtcbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmlzTGlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5pc0RhcmsoKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBlcmNlaXZlZCBicmlnaHRuZXNzIG9mIHRoZSBjb2xvciwgZnJvbSAwLTI1NS5cbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmdldEJyaWdodG5lc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0FFUlQjY29sb3ItY29udHJhc3RcbiAgICAgICAgdmFyIHJnYiA9IHRoaXMudG9SZ2IoKTtcbiAgICAgICAgcmV0dXJuIChyZ2IuciAqIDI5OSArIHJnYi5nICogNTg3ICsgcmdiLmIgKiAxMTQpIC8gMTAwMDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHBlcmNlaXZlZCBsdW1pbmFuY2Ugb2YgYSBjb2xvciwgZnJvbSAwLTEuXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5nZXRMdW1pbmFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgICAgdmFyIHJnYiA9IHRoaXMudG9SZ2IoKTtcbiAgICAgICAgdmFyIFI7XG4gICAgICAgIHZhciBHO1xuICAgICAgICB2YXIgQjtcbiAgICAgICAgdmFyIFJzUkdCID0gcmdiLnIgLyAyNTU7XG4gICAgICAgIHZhciBHc1JHQiA9IHJnYi5nIC8gMjU1O1xuICAgICAgICB2YXIgQnNSR0IgPSByZ2IuYiAvIDI1NTtcbiAgICAgICAgaWYgKFJzUkdCIDw9IDAuMDM5MjgpIHtcbiAgICAgICAgICAgIFIgPSBSc1JHQiAvIDEyLjkyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1leHBvbmVudGlhdGlvbi1vcGVyYXRvclxuICAgICAgICAgICAgUiA9IE1hdGgucG93KChSc1JHQiArIDAuMDU1KSAvIDEuMDU1LCAyLjQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChHc1JHQiA8PSAwLjAzOTI4KSB7XG4gICAgICAgICAgICBHID0gR3NSR0IgLyAxMi45MjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZXhwb25lbnRpYXRpb24tb3BlcmF0b3JcbiAgICAgICAgICAgIEcgPSBNYXRoLnBvdygoR3NSR0IgKyAwLjA1NSkgLyAxLjA1NSwgMi40KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQnNSR0IgPD0gMC4wMzkyOCkge1xuICAgICAgICAgICAgQiA9IEJzUkdCIC8gMTIuOTI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWV4cG9uZW50aWF0aW9uLW9wZXJhdG9yXG4gICAgICAgICAgICBCID0gTWF0aC5wb3coKEJzUkdCICsgMC4wNTUpIC8gMS4wNTUsIDIuNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDAuMjEyNiAqIFIgKyAwLjcxNTIgKiBHICsgMC4wNzIyICogQjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFscGhhIHZhbHVlIG9mIGEgY29sb3IsIGZyb20gMC0xLlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuZ2V0QWxwaGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBhbHBoYSB2YWx1ZSBvbiB0aGUgY3VycmVudCBjb2xvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbHBoYSAtIFRoZSBuZXcgYWxwaGEgdmFsdWUuIFRoZSBhY2NlcHRlZCByYW5nZSBpcyAwLTEuXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5zZXRBbHBoYSA9IGZ1bmN0aW9uIChhbHBoYSkge1xuICAgICAgICB0aGlzLmEgPSBib3VuZEFscGhhKGFscGhhKTtcbiAgICAgICAgdGhpcy5yb3VuZEEgPSBNYXRoLnJvdW5kKDEwMCAqIHRoaXMuYSkgLyAxMDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgb2JqZWN0IGFzIGEgSFNWQSBvYmplY3QuXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS50b0hzdiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhzdiA9IHJnYlRvSHN2KHRoaXMuciwgdGhpcy5nLCB0aGlzLmIpO1xuICAgICAgICByZXR1cm4geyBoOiBoc3YuaCAqIDM2MCwgczogaHN2LnMsIHY6IGhzdi52LCBhOiB0aGlzLmEgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGhzdmEgdmFsdWVzIGludGVycG9sYXRlZCBpbnRvIGEgc3RyaW5nIHdpdGggdGhlIGZvbGxvd2luZyBmb3JtYXQ6XG4gICAgICogXCJoc3ZhKHh4eCwgeHh4LCB4eHgsIHh4KVwiLlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9Ic3ZTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoc3YgPSByZ2JUb0hzdih0aGlzLnIsIHRoaXMuZywgdGhpcy5iKTtcbiAgICAgICAgdmFyIGggPSBNYXRoLnJvdW5kKGhzdi5oICogMzYwKTtcbiAgICAgICAgdmFyIHMgPSBNYXRoLnJvdW5kKGhzdi5zICogMTAwKTtcbiAgICAgICAgdmFyIHYgPSBNYXRoLnJvdW5kKGhzdi52ICogMTAwKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYSA9PT0gMSA/IFwiaHN2KFwiICsgaCArIFwiLCBcIiArIHMgKyBcIiUsIFwiICsgdiArIFwiJSlcIiA6IFwiaHN2YShcIiArIGggKyBcIiwgXCIgKyBzICsgXCIlLCBcIiArIHYgKyBcIiUsIFwiICsgdGhpcy5yb3VuZEEgKyBcIilcIjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG9iamVjdCBhcyBhIEhTTEEgb2JqZWN0LlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9Ic2wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoc2wgPSByZ2JUb0hzbCh0aGlzLnIsIHRoaXMuZywgdGhpcy5iKTtcbiAgICAgICAgcmV0dXJuIHsgaDogaHNsLmggKiAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCwgYTogdGhpcy5hIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoc2xhIHZhbHVlcyBpbnRlcnBvbGF0ZWQgaW50byBhIHN0cmluZyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxuICAgICAqIFwiaHNsYSh4eHgsIHh4eCwgeHh4LCB4eClcIi5cbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvSHNsU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaHNsID0gcmdiVG9Ic2wodGhpcy5yLCB0aGlzLmcsIHRoaXMuYik7XG4gICAgICAgIHZhciBoID0gTWF0aC5yb3VuZChoc2wuaCAqIDM2MCk7XG4gICAgICAgIHZhciBzID0gTWF0aC5yb3VuZChoc2wucyAqIDEwMCk7XG4gICAgICAgIHZhciBsID0gTWF0aC5yb3VuZChoc2wubCAqIDEwMCk7XG4gICAgICAgIHJldHVybiB0aGlzLmEgPT09IDEgPyBcImhzbChcIiArIGggKyBcIiwgXCIgKyBzICsgXCIlLCBcIiArIGwgKyBcIiUpXCIgOiBcImhzbGEoXCIgKyBoICsgXCIsIFwiICsgcyArIFwiJSwgXCIgKyBsICsgXCIlLCBcIiArIHRoaXMucm91bmRBICsgXCIpXCI7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoZXggdmFsdWUgb2YgdGhlIGNvbG9yLlxuICAgICAqIEBwYXJhbSBhbGxvdzNDaGFyIHdpbGwgc2hvcnRlbiBoZXggdmFsdWUgdG8gMyBjaGFyIGlmIHBvc3NpYmxlXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS50b0hleCA9IGZ1bmN0aW9uIChhbGxvdzNDaGFyKSB7XG4gICAgICAgIGlmIChhbGxvdzNDaGFyID09PSB2b2lkIDApIHsgYWxsb3czQ2hhciA9IGZhbHNlOyB9XG4gICAgICAgIHJldHVybiByZ2JUb0hleCh0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCBhbGxvdzNDaGFyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGhleCB2YWx1ZSBvZiB0aGUgY29sb3IgLXdpdGggYSAjIGFwcGVuZWQuXG4gICAgICogQHBhcmFtIGFsbG93M0NoYXIgd2lsbCBzaG9ydGVuIGhleCB2YWx1ZSB0byAzIGNoYXIgaWYgcG9zc2libGVcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGFsbG93M0NoYXIpIHtcbiAgICAgICAgaWYgKGFsbG93M0NoYXIgPT09IHZvaWQgMCkgeyBhbGxvdzNDaGFyID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuICcjJyArIHRoaXMudG9IZXgoYWxsb3czQ2hhcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBoZXggOCB2YWx1ZSBvZiB0aGUgY29sb3IuXG4gICAgICogQHBhcmFtIGFsbG93NENoYXIgd2lsbCBzaG9ydGVuIGhleCB2YWx1ZSB0byA0IGNoYXIgaWYgcG9zc2libGVcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvSGV4OCA9IGZ1bmN0aW9uIChhbGxvdzRDaGFyKSB7XG4gICAgICAgIGlmIChhbGxvdzRDaGFyID09PSB2b2lkIDApIHsgYWxsb3c0Q2hhciA9IGZhbHNlOyB9XG4gICAgICAgIHJldHVybiByZ2JhVG9IZXgodGhpcy5yLCB0aGlzLmcsIHRoaXMuYiwgdGhpcy5hLCBhbGxvdzRDaGFyKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGhleCA4IHZhbHVlIG9mIHRoZSBjb2xvciAtd2l0aCBhICMgYXBwZW5lZC5cbiAgICAgKiBAcGFyYW0gYWxsb3c0Q2hhciB3aWxsIHNob3J0ZW4gaGV4IHZhbHVlIHRvIDQgY2hhciBpZiBwb3NzaWJsZVxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9IZXg4U3RyaW5nID0gZnVuY3Rpb24gKGFsbG93NENoYXIpIHtcbiAgICAgICAgaWYgKGFsbG93NENoYXIgPT09IHZvaWQgMCkgeyBhbGxvdzRDaGFyID0gZmFsc2U7IH1cbiAgICAgICAgcmV0dXJuICcjJyArIHRoaXMudG9IZXg4KGFsbG93NENoYXIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgb2JqZWN0IGFzIGEgUkdCQSBvYmplY3QuXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS50b1JnYiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHI6IE1hdGgucm91bmQodGhpcy5yKSxcbiAgICAgICAgICAgIGc6IE1hdGgucm91bmQodGhpcy5nKSxcbiAgICAgICAgICAgIGI6IE1hdGgucm91bmQodGhpcy5iKSxcbiAgICAgICAgICAgIGE6IHRoaXMuYSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFJHQkEgdmFsdWVzIGludGVycG9sYXRlZCBpbnRvIGEgc3RyaW5nIHdpdGggdGhlIGZvbGxvd2luZyBmb3JtYXQ6XG4gICAgICogXCJSR0JBKHh4eCwgeHh4LCB4eHgsIHh4KVwiLlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9SZ2JTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByID0gTWF0aC5yb3VuZCh0aGlzLnIpO1xuICAgICAgICB2YXIgZyA9IE1hdGgucm91bmQodGhpcy5nKTtcbiAgICAgICAgdmFyIGIgPSBNYXRoLnJvdW5kKHRoaXMuYik7XG4gICAgICAgIHJldHVybiB0aGlzLmEgPT09IDEgPyBcInJnYihcIiArIHIgKyBcIiwgXCIgKyBnICsgXCIsIFwiICsgYiArIFwiKVwiIDogXCJyZ2JhKFwiICsgciArIFwiLCBcIiArIGcgKyBcIiwgXCIgKyBiICsgXCIsIFwiICsgdGhpcy5yb3VuZEEgKyBcIilcIjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG9iamVjdCBhcyBhIFJHQkEgb2JqZWN0LlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9QZXJjZW50YWdlUmdiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZm10ID0gZnVuY3Rpb24gKHgpIHsgcmV0dXJuIE1hdGgucm91bmQoYm91bmQwMSh4LCAyNTUpICogMTAwKSArIFwiJVwiOyB9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogZm10KHRoaXMuciksXG4gICAgICAgICAgICBnOiBmbXQodGhpcy5nKSxcbiAgICAgICAgICAgIGI6IGZtdCh0aGlzLmIpLFxuICAgICAgICAgICAgYTogdGhpcy5hLFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgUkdCQSByZWxhdGl2ZSB2YWx1ZXMgaW50ZXJwb2xhdGVkIGludG8gYSBzdHJpbmdcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvUGVyY2VudGFnZVJnYlN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJuZCA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiBNYXRoLnJvdW5kKGJvdW5kMDEoeCwgMjU1KSAqIDEwMCk7IH07XG4gICAgICAgIHJldHVybiB0aGlzLmEgPT09IDFcbiAgICAgICAgICAgID8gXCJyZ2IoXCIgKyBybmQodGhpcy5yKSArIFwiJSwgXCIgKyBybmQodGhpcy5nKSArIFwiJSwgXCIgKyBybmQodGhpcy5iKSArIFwiJSlcIlxuICAgICAgICAgICAgOiBcInJnYmEoXCIgKyBybmQodGhpcy5yKSArIFwiJSwgXCIgKyBybmQodGhpcy5nKSArIFwiJSwgXCIgKyBybmQodGhpcy5iKSArIFwiJSwgXCIgKyB0aGlzLnJvdW5kQSArIFwiKVwiO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhlICdyZWFsJyBuYW1lIG9mIHRoZSBjb2xvciAtaWYgdGhlcmUgaXMgb25lLlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9OYW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5hID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zcGFyZW50JztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hIDwgMSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoZXggPSAnIycgKyByZ2JUb0hleCh0aGlzLnIsIHRoaXMuZywgdGhpcy5iLCBmYWxzZSk7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3QuZW50cmllcyhuYW1lcyk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBfYVtfaV0sIGtleSA9IF9iWzBdLCB2YWx1ZSA9IF9iWzFdO1xuICAgICAgICAgICAgaWYgKGhleCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoZm9ybWF0KSB7XG4gICAgICAgIHZhciBmb3JtYXRTZXQgPSBCb29sZWFuKGZvcm1hdCk7XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdCAhPT0gbnVsbCAmJiBmb3JtYXQgIT09IHZvaWQgMCA/IGZvcm1hdCA6IHRoaXMuZm9ybWF0O1xuICAgICAgICB2YXIgZm9ybWF0dGVkU3RyaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBoYXNBbHBoYSA9IHRoaXMuYSA8IDEgJiYgdGhpcy5hID49IDA7XG4gICAgICAgIHZhciBuZWVkc0FscGhhRm9ybWF0ID0gIWZvcm1hdFNldCAmJiBoYXNBbHBoYSAmJiAoZm9ybWF0LnN0YXJ0c1dpdGgoJ2hleCcpIHx8IGZvcm1hdCA9PT0gJ25hbWUnKTtcbiAgICAgICAgaWYgKG5lZWRzQWxwaGFGb3JtYXQpIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgXCJ0cmFuc3BhcmVudFwiLCBhbGwgb3RoZXIgbm9uLWFscGhhIGZvcm1hdHNcbiAgICAgICAgICAgIC8vIHdpbGwgcmV0dXJuIHJnYmEgd2hlbiB0aGVyZSBpcyB0cmFuc3BhcmVuY3kuXG4gICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnbmFtZScgJiYgdGhpcy5hID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9OYW1lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50b1JnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdyZ2InKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvUmdiU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ3ByZ2InKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvUGVyY2VudGFnZVJnYlN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdoZXgnIHx8IGZvcm1hdCA9PT0gJ2hleDYnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSGV4U3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2hleDMnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSGV4U3RyaW5nKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdoZXg0Jykge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hleDhTdHJpbmcodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvcm1hdCA9PT0gJ2hleDgnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSGV4OFN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICduYW1lJykge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b05hbWUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9ybWF0ID09PSAnaHNsJykge1xuICAgICAgICAgICAgZm9ybWF0dGVkU3RyaW5nID0gdGhpcy50b0hzbFN0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmb3JtYXQgPT09ICdoc3YnKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRTdHJpbmcgPSB0aGlzLnRvSHN2U3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZFN0cmluZyB8fCB0aGlzLnRvSGV4U3RyaW5nKCk7XG4gICAgfTtcbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnRvTnVtYmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKE1hdGgucm91bmQodGhpcy5yKSA8PCAxNikgKyAoTWF0aC5yb3VuZCh0aGlzLmcpIDw8IDgpICsgTWF0aC5yb3VuZCh0aGlzLmIpO1xuICAgIH07XG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3IodGhpcy50b1N0cmluZygpKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIExpZ2h0ZW4gdGhlIGNvbG9yIGEgZ2l2ZW4gYW1vdW50LiBQcm92aWRpbmcgMTAwIHdpbGwgYWx3YXlzIHJldHVybiB3aGl0ZS5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsaWQgYmV0d2VlbiAxLTEwMFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUubGlnaHRlbiA9IGZ1bmN0aW9uIChhbW91bnQpIHtcbiAgICAgICAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDEwOyB9XG4gICAgICAgIHZhciBoc2wgPSB0aGlzLnRvSHNsKCk7XG4gICAgICAgIGhzbC5sICs9IGFtb3VudCAvIDEwMDtcbiAgICAgICAgaHNsLmwgPSBjbGFtcDAxKGhzbC5sKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3IoaHNsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEJyaWdodGVuIHRoZSBjb2xvciBhIGdpdmVuIGFtb3VudCwgZnJvbSAwIHRvIDEwMC5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsaWQgYmV0d2VlbiAxLTEwMFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuYnJpZ2h0ZW4gPSBmdW5jdGlvbiAoYW1vdW50KSB7XG4gICAgICAgIGlmIChhbW91bnQgPT09IHZvaWQgMCkgeyBhbW91bnQgPSAxMDsgfVxuICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JnYigpO1xuICAgICAgICByZ2IuciA9IE1hdGgubWF4KDAsIE1hdGgubWluKDI1NSwgcmdiLnIgLSBNYXRoLnJvdW5kKDI1NSAqIC0oYW1vdW50IC8gMTAwKSkpKTtcbiAgICAgICAgcmdiLmcgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigyNTUsIHJnYi5nIC0gTWF0aC5yb3VuZCgyNTUgKiAtKGFtb3VudCAvIDEwMCkpKSk7XG4gICAgICAgIHJnYi5iID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMjU1LCByZ2IuYiAtIE1hdGgucm91bmQoMjU1ICogLShhbW91bnQgLyAxMDApKSkpO1xuICAgICAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihyZ2IpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGFya2VuIHRoZSBjb2xvciBhIGdpdmVuIGFtb3VudCwgZnJvbSAwIHRvIDEwMC5cbiAgICAgKiBQcm92aWRpbmcgMTAwIHdpbGwgYWx3YXlzIHJldHVybiBibGFjay5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsaWQgYmV0d2VlbiAxLTEwMFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuZGFya2VuID0gZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHsgYW1vdW50ID0gMTA7IH1cbiAgICAgICAgdmFyIGhzbCA9IHRoaXMudG9Ic2woKTtcbiAgICAgICAgaHNsLmwgLT0gYW1vdW50IC8gMTAwO1xuICAgICAgICBoc2wubCA9IGNsYW1wMDEoaHNsLmwpO1xuICAgICAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihoc2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWl4IHRoZSBjb2xvciB3aXRoIHB1cmUgd2hpdGUsIGZyb20gMCB0byAxMDAuXG4gICAgICogUHJvdmlkaW5nIDAgd2lsbCBkbyBub3RoaW5nLCBwcm92aWRpbmcgMTAwIHdpbGwgYWx3YXlzIHJldHVybiB3aGl0ZS5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsaWQgYmV0d2VlbiAxLTEwMFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudGludCA9IGZ1bmN0aW9uIChhbW91bnQpIHtcbiAgICAgICAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDEwOyB9XG4gICAgICAgIHJldHVybiB0aGlzLm1peCgnd2hpdGUnLCBhbW91bnQpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWl4IHRoZSBjb2xvciB3aXRoIHB1cmUgYmxhY2ssIGZyb20gMCB0byAxMDAuXG4gICAgICogUHJvdmlkaW5nIDAgd2lsbCBkbyBub3RoaW5nLCBwcm92aWRpbmcgMTAwIHdpbGwgYWx3YXlzIHJldHVybiBibGFjay5cbiAgICAgKiBAcGFyYW0gYW1vdW50IC0gdmFsaWQgYmV0d2VlbiAxLTEwMFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUuc2hhZGUgPSBmdW5jdGlvbiAoYW1vdW50KSB7XG4gICAgICAgIGlmIChhbW91bnQgPT09IHZvaWQgMCkgeyBhbW91bnQgPSAxMDsgfVxuICAgICAgICByZXR1cm4gdGhpcy5taXgoJ2JsYWNrJywgYW1vdW50KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIERlc2F0dXJhdGUgdGhlIGNvbG9yIGEgZ2l2ZW4gYW1vdW50LCBmcm9tIDAgdG8gMTAwLlxuICAgICAqIFByb3ZpZGluZyAxMDAgd2lsbCBpcyB0aGUgc2FtZSBhcyBjYWxsaW5nIGdyZXlzY2FsZVxuICAgICAqIEBwYXJhbSBhbW91bnQgLSB2YWxpZCBiZXR3ZWVuIDEtMTAwXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5kZXNhdHVyYXRlID0gZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgICBpZiAoYW1vdW50ID09PSB2b2lkIDApIHsgYW1vdW50ID0gMTA7IH1cbiAgICAgICAgdmFyIGhzbCA9IHRoaXMudG9Ic2woKTtcbiAgICAgICAgaHNsLnMgLT0gYW1vdW50IC8gMTAwO1xuICAgICAgICBoc2wucyA9IGNsYW1wMDEoaHNsLnMpO1xuICAgICAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihoc2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2F0dXJhdGUgdGhlIGNvbG9yIGEgZ2l2ZW4gYW1vdW50LCBmcm9tIDAgdG8gMTAwLlxuICAgICAqIEBwYXJhbSBhbW91bnQgLSB2YWxpZCBiZXR3ZWVuIDEtMTAwXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5zYXR1cmF0ZSA9IGZ1bmN0aW9uIChhbW91bnQpIHtcbiAgICAgICAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDEwOyB9XG4gICAgICAgIHZhciBoc2wgPSB0aGlzLnRvSHNsKCk7XG4gICAgICAgIGhzbC5zICs9IGFtb3VudCAvIDEwMDtcbiAgICAgICAgaHNsLnMgPSBjbGFtcDAxKGhzbC5zKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3IoaHNsKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbXBsZXRlbHkgZGVzYXR1cmF0ZXMgYSBjb2xvciBpbnRvIGdyZXlzY2FsZS5cbiAgICAgKiBTYW1lIGFzIGNhbGxpbmcgYGRlc2F0dXJhdGUoMTAwKWBcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmdyZXlzY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVzYXR1cmF0ZSgxMDApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3BpbiB0YWtlcyBhIHBvc2l0aXZlIG9yIG5lZ2F0aXZlIGFtb3VudCB3aXRoaW4gWy0zNjAsIDM2MF0gaW5kaWNhdGluZyB0aGUgY2hhbmdlIG9mIGh1ZS5cbiAgICAgKiBWYWx1ZXMgb3V0c2lkZSBvZiB0aGlzIHJhbmdlIHdpbGwgYmUgd3JhcHBlZCBpbnRvIHRoaXMgcmFuZ2UuXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5zcGluID0gZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgICB2YXIgaHNsID0gdGhpcy50b0hzbCgpO1xuICAgICAgICB2YXIgaHVlID0gKGhzbC5oICsgYW1vdW50KSAlIDM2MDtcbiAgICAgICAgaHNsLmggPSBodWUgPCAwID8gMzYwICsgaHVlIDogaHVlO1xuICAgICAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihoc2wpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogTWl4IHRoZSBjdXJyZW50IGNvbG9yIGEgZ2l2ZW4gYW1vdW50IHdpdGggYW5vdGhlciBjb2xvciwgZnJvbSAwIHRvIDEwMC5cbiAgICAgKiAwIG1lYW5zIG5vIG1peGluZyAocmV0dXJuIGN1cnJlbnQgY29sb3IpLlxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUubWl4ID0gZnVuY3Rpb24gKGNvbG9yLCBhbW91bnQpIHtcbiAgICAgICAgaWYgKGFtb3VudCA9PT0gdm9pZCAwKSB7IGFtb3VudCA9IDUwOyB9XG4gICAgICAgIHZhciByZ2IxID0gdGhpcy50b1JnYigpO1xuICAgICAgICB2YXIgcmdiMiA9IG5ldyBUaW55Q29sb3IoY29sb3IpLnRvUmdiKCk7XG4gICAgICAgIHZhciBwID0gYW1vdW50IC8gMTAwO1xuICAgICAgICB2YXIgcmdiYSA9IHtcbiAgICAgICAgICAgIHI6IChyZ2IyLnIgLSByZ2IxLnIpICogcCArIHJnYjEucixcbiAgICAgICAgICAgIGc6IChyZ2IyLmcgLSByZ2IxLmcpICogcCArIHJnYjEuZyxcbiAgICAgICAgICAgIGI6IChyZ2IyLmIgLSByZ2IxLmIpICogcCArIHJnYjEuYixcbiAgICAgICAgICAgIGE6IChyZ2IyLmEgLSByZ2IxLmEpICogcCArIHJnYjEuYSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3IocmdiYSk7XG4gICAgfTtcbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmFuYWxvZ291cyA9IGZ1bmN0aW9uIChyZXN1bHRzLCBzbGljZXMpIHtcbiAgICAgICAgaWYgKHJlc3VsdHMgPT09IHZvaWQgMCkgeyByZXN1bHRzID0gNjsgfVxuICAgICAgICBpZiAoc2xpY2VzID09PSB2b2lkIDApIHsgc2xpY2VzID0gMzA7IH1cbiAgICAgICAgdmFyIGhzbCA9IHRoaXMudG9Ic2woKTtcbiAgICAgICAgdmFyIHBhcnQgPSAzNjAgLyBzbGljZXM7XG4gICAgICAgIHZhciByZXQgPSBbdGhpc107XG4gICAgICAgIGZvciAoaHNsLmggPSAoaHNsLmggLSAoKHBhcnQgKiByZXN1bHRzKSA+PiAxKSArIDcyMCkgJSAzNjA7IC0tcmVzdWx0czspIHtcbiAgICAgICAgICAgIGhzbC5oID0gKGhzbC5oICsgcGFydCkgJSAzNjA7XG4gICAgICAgICAgICByZXQucHVzaChuZXcgVGlueUNvbG9yKGhzbCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiB0YWtlbiBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9pbmZ1c2lvbi9qUXVlcnkteGNvbG9yL2Jsb2IvbWFzdGVyL2pxdWVyeS54Y29sb3IuanNcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmNvbXBsZW1lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBoc2wgPSB0aGlzLnRvSHNsKCk7XG4gICAgICAgIGhzbC5oID0gKGhzbC5oICsgMTgwKSAlIDM2MDtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3IoaHNsKTtcbiAgICB9O1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUubW9ub2Nocm9tYXRpYyA9IGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgIGlmIChyZXN1bHRzID09PSB2b2lkIDApIHsgcmVzdWx0cyA9IDY7IH1cbiAgICAgICAgdmFyIGhzdiA9IHRoaXMudG9Ic3YoKTtcbiAgICAgICAgdmFyIGggPSBoc3YuaDtcbiAgICAgICAgdmFyIHMgPSBoc3YucztcbiAgICAgICAgdmFyIHYgPSBoc3YudjtcbiAgICAgICAgdmFyIHJlcyA9IFtdO1xuICAgICAgICB2YXIgbW9kaWZpY2F0aW9uID0gMSAvIHJlc3VsdHM7XG4gICAgICAgIHdoaWxlIChyZXN1bHRzLS0pIHtcbiAgICAgICAgICAgIHJlcy5wdXNoKG5ldyBUaW55Q29sb3IoeyBoOiBoLCBzOiBzLCB2OiB2IH0pKTtcbiAgICAgICAgICAgIHYgPSAodiArIG1vZGlmaWNhdGlvbikgJSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBUaW55Q29sb3IucHJvdG90eXBlLnNwbGl0Y29tcGxlbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGhzbCA9IHRoaXMudG9Ic2woKTtcbiAgICAgICAgdmFyIGggPSBoc2wuaDtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHRoaXMsXG4gICAgICAgICAgICBuZXcgVGlueUNvbG9yKHsgaDogKGggKyA3MikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KSxcbiAgICAgICAgICAgIG5ldyBUaW55Q29sb3IoeyBoOiAoaCArIDIxNikgJSAzNjAsIHM6IGhzbC5zLCBsOiBoc2wubCB9KSxcbiAgICAgICAgXTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENvbXB1dGUgaG93IHRoZSBjb2xvciB3b3VsZCBhcHBlYXIgb24gYSBiYWNrZ3JvdW5kXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5vbkJhY2tncm91bmQgPSBmdW5jdGlvbiAoYmFja2dyb3VuZCkge1xuICAgICAgICB2YXIgZmcgPSB0aGlzLnRvUmdiKCk7XG4gICAgICAgIHZhciBiZyA9IG5ldyBUaW55Q29sb3IoYmFja2dyb3VuZCkudG9SZ2IoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW55Q29sb3Ioe1xuICAgICAgICAgICAgcjogYmcuciArIChmZy5yIC0gYmcucikgKiBmZy5hLFxuICAgICAgICAgICAgZzogYmcuZyArIChmZy5nIC0gYmcuZykgKiBmZy5hLFxuICAgICAgICAgICAgYjogYmcuYiArIChmZy5iIC0gYmcuYikgKiBmZy5hLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgcG9seWFkKDMpYFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudHJpYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvbHlhZCgzKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgcG9seWFkKDQpYFxuICAgICAqL1xuICAgIFRpbnlDb2xvci5wcm90b3R5cGUudGV0cmFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2x5YWQoNCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZXQgcG9seWFkIGNvbG9ycywgbGlrZSAoZm9yIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIGV0Yy4uLilcbiAgICAgKiBtb25hZCwgZHlhZCwgdHJpYWQsIHRldHJhZCwgcGVudGFkLCBoZXhhZCwgaGVwdGFkLCBvY3RhZCwgZXRjLi4uXG4gICAgICovXG4gICAgVGlueUNvbG9yLnByb3RvdHlwZS5wb2x5YWQgPSBmdW5jdGlvbiAobikge1xuICAgICAgICB2YXIgaHNsID0gdGhpcy50b0hzbCgpO1xuICAgICAgICB2YXIgaCA9IGhzbC5oO1xuICAgICAgICB2YXIgcmVzdWx0ID0gW3RoaXNdO1xuICAgICAgICB2YXIgaW5jcmVtZW50ID0gMzYwIC8gbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBUaW55Q29sb3IoeyBoOiAoaCArIGkgKiBpbmNyZW1lbnQpICUgMzYwLCBzOiBoc2wucywgbDogaHNsLmwgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBjb21wYXJlIGNvbG9yIHZzIGN1cnJlbnQgY29sb3JcbiAgICAgKi9cbiAgICBUaW55Q29sb3IucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICByZXR1cm4gdGhpcy50b1JnYlN0cmluZygpID09PSBuZXcgVGlueUNvbG9yKGNvbG9yKS50b1JnYlN0cmluZygpO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbnlDb2xvcjtcbn0oKSk7XG5leHBvcnQgeyBUaW55Q29sb3IgfTtcbi8vIGtlcHQgZm9yIGJhY2t3YXJkcyBjb21wYXRhYmlsaXR5IHdpdGggdjFcbmV4cG9ydCBmdW5jdGlvbiB0aW55Y29sb3IoY29sb3IsIG9wdHMpIHtcbiAgICBpZiAoY29sb3IgPT09IHZvaWQgMCkgeyBjb2xvciA9ICcnOyB9XG4gICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cbiAgICByZXR1cm4gbmV3IFRpbnlDb2xvcihjb2xvciwgb3B0cyk7XG59XG4iLCIvLyByYW5kb21Db2xvciBieSBEYXZpZCBNZXJmaWVsZCB1bmRlciB0aGUgQ0MwIGxpY2Vuc2Vcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXZpZG1lcmZpZWxkL3JhbmRvbUNvbG9yL1xuaW1wb3J0IHsgVGlueUNvbG9yIH0gZnJvbSAnLi9pbmRleCc7XG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gZ2VuZXJhdGUgbXVsdGlwbGUgY29sb3JzXG4gICAgaWYgKG9wdGlvbnMuY291bnQgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvcHRpb25zLmNvdW50ICE9PSBudWxsKSB7XG4gICAgICAgIHZhciB0b3RhbENvbG9ycyA9IG9wdGlvbnMuY291bnQ7XG4gICAgICAgIHZhciBjb2xvcnMgPSBbXTtcbiAgICAgICAgb3B0aW9ucy5jb3VudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgd2hpbGUgKHRvdGFsQ29sb3JzID4gY29sb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gU2luY2Ugd2UncmUgZ2VuZXJhdGluZyBtdWx0aXBsZSBjb2xvcnMsXG4gICAgICAgICAgICAvLyBpbmNyZW1lbWVudCB0aGUgc2VlZC4gT3RoZXJ3aXNlIHdlJ2QganVzdFxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgdGhlIHNhbWUgY29sb3IgZWFjaCB0aW1lLi4uXG4gICAgICAgICAgICBvcHRpb25zLmNvdW50ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNlZWQpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zLnNlZWQgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbG9ycy5wdXNoKHJhbmRvbShvcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5jb3VudCA9IHRvdGFsQ29sb3JzO1xuICAgICAgICByZXR1cm4gY29sb3JzO1xuICAgIH1cbiAgICAvLyBGaXJzdCB3ZSBwaWNrIGEgaHVlIChIKVxuICAgIHZhciBoID0gcGlja0h1ZShvcHRpb25zLmh1ZSwgb3B0aW9ucy5zZWVkKTtcbiAgICAvLyBUaGVuIHVzZSBIIHRvIGRldGVybWluZSBzYXR1cmF0aW9uIChTKVxuICAgIHZhciBzID0gcGlja1NhdHVyYXRpb24oaCwgb3B0aW9ucyk7XG4gICAgLy8gVGhlbiB1c2UgUyBhbmQgSCB0byBkZXRlcm1pbmUgYnJpZ2h0bmVzcyAoQikuXG4gICAgdmFyIHYgPSBwaWNrQnJpZ2h0bmVzcyhoLCBzLCBvcHRpb25zKTtcbiAgICB2YXIgcmVzID0geyBoOiBoLCBzOiBzLCB2OiB2IH07XG4gICAgaWYgKG9wdGlvbnMuYWxwaGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXMuYSA9IG9wdGlvbnMuYWxwaGE7XG4gICAgfVxuICAgIC8vIFRoZW4gd2UgcmV0dXJuIHRoZSBIU0IgY29sb3IgaW4gdGhlIGRlc2lyZWQgZm9ybWF0XG4gICAgcmV0dXJuIG5ldyBUaW55Q29sb3IocmVzKTtcbn1cbmZ1bmN0aW9uIHBpY2tIdWUoaHVlLCBzZWVkKSB7XG4gICAgdmFyIGh1ZVJhbmdlID0gZ2V0SHVlUmFuZ2UoaHVlKTtcbiAgICB2YXIgcmVzID0gcmFuZG9tV2l0aGluKGh1ZVJhbmdlLCBzZWVkKTtcbiAgICAvLyBJbnN0ZWFkIG9mIHN0b3JpbmcgcmVkIGFzIHR3byBzZXBlcmF0ZSByYW5nZXMsXG4gICAgLy8gd2UgZ3JvdXAgdGhlbSwgdXNpbmcgbmVnYXRpdmUgbnVtYmVyc1xuICAgIGlmIChyZXMgPCAwKSB7XG4gICAgICAgIHJlcyA9IDM2MCArIHJlcztcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbmZ1bmN0aW9uIHBpY2tTYXR1cmF0aW9uKGh1ZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmh1ZSA9PT0gJ21vbm9jaHJvbWUnKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5sdW1pbm9zaXR5ID09PSAncmFuZG9tJykge1xuICAgICAgICByZXR1cm4gcmFuZG9tV2l0aGluKFswLCAxMDBdLCBvcHRpb25zLnNlZWQpO1xuICAgIH1cbiAgICB2YXIgc2F0dXJhdGlvblJhbmdlID0gZ2V0Q29sb3JJbmZvKGh1ZSkuc2F0dXJhdGlvblJhbmdlO1xuICAgIHZhciBzTWluID0gc2F0dXJhdGlvblJhbmdlWzBdO1xuICAgIHZhciBzTWF4ID0gc2F0dXJhdGlvblJhbmdlWzFdO1xuICAgIHN3aXRjaCAob3B0aW9ucy5sdW1pbm9zaXR5KSB7XG4gICAgICAgIGNhc2UgJ2JyaWdodCc6XG4gICAgICAgICAgICBzTWluID0gNTU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZGFyayc6XG4gICAgICAgICAgICBzTWluID0gc01heCAtIDEwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xpZ2h0JzpcbiAgICAgICAgICAgIHNNYXggPSA1NTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiByYW5kb21XaXRoaW4oW3NNaW4sIHNNYXhdLCBvcHRpb25zLnNlZWQpO1xufVxuZnVuY3Rpb24gcGlja0JyaWdodG5lc3MoSCwgUywgb3B0aW9ucykge1xuICAgIHZhciBiTWluID0gZ2V0TWluaW11bUJyaWdodG5lc3MoSCwgUyk7XG4gICAgdmFyIGJNYXggPSAxMDA7XG4gICAgc3dpdGNoIChvcHRpb25zLmx1bWlub3NpdHkpIHtcbiAgICAgICAgY2FzZSAnZGFyayc6XG4gICAgICAgICAgICBiTWF4ID0gYk1pbiArIDIwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xpZ2h0JzpcbiAgICAgICAgICAgIGJNaW4gPSAoYk1heCArIGJNaW4pIC8gMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyYW5kb20nOlxuICAgICAgICAgICAgYk1pbiA9IDA7XG4gICAgICAgICAgICBiTWF4ID0gMTAwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHJhbmRvbVdpdGhpbihbYk1pbiwgYk1heF0sIG9wdGlvbnMuc2VlZCk7XG59XG5mdW5jdGlvbiBnZXRNaW5pbXVtQnJpZ2h0bmVzcyhILCBTKSB7XG4gICAgdmFyIGxvd2VyQm91bmRzID0gZ2V0Q29sb3JJbmZvKEgpLmxvd2VyQm91bmRzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbG93ZXJCb3VuZHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIHZhciBzMSA9IGxvd2VyQm91bmRzW2ldWzBdO1xuICAgICAgICB2YXIgdjEgPSBsb3dlckJvdW5kc1tpXVsxXTtcbiAgICAgICAgdmFyIHMyID0gbG93ZXJCb3VuZHNbaSArIDFdWzBdO1xuICAgICAgICB2YXIgdjIgPSBsb3dlckJvdW5kc1tpICsgMV1bMV07XG4gICAgICAgIGlmIChTID49IHMxICYmIFMgPD0gczIpIHtcbiAgICAgICAgICAgIHZhciBtID0gKHYyIC0gdjEpIC8gKHMyIC0gczEpO1xuICAgICAgICAgICAgdmFyIGIgPSB2MSAtIG0gKiBzMTtcbiAgICAgICAgICAgIHJldHVybiBtICogUyArIGI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIDA7XG59XG5mdW5jdGlvbiBnZXRIdWVSYW5nZShjb2xvcklucHV0KSB7XG4gICAgdmFyIG51bSA9IHBhcnNlSW50KGNvbG9ySW5wdXQsIDEwKTtcbiAgICBpZiAoIU51bWJlci5pc05hTihudW0pICYmIG51bSA8IDM2MCAmJiBudW0gPiAwKSB7XG4gICAgICAgIHJldHVybiBbbnVtLCBudW1dO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNvbG9ySW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBuYW1lZENvbG9yID0gYm91bmRzLmZpbmQoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIG4ubmFtZSA9PT0gY29sb3JJbnB1dDsgfSk7XG4gICAgICAgIGlmIChuYW1lZENvbG9yKSB7XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBkZWZpbmVDb2xvcihuYW1lZENvbG9yKTtcbiAgICAgICAgICAgIGlmIChjb2xvci5odWVSYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvci5odWVSYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyc2VkID0gbmV3IFRpbnlDb2xvcihjb2xvcklucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZC5pc1ZhbGlkKSB7XG4gICAgICAgICAgICB2YXIgaHVlID0gcGFyc2VkLnRvSHN2KCkuaDtcbiAgICAgICAgICAgIHJldHVybiBbaHVlLCBodWVdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBbMCwgMzYwXTtcbn1cbmZ1bmN0aW9uIGdldENvbG9ySW5mbyhodWUpIHtcbiAgICAvLyBNYXBzIHJlZCBjb2xvcnMgdG8gbWFrZSBwaWNraW5nIGh1ZSBlYXNpZXJcbiAgICBpZiAoaHVlID49IDMzNCAmJiBodWUgPD0gMzYwKSB7XG4gICAgICAgIGh1ZSAtPSAzNjA7XG4gICAgfVxuICAgIGZvciAodmFyIF9pID0gMCwgYm91bmRzXzEgPSBib3VuZHM7IF9pIDwgYm91bmRzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBib3VuZCA9IGJvdW5kc18xW19pXTtcbiAgICAgICAgdmFyIGNvbG9yID0gZGVmaW5lQ29sb3IoYm91bmQpO1xuICAgICAgICBpZiAoY29sb3IuaHVlUmFuZ2UgJiYgaHVlID49IGNvbG9yLmh1ZVJhbmdlWzBdICYmIGh1ZSA8PSBjb2xvci5odWVSYW5nZVsxXSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRocm93IEVycm9yKCdDb2xvciBub3QgZm91bmQnKTtcbn1cbmZ1bmN0aW9uIHJhbmRvbVdpdGhpbihyYW5nZSwgc2VlZCkge1xuICAgIGlmIChzZWVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IocmFuZ2VbMF0gKyBNYXRoLnJhbmRvbSgpICogKHJhbmdlWzFdICsgMSAtIHJhbmdlWzBdKSk7XG4gICAgfVxuICAgIC8vIFNlZWRlZCByYW5kb20gYWxnb3JpdGhtIGZyb20gaHR0cDovL2luZGllZ2Ftci5jb20vZ2VuZXJhdGUtcmVwZWF0YWJsZS1yYW5kb20tbnVtYmVycy1pbi1qcy9cbiAgICB2YXIgbWF4ID0gcmFuZ2VbMV0gfHwgMTtcbiAgICB2YXIgbWluID0gcmFuZ2VbMF0gfHwgMDtcbiAgICBzZWVkID0gKHNlZWQgKiA5MzAxICsgNDkyOTcpICUgMjMzMjgwO1xuICAgIHZhciBybmQgPSBzZWVkIC8gMjMzMjgwLjA7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IobWluICsgcm5kICogKG1heCAtIG1pbikpO1xufVxuZnVuY3Rpb24gZGVmaW5lQ29sb3IoYm91bmQpIHtcbiAgICB2YXIgc01pbiA9IGJvdW5kLmxvd2VyQm91bmRzWzBdWzBdO1xuICAgIHZhciBzTWF4ID0gYm91bmQubG93ZXJCb3VuZHNbYm91bmQubG93ZXJCb3VuZHMubGVuZ3RoIC0gMV1bMF07XG4gICAgdmFyIGJNaW4gPSBib3VuZC5sb3dlckJvdW5kc1tib3VuZC5sb3dlckJvdW5kcy5sZW5ndGggLSAxXVsxXTtcbiAgICB2YXIgYk1heCA9IGJvdW5kLmxvd2VyQm91bmRzWzBdWzFdO1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IGJvdW5kLm5hbWUsXG4gICAgICAgIGh1ZVJhbmdlOiBib3VuZC5odWVSYW5nZSxcbiAgICAgICAgbG93ZXJCb3VuZHM6IGJvdW5kLmxvd2VyQm91bmRzLFxuICAgICAgICBzYXR1cmF0aW9uUmFuZ2U6IFtzTWluLCBzTWF4XSxcbiAgICAgICAgYnJpZ2h0bmVzc1JhbmdlOiBbYk1pbiwgYk1heF0sXG4gICAgfTtcbn1cbi8qKlxuICogQGhpZGRlblxuICovXG5leHBvcnQgdmFyIGJvdW5kcyA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdtb25vY2hyb21lJyxcbiAgICAgICAgaHVlUmFuZ2U6IG51bGwsXG4gICAgICAgIGxvd2VyQm91bmRzOiBbXG4gICAgICAgICAgICBbMCwgMF0sXG4gICAgICAgICAgICBbMTAwLCAwXSxcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3JlZCcsXG4gICAgICAgIGh1ZVJhbmdlOiBbLTI2LCAxOF0sXG4gICAgICAgIGxvd2VyQm91bmRzOiBbXG4gICAgICAgICAgICBbMjAsIDEwMF0sXG4gICAgICAgICAgICBbMzAsIDkyXSxcbiAgICAgICAgICAgIFs0MCwgODldLFxuICAgICAgICAgICAgWzUwLCA4NV0sXG4gICAgICAgICAgICBbNjAsIDc4XSxcbiAgICAgICAgICAgIFs3MCwgNzBdLFxuICAgICAgICAgICAgWzgwLCA2MF0sXG4gICAgICAgICAgICBbOTAsIDU1XSxcbiAgICAgICAgICAgIFsxMDAsIDUwXSxcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ29yYW5nZScsXG4gICAgICAgIGh1ZVJhbmdlOiBbMTksIDQ2XSxcbiAgICAgICAgbG93ZXJCb3VuZHM6IFtcbiAgICAgICAgICAgIFsyMCwgMTAwXSxcbiAgICAgICAgICAgIFszMCwgOTNdLFxuICAgICAgICAgICAgWzQwLCA4OF0sXG4gICAgICAgICAgICBbNTAsIDg2XSxcbiAgICAgICAgICAgIFs2MCwgODVdLFxuICAgICAgICAgICAgWzcwLCA3MF0sXG4gICAgICAgICAgICBbMTAwLCA3MF0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd5ZWxsb3cnLFxuICAgICAgICBodWVSYW5nZTogWzQ3LCA2Ml0sXG4gICAgICAgIGxvd2VyQm91bmRzOiBbXG4gICAgICAgICAgICBbMjUsIDEwMF0sXG4gICAgICAgICAgICBbNDAsIDk0XSxcbiAgICAgICAgICAgIFs1MCwgODldLFxuICAgICAgICAgICAgWzYwLCA4Nl0sXG4gICAgICAgICAgICBbNzAsIDg0XSxcbiAgICAgICAgICAgIFs4MCwgODJdLFxuICAgICAgICAgICAgWzkwLCA4MF0sXG4gICAgICAgICAgICBbMTAwLCA3NV0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdncmVlbicsXG4gICAgICAgIGh1ZVJhbmdlOiBbNjMsIDE3OF0sXG4gICAgICAgIGxvd2VyQm91bmRzOiBbXG4gICAgICAgICAgICBbMzAsIDEwMF0sXG4gICAgICAgICAgICBbNDAsIDkwXSxcbiAgICAgICAgICAgIFs1MCwgODVdLFxuICAgICAgICAgICAgWzYwLCA4MV0sXG4gICAgICAgICAgICBbNzAsIDc0XSxcbiAgICAgICAgICAgIFs4MCwgNjRdLFxuICAgICAgICAgICAgWzkwLCA1MF0sXG4gICAgICAgICAgICBbMTAwLCA0MF0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdibHVlJyxcbiAgICAgICAgaHVlUmFuZ2U6IFsxNzksIDI1N10sXG4gICAgICAgIGxvd2VyQm91bmRzOiBbXG4gICAgICAgICAgICBbMjAsIDEwMF0sXG4gICAgICAgICAgICBbMzAsIDg2XSxcbiAgICAgICAgICAgIFs0MCwgODBdLFxuICAgICAgICAgICAgWzUwLCA3NF0sXG4gICAgICAgICAgICBbNjAsIDYwXSxcbiAgICAgICAgICAgIFs3MCwgNTJdLFxuICAgICAgICAgICAgWzgwLCA0NF0sXG4gICAgICAgICAgICBbOTAsIDM5XSxcbiAgICAgICAgICAgIFsxMDAsIDM1XSxcbiAgICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3B1cnBsZScsXG4gICAgICAgIGh1ZVJhbmdlOiBbMjU4LCAyODJdLFxuICAgICAgICBsb3dlckJvdW5kczogW1xuICAgICAgICAgICAgWzIwLCAxMDBdLFxuICAgICAgICAgICAgWzMwLCA4N10sXG4gICAgICAgICAgICBbNDAsIDc5XSxcbiAgICAgICAgICAgIFs1MCwgNzBdLFxuICAgICAgICAgICAgWzYwLCA2NV0sXG4gICAgICAgICAgICBbNzAsIDU5XSxcbiAgICAgICAgICAgIFs4MCwgNTJdLFxuICAgICAgICAgICAgWzkwLCA0NV0sXG4gICAgICAgICAgICBbMTAwLCA0Ml0sXG4gICAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdwaW5rJyxcbiAgICAgICAgaHVlUmFuZ2U6IFsyODMsIDMzNF0sXG4gICAgICAgIGxvd2VyQm91bmRzOiBbXG4gICAgICAgICAgICBbMjAsIDEwMF0sXG4gICAgICAgICAgICBbMzAsIDkwXSxcbiAgICAgICAgICAgIFs0MCwgODZdLFxuICAgICAgICAgICAgWzYwLCA4NF0sXG4gICAgICAgICAgICBbODAsIDgwXSxcbiAgICAgICAgICAgIFs5MCwgNzVdLFxuICAgICAgICAgICAgWzEwMCwgNzNdLFxuICAgICAgICBdLFxuICAgIH0sXG5dO1xuIiwiaW1wb3J0IHsgVGlueUNvbG9yIH0gZnJvbSAnLi9pbmRleCc7XG4vLyBSZWFkYWJpbGl0eSBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gPGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMDgvUkVDLVdDQUcyMC0yMDA4MTIxMS8jY29udHJhc3QtcmF0aW9kZWYgKFdDQUcgVmVyc2lvbiAyKVxuLyoqXG4gKiBBS0EgYGNvbnRyYXN0YFxuICpcbiAqIEFuYWx5emUgdGhlIDIgY29sb3JzIGFuZCByZXR1cm5zIHRoZSBjb2xvciBjb250cmFzdCBkZWZpbmVkIGJ5IChXQ0FHIFZlcnNpb24gMilcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmlsaXR5KGNvbG9yMSwgY29sb3IyKSB7XG4gICAgdmFyIGMxID0gbmV3IFRpbnlDb2xvcihjb2xvcjEpO1xuICAgIHZhciBjMiA9IG5ldyBUaW55Q29sb3IoY29sb3IyKTtcbiAgICByZXR1cm4gKChNYXRoLm1heChjMS5nZXRMdW1pbmFuY2UoKSwgYzIuZ2V0THVtaW5hbmNlKCkpICsgMC4wNSkgL1xuICAgICAgICAoTWF0aC5taW4oYzEuZ2V0THVtaW5hbmNlKCksIGMyLmdldEx1bWluYW5jZSgpKSArIDAuMDUpKTtcbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgZm9yZWdyb3VuZCBhbmQgYmFja2dyb3VuZCBjb2xvciBjb21iaW5hdGlvbnMgbWVldCBXQ0FHMiBndWlkZWxpbmVzLlxuICogVGhlIHRoaXJkIGFyZ3VtZW50IGlzIGFuIG9iamVjdC5cbiAqICAgICAgdGhlICdsZXZlbCcgcHJvcGVydHkgc3RhdGVzICdBQScgb3IgJ0FBQScgLSBpZiBtaXNzaW5nIG9yIGludmFsaWQsIGl0IGRlZmF1bHRzIHRvICdBQSc7XG4gKiAgICAgIHRoZSAnc2l6ZScgcHJvcGVydHkgc3RhdGVzICdsYXJnZScgb3IgJ3NtYWxsJyAtIGlmIG1pc3Npbmcgb3IgaW52YWxpZCwgaXQgZGVmYXVsdHMgdG8gJ3NtYWxsJy5cbiAqIElmIHRoZSBlbnRpcmUgb2JqZWN0IGlzIGFic2VudCwgaXNSZWFkYWJsZSBkZWZhdWx0cyB0byB7bGV2ZWw6XCJBQVwiLHNpemU6XCJzbWFsbFwifS5cbiAqXG4gKiBFeGFtcGxlXG4gKiBgYGB0c1xuICogbmV3IFRpbnlDb2xvcigpLmlzUmVhZGFibGUoJyMwMDAnLCAnIzExMScpID0+IGZhbHNlXG4gKiBuZXcgVGlueUNvbG9yKCkuaXNSZWFkYWJsZSgnIzAwMCcsICcjMTExJywgeyBsZXZlbDogJ0FBJywgc2l6ZTogJ2xhcmdlJyB9KSA9PiBmYWxzZVxuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1JlYWRhYmxlKGNvbG9yMSwgY29sb3IyLCB3Y2FnMikge1xuICAgIHZhciBfYSwgX2I7XG4gICAgaWYgKHdjYWcyID09PSB2b2lkIDApIHsgd2NhZzIgPSB7IGxldmVsOiAnQUEnLCBzaXplOiAnc21hbGwnIH07IH1cbiAgICB2YXIgcmVhZGFiaWxpdHlMZXZlbCA9IHJlYWRhYmlsaXR5KGNvbG9yMSwgY29sb3IyKTtcbiAgICBzd2l0Y2ggKCgoX2EgPSB3Y2FnMi5sZXZlbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJ0FBJykgKyAoKF9iID0gd2NhZzIuc2l6ZSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogJ3NtYWxsJykpIHtcbiAgICAgICAgY2FzZSAnQUFzbWFsbCc6XG4gICAgICAgIGNhc2UgJ0FBQWxhcmdlJzpcbiAgICAgICAgICAgIHJldHVybiByZWFkYWJpbGl0eUxldmVsID49IDQuNTtcbiAgICAgICAgY2FzZSAnQUFsYXJnZSc6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGFiaWxpdHlMZXZlbCA+PSAzO1xuICAgICAgICBjYXNlICdBQUFzbWFsbCc6XG4gICAgICAgICAgICByZXR1cm4gcmVhZGFiaWxpdHlMZXZlbCA+PSA3O1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBiYXNlIGNvbG9yIGFuZCBhIGxpc3Qgb2YgcG9zc2libGUgZm9yZWdyb3VuZCBvciBiYWNrZ3JvdW5kXG4gKiBjb2xvcnMgZm9yIHRoYXQgYmFzZSwgcmV0dXJucyB0aGUgbW9zdCByZWFkYWJsZSBjb2xvci5cbiAqIE9wdGlvbmFsbHkgcmV0dXJucyBCbGFjayBvciBXaGl0ZSBpZiB0aGUgbW9zdCByZWFkYWJsZSBjb2xvciBpcyB1bnJlYWRhYmxlLlxuICpcbiAqIEBwYXJhbSBiYXNlQ29sb3IgLSB0aGUgYmFzZSBjb2xvci5cbiAqIEBwYXJhbSBjb2xvckxpc3QgLSBhcnJheSBvZiBjb2xvcnMgdG8gcGljayB0aGUgbW9zdCByZWFkYWJsZSBvbmUgZnJvbS5cbiAqIEBwYXJhbSBhcmdzIC0gYW5kIG9iamVjdCB3aXRoIGV4dHJhIGFyZ3VtZW50c1xuICpcbiAqIEV4YW1wbGVcbiAqIGBgYHRzXG4gKiBuZXcgVGlueUNvbG9yKCkubW9zdFJlYWRhYmxlKCcjMTIzJywgWycjMTI0XCIsIFwiIzEyNSddLCB7IGluY2x1ZGVGYWxsYmFja0NvbG9yczogZmFsc2UgfSkudG9IZXhTdHJpbmcoKTsgLy8gXCIjMTEyMjU1XCJcbiAqIG5ldyBUaW55Q29sb3IoKS5tb3N0UmVhZGFibGUoJyMxMjMnLCBbJyMxMjRcIiwgXCIjMTI1J10seyBpbmNsdWRlRmFsbGJhY2tDb2xvcnM6IHRydWUgfSkudG9IZXhTdHJpbmcoKTsgIC8vIFwiI2ZmZmZmZlwiXG4gKiBuZXcgVGlueUNvbG9yKCkubW9zdFJlYWRhYmxlKCcjYTgwMTVhJywgW1wiI2ZhZjNmM1wiXSwgeyBpbmNsdWRlRmFsbGJhY2tDb2xvcnM6dHJ1ZSwgbGV2ZWw6ICdBQUEnLCBzaXplOiAnbGFyZ2UnIH0pLnRvSGV4U3RyaW5nKCk7IC8vIFwiI2ZhZjNmM1wiXG4gKiBuZXcgVGlueUNvbG9yKCkubW9zdFJlYWRhYmxlKCcjYTgwMTVhJywgW1wiI2ZhZjNmM1wiXSwgeyBpbmNsdWRlRmFsbGJhY2tDb2xvcnM6dHJ1ZSwgbGV2ZWw6ICdBQUEnLCBzaXplOiAnc21hbGwnIH0pLnRvSGV4U3RyaW5nKCk7IC8vIFwiI2ZmZmZmZlwiXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vc3RSZWFkYWJsZShiYXNlQ29sb3IsIGNvbG9yTGlzdCwgYXJncykge1xuICAgIGlmIChhcmdzID09PSB2b2lkIDApIHsgYXJncyA9IHsgaW5jbHVkZUZhbGxiYWNrQ29sb3JzOiBmYWxzZSwgbGV2ZWw6ICdBQScsIHNpemU6ICdzbWFsbCcgfTsgfVxuICAgIHZhciBiZXN0Q29sb3IgPSBudWxsO1xuICAgIHZhciBiZXN0U2NvcmUgPSAwO1xuICAgIHZhciBpbmNsdWRlRmFsbGJhY2tDb2xvcnMgPSBhcmdzLmluY2x1ZGVGYWxsYmFja0NvbG9ycywgbGV2ZWwgPSBhcmdzLmxldmVsLCBzaXplID0gYXJncy5zaXplO1xuICAgIGZvciAodmFyIF9pID0gMCwgY29sb3JMaXN0XzEgPSBjb2xvckxpc3Q7IF9pIDwgY29sb3JMaXN0XzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBjb2xvciA9IGNvbG9yTGlzdF8xW19pXTtcbiAgICAgICAgdmFyIHNjb3JlID0gcmVhZGFiaWxpdHkoYmFzZUNvbG9yLCBjb2xvcik7XG4gICAgICAgIGlmIChzY29yZSA+IGJlc3RTY29yZSkge1xuICAgICAgICAgICAgYmVzdFNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICBiZXN0Q29sb3IgPSBuZXcgVGlueUNvbG9yKGNvbG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNSZWFkYWJsZShiYXNlQ29sb3IsIGJlc3RDb2xvciwgeyBsZXZlbDogbGV2ZWwsIHNpemU6IHNpemUgfSkgfHwgIWluY2x1ZGVGYWxsYmFja0NvbG9ycykge1xuICAgICAgICByZXR1cm4gYmVzdENvbG9yO1xuICAgIH1cbiAgICBhcmdzLmluY2x1ZGVGYWxsYmFja0NvbG9ycyA9IGZhbHNlO1xuICAgIHJldHVybiBtb3N0UmVhZGFibGUoYmFzZUNvbG9yLCBbJyNmZmYnLCAnIzAwMCddLCBhcmdzKTtcbn1cbiIsIi8qKlxuICogVGFrZSBpbnB1dCBmcm9tIFswLCBuXSBhbmQgcmV0dXJuIGl0IGFzIFswLCAxXVxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmQwMShuLCBtYXgpIHtcbiAgICBpZiAoaXNPbmVQb2ludFplcm8obikpIHtcbiAgICAgICAgbiA9ICcxMDAlJztcbiAgICB9XG4gICAgdmFyIGlzUGVyY2VudCA9IGlzUGVyY2VudGFnZShuKTtcbiAgICBuID0gbWF4ID09PSAzNjAgPyBuIDogTWF0aC5taW4obWF4LCBNYXRoLm1heCgwLCBwYXJzZUZsb2F0KG4pKSk7XG4gICAgLy8gQXV0b21hdGljYWxseSBjb252ZXJ0IHBlcmNlbnRhZ2UgaW50byBudW1iZXJcbiAgICBpZiAoaXNQZXJjZW50KSB7XG4gICAgICAgIG4gPSBwYXJzZUludChTdHJpbmcobiAqIG1heCksIDEwKSAvIDEwMDtcbiAgICB9XG4gICAgLy8gSGFuZGxlIGZsb2F0aW5nIHBvaW50IHJvdW5kaW5nIGVycm9yc1xuICAgIGlmIChNYXRoLmFicyhuIC0gbWF4KSA8IDAuMDAwMDAxKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0IGludG8gWzAsIDFdIHJhbmdlIGlmIGl0IGlzbid0IGFscmVhZHlcbiAgICBpZiAobWF4ID09PSAzNjApIHtcbiAgICAgICAgLy8gSWYgbiBpcyBhIGh1ZSBnaXZlbiBpbiBkZWdyZWVzLFxuICAgICAgICAvLyB3cmFwIGFyb3VuZCBvdXQtb2YtcmFuZ2UgdmFsdWVzIGludG8gWzAsIDM2MF0gcmFuZ2VcbiAgICAgICAgLy8gdGhlbiBjb252ZXJ0IGludG8gWzAsIDFdLlxuICAgICAgICBuID0gKG4gPCAwID8gKG4gJSBtYXgpICsgbWF4IDogbiAlIG1heCkgLyBwYXJzZUZsb2F0KFN0cmluZyhtYXgpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIElmIG4gbm90IGEgaHVlIGdpdmVuIGluIGRlZ3JlZXNcbiAgICAgICAgLy8gQ29udmVydCBpbnRvIFswLCAxXSByYW5nZSBpZiBpdCBpc24ndCBhbHJlYWR5LlxuICAgICAgICBuID0gKG4gJSBtYXgpIC8gcGFyc2VGbG9hdChTdHJpbmcobWF4KSk7XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuLyoqXG4gKiBGb3JjZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDFcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYW1wMDEodmFsKSB7XG4gICAgcmV0dXJuIE1hdGgubWluKDEsIE1hdGgubWF4KDAsIHZhbCkpO1xufVxuLyoqXG4gKiBOZWVkIHRvIGhhbmRsZSAxLjAgYXMgMTAwJSwgc2luY2Ugb25jZSBpdCBpcyBhIG51bWJlciwgdGhlcmUgaXMgbm8gZGlmZmVyZW5jZSBiZXR3ZWVuIGl0IGFuZCAxXG4gKiA8aHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83NDIyMDcyL2phdmFzY3JpcHQtaG93LXRvLWRldGVjdC1udW1iZXItYXMtYS1kZWNpbWFsLWluY2x1ZGluZy0xLTA+XG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc09uZVBvaW50WmVybyhuKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBuID09PSAnc3RyaW5nJyAmJiBuLmluZGV4T2YoJy4nKSAhPT0gLTEgJiYgcGFyc2VGbG9hdChuKSA9PT0gMTtcbn1cbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIHN0cmluZyBwYXNzZWQgaW4gaXMgYSBwZXJjZW50YWdlXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1BlcmNlbnRhZ2Uobikge1xuICAgIHJldHVybiB0eXBlb2YgbiA9PT0gJ3N0cmluZycgJiYgbi5pbmRleE9mKCclJykgIT09IC0xO1xufVxuLyoqXG4gKiBSZXR1cm4gYSB2YWxpZCBhbHBoYSB2YWx1ZSBbMCwxXSB3aXRoIGFsbCBpbnZhbGlkIHZhbHVlcyBiZWluZyBzZXQgdG8gMVxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gYm91bmRBbHBoYShhKSB7XG4gICAgYSA9IHBhcnNlRmxvYXQoYSk7XG4gICAgaWYgKGlzTmFOKGEpIHx8IGEgPCAwIHx8IGEgPiAxKSB7XG4gICAgICAgIGEgPSAxO1xuICAgIH1cbiAgICByZXR1cm4gYTtcbn1cbi8qKlxuICogUmVwbGFjZSBhIGRlY2ltYWwgd2l0aCBpdCdzIHBlcmNlbnRhZ2UgdmFsdWVcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRUb1BlcmNlbnRhZ2Uobikge1xuICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgcmV0dXJuIE51bWJlcihuKSAqIDEwMCArIFwiJVwiO1xuICAgIH1cbiAgICByZXR1cm4gbjtcbn1cbi8qKlxuICogRm9yY2UgYSBoZXggdmFsdWUgdG8gaGF2ZSAyIGNoYXJhY3RlcnNcbiAqIEBoaWRkZW5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhZDIoYykge1xuICAgIHJldHVybiBjLmxlbmd0aCA9PT0gMSA/ICcwJyArIGMgOiBTdHJpbmcoYyk7XG59XG4iLCJpbXBvcnQgeyB1c2VSZWYsIHVzZU1lbW8sIGNyZWF0ZUVsZW1lbnQsIHVzZUVmZmVjdCwgY2xvbmVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCB7IFZpc3VhbGx5SGlkZGVuIH0gZnJvbSAnQHJlYWNoL3Zpc3VhbGx5LWhpZGRlbic7XG5pbXBvcnQgeyBmb3J3YXJkUmVmV2l0aEFzLCB1c2VGb3JrZWRSZWYsIHVzZVByZXZpb3VzLCBnZXRPd25lckRvY3VtZW50IH0gZnJvbSAnQHJlYWNoL3V0aWxzJztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkge1xuICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH07XG5cbiAgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG4vKlxuICogU2luZ2xldG9uIHN0YXRlIGlzIGZpbmUgYmVjYXVzZSB5b3UgZG9uJ3Qgc2VydmVyIHJlbmRlclxuICogYW4gYWxlcnQgKFNScyBkb24ndCByZWFkIHRoZW0gb24gZmlyc3QgbG9hZCBhbnl3YXkpXG4gKi9cblxudmFyIGtleXMgPSB7XG4gIHBvbGl0ZTogLTEsXG4gIGFzc2VydGl2ZTogLTFcbn07XG52YXIgZWxlbWVudHMgPSB7XG4gIHBvbGl0ZToge30sXG4gIGFzc2VydGl2ZToge31cbn07XG52YXIgbGl2ZVJlZ2lvbnMgPSB7XG4gIHBvbGl0ZTogbnVsbCxcbiAgYXNzZXJ0aXZlOiBudWxsXG59O1xudmFyIHJlbmRlclRpbWVyOyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vKipcbiAqIEFsZXJ0XG4gKlxuICogU2NyZWVuLXJlYWRlci1mcmllbmRseSBhbGVydCBtZXNzYWdlcy4gSW4gbWFueSBhcHBzIGRldmVsb3BlcnMgYWRkIFwiYWxlcnRcIlxuICogbWVzc2FnZXMgd2hlbiBuZXR3b3JrIGV2ZW50cyBvciBvdGhlciB0aGluZ3MgaGFwcGVuLiBVc2VycyB3aXRoIGFzc2lzdGl2ZVxuICogdGVjaG5vbG9naWVzIG1heSBub3Qga25vdyBhYm91dCB0aGUgbWVzc2FnZSB1bmxlc3MgeW91IGRldmVsb3AgZm9yIGl0LlxuICpcbiAqIEBzZWUgRG9jcyBodHRwczovL3JlYWNoLnRlY2gvYWxlcnRcbiAqL1xuXG52YXIgQWxlcnQgPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZldpdGhBcyhmdW5jdGlvbiBBbGVydChfcmVmLCBmb3J3YXJkZWRSZWYpIHtcbiAgdmFyIF9yZWYkYXMgPSBfcmVmLmFzLFxuICAgICAgQ29tcCA9IF9yZWYkYXMgPT09IHZvaWQgMCA/IFwiZGl2XCIgOiBfcmVmJGFzLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgX3JlZiR0eXBlID0gX3JlZi50eXBlLFxuICAgICAgcmVnaW9uVHlwZSA9IF9yZWYkdHlwZSA9PT0gdm9pZCAwID8gXCJwb2xpdGVcIiA6IF9yZWYkdHlwZSxcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYXNcIiwgXCJjaGlsZHJlblwiLCBcInR5cGVcIl0pO1xuXG4gIHZhciBvd25SZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciByZWYgPSB1c2VGb3JrZWRSZWYoZm9yd2FyZGVkUmVmLCBvd25SZWYpO1xuICB2YXIgY2hpbGQgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoQ29tcCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICByZWY6IHJlZixcbiAgICAgIFwiZGF0YS1yZWFjaC1hbGVydFwiOiB0cnVlXG4gICAgfSksIGNoaWxkcmVuKTtcbiAgfSwgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICBbY2hpbGRyZW4sIHByb3BzXSk7XG4gIHVzZU1pcnJvckVmZmVjdHMocmVnaW9uVHlwZSwgY2hpbGQsIG93blJlZik7XG4gIHJldHVybiBjaGlsZDtcbn0pO1xuLyoqXG4gKiBAc2VlIERvY3MgaHR0cHM6Ly9yZWFjaC50ZWNoL2FsZXJ0I2FsZXJ0LXByb3BzXG4gKi9cblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBBbGVydC5kaXNwbGF5TmFtZSA9IFwiQWxlcnRcIjtcbiAgQWxlcnQucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZSxcbiAgICB0eXBlOiAvKiNfX1BVUkVfXyovUHJvcFR5cGVzLm9uZU9mKFtcImFzc2VydGl2ZVwiLCBcInBvbGl0ZVwiXSlcbiAgfTtcbn0gLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuXG5mdW5jdGlvbiBjcmVhdGVNaXJyb3IodHlwZSwgZG9jKSB7XG4gIHZhciBrZXkgPSArK2tleXNbdHlwZV07XG5cbiAgdmFyIG1vdW50ID0gZnVuY3Rpb24gbW91bnQoZWxlbWVudCkge1xuICAgIGlmIChsaXZlUmVnaW9uc1t0eXBlXSkge1xuICAgICAgZWxlbWVudHNbdHlwZV1ba2V5XSA9IGVsZW1lbnQ7XG4gICAgICByZW5kZXJBbGVydHMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG5vZGUgPSBkb2MuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiZGF0YS1yZWFjaC1saXZlLVwiICsgdHlwZSwgXCJ0cnVlXCIpO1xuICAgICAgbGl2ZVJlZ2lvbnNbdHlwZV0gPSBub2RlO1xuICAgICAgZG9jLmJvZHkuYXBwZW5kQ2hpbGQobGl2ZVJlZ2lvbnNbdHlwZV0pO1xuICAgICAgbW91bnQoZWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIHZhciB1cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUoZWxlbWVudCkge1xuICAgIGVsZW1lbnRzW3R5cGVdW2tleV0gPSBlbGVtZW50O1xuICAgIHJlbmRlckFsZXJ0cygpO1xuICB9O1xuXG4gIHZhciB1bm1vdW50ID0gZnVuY3Rpb24gdW5tb3VudCgpIHtcbiAgICBkZWxldGUgZWxlbWVudHNbdHlwZV1ba2V5XTtcbiAgICByZW5kZXJBbGVydHMoKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIG1vdW50OiBtb3VudCxcbiAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICB1bm1vdW50OiB1bm1vdW50XG4gIH07XG59XG5cbmZ1bmN0aW9uIHJlbmRlckFsZXJ0cygpIHtcbiAgaWYgKHJlbmRlclRpbWVyICE9IG51bGwpIHtcbiAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHJlbmRlclRpbWVyKTtcbiAgfVxuXG4gIHJlbmRlclRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgIE9iamVjdC5rZXlzKGVsZW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50VHlwZSkge1xuICAgICAgdmFyIHJlZ2lvblR5cGUgPSBlbGVtZW50VHlwZTtcbiAgICAgIHZhciBjb250YWluZXIgPSBsaXZlUmVnaW9uc1tyZWdpb25UeXBlXTtcblxuICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICByZW5kZXIoIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KFZpc3VhbGx5SGlkZGVuLCB7XG4gICAgICAgICAgYXM6IFwiZGl2XCJcbiAgICAgICAgfSwgLyojX19QVVJFX18qL2NyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIC8vIFRoZSBzdGF0dXMgcm9sZSBpcyBhIHR5cGUgb2YgbGl2ZSByZWdpb24gYW5kIGEgY29udGFpbmVyIHdob3NlXG4gICAgICAgICAgLy8gY29udGVudCBpcyBhZHZpc29yeSBpbmZvcm1hdGlvbiBmb3IgdGhlIHVzZXIgdGhhdCBpcyBub3RcbiAgICAgICAgICAvLyBpbXBvcnRhbnQgZW5vdWdoIHRvIGp1c3RpZnkgYW4gYWxlcnQsIGFuZCBpcyBvZnRlbiBwcmVzZW50ZWQgYXNcbiAgICAgICAgICAvLyBhIHN0YXR1cyBiYXIuIFdoZW4gdGhlIHJvbGUgaXMgYWRkZWQgdG8gYW4gZWxlbWVudCwgdGhlIGJyb3dzZXJcbiAgICAgICAgICAvLyB3aWxsIHNlbmQgb3V0IGFuIGFjY2Vzc2libGUgc3RhdHVzIGV2ZW50IHRvIGFzc2lzdGl2ZVxuICAgICAgICAgIC8vIHRlY2hub2xvZ3kgcHJvZHVjdHMgd2hpY2ggY2FuIHRoZW4gbm90aWZ5IHRoZSB1c2VyIGFib3V0IGl0LlxuICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FjY2Vzc2liaWxpdHkvQVJJQS9BUklBX1RlY2huaXF1ZXMvVXNpbmdfdGhlX3N0YXR1c19yb2xlXG4gICAgICAgICAgcm9sZTogcmVnaW9uVHlwZSA9PT0gXCJhc3NlcnRpdmVcIiA/IFwiYWxlcnRcIiA6IFwic3RhdHVzXCIsXG4gICAgICAgICAgXCJhcmlhLWxpdmVcIjogcmVnaW9uVHlwZVxuICAgICAgICB9LCBPYmplY3Qua2V5cyhlbGVtZW50c1tyZWdpb25UeXBlXSkubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL2Nsb25lRWxlbWVudChlbGVtZW50c1tyZWdpb25UeXBlXVtrZXldLCB7XG4gICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgIHJlZjogbnVsbFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KSkpLCBsaXZlUmVnaW9uc1tyZWdpb25UeXBlXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIDUwMCk7XG59XG5cbmZ1bmN0aW9uIHVzZU1pcnJvckVmZmVjdHMocmVnaW9uVHlwZSwgZWxlbWVudCwgcmVmKSB7XG4gIHZhciBwcmV2VHlwZSA9IHVzZVByZXZpb3VzKHJlZ2lvblR5cGUpO1xuICB2YXIgbWlycm9yID0gdXNlUmVmKG51bGwpO1xuICB2YXIgbW91bnRlZCA9IHVzZVJlZihmYWxzZSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG93bmVyRG9jdW1lbnQgPSBnZXRPd25lckRvY3VtZW50KHJlZi5jdXJyZW50KTtcblxuICAgIGlmICghbW91bnRlZC5jdXJyZW50KSB7XG4gICAgICBtb3VudGVkLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgbWlycm9yLmN1cnJlbnQgPSBjcmVhdGVNaXJyb3IocmVnaW9uVHlwZSwgb3duZXJEb2N1bWVudCk7XG4gICAgICBtaXJyb3IuY3VycmVudC5tb3VudChlbGVtZW50KTtcbiAgICB9IGVsc2UgaWYgKHByZXZUeXBlICE9PSByZWdpb25UeXBlKSB7XG4gICAgICBtaXJyb3IuY3VycmVudCAmJiBtaXJyb3IuY3VycmVudC51bm1vdW50KCk7XG4gICAgICBtaXJyb3IuY3VycmVudCA9IGNyZWF0ZU1pcnJvcihyZWdpb25UeXBlLCBvd25lckRvY3VtZW50KTtcbiAgICAgIG1pcnJvci5jdXJyZW50Lm1vdW50KGVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtaXJyb3IuY3VycmVudCAmJiBtaXJyb3IuY3VycmVudC51cGRhdGUoZWxlbWVudCk7XG4gICAgfVxuICB9LCBbZWxlbWVudCwgcmVnaW9uVHlwZSwgcHJldlR5cGUsIHJlZl0pO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBtaXJyb3IuY3VycmVudCAmJiBtaXJyb3IuY3VycmVudC51bm1vdW50KCk7XG4gICAgfTtcbiAgfSwgW10pO1xufSAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG5leHBvcnQgZGVmYXVsdCBBbGVydDtcbmV4cG9ydCB7IEFsZXJ0IH07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QsIHVzZUVmZmVjdCwgaXNWYWxpZEVsZW1lbnQsIGNsb25lRWxlbWVudCwgY3JlYXRlQ29udGV4dCwgZm9yd2FyZFJlZiwgbWVtbywgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZmJXYXJuaW5nIGZyb20gJ3dhcm5pbmcnO1xuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMsIGVxZXFlcSAgKi9cblxuLyoqXG4gKiBSZWFjdCBjdXJyZW50bHkgdGhyb3dzIGEgd2FybmluZyB3aGVuIHVzaW5nIHVzZUxheW91dEVmZmVjdCBvbiB0aGUgc2VydmVyLlxuICogVG8gZ2V0IGFyb3VuZCBpdCwgd2UgY2FuIGNvbmRpdGlvbmFsbHkgdXNlRWZmZWN0IG9uIHRoZSBzZXJ2ZXIgKG5vLW9wKSBhbmRcbiAqIHVzZUxheW91dEVmZmVjdCBpbiB0aGUgYnJvd3Nlci4gV2Ugb2NjYXNpb25hbGx5IG5lZWQgdXNlTGF5b3V0RWZmZWN0IHRvXG4gKiBlbnN1cmUgd2UgZG9uJ3QgZ2V0IGEgcmVuZGVyIGZsYXNoIGZvciBjZXJ0YWluIG9wZXJhdGlvbnMsIGJ1dCB3ZSBtYXkgYWxzb1xuICogbmVlZCBhZmZlY3RlZCBjb21wb25lbnRzIHRvIHJlbmRlciBvbiB0aGUgc2VydmVyLiBPbmUgZXhhbXBsZSBpcyB3aGVuIHNldHRpbmdcbiAqIGEgY29tcG9uZW50J3MgZGVzY2VuZGFudHMgdG8gcmV0cmlldmUgdGhlaXIgaW5kZXggdmFsdWVzLlxuICpcbiAqIEltcG9ydGFudCB0byBub3RlIHRoYXQgdXNpbmcgdGhpcyBob29rIGFzIGFuIGVzY2FwZSBoYXRjaCB3aWxsIGJyZWFrIHRoZVxuICogZXNsaW50IGRlcGVuZGVuY3kgd2FybmluZ3MgdW5sZXNzIHlvdSByZW5hbWUgdGhlIGltcG9ydCB0byBgdXNlTGF5b3V0RWZmZWN0YC5cbiAqIFVzZSBzcGFyaW5nbHkgb25seSB3aGVuIHRoZSBlZmZlY3Qgd29uJ3QgZWZmZWN0IHRoZSByZW5kZXJlZCBIVE1MIHRvIGF2b2lkXG4gKiBhbnkgc2VydmVyL2NsaWVudCBtaXNtYXRjaC5cbiAqXG4gKiBJZiBhIHVzZUxheW91dEVmZmVjdCBpcyBuZWVkZWQgYW5kIHRoZSByZXN1bHQgd291bGQgY3JlYXRlIGEgbWlzbWF0Y2gsIGl0J3NcbiAqIGxpa2VseSB0aGF0IHRoZSBjb21wb25lbnQgaW4gcXVlc3Rpb24gc2hvdWxkbid0IGJlIHJlbmRlcmVkIG9uIHRoZSBzZXJ2ZXIgYXRcbiAqIGFsbCwgc28gYSBiZXR0ZXIgYXBwcm9hY2ggd291bGQgYmUgdG8gbGF6aWx5IHJlbmRlciB0aG9zZSBpbiBhIHBhcmVudFxuICogY29tcG9uZW50IGFmdGVyIGNsaWVudC1zaWRlIGh5ZHJhdGlvbi5cbiAqXG4gKiBUT0RPOiBXZSBhcmUgY2FsbGluZyB1c2VMYXlvdXRFZmZlY3QgaW4gYSBjb3VwbGUgb2YgcGxhY2VzIHRoYXQgd2lsbCBsaWtlbHlcbiAqIGNhdXNlIHNvbWUgaXNzdWVzIGZvciBTU1IgdXNlcnMsIHdoZXRoZXIgdGhlIHdhcm5pbmcgc2hvd3Mgb3Igbm90LiBBdWRpdCBhbmRcbiAqIGZpeCB0aGVzZS5cbiAqXG4gKiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9nYWVhcm9uL2U3ZDk3Y2RmMzhhMjkwNzkyNGVhMTJlNGViZGYzYzg1XG4gKiBodHRwczovL2dpdGh1Yi5jb20vcmVkdXhqcy9yZWFjdC1yZWR1eC9ibG9iL21hc3Rlci9zcmMvdXRpbHMvdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdC5qc1xuICpcbiAqIEBwYXJhbSBlZmZlY3RcbiAqIEBwYXJhbSBkZXBzXG4gKi9cbnZhciB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0ID0gLyojX19QVVJFX18qL2NhblVzZURPTSgpID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xudmFyIGNoZWNrZWRQa2dzID0ge307XG4vKipcbiAqIENvcHkgb2YgRmFjZWJvb2sncyB3YXJuaW5nIHBhY2thZ2UuXG4gKlxuICogU2ltaWxhciB0byBpbnZhcmlhbnQgYnV0IG9ubHkgbG9ncyBhIHdhcm5pbmcgaWYgdGhlIGNvbmRpdGlvbiBpcyBub3QgbWV0LlxuICogVGhpcyBjYW4gYmUgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50cyBpbiBjcml0aWNhbCBwYXRocy5cbiAqIFJlbW92aW5nIHRoZSBsb2dnaW5nIGNvZGUgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzIHdpbGwga2VlcCB0aGUgc2FtZVxuICogbG9naWMgYW5kIGZvbGxvdyB0aGUgc2FtZSBjb2RlIHBhdGhzLlxuICpcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0JlcmtlbGV5VHJ1ZS93YXJuaW5nL2Jsb2IvbWFzdGVyL3dhcm5pbmcuanNcbiAqL1xuXG52YXIgd2FybmluZyA9IGZiV2FybmluZztcbi8qKlxuICogV2hlbiBpbiBkZXYgbW9kZSwgY2hlY2tzIHRoYXQgc3R5bGVzIGZvciBhIGdpdmVuIEByZWFjaCBwYWNrYWdlIGFyZSBsb2FkZWQuXG4gKlxuICogQHBhcmFtIHBhY2thZ2VOYW1lIE5hbWUgb2YgdGhlIHBhY2thZ2UgdG8gY2hlY2suXG4gKiBAZXhhbXBsZSBjaGVja1N0eWxlcyhcImRpYWxvZ1wiKSB3aWxsIGNoZWNrIGZvciBzdHlsZXMgZm9yIEByZWFjaC9kaWFsb2dcbiAqL1xuXG52YXIgY2hlY2tTdHlsZXMgPSBub29wO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIC8vIEluIENKUyBmaWxlcywgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgaXMgc3RyaXBwZWQgZnJvbSBvdXIgYnVpbGQsIGJ1dCB3ZSBuZWVkXG4gIC8vIGl0IHRvIHByZXZlbnQgc3R5bGUgY2hlY2tzIGZyb20gY2xvZ2dpbmcgdXAgdXNlciBsb2dzIHdoaWxlIHRlc3RpbmcuXG4gIC8vIFRoaXMgaXMgYSB3b3JrYXJvdW5kIHVudGlsIHdlIGNhbiB0d2VhayB0aGUgYnVpbGQgYSBiaXQgdG8gYWNjb21tb2RhdGUuXG4gIHZhciBfcmVmID0gdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgPyBwcm9jZXNzIDoge1xuICAgIGVudjoge1xuICAgICAgTk9ERV9FTlY6IFwiZGV2ZWxvcG1lbnRcIlxuICAgIH1cbiAgfSxcbiAgICAgIGVudiA9IF9yZWYuZW52O1xuXG4gIGNoZWNrU3R5bGVzID0gZnVuY3Rpb24gY2hlY2tTdHlsZXMocGFja2FnZU5hbWUpIHtcbiAgICAvLyBvbmx5IGNoZWNrIG9uY2UgcGVyIHBhY2thZ2VcbiAgICBpZiAoY2hlY2tlZFBrZ3NbcGFja2FnZU5hbWVdKSByZXR1cm47XG4gICAgY2hlY2tlZFBrZ3NbcGFja2FnZU5hbWVdID0gdHJ1ZTtcblxuICAgIGlmIChlbnYuTk9ERV9FTlYgIT09IFwidGVzdFwiICYmIHBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmJvZHkpLmdldFByb3BlcnR5VmFsdWUoXCItLXJlYWNoLVwiICsgcGFja2FnZU5hbWUpLCAxMCkgIT09IDEpIHtcbiAgICAgIGNvbnNvbGUud2FybihcIkByZWFjaC9cIiArIHBhY2thZ2VOYW1lICsgXCIgc3R5bGVzIG5vdCBmb3VuZC4gSWYgeW91IGFyZSB1c2luZyBhIGJ1bmRsZXIgbGlrZSB3ZWJwYWNrIG9yIHBhcmNlbCBpbmNsdWRlIHRoaXMgaW4gdGhlIGVudHJ5IGZpbGUgb2YgeW91ciBhcHAgYmVmb3JlIGFueSBvZiB5b3VyIG93biBzdHlsZXM6XFxuXFxuICAgIGltcG9ydCBcXFwiQHJlYWNoL1wiICsgcGFja2FnZU5hbWUgKyBcIi9zdHlsZXMuY3NzXFxcIjtcXG5cXG4gIE90aGVyd2lzZSB5b3UnbGwgbmVlZCB0byBpbmNsdWRlIHRoZW0gc29tZSBvdGhlciB3YXk6XFxuXFxuICAgIDxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIm5vZGVfbW9kdWxlcy9AcmVhY2gvXCIgKyBwYWNrYWdlTmFtZSArIFwiL3N0eWxlcy5jc3NcXFwiIC8+XFxuXFxuICBGb3IgbW9yZSBpbmZvcm1hdGlvbiB2aXNpdCBodHRwczovL3VpLnJlYWNoLnRlY2gvc3R5bGluZy5cXG4gIFwiKTtcbiAgICB9XG4gIH07XG59XG4vKipcbiAqIFBvbnlmaWxsIGZvciB0aGUgZ2xvYmFsIG9iamVjdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAqXG4gKiBAbGluayBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxuICovXG5cbnZhciBwb255ZmlsbEdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gXCJ1bmRlZmluZWRcIiAmJiBzZWxmLk1hdGggPT0gTWF0aCA/IHNlbGYgOlxuLyojX19QVVJFX18qL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG5GdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG4vKipcbiAqIFBhc3NlcyBvciBhc3NpZ25zIGFuIGFyYml0cmFyeSB2YWx1ZSB0byBhIHJlZiBmdW5jdGlvbiBvciBvYmplY3QuXG4gKlxuICogQHBhcmFtIHJlZlxuICogQHBhcmFtIHZhbHVlXG4gKi9cblxuZnVuY3Rpb24gYXNzaWduUmVmKHJlZiwgdmFsdWUpIHtcbiAgaWYgKHJlZiA9PSBudWxsKSByZXR1cm47XG5cbiAgaWYgKGlzRnVuY3Rpb24ocmVmKSkge1xuICAgIHJlZih2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBhc3NpZ24gdmFsdWUgXFxcIlwiICsgdmFsdWUgKyBcIlxcXCIgdG8gcmVmIFxcXCJcIiArIHJlZiArIFwiXFxcIlwiKTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogQ2hlY2tzIHRydWV8XCJ0cnVlXCIgdnMgZmFsc2V8XCJmYWxzZVwiXG4gKlxuICogQHBhcmFtIHZhbHVlXG4gKi9cblxuZnVuY3Rpb24gYm9vbE9yQm9vbFN0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IFwidHJ1ZVwiID8gdHJ1ZSA6IGlzQm9vbGVhbih2YWx1ZSkgPyB2YWx1ZSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gY2FuVXNlRE9NKCkge1xuICByZXR1cm4gISEodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xufVxuLyoqXG4gKiBUeXBlLXNhZmUgY2xvbmUgZWxlbWVudFxuICpcbiAqIEBwYXJhbSBlbGVtZW50XG4gKiBAcGFyYW0gcHJvcHNcbiAqIEBwYXJhbSBjaGlsZHJlblxuICovXG5cbmZ1bmN0aW9uIGNsb25lVmFsaWRFbGVtZW50KGVsZW1lbnQsIHByb3BzKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBjaGlsZHJlbiA9IG5ldyBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgY2hpbGRyZW5bX2tleSAtIDJdID0gYXJndW1lbnRzW19rZXldO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9pc1ZhbGlkRWxlbWVudChlbGVtZW50KSA/IGNsb25lRWxlbWVudC5hcHBseShSZWFjdCwgW2VsZW1lbnQsIHByb3BzXS5jb25jYXQoY2hpbGRyZW4pKSA6IGVsZW1lbnQ7XG59XG5mdW5jdGlvbiBjcmVhdGVOYW1lZENvbnRleHQobmFtZSwgZGVmYXVsdFZhbHVlKSB7XG4gIHZhciBDdHggPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUpO1xuICBDdHguZGlzcGxheU5hbWUgPSBuYW1lO1xuICByZXR1cm4gQ3R4O1xufVxuLyoqXG4gKiBUaGlzIGlzIGEgaGFjayBmb3Igc3VyZS4gVGhlIHRoaW5nIGlzLCBnZXR0aW5nIGEgY29tcG9uZW50IHRvIGludGVsbGlnZW50bHlcbiAqIGluZmVyIHByb3BzIGJhc2VkIG9uIGEgY29tcG9uZW50IG9yIEpTWCBzdHJpbmcgcGFzc2VkIGludG8gYW4gYGFzYCBwcm9wIGlzXG4gKiBraW5kIG9mIGEgaHVnZSBwYWluLiBHZXR0aW5nIGl0IHRvIHdvcmsgYW5kIHNhdGlzZnkgdGhlIGNvbnN0cmFpbnRzIG9mXG4gKiBgZm9yd2FyZFJlZmAgc2VlbXMgZGFuZyBuZWFyIGltcG9zc2libGUuIFRvIGF2b2lkIG5lZWRpbmcgdG8gZG8gdGhpcyBhd2t3YXJkXG4gKiB0eXBlIHNvbmctYW5kLWRhbmNlIGV2ZXJ5IHRpbWUgd2Ugd2FudCB0byBmb3J3YXJkIGEgcmVmIGludG8gYSBjb21wb25lbnRcbiAqIHRoYXQgYWNjZXB0cyBhbiBgYXNgIHByb3AsIHdlIGFic3RyYWN0IGFsbCBvZiB0aGF0IG1lc3MgdG8gdGhpcyBmdW5jdGlvbiBmb3JcbiAqIHRoZSB0aW1lIHRpbWUgYmVpbmcuXG4gKi9cblxuZnVuY3Rpb24gZm9yd2FyZFJlZldpdGhBcyhyZW5kZXIpIHtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKHJlbmRlcik7XG59XG5mdW5jdGlvbiBtZW1vV2l0aEFzKENvbXBvbmVudCwgcHJvcHNBcmVFcXVhbCkge1xuICByZXR1cm4gLyojX19QVVJFX18qL21lbW8oQ29tcG9uZW50LCBwcm9wc0FyZUVxdWFsKTtcbn1cbi8qKlxuICogR2V0IHRoZSBzaXplIG9mIHRoZSB3b3JraW5nIGRvY3VtZW50IG1pbnVzIHRoZSBzY3JvbGxiYXIgb2Zmc2V0LlxuICpcbiAqIEBwYXJhbSBlbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gZ2V0RG9jdW1lbnREaW1lbnNpb25zKGVsZW1lbnQpIHtcbiAgdmFyIF9vd25lckRvY3VtZW50JGRvY3VtZSwgX293bmVyRG9jdW1lbnQkZG9jdW1lMjtcblxuICB2YXIgb3duZXJEb2N1bWVudCA9IGdldE93bmVyRG9jdW1lbnQoZWxlbWVudCk7XG4gIHZhciBvd25lcldpbmRvdyA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuXG4gIGlmICghb3duZXJEb2N1bWVudCkge1xuICAgIHJldHVybiB7XG4gICAgICB3aWR0aDogMCxcbiAgICAgIGhlaWdodDogMFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHdpZHRoOiAoX293bmVyRG9jdW1lbnQkZG9jdW1lID0gb3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpICE9IG51bGwgPyBfb3duZXJEb2N1bWVudCRkb2N1bWUgOiBvd25lcldpbmRvdy5pbm5lcldpZHRoLFxuICAgIGhlaWdodDogKF9vd25lckRvY3VtZW50JGRvY3VtZTIgPSBvd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICE9IG51bGwgPyBfb3duZXJEb2N1bWVudCRkb2N1bWUyIDogb3duZXJXaW5kb3cuaW5uZXJIZWlnaHRcbiAgfTtcbn1cbi8qKlxuICogR2V0IHRoZSBzY29sbCBwb3NpdGlvbiBvZiB0aGUgZ2xvYmFsIHdpbmRvdyBvYmplY3QgcmVsYXRpdmUgdG8gYSBnaXZlbiBub2RlLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsUG9zaXRpb24oZWxlbWVudCkge1xuICB2YXIgb3duZXJEb2N1bWVudCA9IGdldE93bmVyRG9jdW1lbnQoZWxlbWVudCk7XG4gIHZhciBvd25lcldpbmRvdyA9IG93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93O1xuXG4gIGlmICghb3duZXJEb2N1bWVudCkge1xuICAgIHJldHVybiB7XG4gICAgICBzY3JvbGxYOiAwLFxuICAgICAgc2Nyb2xsWTogMFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNjcm9sbFg6IG93bmVyV2luZG93LnNjcm9sbFgsXG4gICAgc2Nyb2xsWTogb3duZXJXaW5kb3cuc2Nyb2xsWVxuICB9O1xufVxuLyoqXG4gKiBHZXQgYSBjb21wdXRlZCBzdHlsZSB2YWx1ZSBieSBwcm9wZXJ0eS5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudFxuICogQHBhcmFtIHN0eWxlUHJvcFxuICovXG5cbmZ1bmN0aW9uIGdldEVsZW1lbnRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIHN0eWxlUHJvcCkge1xuICB2YXIgb3duZXJEb2N1bWVudCA9IGdldE93bmVyRG9jdW1lbnQoZWxlbWVudCk7XG4gIHZhciBvd25lcldpbmRvdyA9IChvd25lckRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSB8fCB3aW5kb3c7XG5cbiAgaWYgKG93bmVyV2luZG93KSB7XG4gICAgcmV0dXJuIG93bmVyV2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShzdHlsZVByb3ApO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG4vKipcbiAqIEdldCBhbiBlbGVtZW50J3Mgb3duZXIgZG9jdW1lbnQuIFVzZWZ1bCB3aGVuIGNvbXBvbmVudHMgYXJlIHVzZWQgaW4gaWZyYW1lc1xuICogb3Igb3RoZXIgZW52aXJvbm1lbnRzIGxpa2UgZGV2IHRvb2xzLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gZ2V0T3duZXJEb2N1bWVudChlbGVtZW50KSB7XG4gIHJldHVybiBjYW5Vc2VET00oKSA/IGVsZW1lbnQgPyBlbGVtZW50Lm93bmVyRG9jdW1lbnQgOiBkb2N1bWVudCA6IG51bGw7XG59XG4vKipcbiAqIFRPRE86IFJlbW92ZSBpbiAxLjBcbiAqL1xuXG5mdW5jdGlvbiBnZXRPd25lcldpbmRvdyhlbGVtZW50KSB7XG4gIHZhciBvd25lckRvY3VtZW50ID0gZ2V0T3duZXJEb2N1bWVudChlbGVtZW50KTtcbiAgcmV0dXJuIG93bmVyRG9jdW1lbnQgPyBvd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdyA6IG51bGw7XG59XG4vKipcbiAqIEdldCB0aGUgc2Nyb2xsYmFyIG9mZnNldCBkaXN0YW5jZS5cbiAqXG4gKiBUT0RPOiBSZW1vdmUgaW4gMS4wICh3ZSB1c2VkIHRoaXMgaW4gcHVibGljIGV4YW1wbGVzKVxuICovXG5cbmZ1bmN0aW9uIGdldFNjcm9sbGJhck9mZnNldCgpIHtcbiAgdHJ5IHtcbiAgICBpZiAod2luZG93LmlubmVyV2lkdGggPiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpIHtcbiAgICAgIHJldHVybiB3aW5kb3cuaW5uZXJXaWR0aCAtIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge31cblxuICByZXR1cm4gMDtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IGEgdmFsdWUgaXMgYSBib29sZWFuLlxuICpcbiAqIEBwYXJhbSB2YWx1ZVxuICovXG5cbmZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIjtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IGEgdmFsdWUgaXMgYSBmdW5jdGlvbi5cbiAqXG4gKiBAcGFyYW0gdmFsdWVcbiAqL1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB7fS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PSBcIltvYmplY3QgRnVuY3Rpb25dXCIpO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBvciBub3QgYSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqXG4gKiBAcGFyYW0gdmFsdWVcbiAqL1xuXG5mdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICYmICFpc05hTih2YWx1ZSk7XG59XG4vKipcbiAqIERldGVjdHMgcmlnaHQgY2xpY2tzXG4gKlxuICogQHBhcmFtIG5hdGl2ZUV2ZW50XG4gKi9cblxuZnVuY3Rpb24gaXNSaWdodENsaWNrKG5hdGl2ZUV2ZW50KSB7XG4gIHJldHVybiBcIndoaWNoXCIgaW4gbmF0aXZlRXZlbnQgPyBuYXRpdmVFdmVudC53aGljaCA9PT0gMyA6IFwiYnV0dG9uXCIgaW4gbmF0aXZlRXZlbnQgPyBuYXRpdmVFdmVudC5idXR0b24gPT09IDIgOiBmYWxzZTtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IGEgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHZhbHVlXG4gKi9cblxuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIjtcbn1cbi8qKlxuICogSm9pbnMgc3RyaW5ncyB0byBmb3JtYXQgSURzIGZvciBjb21wb3VuZCBjb21wb25lbnRzLlxuICpcbiAqIEBwYXJhbSBhcmdzXG4gKi9cblxuZnVuY3Rpb24gbWFrZUlkKCkge1xuICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIpLCBfa2V5MiA9IDA7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gIH1cblxuICByZXR1cm4gYXJncy5maWx0ZXIoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiB2YWwgIT0gbnVsbDtcbiAgfSkuam9pbihcIi0tXCIpO1xufVxuLyoqXG4gKiBOby1vcCBmdW5jdGlvbi5cbiAqL1xuXG5mdW5jdGlvbiBub29wKCkge31cbi8qKlxuICogQ29udmVydCBvdXIgc3RhdGUgc3RyaW5ncyBmb3IgSFRNTCBkYXRhIGF0dHJpYnV0ZXMuXG4gKiBObyBuZWVkIGZvciBhIGZhbmN5IGtlYmFiLWNhc2VyIGhlcmUsIHdlIGtub3cgd2hhdCBvdXIgc3RhdGUgc3RyaW5ncyBhcmUhXG4gKlxuICogQHBhcmFtIHN0YXRlXG4gKi9cblxuZnVuY3Rpb24gc3RhdGVUb0F0dHJpYnV0ZVN0cmluZyhzdGF0ZSkge1xuICByZXR1cm4gU3RyaW5nKHN0YXRlKS5yZXBsYWNlKC8oW1xcc19dKykvZywgXCItXCIpLnRvTG93ZXJDYXNlKCk7XG59XG4vKipcbiAqIENoZWNrIGlmIGEgY29tcG9uZW50IGlzIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIGFuZCByZXR1cm4gdGhlIGNvcnJlY3RcbiAqIHN0YXRlIHZhbHVlIGFuZCBzZXR0ZXIgYWNjb3JkaW5nbHkuIElmIHRoZSBjb21wb25lbnQgc3RhdGUgaXMgY29udHJvbGxlZCBieVxuICogdGhlIGFwcCwgdGhlIHNldHRlciBpcyBhIG5vb3AuXG4gKlxuICogQHBhcmFtIGNvbnRyb2xsZWRWYWx1ZVxuICogQHBhcmFtIGRlZmF1bHRWYWx1ZVxuICovXG5cbmZ1bmN0aW9uIHVzZUNvbnRyb2xsZWRTdGF0ZShjb250cm9sbGVkVmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgY29udHJvbGxlZFJlZiA9IHVzZVJlZihjb250cm9sbGVkVmFsdWUgIT0gbnVsbCk7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IHVzZVN0YXRlKGRlZmF1bHRWYWx1ZSksXG4gICAgICB2YWx1ZVN0YXRlID0gX1JlYWN0JHVzZVN0YXRlWzBdLFxuICAgICAgc2V0VmFsdWUgPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgdmFyIHNldCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChuKSB7XG4gICAgaWYgKCFjb250cm9sbGVkUmVmLmN1cnJlbnQpIHtcbiAgICAgIHNldFZhbHVlKG4pO1xuICAgIH1cbiAgfSwgW10pO1xuICByZXR1cm4gW2NvbnRyb2xsZWRSZWYuY3VycmVudCA/IGNvbnRyb2xsZWRWYWx1ZSA6IHZhbHVlU3RhdGUsIHNldF07XG59XG4vKipcbiAqIExvZ3MgYSB3YXJuaW5nIGluIGRldiBtb2RlIHdoZW4gYSBjb21wb25lbnQgc3dpdGNoZXMgZnJvbSBjb250cm9sbGVkIHRvXG4gKiB1bmNvbnRyb2xsZWQsIG9yIHZpY2UgdmVyc2FcbiAqXG4gKiBBIHNpbmdsZSBwcm9wIHNob3VsZCB0eXBpY2FsbHkgYmUgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciBvciBub3QgYVxuICogY29tcG9uZW50IGlzIGNvbnRyb2xsZWQgb3Igbm90LlxuICpcbiAqIEBwYXJhbSBjb250cm9sbGVkVmFsdWVcbiAqIEBwYXJhbSBjb250cm9sbGVkUHJvcE5hbWVcbiAqIEBwYXJhbSBjb21wb25lbnROYW1lXG4gKi9cblxudmFyIHVzZUNvbnRyb2xsZWRTd2l0Y2hXYXJuaW5nID0gbm9vcDtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICB1c2VDb250cm9sbGVkU3dpdGNoV2FybmluZyA9IGZ1bmN0aW9uIHVzZUNvbnRyb2xsZWRTd2l0Y2hXYXJuaW5nKGNvbnRyb2xsZWRWYWx1ZSwgY29udHJvbGxlZFByb3BOYW1lLCBjb21wb25lbnROYW1lKSB7XG4gICAgdmFyIGNvbnRyb2xsZWRSZWYgPSB1c2VSZWYoY29udHJvbGxlZFZhbHVlICE9IG51bGwpO1xuICAgIHZhciBuYW1lQ2FjaGUgPSB1c2VSZWYoe1xuICAgICAgY29tcG9uZW50TmFtZTogY29tcG9uZW50TmFtZSxcbiAgICAgIGNvbnRyb2xsZWRQcm9wTmFtZTogY29udHJvbGxlZFByb3BOYW1lXG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIG5hbWVDYWNoZS5jdXJyZW50ID0ge1xuICAgICAgICBjb21wb25lbnROYW1lOiBjb21wb25lbnROYW1lLFxuICAgICAgICBjb250cm9sbGVkUHJvcE5hbWU6IGNvbnRyb2xsZWRQcm9wTmFtZVxuICAgICAgfTtcbiAgICB9LCBbY29tcG9uZW50TmFtZSwgY29udHJvbGxlZFByb3BOYW1lXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB3YXNDb250cm9sbGVkID0gY29udHJvbGxlZFJlZi5jdXJyZW50O1xuICAgICAgdmFyIF9uYW1lQ2FjaGUkY3VycmVudCA9IG5hbWVDYWNoZS5jdXJyZW50LFxuICAgICAgICAgIGNvbXBvbmVudE5hbWUgPSBfbmFtZUNhY2hlJGN1cnJlbnQuY29tcG9uZW50TmFtZSxcbiAgICAgICAgICBjb250cm9sbGVkUHJvcE5hbWUgPSBfbmFtZUNhY2hlJGN1cnJlbnQuY29udHJvbGxlZFByb3BOYW1lO1xuICAgICAgdmFyIGlzQ29udHJvbGxlZCA9IGNvbnRyb2xsZWRWYWx1ZSAhPSBudWxsO1xuXG4gICAgICBpZiAod2FzQ29udHJvbGxlZCAhPT0gaXNDb250cm9sbGVkKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBIGNvbXBvbmVudCBpcyBjaGFuZ2luZyBhbiBcIiArICh3YXNDb250cm9sbGVkID8gXCJcIiA6IFwidW5cIikgKyBcImNvbnRyb2xsZWQgYFwiICsgY29udHJvbGxlZFByb3BOYW1lICsgXCJgIHN0YXRlIG9mIFwiICsgY29tcG9uZW50TmFtZSArIFwiIHRvIGJlIFwiICsgKHdhc0NvbnRyb2xsZWQgPyBcInVuXCIgOiBcIlwiKSArIFwiY29udHJvbGxlZC4gVGhpcyBpcyBsaWtlbHkgY2F1c2VkIGJ5IHRoZSB2YWx1ZSBjaGFuZ2luZyBmcm9tIHVuZGVmaW5lZCB0byBhIGRlZmluZWQgdmFsdWUsIHdoaWNoIHNob3VsZCBub3QgaGFwcGVuLiBEZWNpZGUgYmV0d2VlbiB1c2luZyBhIGNvbnRyb2xsZWQgb3IgdW5jb250cm9sbGVkIFwiICsgY29tcG9uZW50TmFtZSArIFwiIGVsZW1lbnQgZm9yIHRoZSBsaWZldGltZSBvZiB0aGUgY29tcG9uZW50Llxcbk1vcmUgaW5mbzogaHR0cHM6Ly9mYi5tZS9yZWFjdC1jb250cm9sbGVkLWNvbXBvbmVudHNcIik7XG4gICAgICB9XG4gICAgfSwgW2NvbnRyb2xsZWRWYWx1ZV0pO1xuICB9O1xufVxudmFyIHVzZUNoZWNrU3R5bGVzID0gbm9vcDtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICB1c2VDaGVja1N0eWxlcyA9IGZ1bmN0aW9uIHVzZUNoZWNrU3R5bGVzKHBrZykge1xuICAgIHZhciBuYW1lID0gdXNlUmVmKHBrZyk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB2b2lkIChuYW1lLmN1cnJlbnQgPSBwa2cpO1xuICAgIH0sIFtwa2ddKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGNoZWNrU3R5bGVzKG5hbWUuY3VycmVudCk7XG4gICAgfSwgW10pO1xuICB9O1xufVxuLyoqXG4gKiBSZWFjdCBob29rIGZvciBjcmVhdGluZyBhIHZhbHVlIGV4YWN0bHkgb25jZS5cbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL0FuZGFyaXN0L3VzZS1jb25zdGFudFxuICovXG5cbmZ1bmN0aW9uIHVzZUNvbnN0YW50KGZuKSB7XG4gIHZhciByZWYgPSB1c2VSZWYoKTtcblxuICBpZiAoIXJlZi5jdXJyZW50KSB7XG4gICAgcmVmLmN1cnJlbnQgPSB7XG4gICAgICB2OiBmbigpXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiByZWYuY3VycmVudC52O1xufVxuLyoqXG4gKiBAcGFyYW0gY2FsbGJhY2tcbiAqL1xuXG5mdW5jdGlvbiB1c2VFdmVudENhbGxiYWNrKGNhbGxiYWNrKSB7XG4gIHZhciByZWYgPSB1c2VSZWYoY2FsbGJhY2spO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICByZWYuY3VycmVudCA9IGNhbGxiYWNrO1xuICB9KTtcbiAgcmV0dXJuIHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMyA+IDEgPyBfbGVuMyAtIDEgOiAwKSwgX2tleTMgPSAxOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICBhcmdzW19rZXkzIC0gMV0gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgIH1cblxuICAgIHJldHVybiByZWYuY3VycmVudC5hcHBseShyZWYsIFtldmVudF0uY29uY2F0KGFyZ3MpKTtcbiAgfSwgW10pO1xufVxuZnVuY3Rpb24gdXNlTGF6eVJlZihmbikge1xuICB2YXIgcmVmID0gdXNlUmVmKHtcbiAgICBfX2ludGVybmFsU2V0OiB0cnVlXG4gIH0pO1xuXG4gIGlmIChyZWYuY3VycmVudCAmJiByZWYuY3VycmVudC5fX2ludGVybmFsU2V0ID09PSB0cnVlKSB7XG4gICAgcmVmLmN1cnJlbnQgPSBmbigpO1xuICB9XG5cbiAgcmV0dXJuIHJlZjtcbn1cbi8qKlxuICogVE9ETzogUmVtb3ZlIGluIDEuMFxuICogQGFsaWFzIHVzZVN0YWJsZUNhbGxiYWNrXG4gKiBAcGFyYW0gY2FsbGJhY2tcbiAqL1xuXG52YXIgdXNlQ2FsbGJhY2tQcm9wID0gdXNlU3RhYmxlQ2FsbGJhY2s7XG4vKipcbiAqIEFkZHMgYSBET00gZXZlbnQgbGlzdGVuZXJcbiAqXG4gKiBAcGFyYW0gZXZlbnROYW1lXG4gKiBAcGFyYW0gbGlzdGVuZXJcbiAqIEBwYXJhbSBlbGVtZW50XG4gKi9cblxuZnVuY3Rpb24gdXNlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGxpc3RlbmVyLCBlbGVtZW50KSB7XG4gIGlmIChlbGVtZW50ID09PSB2b2lkIDApIHtcbiAgICBlbGVtZW50ID0gd2luZG93O1xuICB9XG5cbiAgdmFyIHNhdmVkSGFuZGxlciA9IHVzZVJlZihsaXN0ZW5lcik7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgc2F2ZWRIYW5kbGVyLmN1cnJlbnQgPSBsaXN0ZW5lcjtcbiAgfSwgW2xpc3RlbmVyXSk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGlzU3VwcG9ydGVkID0gZWxlbWVudCAmJiBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXI7XG5cbiAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIkV2ZW50IGxpc3RlbmVyIG5vdCBzdXBwb3J0ZWQgb24gdGhlIGVsZW1lbnQgcHJvdmlkZWRcIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBldmVudExpc3RlbmVyKGV2ZW50KSB7XG4gICAgICBzYXZlZEhhbmRsZXIuY3VycmVudChldmVudCk7XG4gICAgfVxuXG4gICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGV2ZW50TGlzdGVuZXIpO1xuICAgIH07XG4gIH0sIFtldmVudE5hbWUsIGVsZW1lbnRdKTtcbn1cbi8qKlxuICogRGV0ZWN0IHdoZW4gZm9jdXMgY2hhbmdlcyBpbiBvdXIgZG9jdW1lbnQuXG4gKlxuICogQHBhcmFtIGhhbmRsZUNoYW5nZVxuICogQHBhcmFtIHdoZW5cbiAqIEBwYXJhbSBvd25lckRvY3VtZW50XG4gKi9cblxuZnVuY3Rpb24gdXNlRm9jdXNDaGFuZ2UoaGFuZGxlQ2hhbmdlLCB3aGVuLCBvd25lckRvY3VtZW50KSB7XG4gIGlmIChoYW5kbGVDaGFuZ2UgPT09IHZvaWQgMCkge1xuICAgIGhhbmRsZUNoYW5nZSA9IGNvbnNvbGUubG9nO1xuICB9XG5cbiAgaWYgKHdoZW4gPT09IHZvaWQgMCkge1xuICAgIHdoZW4gPSBcImZvY3VzXCI7XG4gIH1cblxuICBpZiAob3duZXJEb2N1bWVudCA9PT0gdm9pZCAwKSB7XG4gICAgb3duZXJEb2N1bWVudCA9IGRvY3VtZW50O1xuICB9XG5cbiAgdmFyIGxhc3RBY3RpdmVFbGVtZW50ID0gdXNlUmVmKG93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgbGFzdEFjdGl2ZUVsZW1lbnQuY3VycmVudCA9IG93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgIGZ1bmN0aW9uIG9uQ2hhbmdlKGV2ZW50KSB7XG4gICAgICBpZiAobGFzdEFjdGl2ZUVsZW1lbnQuY3VycmVudCAhPT0gb3duZXJEb2N1bWVudC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIGhhbmRsZUNoYW5nZShvd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQsIGxhc3RBY3RpdmVFbGVtZW50LmN1cnJlbnQsIGV2ZW50KTtcbiAgICAgICAgbGFzdEFjdGl2ZUVsZW1lbnQuY3VycmVudCA9IG93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBvd25lckRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIod2hlbiwgb25DaGFuZ2UsIHRydWUpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBvd25lckRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIod2hlbiwgb25DaGFuZ2UpO1xuICAgIH07XG4gIH0sIFt3aGVuLCBoYW5kbGVDaGFuZ2UsIG93bmVyRG9jdW1lbnRdKTtcbn1cbi8qKlxuICogRm9yY2VzIGEgcmUtcmVuZGVyLCBzaW1pbGFyIHRvIGBmb3JjZVVwZGF0ZWAgaW4gY2xhc3MgY29tcG9uZW50cy5cbiAqL1xuXG5mdW5jdGlvbiB1c2VGb3JjZVVwZGF0ZSgpIHtcbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTIgPSB1c2VTdGF0ZShPYmplY3QuY3JlYXRlKG51bGwpKSxcbiAgICAgIGRpc3BhdGNoID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICByZXR1cm4gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGRpc3BhdGNoKE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICB9LCBbXSk7XG59XG4vKipcbiAqIFBhc3NlcyBvciBhc3NpZ25zIGEgdmFsdWUgdG8gbXVsdGlwbGUgcmVmcyAodHlwaWNhbGx5IGEgRE9NIG5vZGUpLiBVc2VmdWwgZm9yXG4gKiBkZWFsaW5nIHdpdGggY29tcG9uZW50cyB0aGF0IG5lZWQgYW4gZXhwbGljaXQgcmVmIGZvciBET00gY2FsY3VsYXRpb25zIGJ1dFxuICogYWxzbyBmb3J3YXJkcyByZWZzIGFzc2lnbmVkIGJ5IGFuIGFwcC5cbiAqXG4gKiBAcGFyYW0gcmVmcyBSZWZzIHRvIGZvcmtcbiAqL1xuXG5mdW5jdGlvbiB1c2VGb3JrZWRSZWYoKSB7XG4gIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgcmVmcyA9IG5ldyBBcnJheShfbGVuNCksIF9rZXk0ID0gMDsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgIHJlZnNbX2tleTRdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgfVxuXG4gIHJldHVybiB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocmVmcy5ldmVyeShmdW5jdGlvbiAocmVmKSB7XG4gICAgICByZXR1cm4gcmVmID09IG51bGw7XG4gICAgfSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmVmcy5mb3JFYWNoKGZ1bmN0aW9uIChyZWYpIHtcbiAgICAgICAgYXNzaWduUmVmKHJlZiwgbm9kZSk7XG4gICAgICB9KTtcbiAgICB9OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtdLmNvbmNhdChyZWZzKSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHByZXZpb3VzIHZhbHVlIG9mIGEgcmVmZXJlbmNlIGFmdGVyIGEgY29tcG9uZW50IHVwZGF0ZS5cbiAqXG4gKiBAcGFyYW0gdmFsdWVcbiAqL1xuXG5mdW5jdGlvbiB1c2VQcmV2aW91cyh2YWx1ZSkge1xuICB2YXIgcmVmID0gdXNlUmVmKG51bGwpO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH0sIFt2YWx1ZV0pO1xuICByZXR1cm4gcmVmLmN1cnJlbnQ7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgY2FsbGJhY2sgdG8gYSByZWYgdG8gYXZvaWQgdHJpZ2dlcmluZyByZS1yZW5kZXJzIHdoZW4gcGFzc2VkIGFzIGFcbiAqIHByb3AgYW5kIGV4cG9zZWQgYXMgYSBzdGFibGUgZnVuY3Rpb24gdG8gYXZvaWQgZXhlY3V0aW5nIGVmZmVjdHMgd2hlblxuICogcGFzc2VkIGFzIGEgZGVwZW5kZW5jeS5cbiAqL1xuXG5mdW5jdGlvbiB1c2VTdGFibGVDYWxsYmFjayhjYWxsYmFjaykge1xuICB2YXIgY2FsbGJhY2tSZWYgPSB1c2VSZWYoY2FsbGJhY2spO1xuICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrUmVmLmN1cnJlbnQgPSBjYWxsYmFjaztcbiAgfSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcblxuICByZXR1cm4gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrUmVmLmN1cnJlbnQgJiYgY2FsbGJhY2tSZWYuY3VycmVudC5hcHBseShjYWxsYmFja1JlZiwgYXJndW1lbnRzKTtcbiAgfSwgW10pO1xufVxuLyoqXG4gKiBDYWxsIGFuIGVmZmVjdCBhZnRlciBhIGNvbXBvbmVudCB1cGRhdGUsIHNraXBwaW5nIHRoZSBpbml0aWFsIG1vdW50LlxuICpcbiAqIEBwYXJhbSBlZmZlY3QgRWZmZWN0IHRvIGNhbGxcbiAqIEBwYXJhbSBkZXBzIEVmZmVjdCBkZXBlbmRlbmN5IGxpc3RcbiAqL1xuXG5mdW5jdGlvbiB1c2VVcGRhdGVFZmZlY3QoZWZmZWN0LCBkZXBzKSB7XG4gIHZhciBtb3VudGVkID0gdXNlUmVmKGZhbHNlKTtcbiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBpZiAobW91bnRlZC5jdXJyZW50KSB7XG4gICAgICBlZmZlY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbW91bnRlZC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcblxuICB9LCBkZXBzKTtcbn1cbi8qKlxuICogSnVzdCBhIGxpbCBzdGF0ZSBsb2dnZXJcbiAqXG4gKiBAcGFyYW0gc3RhdGVcbiAqIEBwYXJhbSBERUJVR1xuICovXG5cbnZhciB1c2VTdGF0ZUxvZ2dlciA9IG5vb3A7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgdXNlU3RhdGVMb2dnZXIgPSBmdW5jdGlvbiB1c2VTdGF0ZUxvZ2dlcihzdGF0ZSwgREVCVUcpIHtcbiAgICBpZiAoREVCVUcgPT09IHZvaWQgMCkge1xuICAgICAgREVCVUcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgZGVidWdSZWYgPSB1c2VSZWYoREVCVUcpO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICBkZWJ1Z1JlZi5jdXJyZW50ID0gREVCVUc7XG4gICAgfSwgW0RFQlVHXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChkZWJ1Z1JlZi5jdXJyZW50KSB7XG4gICAgICAgIGNvbnNvbGUuZ3JvdXAoXCJTdGF0ZSBVcGRhdGVkXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIiVjXCIgKyBzdGF0ZSwgXCJmb250LXdlaWdodDogbm9ybWFsOyBmb250LXNpemU6IDEyMCU7IGZvbnQtc3R5bGU6IGl0YWxpYztcIik7XG4gICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgIH1cbiAgICB9LCBbc3RhdGVdKTtcbiAgfTtcbn1cbi8qKlxuICogV3JhcHMgYSBsaWItZGVmaW5lZCBldmVudCBoYW5kbGVyIGFuZCBhIHVzZXItZGVmaW5lZCBldmVudCBoYW5kbGVyLCByZXR1cm5pbmdcbiAqIGEgc2luZ2xlIGhhbmRsZXIgdGhhdCBhbGxvd3MgYSB1c2VyIHRvIHByZXZlbnQgbGliLWRlZmluZWQgaGFuZGxlcnMgZnJvbVxuICogZmlyaW5nLlxuICpcbiAqIEBwYXJhbSB0aGVpckhhbmRsZXIgVXNlci1zdXBwbGllZCBldmVudCBoYW5kbGVyXG4gKiBAcGFyYW0gb3VySGFuZGxlciBMaWJyYXJ5LXN1cHBsaWVkIGV2ZW50IGhhbmRsZXJcbiAqL1xuXG5mdW5jdGlvbiB3cmFwRXZlbnQodGhlaXJIYW5kbGVyLCBvdXJIYW5kbGVyKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICB0aGVpckhhbmRsZXIgJiYgdGhlaXJIYW5kbGVyKGV2ZW50KTtcblxuICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgcmV0dXJuIG91ckhhbmRsZXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcbn0gLy8gRXhwb3J0IHR5cGVzXG5cbmV4cG9ydCB7IGFzc2lnblJlZiwgYm9vbE9yQm9vbFN0cmluZywgY2FuVXNlRE9NLCBjaGVja1N0eWxlcywgY2xvbmVWYWxpZEVsZW1lbnQsIGNyZWF0ZU5hbWVkQ29udGV4dCwgZm9yd2FyZFJlZldpdGhBcywgZ2V0RG9jdW1lbnREaW1lbnNpb25zLCBnZXRFbGVtZW50Q29tcHV0ZWRTdHlsZSwgZ2V0T3duZXJEb2N1bWVudCwgZ2V0T3duZXJXaW5kb3csIGdldFNjcm9sbFBvc2l0aW9uLCBnZXRTY3JvbGxiYXJPZmZzZXQsIGlzQm9vbGVhbiwgaXNGdW5jdGlvbiwgaXNOdW1iZXIsIGlzUmlnaHRDbGljaywgaXNTdHJpbmcsIG1ha2VJZCwgbWVtb1dpdGhBcywgbm9vcCwgcG9ueWZpbGxHbG9iYWwsIHN0YXRlVG9BdHRyaWJ1dGVTdHJpbmcsIHVzZUNhbGxiYWNrUHJvcCwgdXNlQ2hlY2tTdHlsZXMsIHVzZUNvbnN0YW50LCB1c2VDb250cm9sbGVkU3RhdGUsIHVzZUNvbnRyb2xsZWRTd2l0Y2hXYXJuaW5nLCB1c2VFdmVudENhbGxiYWNrLCB1c2VFdmVudExpc3RlbmVyLCB1c2VGb2N1c0NoYW5nZSwgdXNlRm9yY2VVcGRhdGUsIHVzZUZvcmtlZFJlZiwgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCwgdXNlTGF6eVJlZiwgdXNlUHJldmlvdXMsIHVzZVN0YWJsZUNhbGxiYWNrLCB1c2VTdGF0ZUxvZ2dlciwgdXNlVXBkYXRlRWZmZWN0LCB3YXJuaW5nLCB3cmFwRXZlbnQgfTtcbiIsImltcG9ydCB7IGZvcndhcmRSZWYsIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXG4gKiBWaXN1YWxseUhpZGRlblxuICpcbiAqIFByb3ZpZGVzIHRleHQgZm9yIHNjcmVlbiByZWFkZXJzIHRoYXQgaXMgdmlzdWFsbHkgaGlkZGVuLlxuICogSXQgaXMgdGhlIGxvZ2ljYWwgb3Bwb3NpdGUgb2YgdGhlIGBhcmlhLWhpZGRlbmAgYXR0cmlidXRlLlxuICovXG5cbnZhciBWaXN1YWxseUhpZGRlbiA9IC8qI19fUFVSRV9fKi9mb3J3YXJkUmVmKGZ1bmN0aW9uIFZpc3VhbGx5SGlkZGVuKF9yZWYsIHJlZikge1xuICB2YXIgX3JlZiRhcyA9IF9yZWYuYXMsXG4gICAgICBDb21wID0gX3JlZiRhcyA9PT0gdm9pZCAwID8gXCJzcGFuXCIgOiBfcmVmJGFzLFxuICAgICAgX3JlZiRzdHlsZSA9IF9yZWYuc3R5bGUsXG4gICAgICBzdHlsZSA9IF9yZWYkc3R5bGUgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRzdHlsZSxcbiAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiYXNcIiwgXCJzdHlsZVwiXSk7XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9jcmVhdGVFbGVtZW50KENvbXAsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICBzdHlsZTogX2V4dGVuZHMoe1xuICAgICAgYm9yZGVyOiAwLFxuICAgICAgY2xpcDogXCJyZWN0KDAgMCAwIDApXCIsXG4gICAgICBoZWlnaHQ6IFwiMXB4XCIsXG4gICAgICBtYXJnaW46IFwiLTFweFwiLFxuICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICBwYWRkaW5nOiAwLFxuICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgIHdpZHRoOiBcIjFweFwiLFxuICAgICAgLy8gaHR0cHM6Ly9tZWRpdW0uY29tL0BqZXNzZWJlYWNoL2Jld2FyZS1zbXVzaGVkLW9mZi1zY3JlZW4tYWNjZXNzaWJsZS10ZXh0LTU5NTJhNGMyY2JmZVxuICAgICAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgICAgIHdvcmRXcmFwOiBcIm5vcm1hbFwiXG4gICAgfSwgc3R5bGUpXG4gIH0sIHByb3BzKSk7XG59KTtcbi8qKlxuICogQHNlZSBEb2NzIGh0dHBzOi8vcmVhY2gudGVjaC92aXN1YWxseS1oaWRkZW4jdmlzdWFsbHloaWRkZW4tcHJvcHNcbiAqL1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIFZpc3VhbGx5SGlkZGVuLmRpc3BsYXlOYW1lID0gXCJWaXN1YWxseUhpZGRlblwiO1xuICBWaXN1YWxseUhpZGRlbi5wcm9wVHlwZXMgPSB7XG4gICAgYXM6IFByb3BUeXBlcy5hbnksXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlXG4gIH07XG59IC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cbmV4cG9ydCBkZWZhdWx0IFZpc3VhbGx5SGlkZGVuO1xuZXhwb3J0IHsgVmlzdWFsbHlIaWRkZW4gfTtcbiIsInZhciBnZXREZWZhdWx0UGFyZW50ID0gZnVuY3Rpb24gKG9yaWdpbmFsVGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHZhciBzYW1wbGVUYXJnZXQgPSBBcnJheS5pc0FycmF5KG9yaWdpbmFsVGFyZ2V0KSA/IG9yaWdpbmFsVGFyZ2V0WzBdIDogb3JpZ2luYWxUYXJnZXQ7XG4gICAgcmV0dXJuIHNhbXBsZVRhcmdldC5vd25lckRvY3VtZW50LmJvZHk7XG59O1xudmFyIGNvdW50ZXJNYXAgPSBuZXcgV2Vha01hcCgpO1xudmFyIHVuY29udHJvbGxlZE5vZGVzID0gbmV3IFdlYWtNYXAoKTtcbnZhciBtYXJrZXJNYXAgPSB7fTtcbnZhciBsb2NrQ291bnQgPSAwO1xuZXhwb3J0IHZhciBoaWRlT3RoZXJzID0gZnVuY3Rpb24gKG9yaWdpbmFsVGFyZ2V0LCBwYXJlbnROb2RlLCBtYXJrZXJOYW1lKSB7XG4gICAgaWYgKHBhcmVudE5vZGUgPT09IHZvaWQgMCkgeyBwYXJlbnROb2RlID0gZ2V0RGVmYXVsdFBhcmVudChvcmlnaW5hbFRhcmdldCk7IH1cbiAgICBpZiAobWFya2VyTmFtZSA9PT0gdm9pZCAwKSB7IG1hcmtlck5hbWUgPSBcImRhdGEtYXJpYS1oaWRkZW5cIjsgfVxuICAgIHZhciB0YXJnZXRzID0gQXJyYXkuaXNBcnJheShvcmlnaW5hbFRhcmdldCkgPyBvcmlnaW5hbFRhcmdldCA6IFtvcmlnaW5hbFRhcmdldF07XG4gICAgaWYgKCFtYXJrZXJNYXBbbWFya2VyTmFtZV0pIHtcbiAgICAgICAgbWFya2VyTWFwW21hcmtlck5hbWVdID0gbmV3IFdlYWtNYXAoKTtcbiAgICB9XG4gICAgdmFyIG1hcmtlckNvdW50ZXIgPSBtYXJrZXJNYXBbbWFya2VyTmFtZV07XG4gICAgdmFyIGhpZGRlbk5vZGVzID0gW107XG4gICAgdmFyIGVsZW1lbnRzVG9LZWVwID0gbmV3IFNldCgpO1xuICAgIHZhciBrZWVwID0gKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBpZiAoIWVsIHx8IGVsZW1lbnRzVG9LZWVwLmhhcyhlbCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50c1RvS2VlcC5hZGQoZWwpO1xuICAgICAgICBrZWVwKGVsLnBhcmVudE5vZGUpO1xuICAgIH0pO1xuICAgIHRhcmdldHMuZm9yRWFjaChrZWVwKTtcbiAgICB2YXIgZGVlcCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgaWYgKCFwYXJlbnQgfHwgdGFyZ2V0cy5pbmRleE9mKHBhcmVudCkgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwocGFyZW50LmNoaWxkcmVuLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzVG9LZWVwLmhhcyhub2RlKSkge1xuICAgICAgICAgICAgICAgIGRlZXAobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0ciA9IG5vZGUuZ2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicpO1xuICAgICAgICAgICAgICAgIHZhciBhbHJlYWR5SGlkZGVuID0gYXR0ciAhPT0gbnVsbCAmJiBhdHRyICE9PSAnZmFsc2UnO1xuICAgICAgICAgICAgICAgIHZhciBjb3VudGVyVmFsdWUgPSAoY291bnRlck1hcC5nZXQobm9kZSkgfHwgMCkgKyAxO1xuICAgICAgICAgICAgICAgIHZhciBtYXJrZXJWYWx1ZSA9IChtYXJrZXJDb3VudGVyLmdldChub2RlKSB8fCAwKSArIDE7XG4gICAgICAgICAgICAgICAgY291bnRlck1hcC5zZXQobm9kZSwgY291bnRlclZhbHVlKTtcbiAgICAgICAgICAgICAgICBtYXJrZXJDb3VudGVyLnNldChub2RlLCBtYXJrZXJWYWx1ZSk7XG4gICAgICAgICAgICAgICAgaGlkZGVuTm9kZXMucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICBpZiAoY291bnRlclZhbHVlID09PSAxICYmIGFscmVhZHlIaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdW5jb250cm9sbGVkTm9kZXMuc2V0KG5vZGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWFya2VyVmFsdWUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUobWFya2VyTmFtZSwgJ3RydWUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFhbHJlYWR5SGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGRlZXAocGFyZW50Tm9kZSk7XG4gICAgZWxlbWVudHNUb0tlZXAuY2xlYXIoKTtcbiAgICBsb2NrQ291bnQrKztcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBoaWRkZW5Ob2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgY291bnRlclZhbHVlID0gY291bnRlck1hcC5nZXQobm9kZSkgLSAxO1xuICAgICAgICAgICAgdmFyIG1hcmtlclZhbHVlID0gbWFya2VyQ291bnRlci5nZXQobm9kZSkgLSAxO1xuICAgICAgICAgICAgY291bnRlck1hcC5zZXQobm9kZSwgY291bnRlclZhbHVlKTtcbiAgICAgICAgICAgIG1hcmtlckNvdW50ZXIuc2V0KG5vZGUsIG1hcmtlclZhbHVlKTtcbiAgICAgICAgICAgIGlmICghY291bnRlclZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1bmNvbnRyb2xsZWROb2Rlcy5oYXMobm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHVuY29udHJvbGxlZE5vZGVzLmRlbGV0ZShub2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbWFya2VyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShtYXJrZXJOYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxvY2tDb3VudC0tO1xuICAgICAgICBpZiAoIWxvY2tDb3VudCkge1xuICAgICAgICAgICAgY291bnRlck1hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgICAgICBjb3VudGVyTWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgICAgIHVuY29udHJvbGxlZE5vZGVzID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgICAgIG1hcmtlck1hcCA9IHt9O1xuICAgICAgICB9XG4gICAgfTtcbn07XG4iLCJleHBvcnQgdmFyIEZPQ1VTX0dST1VQID0gJ2RhdGEtZm9jdXMtbG9jayc7XG5leHBvcnQgdmFyIEZPQ1VTX0RJU0FCTEVEID0gJ2RhdGEtZm9jdXMtbG9jay1kaXNhYmxlZCc7XG5leHBvcnQgdmFyIEZPQ1VTX0FMTE9XID0gJ2RhdGEtbm8tZm9jdXMtbG9jayc7XG5leHBvcnQgdmFyIEZPQ1VTX0FVVE8gPSAnZGF0YS1hdXRvZm9jdXMtaW5zaWRlJztcbiIsImltcG9ydCB7IGdldEFsbEFmZmVjdGVkTm9kZXMgfSBmcm9tICcuL3V0aWxzL2FsbC1hZmZlY3RlZCc7XG5pbXBvcnQgeyB0b0FycmF5IH0gZnJvbSAnLi91dGlscy9hcnJheSc7XG52YXIgZm9jdXNJbkZyYW1lID0gZnVuY3Rpb24gKGZyYW1lKSB7IHJldHVybiBmcmFtZSA9PT0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudDsgfTtcbnZhciBmb2N1c0luc2lkZUlmcmFtZSA9IGZ1bmN0aW9uICh0b3BOb2RlKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4odG9BcnJheSh0b3BOb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lmcmFtZScpKS5zb21lKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBmb2N1c0luRnJhbWUobm9kZSk7IH0pKTtcbn07XG5leHBvcnQgdmFyIGZvY3VzSW5zaWRlID0gZnVuY3Rpb24gKHRvcE5vZGUpIHtcbiAgICB2YXIgYWN0aXZlRWxlbWVudCA9IGRvY3VtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKCFhY3RpdmVFbGVtZW50IHx8IChhY3RpdmVFbGVtZW50LmRhdGFzZXQgJiYgYWN0aXZlRWxlbWVudC5kYXRhc2V0LmZvY3VzR3VhcmQpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEFsbEFmZmVjdGVkTm9kZXModG9wTm9kZSkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIG5vZGUpIHsgcmV0dXJuIHJlc3VsdCB8fCBub2RlLmNvbnRhaW5zKGFjdGl2ZUVsZW1lbnQpIHx8IGZvY3VzSW5zaWRlSWZyYW1lKG5vZGUpOyB9LCBmYWxzZSk7XG59O1xuIiwiaW1wb3J0IHsgRk9DVVNfQUxMT1cgfSBmcm9tICcuL2NvbnN0YW50cyc7XG5pbXBvcnQgeyB0b0FycmF5IH0gZnJvbSAnLi91dGlscy9hcnJheSc7XG5leHBvcnQgdmFyIGZvY3VzSXNIaWRkZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50ICYmXG4gICAgICAgIHRvQXJyYXkoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltcIiArIEZPQ1VTX0FMTE9XICsgXCJdXCIpKS5zb21lKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpOyB9KTtcbn07XG4iLCJpbXBvcnQgeyBORVdfRk9DVVMsIG5ld0ZvY3VzIH0gZnJvbSAnLi9zb2x2ZXInO1xuaW1wb3J0IHsgZ2V0QWxsQWZmZWN0ZWROb2RlcyB9IGZyb20gJy4vdXRpbHMvYWxsLWFmZmVjdGVkJztcbmltcG9ydCB7IGdldEFsbFRhYmJhYmxlTm9kZXMsIGdldFRhYmJhYmxlTm9kZXMgfSBmcm9tICcuL3V0aWxzL0RPTXV0aWxzJztcbmltcG9ydCB7IHBpY2tGaXJzdEZvY3VzIH0gZnJvbSAnLi91dGlscy9maXJzdEZvY3VzJztcbmltcG9ydCB7IGlzRGVmaW5lZCwgaXNOb3RBR3VhcmQgfSBmcm9tICcuL3V0aWxzL2lzJztcbmltcG9ydCB7IGFsbFBhcmVudEF1dG9mb2N1c2FibGVzLCBnZXRUb3BDb21tb25QYXJlbnQgfSBmcm9tICcuL3V0aWxzL3BhcmVudGluZyc7XG52YXIgZmluZEF1dG9Gb2N1c2VkID0gZnVuY3Rpb24gKGF1dG9Gb2N1c2FibGVzKSB7IHJldHVybiBmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiBub2RlLmF1dG9mb2N1cyB8fCAobm9kZS5kYXRhc2V0ICYmICEhbm9kZS5kYXRhc2V0LmF1dG9mb2N1cykgfHwgYXV0b0ZvY3VzYWJsZXMuaW5kZXhPZihub2RlKSA+PSAwO1xufTsgfTtcbnZhciByZW9yZGVyTm9kZXMgPSBmdW5jdGlvbiAoc3JjTm9kZXMsIGRzdE5vZGVzKSB7XG4gICAgdmFyIHJlbWFwID0gbmV3IE1hcCgpO1xuICAgIGRzdE5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGVudGl0eSkgeyByZXR1cm4gcmVtYXAuc2V0KGVudGl0eS5ub2RlLCBlbnRpdHkpOyB9KTtcbiAgICByZXR1cm4gc3JjTm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiByZW1hcC5nZXQobm9kZSk7IH0pLmZpbHRlcihpc0RlZmluZWQpO1xufTtcbmV4cG9ydCB2YXIgZ2V0Rm9jdXNNZXJnZSA9IGZ1bmN0aW9uICh0b3BOb2RlLCBsYXN0Tm9kZSkge1xuICAgIHZhciBhY3RpdmVFbGVtZW50ID0gKGRvY3VtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpO1xuICAgIHZhciBlbnRyaWVzID0gZ2V0QWxsQWZmZWN0ZWROb2Rlcyh0b3BOb2RlKS5maWx0ZXIoaXNOb3RBR3VhcmQpO1xuICAgIHZhciBjb21tb25QYXJlbnQgPSBnZXRUb3BDb21tb25QYXJlbnQoYWN0aXZlRWxlbWVudCB8fCB0b3BOb2RlLCB0b3BOb2RlLCBlbnRyaWVzKTtcbiAgICB2YXIgdmlzaWJpbGl0eUNhY2hlID0gbmV3IE1hcCgpO1xuICAgIHZhciBhbnlGb2N1c2FibGUgPSBnZXRBbGxUYWJiYWJsZU5vZGVzKGVudHJpZXMsIHZpc2liaWxpdHlDYWNoZSk7XG4gICAgdmFyIGlubmVyRWxlbWVudHMgPSBnZXRUYWJiYWJsZU5vZGVzKGVudHJpZXMsIHZpc2liaWxpdHlDYWNoZSkuZmlsdGVyKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgbm9kZSA9IF9hLm5vZGU7XG4gICAgICAgIHJldHVybiBpc05vdEFHdWFyZChub2RlKTtcbiAgICB9KTtcbiAgICBpZiAoIWlubmVyRWxlbWVudHNbMF0pIHtcbiAgICAgICAgaW5uZXJFbGVtZW50cyA9IGFueUZvY3VzYWJsZTtcbiAgICAgICAgaWYgKCFpbm5lckVsZW1lbnRzWzBdKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBvdXRlck5vZGVzID0gZ2V0QWxsVGFiYmFibGVOb2RlcyhbY29tbW9uUGFyZW50XSwgdmlzaWJpbGl0eUNhY2hlKS5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBub2RlID0gX2Eubm9kZTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSk7XG4gICAgdmFyIG9yZGVyZWRJbm5lckVsZW1lbnRzID0gcmVvcmRlck5vZGVzKG91dGVyTm9kZXMsIGlubmVyRWxlbWVudHMpO1xuICAgIHZhciBpbm5lck5vZGVzID0gb3JkZXJlZElubmVyRWxlbWVudHMubWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgbm9kZSA9IF9hLm5vZGU7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgIH0pO1xuICAgIHZhciBuZXdJZCA9IG5ld0ZvY3VzKGlubmVyTm9kZXMsIG91dGVyTm9kZXMsIGFjdGl2ZUVsZW1lbnQsIGxhc3ROb2RlKTtcbiAgICBpZiAobmV3SWQgPT09IE5FV19GT0NVUykge1xuICAgICAgICB2YXIgYXV0b0ZvY3VzYWJsZSA9IGFueUZvY3VzYWJsZVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gX2Eubm9kZTtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcihmaW5kQXV0b0ZvY3VzZWQoYWxsUGFyZW50QXV0b2ZvY3VzYWJsZXMoZW50cmllcywgdmlzaWJpbGl0eUNhY2hlKSkpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9kZTogYXV0b0ZvY3VzYWJsZSAmJiBhdXRvRm9jdXNhYmxlLmxlbmd0aCA/IHBpY2tGaXJzdEZvY3VzKGF1dG9Gb2N1c2FibGUpIDogcGlja0ZpcnN0Rm9jdXMoaW5uZXJOb2RlcyksXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChuZXdJZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXdJZDtcbiAgICB9XG4gICAgcmV0dXJuIG9yZGVyZWRJbm5lckVsZW1lbnRzW25ld0lkXTtcbn07XG4iLCJpbXBvcnQgeyBnZXRBbGxBZmZlY3RlZE5vZGVzIH0gZnJvbSAnLi91dGlscy9hbGwtYWZmZWN0ZWQnO1xuaW1wb3J0IHsgZ2V0VGFiYmFibGVOb2RlcyB9IGZyb20gJy4vdXRpbHMvRE9NdXRpbHMnO1xuaW1wb3J0IHsgaXNHdWFyZCwgaXNOb3RBR3VhcmQgfSBmcm9tICcuL3V0aWxzL2lzJztcbmltcG9ydCB7IGdldFRvcENvbW1vblBhcmVudCB9IGZyb20gJy4vdXRpbHMvcGFyZW50aW5nJztcbmV4cG9ydCB2YXIgZ2V0Rm9jdXNhYmxlZEluID0gZnVuY3Rpb24gKHRvcE5vZGUpIHtcbiAgICB2YXIgZW50cmllcyA9IGdldEFsbEFmZmVjdGVkTm9kZXModG9wTm9kZSkuZmlsdGVyKGlzTm90QUd1YXJkKTtcbiAgICB2YXIgY29tbW9uUGFyZW50ID0gZ2V0VG9wQ29tbW9uUGFyZW50KHRvcE5vZGUsIHRvcE5vZGUsIGVudHJpZXMpO1xuICAgIHZhciB2aXNpYmlsaXR5Q2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgdmFyIG91dGVyTm9kZXMgPSBnZXRUYWJiYWJsZU5vZGVzKFtjb21tb25QYXJlbnRdLCB2aXNpYmlsaXR5Q2FjaGUsIHRydWUpO1xuICAgIHZhciBpbm5lckVsZW1lbnRzID0gZ2V0VGFiYmFibGVOb2RlcyhlbnRyaWVzLCB2aXNpYmlsaXR5Q2FjaGUpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBub2RlID0gX2Eubm9kZTtcbiAgICAgICAgcmV0dXJuIGlzTm90QUd1YXJkKG5vZGUpO1xuICAgIH0pXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBub2RlID0gX2Eubm9kZTtcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dGVyTm9kZXMubWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgbm9kZSA9IF9hLm5vZGUsIGluZGV4ID0gX2EuaW5kZXg7XG4gICAgICAgIHJldHVybiAoe1xuICAgICAgICAgICAgbm9kZTogbm9kZSxcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIGxvY2tJdGVtOiBpbm5lckVsZW1lbnRzLmluZGV4T2Yobm9kZSkgPj0gMCxcbiAgICAgICAgICAgIGd1YXJkOiBpc0d1YXJkKG5vZGUpLFxuICAgICAgICB9KTtcbiAgICB9KTtcbn07XG4iLCJpbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgZ2V0Rm9jdXNhYmxlZEluIH0gZnJvbSAnLi9mb2N1c2FibGVzJztcbmltcG9ydCB7IGZvY3VzSW5zaWRlIH0gZnJvbSAnLi9mb2N1c0luc2lkZSc7XG5pbXBvcnQgeyBmb2N1c0lzSGlkZGVuIH0gZnJvbSAnLi9mb2N1c0lzSGlkZGVuJztcbmltcG9ydCB7IGdldEZvY3VzTWVyZ2UgYXMgZm9jdXNNZXJnZSB9IGZyb20gJy4vZm9jdXNNZXJnZSc7XG5pbXBvcnQgeyBzZXRGb2N1cyB9IGZyb20gJy4vc2V0Rm9jdXMnO1xuaW1wb3J0IHsgZm9jdXNOZXh0RWxlbWVudCwgZm9jdXNQcmV2RWxlbWVudCB9IGZyb20gJy4vc2libGluZyc7XG5pbXBvcnQgdGFiSG9vayBmcm9tICcuL3RhYkhvb2snO1xuaW1wb3J0IHsgZ2V0QWxsQWZmZWN0ZWROb2RlcyB9IGZyb20gJy4vdXRpbHMvYWxsLWFmZmVjdGVkJztcbmV4cG9ydCB7IHRhYkhvb2ssIGZvY3VzSW5zaWRlLCBmb2N1c0lzSGlkZGVuLCBmb2N1c01lcmdlLCBnZXRGb2N1c2FibGVkSW4sIGNvbnN0YW50cywgZ2V0QWxsQWZmZWN0ZWROb2RlcywgZm9jdXNOZXh0RWxlbWVudCwgZm9jdXNQcmV2RWxlbWVudCwgfTtcbmV4cG9ydCBkZWZhdWx0IHNldEZvY3VzO1xuIiwiaW1wb3J0IHsgZ2V0Rm9jdXNNZXJnZSB9IGZyb20gJy4vZm9jdXNNZXJnZSc7XG5leHBvcnQgdmFyIGZvY3VzT24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgdGFyZ2V0LmZvY3VzKCk7XG4gICAgaWYgKCdjb250ZW50V2luZG93JyBpbiB0YXJnZXQgJiYgdGFyZ2V0LmNvbnRlbnRXaW5kb3cpIHtcbiAgICAgICAgdGFyZ2V0LmNvbnRlbnRXaW5kb3cuZm9jdXMoKTtcbiAgICB9XG59O1xudmFyIGd1YXJkQ291bnQgPSAwO1xudmFyIGxvY2tEaXNhYmxlZCA9IGZhbHNlO1xuZXhwb3J0IHZhciBzZXRGb2N1cyA9IGZ1bmN0aW9uICh0b3BOb2RlLCBsYXN0Tm9kZSkge1xuICAgIHZhciBmb2N1c2FibGUgPSBnZXRGb2N1c01lcmdlKHRvcE5vZGUsIGxhc3ROb2RlKTtcbiAgICBpZiAobG9ja0Rpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGZvY3VzYWJsZSkge1xuICAgICAgICBpZiAoZ3VhcmRDb3VudCA+IDIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZvY3VzTG9jazogZm9jdXMtZmlnaHRpbmcgZGV0ZWN0ZWQuIE9ubHkgb25lIGZvY3VzIG1hbmFnZW1lbnQgc3lzdGVtIGNvdWxkIGJlIGFjdGl2ZS4gJyArXG4gICAgICAgICAgICAgICAgJ1NlZSBodHRwczovL2dpdGh1Yi5jb20vdGhlS2FzaGV5L2ZvY3VzLWxvY2svI2ZvY3VzLWZpZ2h0aW5nJyk7XG4gICAgICAgICAgICBsb2NrRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbG9ja0Rpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBndWFyZENvdW50Kys7XG4gICAgICAgIGZvY3VzT24oZm9jdXNhYmxlLm5vZGUpO1xuICAgICAgICBndWFyZENvdW50LS07XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGdldFRhYmJhYmxlTm9kZXMgfSBmcm9tICcuL3V0aWxzL0RPTXV0aWxzJztcbnZhciBnZXRSZWxhdGl2ZUZvY3VzYWJsZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBzY29wZSkge1xuICAgIGlmICghZWxlbWVudCB8fCAhc2NvcGUgfHwgIXNjb3BlLmNvbnRhaW5zKGVsZW1lbnQpKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgdmFyIGZvY3VzYWJsZXMgPSBnZXRUYWJiYWJsZU5vZGVzKFtzY29wZV0sIG5ldyBNYXAoKSk7XG4gICAgdmFyIGN1cnJlbnQgPSBmb2N1c2FibGVzLmZpbmRJbmRleChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBfYS5ub2RlO1xuICAgICAgICByZXR1cm4gbm9kZSA9PT0gZWxlbWVudDtcbiAgICB9KTtcbiAgICBpZiAoY3VycmVudCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBwcmV2OiBmb2N1c2FibGVzW2N1cnJlbnQgLSAxXSxcbiAgICAgICAgbmV4dDogZm9jdXNhYmxlc1tjdXJyZW50ICsgMV0sXG4gICAgICAgIGZpcnN0OiBmb2N1c2FibGVzWzBdLFxuICAgICAgICBsYXN0OiBmb2N1c2FibGVzW2ZvY3VzYWJsZXMubGVuZ3RoIC0gMV0sXG4gICAgfTtcbn07XG52YXIgZGVmYXVsdE9wdGlvbnMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgc2NvcGU6IGRvY3VtZW50LmJvZHksXG4gICAgICAgIGN5Y2xlOiB0cnVlLFxuICAgIH0sIG9wdGlvbnMpO1xufTtcbmV4cG9ydCB2YXIgZm9jdXNOZXh0RWxlbWVudCA9IGZ1bmN0aW9uIChiYXNlRWxlbWVudCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIF9hID0gZGVmYXVsdE9wdGlvbnMob3B0aW9ucyksIHNjb3BlID0gX2Euc2NvcGUsIGN5Y2xlID0gX2EuY3ljbGU7XG4gICAgdmFyIF9iID0gZ2V0UmVsYXRpdmVGb2N1c2FibGUoYmFzZUVsZW1lbnQsIHNjb3BlKSwgbmV4dCA9IF9iLm5leHQsIGZpcnN0ID0gX2IuZmlyc3Q7XG4gICAgdmFyIG5ld1RhcmdldCA9IG5leHQgfHwgKGN5Y2xlICYmIGZpcnN0KTtcbiAgICBpZiAobmV3VGFyZ2V0KSB7XG4gICAgICAgIG5ld1RhcmdldC5ub2RlLmZvY3VzKG9wdGlvbnMuZm9jdXNPcHRpb25zKTtcbiAgICB9XG59O1xuZXhwb3J0IHZhciBmb2N1c1ByZXZFbGVtZW50ID0gZnVuY3Rpb24gKGJhc2VFbGVtZW50LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgX2EgPSBkZWZhdWx0T3B0aW9ucyhvcHRpb25zKSwgc2NvcGUgPSBfYS5zY29wZSwgY3ljbGUgPSBfYS5jeWNsZTtcbiAgICB2YXIgX2IgPSBnZXRSZWxhdGl2ZUZvY3VzYWJsZShiYXNlRWxlbWVudCwgc2NvcGUpLCBwcmV2ID0gX2IucHJldiwgbGFzdCA9IF9iLmxhc3Q7XG4gICAgdmFyIG5ld1RhcmdldCA9IHByZXYgfHwgKGN5Y2xlICYmIGxhc3QpO1xuICAgIGlmIChuZXdUYXJnZXQpIHtcbiAgICAgICAgbmV3VGFyZ2V0Lm5vZGUuZm9jdXMob3B0aW9ucy5mb2N1c09wdGlvbnMpO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyBjb3JyZWN0Tm9kZXMgfSBmcm9tICcuL3V0aWxzL2NvcnJlY3RGb2N1cyc7XG5pbXBvcnQgeyBwaWNrRm9jdXNhYmxlIH0gZnJvbSAnLi91dGlscy9maXJzdEZvY3VzJztcbmltcG9ydCB7IGlzR3VhcmQgfSBmcm9tICcuL3V0aWxzL2lzJztcbmV4cG9ydCB2YXIgTkVXX0ZPQ1VTID0gJ05FV19GT0NVUyc7XG5leHBvcnQgdmFyIG5ld0ZvY3VzID0gZnVuY3Rpb24gKGlubmVyTm9kZXMsIG91dGVyTm9kZXMsIGFjdGl2ZUVsZW1lbnQsIGxhc3ROb2RlKSB7XG4gICAgdmFyIGNudCA9IGlubmVyTm9kZXMubGVuZ3RoO1xuICAgIHZhciBmaXJzdEZvY3VzID0gaW5uZXJOb2Rlc1swXTtcbiAgICB2YXIgbGFzdEZvY3VzID0gaW5uZXJOb2Rlc1tjbnQgLSAxXTtcbiAgICB2YXIgaXNPbkd1YXJkID0gaXNHdWFyZChhY3RpdmVFbGVtZW50KTtcbiAgICBpZiAoaW5uZXJOb2Rlcy5pbmRleE9mKGFjdGl2ZUVsZW1lbnQpID49IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gb3V0ZXJOb2Rlcy5pbmRleE9mKGFjdGl2ZUVsZW1lbnQpO1xuICAgIHZhciBsYXN0SW5kZXggPSBsYXN0Tm9kZSA/IG91dGVyTm9kZXMuaW5kZXhPZihsYXN0Tm9kZSkgOiBhY3RpdmVJbmRleDtcbiAgICB2YXIgbGFzdE5vZGVJbnNpZGUgPSBsYXN0Tm9kZSA/IGlubmVyTm9kZXMuaW5kZXhPZihsYXN0Tm9kZSkgOiAtMTtcbiAgICB2YXIgaW5kZXhEaWZmID0gYWN0aXZlSW5kZXggLSBsYXN0SW5kZXg7XG4gICAgdmFyIGZpcnN0Tm9kZUluZGV4ID0gb3V0ZXJOb2Rlcy5pbmRleE9mKGZpcnN0Rm9jdXMpO1xuICAgIHZhciBsYXN0Tm9kZUluZGV4ID0gb3V0ZXJOb2Rlcy5pbmRleE9mKGxhc3RGb2N1cyk7XG4gICAgdmFyIGNvcnJlY3RlZE5vZGVzID0gY29ycmVjdE5vZGVzKG91dGVyTm9kZXMpO1xuICAgIHZhciBjb3JyZWN0ZWRJbmRleERpZmYgPSBjb3JyZWN0ZWROb2Rlcy5pbmRleE9mKGFjdGl2ZUVsZW1lbnQpIC0gKGxhc3ROb2RlID8gY29ycmVjdGVkTm9kZXMuaW5kZXhPZihsYXN0Tm9kZSkgOiBhY3RpdmVJbmRleCk7XG4gICAgdmFyIHJldHVybkZpcnN0Tm9kZSA9IHBpY2tGb2N1c2FibGUoaW5uZXJOb2RlcywgMCk7XG4gICAgdmFyIHJldHVybkxhc3ROb2RlID0gcGlja0ZvY3VzYWJsZShpbm5lck5vZGVzLCBjbnQgLSAxKTtcbiAgICBpZiAoYWN0aXZlSW5kZXggPT09IC0xIHx8IGxhc3ROb2RlSW5zaWRlID09PSAtMSkge1xuICAgICAgICByZXR1cm4gTkVXX0ZPQ1VTO1xuICAgIH1cbiAgICBpZiAoIWluZGV4RGlmZiAmJiBsYXN0Tm9kZUluc2lkZSA+PSAwKSB7XG4gICAgICAgIHJldHVybiBsYXN0Tm9kZUluc2lkZTtcbiAgICB9XG4gICAgaWYgKGFjdGl2ZUluZGV4IDw9IGZpcnN0Tm9kZUluZGV4ICYmIGlzT25HdWFyZCAmJiBNYXRoLmFicyhpbmRleERpZmYpID4gMSkge1xuICAgICAgICByZXR1cm4gcmV0dXJuTGFzdE5vZGU7XG4gICAgfVxuICAgIGlmIChhY3RpdmVJbmRleCA+PSBsYXN0Tm9kZUluZGV4ICYmIGlzT25HdWFyZCAmJiBNYXRoLmFicyhpbmRleERpZmYpID4gMSkge1xuICAgICAgICByZXR1cm4gcmV0dXJuRmlyc3ROb2RlO1xuICAgIH1cbiAgICBpZiAoaW5kZXhEaWZmICYmIE1hdGguYWJzKGNvcnJlY3RlZEluZGV4RGlmZikgPiAxKSB7XG4gICAgICAgIHJldHVybiBsYXN0Tm9kZUluc2lkZTtcbiAgICB9XG4gICAgaWYgKGFjdGl2ZUluZGV4IDw9IGZpcnN0Tm9kZUluZGV4KSB7XG4gICAgICAgIHJldHVybiByZXR1cm5MYXN0Tm9kZTtcbiAgICB9XG4gICAgaWYgKGFjdGl2ZUluZGV4ID4gbGFzdE5vZGVJbmRleCkge1xuICAgICAgICByZXR1cm4gcmV0dXJuRmlyc3ROb2RlO1xuICAgIH1cbiAgICBpZiAoaW5kZXhEaWZmKSB7XG4gICAgICAgIGlmIChNYXRoLmFicyhpbmRleERpZmYpID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3ROb2RlSW5zaWRlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoY250ICsgbGFzdE5vZGVJbnNpZGUgKyBpbmRleERpZmYpICUgY250O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBhdHRhY2g6IGZ1bmN0aW9uICgpIHsgfSxcbiAgICBkZXRhY2g6IGZ1bmN0aW9uICgpIHsgfSxcbn07XG4iLCJpbXBvcnQgeyB0b0FycmF5IH0gZnJvbSAnLi9hcnJheSc7XG5pbXBvcnQgeyBpc1Zpc2libGVDYWNoZWQsIG5vdEhpZGRlbklucHV0IH0gZnJvbSAnLi9pcyc7XG5pbXBvcnQgeyBvcmRlckJ5VGFiSW5kZXggfSBmcm9tICcuL3RhYk9yZGVyJztcbmltcG9ydCB7IGdldEZvY3VzYWJsZXMsIGdldFBhcmVudEF1dG9mb2N1c2FibGVzIH0gZnJvbSAnLi90YWJVdGlscyc7XG5leHBvcnQgdmFyIGZpbHRlckZvY3VzYWJsZSA9IGZ1bmN0aW9uIChub2RlcywgdmlzaWJpbGl0eUNhY2hlKSB7XG4gICAgcmV0dXJuIHRvQXJyYXkobm9kZXMpXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIGlzVmlzaWJsZUNhY2hlZCh2aXNpYmlsaXR5Q2FjaGUsIG5vZGUpOyB9KVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub3RIaWRkZW5JbnB1dChub2RlKTsgfSk7XG59O1xuZXhwb3J0IHZhciBnZXRUYWJiYWJsZU5vZGVzID0gZnVuY3Rpb24gKHRvcE5vZGVzLCB2aXNpYmlsaXR5Q2FjaGUsIHdpdGhHdWFyZHMpIHtcbiAgICByZXR1cm4gb3JkZXJCeVRhYkluZGV4KGZpbHRlckZvY3VzYWJsZShnZXRGb2N1c2FibGVzKHRvcE5vZGVzLCB3aXRoR3VhcmRzKSwgdmlzaWJpbGl0eUNhY2hlKSwgdHJ1ZSwgd2l0aEd1YXJkcyk7XG59O1xuZXhwb3J0IHZhciBnZXRBbGxUYWJiYWJsZU5vZGVzID0gZnVuY3Rpb24gKHRvcE5vZGVzLCB2aXNpYmlsaXR5Q2FjaGUpIHtcbiAgICByZXR1cm4gb3JkZXJCeVRhYkluZGV4KGZpbHRlckZvY3VzYWJsZShnZXRGb2N1c2FibGVzKHRvcE5vZGVzKSwgdmlzaWJpbGl0eUNhY2hlKSwgZmFsc2UpO1xufTtcbmV4cG9ydCB2YXIgcGFyZW50QXV0b2ZvY3VzYWJsZXMgPSBmdW5jdGlvbiAodG9wTm9kZSwgdmlzaWJpbGl0eUNhY2hlKSB7XG4gICAgcmV0dXJuIGZpbHRlckZvY3VzYWJsZShnZXRQYXJlbnRBdXRvZm9jdXNhYmxlcyh0b3BOb2RlKSwgdmlzaWJpbGl0eUNhY2hlKTtcbn07XG4iLCJpbXBvcnQgeyBGT0NVU19ESVNBQkxFRCwgRk9DVVNfR1JPVVAgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYXNBcnJheSwgdG9BcnJheSB9IGZyb20gJy4vYXJyYXknO1xudmFyIGZpbHRlck5lc3RlZCA9IGZ1bmN0aW9uIChub2Rlcykge1xuICAgIHZhciBjb250YWluZWQgPSBuZXcgU2V0KCk7XG4gICAgdmFyIGwgPSBub2Rlcy5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsOyBpICs9IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaiA9IGkgKyAxOyBqIDwgbDsgaiArPSAxKSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBub2Rlc1tpXS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihub2Rlc1tqXSk7XG4gICAgICAgICAgICBpZiAoKHBvc2l0aW9uICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlORURfQlkpID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lZC5hZGQoaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHBvc2l0aW9uICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9DT05UQUlOUykgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVkLmFkZChpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbm9kZXMuZmlsdGVyKGZ1bmN0aW9uIChfLCBpbmRleCkgeyByZXR1cm4gIWNvbnRhaW5lZC5oYXMoaW5kZXgpOyB9KTtcbn07XG52YXIgZ2V0VG9wUGFyZW50ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlID8gZ2V0VG9wUGFyZW50KG5vZGUucGFyZW50Tm9kZSkgOiBub2RlO1xufTtcbmV4cG9ydCB2YXIgZ2V0QWxsQWZmZWN0ZWROb2RlcyA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdmFyIG5vZGVzID0gYXNBcnJheShub2RlKTtcbiAgICByZXR1cm4gbm9kZXMuZmlsdGVyKEJvb2xlYW4pLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJyZW50Tm9kZSkge1xuICAgICAgICB2YXIgZ3JvdXAgPSBjdXJyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoRk9DVVNfR1JPVVApO1xuICAgICAgICBhY2MucHVzaC5hcHBseShhY2MsIChncm91cFxuICAgICAgICAgICAgPyBmaWx0ZXJOZXN0ZWQodG9BcnJheShnZXRUb3BQYXJlbnQoY3VycmVudE5vZGUpLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIgKyBGT0NVU19HUk9VUCArIFwiPVxcXCJcIiArIGdyb3VwICsgXCJcXFwiXTpub3QoW1wiICsgRk9DVVNfRElTQUJMRUQgKyBcIj1cXFwiZGlzYWJsZWRcXFwiXSlcIikpKVxuICAgICAgICAgICAgOiBbY3VycmVudE5vZGVdKSk7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgW10pO1xufTtcbiIsImV4cG9ydCB2YXIgdG9BcnJheSA9IGZ1bmN0aW9uIChhKSB7XG4gICAgdmFyIHJldCA9IEFycmF5KGEubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgcmV0W2ldID0gYVtpXTtcbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbn07XG5leHBvcnQgdmFyIGFzQXJyYXkgPSBmdW5jdGlvbiAoYSkgeyByZXR1cm4gKEFycmF5LmlzQXJyYXkoYSkgPyBhIDogW2FdKTsgfTtcbiIsInZhciBpc1JhZGlvID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUudGFnTmFtZSA9PT0gJ0lOUFVUJyAmJiBub2RlLnR5cGUgPT09ICdyYWRpbyc7IH07XG52YXIgZmluZFNlbGVjdGVkUmFkaW8gPSBmdW5jdGlvbiAobm9kZSwgbm9kZXMpIHtcbiAgICByZXR1cm4gbm9kZXNcbiAgICAgICAgLmZpbHRlcihpc1JhZGlvKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwubmFtZSA9PT0gbm9kZS5uYW1lOyB9KVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuY2hlY2tlZDsgfSlbMF0gfHwgbm9kZTtcbn07XG5leHBvcnQgdmFyIGNvcnJlY3ROb2RlID0gZnVuY3Rpb24gKG5vZGUsIG5vZGVzKSB7XG4gICAgaWYgKGlzUmFkaW8obm9kZSkgJiYgbm9kZS5uYW1lKSB7XG4gICAgICAgIHJldHVybiBmaW5kU2VsZWN0ZWRSYWRpbyhub2RlLCBub2Rlcyk7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xufTtcbmV4cG9ydCB2YXIgY29ycmVjdE5vZGVzID0gZnVuY3Rpb24gKG5vZGVzKSB7XG4gICAgdmFyIHJlc3VsdFNldCA9IG5ldyBTZXQoKTtcbiAgICBub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiByZXN1bHRTZXQuYWRkKGNvcnJlY3ROb2RlKG5vZGUsIG5vZGVzKSk7IH0pO1xuICAgIHJldHVybiBub2Rlcy5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIHJlc3VsdFNldC5oYXMobm9kZSk7IH0pO1xufTtcbiIsImltcG9ydCB7IGNvcnJlY3ROb2RlIH0gZnJvbSAnLi9jb3JyZWN0Rm9jdXMnO1xuZXhwb3J0IHZhciBwaWNrRmlyc3RGb2N1cyA9IGZ1bmN0aW9uIChub2Rlcykge1xuICAgIGlmIChub2Rlc1swXSAmJiBub2Rlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJldHVybiBjb3JyZWN0Tm9kZShub2Rlc1swXSwgbm9kZXMpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZXNbMF07XG59O1xuZXhwb3J0IHZhciBwaWNrRm9jdXNhYmxlID0gZnVuY3Rpb24gKG5vZGVzLCBpbmRleCkge1xuICAgIGlmIChub2Rlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHJldHVybiBub2Rlcy5pbmRleE9mKGNvcnJlY3ROb2RlKG5vZGVzW2luZGV4XSwgbm9kZXMpKTtcbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xufTtcbiIsInZhciBpc0VsZW1lbnRIaWRkZW4gPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChub2RlLm5vZGVUeXBlICE9PSBOb2RlLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciBjb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSwgbnVsbCk7XG4gICAgaWYgKCFjb21wdXRlZFN0eWxlIHx8ICFjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKGNvbXB1dGVkU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnZGlzcGxheScpID09PSAnbm9uZScgfHwgY29tcHV0ZWRTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd2aXNpYmlsaXR5JykgPT09ICdoaWRkZW4nKTtcbn07XG52YXIgaXNWaXNpYmxlVW5jYWNoZWQgPSBmdW5jdGlvbiAobm9kZSwgY2hlY2tQYXJlbnQpIHtcbiAgICByZXR1cm4gIW5vZGUgfHxcbiAgICAgICAgbm9kZSA9PT0gZG9jdW1lbnQgfHxcbiAgICAgICAgKG5vZGUgJiYgbm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9OT0RFKSB8fFxuICAgICAgICAoIWlzRWxlbWVudEhpZGRlbihub2RlKSAmJlxuICAgICAgICAgICAgY2hlY2tQYXJlbnQobm9kZS5wYXJlbnROb2RlICYmIG5vZGUucGFyZW50Tm9kZS5ub2RlVHlwZSA9PT0gTm9kZS5ET0NVTUVOVF9GUkFHTUVOVF9OT0RFXG4gICAgICAgICAgICAgICAgPyBub2RlLnBhcmVudE5vZGUuaG9zdFxuICAgICAgICAgICAgICAgIDogbm9kZS5wYXJlbnROb2RlKSk7XG59O1xuZXhwb3J0IHZhciBpc1Zpc2libGVDYWNoZWQgPSBmdW5jdGlvbiAodmlzaWJpbGl0eUNhY2hlLCBub2RlKSB7XG4gICAgdmFyIGNhY2hlZCA9IHZpc2liaWxpdHlDYWNoZS5nZXQobm9kZSk7XG4gICAgaWYgKGNhY2hlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWQ7XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSBpc1Zpc2libGVVbmNhY2hlZChub2RlLCBpc1Zpc2libGVDYWNoZWQuYmluZCh1bmRlZmluZWQsIHZpc2liaWxpdHlDYWNoZSkpO1xuICAgIHZpc2liaWxpdHlDYWNoZS5zZXQobm9kZSwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufTtcbmV4cG9ydCB2YXIgbm90SGlkZGVuSW5wdXQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIHJldHVybiAhKChub2RlLnRhZ05hbWUgPT09ICdJTlBVVCcgfHwgbm9kZS50YWdOYW1lID09PSAnQlVUVE9OJykgJiYgKG5vZGUudHlwZSA9PT0gJ2hpZGRlbicgfHwgbm9kZS5kaXNhYmxlZCkpO1xufTtcbmV4cG9ydCB2YXIgaXNHdWFyZCA9IGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBCb29sZWFuKG5vZGUgJiYgbm9kZS5kYXRhc2V0ICYmIG5vZGUuZGF0YXNldC5mb2N1c0d1YXJkKTsgfTtcbmV4cG9ydCB2YXIgaXNOb3RBR3VhcmQgPSBmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gIWlzR3VhcmQobm9kZSk7IH07XG5leHBvcnQgdmFyIGlzRGVmaW5lZCA9IGZ1bmN0aW9uICh4KSB7IHJldHVybiBCb29sZWFuKHgpOyB9O1xuIiwiaW1wb3J0IHsgYXNBcnJheSB9IGZyb20gJy4vYXJyYXknO1xuaW1wb3J0IHsgcGFyZW50QXV0b2ZvY3VzYWJsZXMgfSBmcm9tICcuL0RPTXV0aWxzJztcbnZhciBnZXRQYXJlbnRzID0gZnVuY3Rpb24gKG5vZGUsIHBhcmVudHMpIHtcbiAgICBpZiAocGFyZW50cyA9PT0gdm9pZCAwKSB7IHBhcmVudHMgPSBbXTsgfVxuICAgIHBhcmVudHMucHVzaChub2RlKTtcbiAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIGdldFBhcmVudHMobm9kZS5wYXJlbnROb2RlLCBwYXJlbnRzKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmVudHM7XG59O1xuZXhwb3J0IHZhciBnZXRDb21tb25QYXJlbnQgPSBmdW5jdGlvbiAobm9kZUEsIG5vZGVCKSB7XG4gICAgdmFyIHBhcmVudHNBID0gZ2V0UGFyZW50cyhub2RlQSk7XG4gICAgdmFyIHBhcmVudHNCID0gZ2V0UGFyZW50cyhub2RlQik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJlbnRzQS5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICB2YXIgY3VycmVudFBhcmVudCA9IHBhcmVudHNBW2ldO1xuICAgICAgICBpZiAocGFyZW50c0IuaW5kZXhPZihjdXJyZW50UGFyZW50KSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFBhcmVudDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0IHZhciBnZXRUb3BDb21tb25QYXJlbnQgPSBmdW5jdGlvbiAoYmFzZUFjdGl2ZUVsZW1lbnQsIGxlZnRFbnRyeSwgcmlnaHRFbnRyaWVzKSB7XG4gICAgdmFyIGFjdGl2ZUVsZW1lbnRzID0gYXNBcnJheShiYXNlQWN0aXZlRWxlbWVudCk7XG4gICAgdmFyIGxlZnRFbnRyaWVzID0gYXNBcnJheShsZWZ0RW50cnkpO1xuICAgIHZhciBhY3RpdmVFbGVtZW50ID0gYWN0aXZlRWxlbWVudHNbMF07XG4gICAgdmFyIHRvcENvbW1vbiA9IGZhbHNlO1xuICAgIGxlZnRFbnRyaWVzLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChlbnRyeSkge1xuICAgICAgICB0b3BDb21tb24gPSBnZXRDb21tb25QYXJlbnQodG9wQ29tbW9uIHx8IGVudHJ5LCBlbnRyeSkgfHwgdG9wQ29tbW9uO1xuICAgICAgICByaWdodEVudHJpZXMuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKHN1YkVudHJ5KSB7XG4gICAgICAgICAgICB2YXIgY29tbW9uID0gZ2V0Q29tbW9uUGFyZW50KGFjdGl2ZUVsZW1lbnQsIHN1YkVudHJ5KTtcbiAgICAgICAgICAgIGlmIChjb21tb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRvcENvbW1vbiB8fCBjb21tb24uY29udGFpbnModG9wQ29tbW9uKSkge1xuICAgICAgICAgICAgICAgICAgICB0b3BDb21tb24gPSBjb21tb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0b3BDb21tb24gPSBnZXRDb21tb25QYXJlbnQoY29tbW9uLCB0b3BDb21tb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRvcENvbW1vbjtcbn07XG5leHBvcnQgdmFyIGFsbFBhcmVudEF1dG9mb2N1c2FibGVzID0gZnVuY3Rpb24gKGVudHJpZXMsIHZpc2liaWxpdHlDYWNoZSkge1xuICAgIHJldHVybiBlbnRyaWVzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBub2RlKSB7IHJldHVybiBhY2MuY29uY2F0KHBhcmVudEF1dG9mb2N1c2FibGVzKG5vZGUsIHZpc2liaWxpdHlDYWNoZSkpOyB9LCBbXSk7XG59O1xuIiwiaW1wb3J0IHsgdG9BcnJheSB9IGZyb20gJy4vYXJyYXknO1xuZXhwb3J0IHZhciB0YWJTb3J0ID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgdGFiRGlmZiA9IGEudGFiSW5kZXggLSBiLnRhYkluZGV4O1xuICAgIHZhciBpbmRleERpZmYgPSBhLmluZGV4IC0gYi5pbmRleDtcbiAgICBpZiAodGFiRGlmZikge1xuICAgICAgICBpZiAoIWEudGFiSW5kZXgpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYi50YWJJbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0YWJEaWZmIHx8IGluZGV4RGlmZjtcbn07XG5leHBvcnQgdmFyIG9yZGVyQnlUYWJJbmRleCA9IGZ1bmN0aW9uIChub2RlcywgZmlsdGVyTmVnYXRpdmUsIGtlZXBHdWFyZHMpIHtcbiAgICByZXR1cm4gdG9BcnJheShub2RlcylcbiAgICAgICAgLm1hcChmdW5jdGlvbiAobm9kZSwgaW5kZXgpIHsgcmV0dXJuICh7XG4gICAgICAgIG5vZGU6IG5vZGUsXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgdGFiSW5kZXg6IGtlZXBHdWFyZHMgJiYgbm9kZS50YWJJbmRleCA9PT0gLTEgPyAoKG5vZGUuZGF0YXNldCB8fCB7fSkuZm9jdXNHdWFyZCA/IDAgOiAtMSkgOiBub2RlLnRhYkluZGV4LFxuICAgIH0pOyB9KVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiAhZmlsdGVyTmVnYXRpdmUgfHwgZGF0YS50YWJJbmRleCA+PSAwOyB9KVxuICAgICAgICAuc29ydCh0YWJTb3J0KTtcbn07XG4iLCJpbXBvcnQgeyBGT0NVU19BVVRPIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcbmltcG9ydCB7IHRvQXJyYXkgfSBmcm9tICcuL2FycmF5JztcbmltcG9ydCB7IHRhYmJhYmxlcyB9IGZyb20gJy4vdGFiYmFibGVzJztcbnZhciBxdWVyeVRhYmJhYmxlcyA9IHRhYmJhYmxlcy5qb2luKCcsJyk7XG52YXIgcXVlcnlHdWFyZFRhYmJhYmxlcyA9IHF1ZXJ5VGFiYmFibGVzICsgXCIsIFtkYXRhLWZvY3VzLWd1YXJkXVwiO1xuZXhwb3J0IHZhciBnZXRGb2N1c2FibGVzID0gZnVuY3Rpb24gKHBhcmVudHMsIHdpdGhHdWFyZHMpIHtcbiAgICByZXR1cm4gcGFyZW50cy5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFyZW50KSB7XG4gICAgICAgIHJldHVybiBhY2MuY29uY2F0KHRvQXJyYXkocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwod2l0aEd1YXJkcyA/IHF1ZXJ5R3VhcmRUYWJiYWJsZXMgOiBxdWVyeVRhYmJhYmxlcykpLCBwYXJlbnQucGFyZW50Tm9kZVxuICAgICAgICAgICAgPyB0b0FycmF5KHBhcmVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnlUYWJiYWJsZXMpKS5maWx0ZXIoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUgPT09IHBhcmVudDsgfSlcbiAgICAgICAgICAgIDogW10pO1xuICAgIH0sIFtdKTtcbn07XG5leHBvcnQgdmFyIGdldFBhcmVudEF1dG9mb2N1c2FibGVzID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgIHZhciBwYXJlbnRGb2N1cyA9IHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiICsgRk9DVVNfQVVUTyArIFwiXVwiKTtcbiAgICByZXR1cm4gdG9BcnJheShwYXJlbnRGb2N1cylcbiAgICAgICAgLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gZ2V0Rm9jdXNhYmxlcyhbbm9kZV0pOyB9KVxuICAgICAgICAucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5vZGVzKSB7IHJldHVybiBhY2MuY29uY2F0KG5vZGVzKTsgfSwgW10pO1xufTtcbiIsImV4cG9ydCB2YXIgdGFiYmFibGVzID0gW1xuICAgICdidXR0b246ZW5hYmxlZCcsXG4gICAgJ3NlbGVjdDplbmFibGVkJyxcbiAgICAndGV4dGFyZWE6ZW5hYmxlZCcsXG4gICAgJ2lucHV0OmVuYWJsZWQnLFxuICAgICdhW2hyZWZdJyxcbiAgICAnYXJlYVtocmVmXScsXG4gICAgJ3N1bW1hcnknLFxuICAgICdpZnJhbWUnLFxuICAgICdvYmplY3QnLFxuICAgICdlbWJlZCcsXG4gICAgJ2F1ZGlvW2NvbnRyb2xzXScsXG4gICAgJ3ZpZGVvW2NvbnRyb2xzXScsXG4gICAgJ1t0YWJpbmRleF0nLFxuICAgICdbY29udGVudGVkaXRhYmxlXScsXG4gICAgJ1thdXRvZm9jdXNdJyxcbl07XG4iLCJ2YXIgY3VycmVudE5vbmNlO1xuZXhwb3J0IHZhciBzZXROb25jZSA9IGZ1bmN0aW9uIChub25jZSkge1xuICAgIGN1cnJlbnROb25jZSA9IG5vbmNlO1xufTtcbmV4cG9ydCB2YXIgZ2V0Tm9uY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGN1cnJlbnROb25jZSkge1xuICAgICAgICByZXR1cm4gY3VycmVudE5vbmNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gX193ZWJwYWNrX25vbmNlX187XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbigpIHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICB2YXIgUmVhY3RQcm9wVHlwZXNTZWNyZXQgPSByZXF1aXJlKCcuL2xpYi9SZWFjdFByb3BUeXBlc1NlY3JldCcpO1xuICB2YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG4gIHZhciBoYXMgPSByZXF1aXJlKCcuL2xpYi9oYXMnKTtcblxuICBwcmludFdhcm5pbmcgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAnV2FybmluZzogJyArIHRleHQ7XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIC8vIC0tLSBXZWxjb21lIHRvIGRlYnVnZ2luZyBSZWFjdCAtLS1cbiAgICAgIC8vIFRoaXMgZXJyb3Igd2FzIHRocm93biBhcyBhIGNvbnZlbmllbmNlIHNvIHRoYXQgeW91IGNhbiB1c2UgdGhpcyBzdGFja1xuICAgICAgLy8gdG8gZmluZCB0aGUgY2FsbHNpdGUgdGhhdCBjYXVzZWQgdGhpcyB3YXJuaW5nIHRvIGZpcmUuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoeCkgeyAvKiovIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBBc3NlcnQgdGhhdCB0aGUgdmFsdWVzIG1hdGNoIHdpdGggdGhlIHR5cGUgc3BlY3MuXG4gKiBFcnJvciBtZXNzYWdlcyBhcmUgbWVtb3JpemVkIGFuZCB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gdHlwZVNwZWNzIE1hcCBvZiBuYW1lIHRvIGEgUmVhY3RQcm9wVHlwZVxuICogQHBhcmFtIHtvYmplY3R9IHZhbHVlcyBSdW50aW1lIHZhbHVlcyB0aGF0IG5lZWQgdG8gYmUgdHlwZS1jaGVja2VkXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYXRpb24gZS5nLiBcInByb3BcIiwgXCJjb250ZXh0XCIsIFwiY2hpbGQgY29udGV4dFwiXG4gKiBAcGFyYW0ge3N0cmluZ30gY29tcG9uZW50TmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICogQHBhcmFtIHs/RnVuY3Rpb259IGdldFN0YWNrIFJldHVybnMgdGhlIGNvbXBvbmVudCBzdGFjay5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHR5cGVTcGVjcywgdmFsdWVzLCBsb2NhdGlvbiwgY29tcG9uZW50TmFtZSwgZ2V0U3RhY2spIHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICBmb3IgKHZhciB0eXBlU3BlY05hbWUgaW4gdHlwZVNwZWNzKSB7XG4gICAgICBpZiAoaGFzKHR5cGVTcGVjcywgdHlwZVNwZWNOYW1lKSkge1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIC8vIFByb3AgdHlwZSB2YWxpZGF0aW9uIG1heSB0aHJvdy4gSW4gY2FzZSB0aGV5IGRvLCB3ZSBkb24ndCB3YW50IHRvXG4gICAgICAgIC8vIGZhaWwgdGhlIHJlbmRlciBwaGFzZSB3aGVyZSBpdCBkaWRuJ3QgZmFpbCBiZWZvcmUuIFNvIHdlIGxvZyBpdC5cbiAgICAgICAgLy8gQWZ0ZXIgdGhlc2UgaGF2ZSBiZWVuIGNsZWFuZWQgdXAsIHdlJ2xsIGxldCB0aGVtIHRocm93LlxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cbiAgICAgICAgICBpZiAodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB2YXIgZXJyID0gRXJyb3IoXG4gICAgICAgICAgICAgIChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogJyArIGxvY2F0aW9uICsgJyB0eXBlIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgJyArXG4gICAgICAgICAgICAgICdpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJyArIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSArICdgLicgK1xuICAgICAgICAgICAgICAnVGhpcyBvZnRlbiBoYXBwZW5zIGJlY2F1c2Ugb2YgdHlwb3Mgc3VjaCBhcyBgUHJvcFR5cGVzLmZ1bmN0aW9uYCBpbnN0ZWFkIG9mIGBQcm9wVHlwZXMuZnVuY2AuJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlcnJvciA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIGVycm9yID0gZXg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9yICYmICEoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgICAoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAnICtcbiAgICAgICAgICAgIGxvY2F0aW9uICsgJyBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArXG4gICAgICAgICAgICAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJyArIHR5cGVvZiBlcnJvciArICcuICcgK1xuICAgICAgICAgICAgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgK1xuICAgICAgICAgICAgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArXG4gICAgICAgICAgICAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLidcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG4gICAgICAgICAgLy8gc2FtZSBlcnJvci5cbiAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IubWVzc2FnZV0gPSB0cnVlO1xuXG4gICAgICAgICAgdmFyIHN0YWNrID0gZ2V0U3RhY2sgPyBnZXRTdGFjaygpIDogJyc7XG5cbiAgICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgICAnRmFpbGVkICcgKyBsb2NhdGlvbiArICcgdHlwZTogJyArIGVycm9yLm1lc3NhZ2UgKyAoc3RhY2sgIT0gbnVsbCA/IHN0YWNrIDogJycpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFJlc2V0cyB3YXJuaW5nIGNhY2hlIHdoZW4gdGVzdGluZy5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jaGVja1Byb3BUeXBlcy5yZXNldFdhcm5pbmdDYWNoZSA9IGZ1bmN0aW9uKCkge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY2hlY2tQcm9wVHlwZXM7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0SXMgPSByZXF1aXJlKCdyZWFjdC1pcycpO1xudmFyIGFzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gcmVxdWlyZSgnLi9saWIvUmVhY3RQcm9wVHlwZXNTZWNyZXQnKTtcbnZhciBoYXMgPSByZXF1aXJlKCcuL2xpYi9oYXMnKTtcbnZhciBjaGVja1Byb3BUeXBlcyA9IHJlcXVpcmUoJy4vY2hlY2tQcm9wVHlwZXMnKTtcblxudmFyIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHByaW50V2FybmluZyA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICsgdGV4dDtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9O1xufVxuXG5mdW5jdGlvbiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsKCkge1xuICByZXR1cm4gbnVsbDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpc1ZhbGlkRWxlbWVudCwgdGhyb3dPbkRpcmVjdEFjY2Vzcykge1xuICAvKiBnbG9iYWwgU3ltYm9sICovXG4gIHZhciBJVEVSQVRPUl9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5pdGVyYXRvcjtcbiAgdmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InOyAvLyBCZWZvcmUgU3ltYm9sIHNwZWMuXG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGl0ZXJhdG9yIG1ldGhvZCBmdW5jdGlvbiBjb250YWluZWQgb24gdGhlIGl0ZXJhYmxlIG9iamVjdC5cbiAgICpcbiAgICogQmUgc3VyZSB0byBpbnZva2UgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGl0ZXJhYmxlIGFzIGNvbnRleHQ6XG4gICAqXG4gICAqICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obXlJdGVyYWJsZSk7XG4gICAqICAgICBpZiAoaXRlcmF0b3JGbikge1xuICAgKiAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwobXlJdGVyYWJsZSk7XG4gICAqICAgICAgIC4uLlxuICAgKiAgICAgfVxuICAgKlxuICAgKiBAcGFyYW0gez9vYmplY3R9IG1heWJlSXRlcmFibGVcbiAgICogQHJldHVybiB7P2Z1bmN0aW9ufVxuICAgKi9cbiAgZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gICAgdmFyIGl0ZXJhdG9yRm4gPSBtYXliZUl0ZXJhYmxlICYmIChJVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtJVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdKTtcbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvckZuO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb2xsZWN0aW9uIG9mIG1ldGhvZHMgdGhhdCBhbGxvdyBkZWNsYXJhdGlvbiBhbmQgdmFsaWRhdGlvbiBvZiBwcm9wcyB0aGF0IGFyZVxuICAgKiBzdXBwbGllZCB0byBSZWFjdCBjb21wb25lbnRzLiBFeGFtcGxlIHVzYWdlOlxuICAgKlxuICAgKiAgIHZhciBQcm9wcyA9IHJlcXVpcmUoJ1JlYWN0UHJvcFR5cGVzJyk7XG4gICAqICAgdmFyIE15QXJ0aWNsZSA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICogICAgIHByb3BUeXBlczoge1xuICAgKiAgICAgICAvLyBBbiBvcHRpb25hbCBzdHJpbmcgcHJvcCBuYW1lZCBcImRlc2NyaXB0aW9uXCIuXG4gICAqICAgICAgIGRlc2NyaXB0aW9uOiBQcm9wcy5zdHJpbmcsXG4gICAqXG4gICAqICAgICAgIC8vIEEgcmVxdWlyZWQgZW51bSBwcm9wIG5hbWVkIFwiY2F0ZWdvcnlcIi5cbiAgICogICAgICAgY2F0ZWdvcnk6IFByb3BzLm9uZU9mKFsnTmV3cycsJ1Bob3RvcyddKS5pc1JlcXVpcmVkLFxuICAgKlxuICAgKiAgICAgICAvLyBBIHByb3AgbmFtZWQgXCJkaWFsb2dcIiB0aGF0IHJlcXVpcmVzIGFuIGluc3RhbmNlIG9mIERpYWxvZy5cbiAgICogICAgICAgZGlhbG9nOiBQcm9wcy5pbnN0YW5jZU9mKERpYWxvZykuaXNSZXF1aXJlZFxuICAgKiAgICAgfSxcbiAgICogICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7IC4uLiB9XG4gICAqICAgfSk7XG4gICAqXG4gICAqIEEgbW9yZSBmb3JtYWwgc3BlY2lmaWNhdGlvbiBvZiBob3cgdGhlc2UgbWV0aG9kcyBhcmUgdXNlZDpcbiAgICpcbiAgICogICB0eXBlIDo9IGFycmF5fGJvb2x8ZnVuY3xvYmplY3R8bnVtYmVyfHN0cmluZ3xvbmVPZihbLi4uXSl8aW5zdGFuY2VPZiguLi4pXG4gICAqICAgZGVjbCA6PSBSZWFjdFByb3BUeXBlcy57dHlwZX0oLmlzUmVxdWlyZWQpP1xuICAgKlxuICAgKiBFYWNoIGFuZCBldmVyeSBkZWNsYXJhdGlvbiBwcm9kdWNlcyBhIGZ1bmN0aW9uIHdpdGggdGhlIHNhbWUgc2lnbmF0dXJlLiBUaGlzXG4gICAqIGFsbG93cyB0aGUgY3JlYXRpb24gb2YgY3VzdG9tIHZhbGlkYXRpb24gZnVuY3Rpb25zLiBGb3IgZXhhbXBsZTpcbiAgICpcbiAgICogIHZhciBNeUxpbmsgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAqICAgIHByb3BUeXBlczoge1xuICAgKiAgICAgIC8vIEFuIG9wdGlvbmFsIHN0cmluZyBvciBVUkkgcHJvcCBuYW1lZCBcImhyZWZcIi5cbiAgICogICAgICBocmVmOiBmdW5jdGlvbihwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUpIHtcbiAgICogICAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAqICAgICAgICBpZiAocHJvcFZhbHVlICE9IG51bGwgJiYgdHlwZW9mIHByb3BWYWx1ZSAhPT0gJ3N0cmluZycgJiZcbiAgICogICAgICAgICAgICAhKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFVSSSkpIHtcbiAgICogICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihcbiAgICogICAgICAgICAgICAnRXhwZWN0ZWQgYSBzdHJpbmcgb3IgYW4gVVJJIGZvciAnICsgcHJvcE5hbWUgKyAnIGluICcgK1xuICAgKiAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICogICAgICAgICAgKTtcbiAgICogICAgICAgIH1cbiAgICogICAgICB9XG4gICAqICAgIH0sXG4gICAqICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7Li4ufVxuICAgKiAgfSk7XG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cblxuICB2YXIgQU5PTllNT1VTID0gJzw8YW5vbnltb3VzPj4nO1xuXG4gIC8vIEltcG9ydGFudCFcbiAgLy8gS2VlcCB0aGlzIGxpc3QgaW4gc3luYyB3aXRoIHByb2R1Y3Rpb24gdmVyc2lvbiBpbiBgLi9mYWN0b3J5V2l0aFRocm93aW5nU2hpbXMuanNgLlxuICB2YXIgUmVhY3RQcm9wVHlwZXMgPSB7XG4gICAgYXJyYXk6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdhcnJheScpLFxuICAgIGJpZ2ludDogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2JpZ2ludCcpLFxuICAgIGJvb2w6IGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKCdib29sZWFuJyksXG4gICAgZnVuYzogY3JlYXRlUHJpbWl0aXZlVHlwZUNoZWNrZXIoJ2Z1bmN0aW9uJyksXG4gICAgbnVtYmVyOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignbnVtYmVyJyksXG4gICAgb2JqZWN0OiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignb2JqZWN0JyksXG4gICAgc3RyaW5nOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3RyaW5nJyksXG4gICAgc3ltYm9sOiBjcmVhdGVQcmltaXRpdmVUeXBlQ2hlY2tlcignc3ltYm9sJyksXG5cbiAgICBhbnk6IGNyZWF0ZUFueVR5cGVDaGVja2VyKCksXG4gICAgYXJyYXlPZjogY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyLFxuICAgIGVsZW1lbnQ6IGNyZWF0ZUVsZW1lbnRUeXBlQ2hlY2tlcigpLFxuICAgIGVsZW1lbnRUeXBlOiBjcmVhdGVFbGVtZW50VHlwZVR5cGVDaGVja2VyKCksXG4gICAgaW5zdGFuY2VPZjogY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcixcbiAgICBub2RlOiBjcmVhdGVOb2RlQ2hlY2tlcigpLFxuICAgIG9iamVjdE9mOiBjcmVhdGVPYmplY3RPZlR5cGVDaGVja2VyLFxuICAgIG9uZU9mOiBjcmVhdGVFbnVtVHlwZUNoZWNrZXIsXG4gICAgb25lT2ZUeXBlOiBjcmVhdGVVbmlvblR5cGVDaGVja2VyLFxuICAgIHNoYXBlOiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyLFxuICAgIGV4YWN0OiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyLFxuICB9O1xuXG4gIC8qKlxuICAgKiBpbmxpbmVkIE9iamVjdC5pcyBwb2x5ZmlsbCB0byBhdm9pZCByZXF1aXJpbmcgY29uc3VtZXJzIHNoaXAgdGhlaXIgb3duXG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICAgKi9cbiAgLyplc2xpbnQtZGlzYWJsZSBuby1zZWxmLWNvbXBhcmUqL1xuICBmdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgLy8gU2FtZVZhbHVlIGFsZ29yaXRobVxuICAgIGlmICh4ID09PSB5KSB7XG4gICAgICAvLyBTdGVwcyAxLTUsIDctMTBcbiAgICAgIC8vIFN0ZXBzIDYuYi02LmU6ICswICE9IC0wXG4gICAgICByZXR1cm4geCAhPT0gMCB8fCAxIC8geCA9PT0gMSAvIHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFN0ZXAgNi5hOiBOYU4gPT0gTmFOXG4gICAgICByZXR1cm4geCAhPT0geCAmJiB5ICE9PSB5O1xuICAgIH1cbiAgfVxuICAvKmVzbGludC1lbmFibGUgbm8tc2VsZi1jb21wYXJlKi9cblxuICAvKipcbiAgICogV2UgdXNlIGFuIEVycm9yLWxpa2Ugb2JqZWN0IGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IGFzIHBlb3BsZSBtYXkgY2FsbFxuICAgKiBQcm9wVHlwZXMgZGlyZWN0bHkgYW5kIGluc3BlY3QgdGhlaXIgb3V0cHV0LiBIb3dldmVyLCB3ZSBkb24ndCB1c2UgcmVhbFxuICAgKiBFcnJvcnMgYW55bW9yZS4gV2UgZG9uJ3QgaW5zcGVjdCB0aGVpciBzdGFjayBhbnl3YXksIGFuZCBjcmVhdGluZyB0aGVtXG4gICAqIGlzIHByb2hpYml0aXZlbHkgZXhwZW5zaXZlIGlmIHRoZXkgYXJlIGNyZWF0ZWQgdG9vIG9mdGVuLCBzdWNoIGFzIHdoYXRcbiAgICogaGFwcGVucyBpbiBvbmVPZlR5cGUoKSBmb3IgYW55IHR5cGUgYmVmb3JlIHRoZSBvbmUgdGhhdCBtYXRjaGVkLlxuICAgKi9cbiAgZnVuY3Rpb24gUHJvcFR5cGVFcnJvcihtZXNzYWdlLCBkYXRhKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLmRhdGEgPSBkYXRhICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyA/IGRhdGE6IHt9O1xuICAgIHRoaXMuc3RhY2sgPSAnJztcbiAgfVxuICAvLyBNYWtlIGBpbnN0YW5jZW9mIEVycm9yYCBzdGlsbCB3b3JrIGZvciByZXR1cm5lZCBlcnJvcnMuXG4gIFByb3BUeXBlRXJyb3IucHJvdG90eXBlID0gRXJyb3IucHJvdG90eXBlO1xuXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIHZhciBtYW51YWxQcm9wVHlwZUNhbGxDYWNoZSA9IHt9O1xuICAgICAgdmFyIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50ID0gMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2hlY2tUeXBlKGlzUmVxdWlyZWQsIHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgICBjb21wb25lbnROYW1lID0gY29tcG9uZW50TmFtZSB8fCBBTk9OWU1PVVM7XG4gICAgICBwcm9wRnVsbE5hbWUgPSBwcm9wRnVsbE5hbWUgfHwgcHJvcE5hbWU7XG5cbiAgICAgIGlmIChzZWNyZXQgIT09IFJlYWN0UHJvcFR5cGVzU2VjcmV0KSB7XG4gICAgICAgIGlmICh0aHJvd09uRGlyZWN0QWNjZXNzKSB7XG4gICAgICAgICAgLy8gTmV3IGJlaGF2aW9yIG9ubHkgZm9yIHVzZXJzIG9mIGBwcm9wLXR5cGVzYCBwYWNrYWdlXG4gICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdDYWxsaW5nIFByb3BUeXBlcyB2YWxpZGF0b3JzIGRpcmVjdGx5IGlzIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICAgICAgICdVc2UgYFByb3BUeXBlcy5jaGVja1Byb3BUeXBlcygpYCB0byBjYWxsIHRoZW0uICcgK1xuICAgICAgICAgICAgJ1JlYWQgbW9yZSBhdCBodHRwOi8vZmIubWUvdXNlLWNoZWNrLXByb3AtdHlwZXMnXG4gICAgICAgICAgKTtcbiAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH0gZWxzZSBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAvLyBPbGQgYmVoYXZpb3IgZm9yIHBlb3BsZSB1c2luZyBSZWFjdC5Qcm9wVHlwZXNcbiAgICAgICAgICB2YXIgY2FjaGVLZXkgPSBjb21wb25lbnROYW1lICsgJzonICsgcHJvcE5hbWU7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIW1hbnVhbFByb3BUeXBlQ2FsbENhY2hlW2NhY2hlS2V5XSAmJlxuICAgICAgICAgICAgLy8gQXZvaWQgc3BhbW1pbmcgdGhlIGNvbnNvbGUgYmVjYXVzZSB0aGV5IGFyZSBvZnRlbiBub3QgYWN0aW9uYWJsZSBleGNlcHQgZm9yIGxpYiBhdXRob3JzXG4gICAgICAgICAgICBtYW51YWxQcm9wVHlwZVdhcm5pbmdDb3VudCA8IDNcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHByaW50V2FybmluZyhcbiAgICAgICAgICAgICAgJ1lvdSBhcmUgbWFudWFsbHkgY2FsbGluZyBhIFJlYWN0LlByb3BUeXBlcyB2YWxpZGF0aW9uICcgK1xuICAgICAgICAgICAgICAnZnVuY3Rpb24gZm9yIHRoZSBgJyArIHByb3BGdWxsTmFtZSArICdgIHByb3Agb24gYCcgKyBjb21wb25lbnROYW1lICsgJ2AuIFRoaXMgaXMgZGVwcmVjYXRlZCAnICtcbiAgICAgICAgICAgICAgJ2FuZCB3aWxsIHRocm93IGluIHRoZSBzdGFuZGFsb25lIGBwcm9wLXR5cGVzYCBwYWNrYWdlLiAnICtcbiAgICAgICAgICAgICAgJ1lvdSBtYXkgYmUgc2VlaW5nIHRoaXMgd2FybmluZyBkdWUgdG8gYSB0aGlyZC1wYXJ0eSBQcm9wVHlwZXMgJyArXG4gICAgICAgICAgICAgICdsaWJyYXJ5LiBTZWUgaHR0cHM6Ly9mYi5tZS9yZWFjdC13YXJuaW5nLWRvbnQtY2FsbC1wcm9wdHlwZXMgJyArICdmb3IgZGV0YWlscy4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgbWFudWFsUHJvcFR5cGVDYWxsQ2FjaGVbY2FjaGVLZXldID0gdHJ1ZTtcbiAgICAgICAgICAgIG1hbnVhbFByb3BUeXBlV2FybmluZ0NvdW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09IG51bGwpIHtcbiAgICAgICAgaWYgKGlzUmVxdWlyZWQpIHtcbiAgICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1RoZSAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2AgaXMgbWFya2VkIGFzIHJlcXVpcmVkICcgKyAoJ2luIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBidXQgaXRzIHZhbHVlIGlzIGBudWxsYC4nKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignVGhlICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBpcyBtYXJrZWQgYXMgcmVxdWlyZWQgaW4gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGJ1dCBpdHMgdmFsdWUgaXMgYHVuZGVmaW5lZGAuJykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGNoYWluZWRDaGVja1R5cGUgPSBjaGVja1R5cGUuYmluZChudWxsLCBmYWxzZSk7XG4gICAgY2hhaW5lZENoZWNrVHlwZS5pc1JlcXVpcmVkID0gY2hlY2tUeXBlLmJpbmQobnVsbCwgdHJ1ZSk7XG5cbiAgICByZXR1cm4gY2hhaW5lZENoZWNrVHlwZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyKGV4cGVjdGVkVHlwZSkge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgc2VjcmV0KSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgIGlmIChwcm9wVHlwZSAhPT0gZXhwZWN0ZWRUeXBlKSB7XG4gICAgICAgIC8vIGBwcm9wVmFsdWVgIGJlaW5nIGluc3RhbmNlIG9mLCBzYXksIGRhdGUvcmVnZXhwLCBwYXNzIHRoZSAnb2JqZWN0J1xuICAgICAgICAvLyBjaGVjaywgYnV0IHdlIGNhbiBvZmZlciBhIG1vcmUgcHJlY2lzZSBlcnJvciBtZXNzYWdlIGhlcmUgcmF0aGVyIHRoYW5cbiAgICAgICAgLy8gJ29mIHR5cGUgYG9iamVjdGAnLlxuICAgICAgICB2YXIgcHJlY2lzZVR5cGUgPSBnZXRQcmVjaXNlVHlwZShwcm9wVmFsdWUpO1xuXG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcbiAgICAgICAgICAnSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByZWNpc2VUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkICcpICsgKCdgJyArIGV4cGVjdGVkVHlwZSArICdgLicpLFxuICAgICAgICAgIHtleHBlY3RlZFR5cGU6IGV4cGVjdGVkVHlwZX1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQW55VHlwZUNoZWNrZXIoKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGwpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQXJyYXlPZlR5cGVDaGVja2VyKHR5cGVDaGVja2VyKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHR5cGVDaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignUHJvcGVydHkgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiBjb21wb25lbnQgYCcgKyBjb21wb25lbnROYW1lICsgJ2AgaGFzIGludmFsaWQgUHJvcFR5cGUgbm90YXRpb24gaW5zaWRlIGFycmF5T2YuJyk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgICAgdmFyIHByb3BUeXBlID0gZ2V0UHJvcFR5cGUocHJvcFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBvZiB0eXBlICcgKyAoJ2AnICsgcHJvcFR5cGUgKyAnYCBzdXBwbGllZCB0byBgJyArIGNvbXBvbmVudE5hbWUgKyAnYCwgZXhwZWN0ZWQgYW4gYXJyYXkuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wVmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVycm9yID0gdHlwZUNoZWNrZXIocHJvcFZhbHVlLCBpLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJ1snICsgaSArICddJywgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50VHlwZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgaWYgKCFpc1ZhbGlkRWxlbWVudChwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRUeXBlVHlwZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgcHJvcFZhbHVlID0gcHJvcHNbcHJvcE5hbWVdO1xuICAgICAgaWYgKCFSZWFjdElzLmlzVmFsaWRFbGVtZW50VHlwZShwcm9wVmFsdWUpKSB7XG4gICAgICAgIHZhciBwcm9wVHlwZSA9IGdldFByb3BUeXBlKHByb3BWYWx1ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIHByb3BUeXBlICsgJ2Agc3VwcGxpZWQgdG8gYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgc2luZ2xlIFJlYWN0RWxlbWVudCB0eXBlLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSW5zdGFuY2VUeXBlQ2hlY2tlcihleHBlY3RlZENsYXNzKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIShwcm9wc1twcm9wTmFtZV0gaW5zdGFuY2VvZiBleHBlY3RlZENsYXNzKSkge1xuICAgICAgICB2YXIgZXhwZWN0ZWRDbGFzc05hbWUgPSBleHBlY3RlZENsYXNzLm5hbWUgfHwgQU5PTllNT1VTO1xuICAgICAgICB2YXIgYWN0dWFsQ2xhc3NOYW1lID0gZ2V0Q2xhc3NOYW1lKHByb3BzW3Byb3BOYW1lXSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdHlwZSAnICsgKCdgJyArIGFjdHVhbENsYXNzTmFtZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCAnKSArICgnaW5zdGFuY2Ugb2YgYCcgKyBleHBlY3RlZENsYXNzTmFtZSArICdgLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlRW51bVR5cGVDaGVja2VyKGV4cGVjdGVkVmFsdWVzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGV4cGVjdGVkVmFsdWVzKSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgcHJpbnRXYXJuaW5nKFxuICAgICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnRzIHN1cHBsaWVkIHRvIG9uZU9mLCBleHBlY3RlZCBhbiBhcnJheSwgZ290ICcgKyBhcmd1bWVudHMubGVuZ3RoICsgJyBhcmd1bWVudHMuICcgK1xuICAgICAgICAgICAgJ0EgY29tbW9uIG1pc3Rha2UgaXMgdG8gd3JpdGUgb25lT2YoeCwgeSwgeikgaW5zdGVhZCBvZiBvbmVPZihbeCwgeSwgel0pLidcbiAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByaW50V2FybmluZygnSW52YWxpZCBhcmd1bWVudCBzdXBwbGllZCB0byBvbmVPZiwgZXhwZWN0ZWQgYW4gYXJyYXkuJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBlbXB0eUZ1bmN0aW9uVGhhdFJldHVybnNOdWxsO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgdmFyIHByb3BWYWx1ZSA9IHByb3BzW3Byb3BOYW1lXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXhwZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGlzKHByb3BWYWx1ZSwgZXhwZWN0ZWRWYWx1ZXNbaV0pKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHZhbHVlc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KGV4cGVjdGVkVmFsdWVzLCBmdW5jdGlvbiByZXBsYWNlcihrZXksIHZhbHVlKSB7XG4gICAgICAgIHZhciB0eXBlID0gZ2V0UHJlY2lzZVR5cGUodmFsdWUpO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgdmFsdWUgYCcgKyBTdHJpbmcocHJvcFZhbHVlKSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBvbmUgb2YgJyArIHZhbHVlc1N0cmluZyArICcuJykpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlT2JqZWN0T2ZUeXBlQ2hlY2tlcih0eXBlQ2hlY2tlcikge1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSkge1xuICAgICAgaWYgKHR5cGVvZiB0eXBlQ2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ1Byb3BlcnR5IGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agb2YgY29tcG9uZW50IGAnICsgY29tcG9uZW50TmFtZSArICdgIGhhcyBpbnZhbGlkIFByb3BUeXBlIG5vdGF0aW9uIGluc2lkZSBvYmplY3RPZi4nKTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgJyArICgnYCcgKyBwcm9wVHlwZSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBhbiBvYmplY3QuJykpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHByb3BWYWx1ZSkge1xuICAgICAgICBpZiAoaGFzKHByb3BWYWx1ZSwga2V5KSkge1xuICAgICAgICAgIHZhciBlcnJvciA9IHR5cGVDaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlVW5pb25UeXBlQ2hlY2tlcihhcnJheU9mVHlwZUNoZWNrZXJzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGFycmF5T2ZUeXBlQ2hlY2tlcnMpKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gcHJpbnRXYXJuaW5nKCdJbnZhbGlkIGFyZ3VtZW50IHN1cHBsaWVkIHRvIG9uZU9mVHlwZSwgZXhwZWN0ZWQgYW4gaW5zdGFuY2Ugb2YgYXJyYXkuJykgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gZW1wdHlGdW5jdGlvblRoYXRSZXR1cm5zTnVsbDtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5T2ZUeXBlQ2hlY2tlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcbiAgICAgIGlmICh0eXBlb2YgY2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwcmludFdhcm5pbmcoXG4gICAgICAgICAgJ0ludmFsaWQgYXJndW1lbnQgc3VwcGxpZWQgdG8gb25lT2ZUeXBlLiBFeHBlY3RlZCBhbiBhcnJheSBvZiBjaGVjayBmdW5jdGlvbnMsIGJ1dCAnICtcbiAgICAgICAgICAncmVjZWl2ZWQgJyArIGdldFBvc3RmaXhGb3JUeXBlV2FybmluZyhjaGVja2VyKSArICcgYXQgaW5kZXggJyArIGkgKyAnLidcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIGVtcHR5RnVuY3Rpb25UaGF0UmV0dXJuc051bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICB2YXIgZXhwZWN0ZWRUeXBlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheU9mVHlwZUNoZWNrZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGVja2VyID0gYXJyYXlPZlR5cGVDaGVja2Vyc1tpXTtcbiAgICAgICAgdmFyIGNoZWNrZXJSZXN1bHQgPSBjaGVja2VyKHByb3BzLCBwcm9wTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwgUmVhY3RQcm9wVHlwZXNTZWNyZXQpO1xuICAgICAgICBpZiAoY2hlY2tlclJlc3VsdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoZWNrZXJSZXN1bHQuZGF0YS5oYXNPd25Qcm9wZXJ0eSgnZXhwZWN0ZWRUeXBlJykpIHtcbiAgICAgICAgICBleHBlY3RlZFR5cGVzLnB1c2goY2hlY2tlclJlc3VsdC5kYXRhLmV4cGVjdGVkVHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBleHBlY3RlZFR5cGVzTWVzc2FnZSA9IChleHBlY3RlZFR5cGVzLmxlbmd0aCA+IDApID8gJywgZXhwZWN0ZWQgb25lIG9mIHR5cGUgWycgKyBleHBlY3RlZFR5cGVzLmpvaW4oJywgJykgKyAnXSc6ICcnO1xuICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKCdJbnZhbGlkICcgKyBsb2NhdGlvbiArICcgYCcgKyBwcm9wRnVsbE5hbWUgKyAnYCBzdXBwbGllZCB0byAnICsgKCdgJyArIGNvbXBvbmVudE5hbWUgKyAnYCcgKyBleHBlY3RlZFR5cGVzTWVzc2FnZSArICcuJykpO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlTm9kZUNoZWNrZXIoKSB7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGUocHJvcHMsIHByb3BOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lKSB7XG4gICAgICBpZiAoIWlzTm9kZShwcm9wc1twcm9wTmFtZV0pKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcignSW52YWxpZCAnICsgbG9jYXRpb24gKyAnIGAnICsgcHJvcEZ1bGxOYW1lICsgJ2Agc3VwcGxpZWQgdG8gJyArICgnYCcgKyBjb21wb25lbnROYW1lICsgJ2AsIGV4cGVjdGVkIGEgUmVhY3ROb2RlLicpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gY3JlYXRlQ2hhaW5hYmxlVHlwZUNoZWNrZXIodmFsaWRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW52YWxpZFZhbGlkYXRvckVycm9yKGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUsIGtleSwgdHlwZSkge1xuICAgIHJldHVybiBuZXcgUHJvcFR5cGVFcnJvcihcbiAgICAgIChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogJyArIGxvY2F0aW9uICsgJyB0eXBlIGAnICsgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5ICsgJ2AgaXMgaW52YWxpZDsgJyArXG4gICAgICAnaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCcgKyB0eXBlICsgJ2AuJ1xuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBrZXkgaW4gc2hhcGVUeXBlcykge1xuICAgICAgICB2YXIgY2hlY2tlciA9IHNoYXBlVHlwZXNba2V5XTtcbiAgICAgICAgaWYgKHR5cGVvZiBjaGVja2VyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIGludmFsaWRWYWxpZGF0b3JFcnJvcihjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lLCBrZXksIGdldFByZWNpc2VUeXBlKGNoZWNrZXIpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBjcmVhdGVDaGFpbmFibGVUeXBlQ2hlY2tlcih2YWxpZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVTdHJpY3RTaGFwZVR5cGVDaGVja2VyKHNoYXBlVHlwZXMpIHtcbiAgICBmdW5jdGlvbiB2YWxpZGF0ZShwcm9wcywgcHJvcE5hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBwcm9wRnVsbE5hbWUpIHtcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgICAgaWYgKHByb3BUeXBlICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3BUeXBlRXJyb3IoJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIG9mIHR5cGUgYCcgKyBwcm9wVHlwZSArICdgICcgKyAoJ3N1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLCBleHBlY3RlZCBgb2JqZWN0YC4nKSk7XG4gICAgICB9XG4gICAgICAvLyBXZSBuZWVkIHRvIGNoZWNrIGFsbCBrZXlzIGluIGNhc2Ugc29tZSBhcmUgcmVxdWlyZWQgYnV0IG1pc3NpbmcgZnJvbSBwcm9wcy5cbiAgICAgIHZhciBhbGxLZXlzID0gYXNzaWduKHt9LCBwcm9wc1twcm9wTmFtZV0sIHNoYXBlVHlwZXMpO1xuICAgICAgZm9yICh2YXIga2V5IGluIGFsbEtleXMpIHtcbiAgICAgICAgdmFyIGNoZWNrZXIgPSBzaGFwZVR5cGVzW2tleV07XG4gICAgICAgIGlmIChoYXMoc2hhcGVUeXBlcywga2V5KSAmJiB0eXBlb2YgY2hlY2tlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiBpbnZhbGlkVmFsaWRhdG9yRXJyb3IoY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIHByb3BGdWxsTmFtZSwga2V5LCBnZXRQcmVjaXNlVHlwZShjaGVja2VyKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaGVja2VyKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9wVHlwZUVycm9yKFxuICAgICAgICAgICAgJ0ludmFsaWQgJyArIGxvY2F0aW9uICsgJyBgJyArIHByb3BGdWxsTmFtZSArICdgIGtleSBgJyArIGtleSArICdgIHN1cHBsaWVkIHRvIGAnICsgY29tcG9uZW50TmFtZSArICdgLicgK1xuICAgICAgICAgICAgJ1xcbkJhZCBvYmplY3Q6ICcgKyBKU09OLnN0cmluZ2lmeShwcm9wc1twcm9wTmFtZV0sIG51bGwsICcgICcpICtcbiAgICAgICAgICAgICdcXG5WYWxpZCBrZXlzOiAnICsgSlNPTi5zdHJpbmdpZnkoT2JqZWN0LmtleXMoc2hhcGVUeXBlcyksIG51bGwsICcgICcpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZXJyb3IgPSBjaGVja2VyKHByb3BWYWx1ZSwga2V5LCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgcHJvcEZ1bGxOYW1lICsgJy4nICsga2V5LCBSZWFjdFByb3BUeXBlc1NlY3JldCk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUNoYWluYWJsZVR5cGVDaGVja2VyKHZhbGlkYXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTm9kZShwcm9wVmFsdWUpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBwcm9wVmFsdWUpIHtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuICFwcm9wVmFsdWU7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHByb3BWYWx1ZS5ldmVyeShpc05vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wVmFsdWUgPT09IG51bGwgfHwgaXNWYWxpZEVsZW1lbnQocHJvcFZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKHByb3BWYWx1ZSk7XG4gICAgICAgIGlmIChpdGVyYXRvckZuKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKHByb3BWYWx1ZSk7XG4gICAgICAgICAgdmFyIHN0ZXA7XG4gICAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IHByb3BWYWx1ZS5lbnRyaWVzKSB7XG4gICAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICAgIGlmICghaXNOb2RlKHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEl0ZXJhdG9yIHdpbGwgcHJvdmlkZSBlbnRyeSBbayx2XSB0dXBsZXMgcmF0aGVyIHRoYW4gdmFsdWVzLlxuICAgICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgICB2YXIgZW50cnkgPSBzdGVwLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzTm9kZShlbnRyeVsxXSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkge1xuICAgIC8vIE5hdGl2ZSBTeW1ib2wuXG4gICAgaWYgKHByb3BUeXBlID09PSAnc3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gZmFsc3kgdmFsdWUgY2FuJ3QgYmUgYSBTeW1ib2xcbiAgICBpZiAoIXByb3BWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIDE5LjQuMy41IFN5bWJvbC5wcm90b3R5cGVbQEB0b1N0cmluZ1RhZ10gPT09ICdTeW1ib2wnXG4gICAgaWYgKHByb3BWYWx1ZVsnQEB0b1N0cmluZ1RhZyddID09PSAnU3ltYm9sJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRmFsbGJhY2sgZm9yIG5vbi1zcGVjIGNvbXBsaWFudCBTeW1ib2xzIHdoaWNoIGFyZSBwb2x5ZmlsbGVkLlxuICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIHByb3BWYWx1ZSBpbnN0YW5jZW9mIFN5bWJvbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRXF1aXZhbGVudCBvZiBgdHlwZW9mYCBidXQgd2l0aCBzcGVjaWFsIGhhbmRsaW5nIGZvciBhcnJheSBhbmQgcmVnZXhwLlxuICBmdW5jdGlvbiBnZXRQcm9wVHlwZShwcm9wVmFsdWUpIHtcbiAgICB2YXIgcHJvcFR5cGUgPSB0eXBlb2YgcHJvcFZhbHVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnYXJyYXknO1xuICAgIH1cbiAgICBpZiAocHJvcFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAvLyBPbGQgd2Via2l0cyAoYXQgbGVhc3QgdW50aWwgQW5kcm9pZCA0LjApIHJldHVybiAnZnVuY3Rpb24nIHJhdGhlciB0aGFuXG4gICAgICAvLyAnb2JqZWN0JyBmb3IgdHlwZW9mIGEgUmVnRXhwLiBXZSdsbCBub3JtYWxpemUgdGhpcyBoZXJlIHNvIHRoYXQgL2JsYS9cbiAgICAgIC8vIHBhc3NlcyBQcm9wVHlwZXMub2JqZWN0LlxuICAgICAgcmV0dXJuICdvYmplY3QnO1xuICAgIH1cbiAgICBpZiAoaXNTeW1ib2wocHJvcFR5cGUsIHByb3BWYWx1ZSkpIHtcbiAgICAgIHJldHVybiAnc3ltYm9sJztcbiAgICB9XG4gICAgcmV0dXJuIHByb3BUeXBlO1xuICB9XG5cbiAgLy8gVGhpcyBoYW5kbGVzIG1vcmUgdHlwZXMgdGhhbiBgZ2V0UHJvcFR5cGVgLiBPbmx5IHVzZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxuICAvLyBTZWUgYGNyZWF0ZVByaW1pdGl2ZVR5cGVDaGVja2VyYC5cbiAgZnVuY3Rpb24gZ2V0UHJlY2lzZVR5cGUocHJvcFZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9wVmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHByb3BWYWx1ZSA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuICcnICsgcHJvcFZhbHVlO1xuICAgIH1cbiAgICB2YXIgcHJvcFR5cGUgPSBnZXRQcm9wVHlwZShwcm9wVmFsdWUpO1xuICAgIGlmIChwcm9wVHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmIChwcm9wVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgICB9IGVsc2UgaWYgKHByb3BWYWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICByZXR1cm4gJ3JlZ2V4cCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwcm9wVHlwZTtcbiAgfVxuXG4gIC8vIFJldHVybnMgYSBzdHJpbmcgdGhhdCBpcyBwb3N0Zml4ZWQgdG8gYSB3YXJuaW5nIGFib3V0IGFuIGludmFsaWQgdHlwZS5cbiAgLy8gRm9yIGV4YW1wbGUsIFwidW5kZWZpbmVkXCIgb3IgXCJvZiB0eXBlIGFycmF5XCJcbiAgZnVuY3Rpb24gZ2V0UG9zdGZpeEZvclR5cGVXYXJuaW5nKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBnZXRQcmVjaXNlVHlwZSh2YWx1ZSk7XG4gICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICBjYXNlICdhcnJheSc6XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICByZXR1cm4gJ2FuICcgKyB0eXBlO1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICBjYXNlICdkYXRlJzpcbiAgICAgIGNhc2UgJ3JlZ2V4cCc6XG4gICAgICAgIHJldHVybiAnYSAnICsgdHlwZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJldHVybnMgY2xhc3MgbmFtZSBvZiB0aGUgb2JqZWN0LCBpZiBhbnkuXG4gIGZ1bmN0aW9uIGdldENsYXNzTmFtZShwcm9wVmFsdWUpIHtcbiAgICBpZiAoIXByb3BWYWx1ZS5jb25zdHJ1Y3RvciB8fCAhcHJvcFZhbHVlLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgIHJldHVybiBBTk9OWU1PVVM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wVmFsdWUuY29uc3RydWN0b3IubmFtZTtcbiAgfVxuXG4gIFJlYWN0UHJvcFR5cGVzLmNoZWNrUHJvcFR5cGVzID0gY2hlY2tQcm9wVHlwZXM7XG4gIFJlYWN0UHJvcFR5cGVzLnJlc2V0V2FybmluZ0NhY2hlID0gY2hlY2tQcm9wVHlwZXMucmVzZXRXYXJuaW5nQ2FjaGU7XG4gIFJlYWN0UHJvcFR5cGVzLlByb3BUeXBlcyA9IFJlYWN0UHJvcFR5cGVzO1xuXG4gIHJldHVybiBSZWFjdFByb3BUeXBlcztcbn07XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciBSZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcblxuICAvLyBCeSBleHBsaWNpdGx5IHVzaW5nIGBwcm9wLXR5cGVzYCB5b3UgYXJlIG9wdGluZyBpbnRvIG5ldyBkZXZlbG9wbWVudCBiZWhhdmlvci5cbiAgLy8gaHR0cDovL2ZiLm1lL3Byb3AtdHlwZXMtaW4tcHJvZFxuICB2YXIgdGhyb3dPbkRpcmVjdEFjY2VzcyA9IHRydWU7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9mYWN0b3J5V2l0aFR5cGVDaGVja2VycycpKFJlYWN0SXMuaXNFbGVtZW50LCB0aHJvd09uRGlyZWN0QWNjZXNzKTtcbn0gZWxzZSB7XG4gIC8vIEJ5IGV4cGxpY2l0bHkgdXNpbmcgYHByb3AtdHlwZXNgIHlvdSBhcmUgb3B0aW5nIGludG8gbmV3IHByb2R1Y3Rpb24gYmVoYXZpb3IuXG4gIC8vIGh0dHA6Ly9mYi5tZS9wcm9wLXR5cGVzLWluLXByb2RcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2ZhY3RvcnlXaXRoVGhyb3dpbmdTaGltcycpKCk7XG59XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0UHJvcFR5cGVzU2VjcmV0ID0gJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJztcblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjdFByb3BUeXBlc1NlY3JldDtcbiIsIm1vZHVsZS5leHBvcnRzID0gRnVuY3Rpb24uY2FsbC5iaW5kKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpO1xuIiwiaW1wb3J0IF9pbmhlcml0c0xvb3NlIGZyb20gJ0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzTG9vc2UnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgUmVhY3QsIHsgUHVyZUNvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gd2l0aFNpZGVFZmZlY3QocmVkdWNlUHJvcHNUb1N0YXRlLCBoYW5kbGVTdGF0ZUNoYW5nZU9uQ2xpZW50KSB7XG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICBpZiAodHlwZW9mIHJlZHVjZVByb3BzVG9TdGF0ZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCByZWR1Y2VQcm9wc1RvU3RhdGUgdG8gYmUgYSBmdW5jdGlvbi4nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGhhbmRsZVN0YXRlQ2hhbmdlT25DbGllbnQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgaGFuZGxlU3RhdGVDaGFuZ2VPbkNsaWVudCB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpIHtcbiAgICByZXR1cm4gV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50Lm5hbWUgfHwgJ0NvbXBvbmVudCc7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gd3JhcChXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAgICAgaWYgKHR5cGVvZiBXcmFwcGVkQ29tcG9uZW50ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRXhwZWN0ZWQgV3JhcHBlZENvbXBvbmVudCB0byBiZSBhIFJlYWN0IGNvbXBvbmVudC4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbW91bnRlZEluc3RhbmNlcyA9IFtdO1xuICAgIHZhciBzdGF0ZTtcblxuICAgIGZ1bmN0aW9uIGVtaXRDaGFuZ2UoKSB7XG4gICAgICBzdGF0ZSA9IHJlZHVjZVByb3BzVG9TdGF0ZShtb3VudGVkSW5zdGFuY2VzLm1hcChmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLnByb3BzO1xuICAgICAgfSkpO1xuICAgICAgaGFuZGxlU3RhdGVDaGFuZ2VPbkNsaWVudChzdGF0ZSk7XG4gICAgfVxuXG4gICAgdmFyIFNpZGVFZmZlY3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9QdXJlQ29tcG9uZW50KSB7XG4gICAgICBfaW5oZXJpdHNMb29zZShTaWRlRWZmZWN0LCBfUHVyZUNvbXBvbmVudCk7XG5cbiAgICAgIGZ1bmN0aW9uIFNpZGVFZmZlY3QoKSB7XG4gICAgICAgIHJldHVybiBfUHVyZUNvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIFRyeSB0byB1c2UgZGlzcGxheU5hbWUgb2Ygd3JhcHBlZCBjb21wb25lbnRcbiAgICAgIFNpZGVFZmZlY3QucGVlayA9IGZ1bmN0aW9uIHBlZWsoKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBfcHJvdG8gPSBTaWRlRWZmZWN0LnByb3RvdHlwZTtcblxuICAgICAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIG1vdW50ZWRJbnN0YW5jZXMucHVzaCh0aGlzKTtcbiAgICAgICAgZW1pdENoYW5nZSgpO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgZW1pdENoYW5nZSgpO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IG1vdW50ZWRJbnN0YW5jZXMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgbW91bnRlZEluc3RhbmNlcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBlbWl0Q2hhbmdlKCk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8ucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgdGhpcy5wcm9wcyk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gU2lkZUVmZmVjdDtcbiAgICB9KFB1cmVDb21wb25lbnQpO1xuXG4gICAgX2RlZmluZVByb3BlcnR5KFNpZGVFZmZlY3QsIFwiZGlzcGxheU5hbWVcIiwgXCJTaWRlRWZmZWN0KFwiICsgZ2V0RGlzcGxheU5hbWUoV3JhcHBlZENvbXBvbmVudCkgKyBcIilcIik7XG5cbiAgICByZXR1cm4gU2lkZUVmZmVjdDtcbiAgfTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aFNpZGVFZmZlY3Q7XG4iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgKiBhcyBjb25zdGFudHMgZnJvbSAnZm9jdXMtbG9jay9jb25zdGFudHMnO1xuaW1wb3J0IHsgaW5saW5lUHJvcCB9IGZyb20gJy4vdXRpbCc7XG5cbnZhciBBdXRvRm9jdXNJbnNpZGUgPSBmdW5jdGlvbiBBdXRvRm9jdXNJbnNpZGUoX3JlZikge1xuICB2YXIgZGlzYWJsZWQgPSBfcmVmLmRpc2FibGVkLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuLFxuICAgICAgY2xhc3NOYW1lID0gX3JlZi5jbGFzc05hbWU7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfZXh0ZW5kcyh7fSwgaW5saW5lUHJvcChjb25zdGFudHMuRk9DVVNfQVVUTywgIWRpc2FibGVkKSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gIH0pLCBjaGlsZHJlbik7XG59O1xuXG5BdXRvRm9jdXNJbnNpZGUucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUuaXNSZXF1aXJlZCxcbiAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmdcbn0gOiB7fTtcbkF1dG9Gb2N1c0luc2lkZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgY2xhc3NOYW1lOiB1bmRlZmluZWRcbn07XG5leHBvcnQgZGVmYXVsdCBBdXRvRm9jdXNJbnNpZGU7IiwiaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlXCI7XG5pbXBvcnQgX2V4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBGb2N1c0xvY2tVSSBmcm9tICcuL0xvY2snO1xuaW1wb3J0IEZvY3VzVHJhcCBmcm9tICcuL1RyYXAnO1xuLyogdGhhdCB3b3VsZCBiZSBhIEJSRUFLSU5HIENIQU5HRSFcbi8vIGRlbGF5aW5nIHNpZGVjYXIgZXhlY3V0aW9uIHRpbGwgdGhlIGZpcnN0IHVzYWdlXG5jb25zdCBSZXF1aXJlU2lkZUNhciA9IChwcm9wcykgPT4ge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZ2xvYmFsLXJlcXVpcmVcbiAgY29uc3QgU2lkZUNhciA9IHJlcXVpcmUoJy4vVHJhcCcpLmRlZmF1bHQ7XG4gIHJldHVybiA8U2lkZUNhciB7Li4ucHJvcHN9IC8+O1xufTtcbiovXG5cbnZhciBGb2N1c0xvY2tDb21iaW5hdGlvbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIEZvY3VzTG9ja1VJQ29tYmluYXRpb24ocHJvcHMsIHJlZikge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9jdXNMb2NrVUksIF9leHRlbmRzKHtcbiAgICBzaWRlQ2FyOiBGb2N1c1RyYXAsXG4gICAgcmVmOiByZWZcbiAgfSwgcHJvcHMpKTtcbn0pO1xuXG52YXIgX3JlZiA9IEZvY3VzTG9ja1VJLnByb3BUeXBlcyB8fCB7fSxcbiAgICBzaWRlQ2FyID0gX3JlZi5zaWRlQ2FyLFxuICAgIHByb3BUeXBlcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9yZWYsIFtcInNpZGVDYXJcIl0pO1xuXG5Gb2N1c0xvY2tDb21iaW5hdGlvbi5wcm9wVHlwZXMgPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgPyBwcm9wVHlwZXMgOiB7fTtcbmV4cG9ydCBkZWZhdWx0IEZvY3VzTG9ja0NvbWJpbmF0aW9uOyIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5leHBvcnQgdmFyIGhpZGRlbkd1YXJkID0ge1xuICB3aWR0aDogJzFweCcsXG4gIGhlaWdodDogJzBweCcsXG4gIHBhZGRpbmc6IDAsXG4gIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgcG9zaXRpb246ICdmaXhlZCcsXG4gIHRvcDogJzFweCcsXG4gIGxlZnQ6ICcxcHgnXG59O1xuXG52YXIgSW5Gb2N1c0d1YXJkID0gZnVuY3Rpb24gSW5Gb2N1c0d1YXJkKF9yZWYpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbjtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBcImd1YXJkLWZpcnN0XCIsXG4gICAgXCJkYXRhLWZvY3VzLWd1YXJkXCI6IHRydWUsXG4gICAgXCJkYXRhLWZvY3VzLWF1dG8tZ3VhcmRcIjogdHJ1ZSxcbiAgICBzdHlsZTogaGlkZGVuR3VhcmRcbiAgfSksIGNoaWxkcmVuLCBjaGlsZHJlbiAmJiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBcImd1YXJkLWxhc3RcIixcbiAgICBcImRhdGEtZm9jdXMtZ3VhcmRcIjogdHJ1ZSxcbiAgICBcImRhdGEtZm9jdXMtYXV0by1ndWFyZFwiOiB0cnVlLFxuICAgIHN0eWxlOiBoaWRkZW5HdWFyZFxuICB9KSk7XG59O1xuXG5JbkZvY3VzR3VhcmQucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGVcbn0gOiB7fTtcbkluRm9jdXNHdWFyZC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNoaWxkcmVuOiBudWxsXG59O1xuZXhwb3J0IGRlZmF1bHQgSW5Gb2N1c0d1YXJkOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICdmb2N1cy1sb2NrL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpbmxpbmVQcm9wIH0gZnJvbSAnLi91dGlsJztcblxudmFyIEZyZWVGb2N1c0luc2lkZSA9IGZ1bmN0aW9uIEZyZWVGb2N1c0luc2lkZShfcmVmKSB7XG4gIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICBjbGFzc05hbWUgPSBfcmVmLmNsYXNzTmFtZTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHt9LCBpbmxpbmVQcm9wKGNvbnN0YW50cy5GT0NVU19BTExPVywgdHJ1ZSksIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICB9KSwgY2hpbGRyZW4pO1xufTtcblxuRnJlZUZvY3VzSW5zaWRlLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLmlzUmVxdWlyZWQsXG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZ1xufSA6IHt9O1xuRnJlZUZvY3VzSW5zaWRlLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2xhc3NOYW1lOiB1bmRlZmluZWRcbn07XG5leHBvcnQgZGVmYXVsdCBGcmVlRm9jdXNJbnNpZGU7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBub2RlLCBib29sLCBzdHJpbmcsIGFueSwgYXJyYXlPZiwgb25lT2ZUeXBlLCBvYmplY3QsIGZ1bmMgfSBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICdmb2N1cy1sb2NrL2NvbnN0YW50cyc7XG5pbXBvcnQgeyB1c2VNZXJnZVJlZnMgfSBmcm9tICd1c2UtY2FsbGJhY2stcmVmJztcbmltcG9ydCB7IGhpZGRlbkd1YXJkIH0gZnJvbSAnLi9Gb2N1c0d1YXJkJztcbmltcG9ydCB7IG1lZGl1bUZvY3VzLCBtZWRpdW1CbHVyLCBtZWRpdW1TaWRlY2FyIH0gZnJvbSAnLi9tZWRpdW0nO1xudmFyIGVtcHR5QXJyYXkgPSBbXTtcbnZhciBGb2N1c0xvY2sgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiBGb2N1c0xvY2tVSShwcm9wcywgcGFyZW50UmVmKSB7XG4gIHZhciBfZXh0ZW5kczI7XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZSA9IFJlYWN0LnVzZVN0YXRlKCksXG4gICAgICByZWFsT2JzZXJ2ZWQgPSBfUmVhY3QkdXNlU3RhdGVbMF0sXG4gICAgICBzZXRPYnNlcnZlZCA9IF9SZWFjdCR1c2VTdGF0ZVsxXTtcblxuICB2YXIgb2JzZXJ2ZWQgPSBSZWFjdC51c2VSZWYoKTtcbiAgdmFyIGlzQWN0aXZlID0gUmVhY3QudXNlUmVmKGZhbHNlKTtcbiAgdmFyIG9yaWdpbmFsRm9jdXNlZEVsZW1lbnQgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuLFxuICAgICAgZGlzYWJsZWQgPSBwcm9wcy5kaXNhYmxlZCxcbiAgICAgIG5vRm9jdXNHdWFyZHMgPSBwcm9wcy5ub0ZvY3VzR3VhcmRzLFxuICAgICAgcGVyc2lzdGVudEZvY3VzID0gcHJvcHMucGVyc2lzdGVudEZvY3VzLFxuICAgICAgY3Jvc3NGcmFtZSA9IHByb3BzLmNyb3NzRnJhbWUsXG4gICAgICBhdXRvRm9jdXMgPSBwcm9wcy5hdXRvRm9jdXMsXG4gICAgICBhbGxvd1RleHRTZWxlY3Rpb24gPSBwcm9wcy5hbGxvd1RleHRTZWxlY3Rpb24sXG4gICAgICBncm91cCA9IHByb3BzLmdyb3VwLFxuICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgd2hpdGVMaXN0ID0gcHJvcHMud2hpdGVMaXN0LFxuICAgICAgX3Byb3BzJHNoYXJkcyA9IHByb3BzLnNoYXJkcyxcbiAgICAgIHNoYXJkcyA9IF9wcm9wcyRzaGFyZHMgPT09IHZvaWQgMCA/IGVtcHR5QXJyYXkgOiBfcHJvcHMkc2hhcmRzLFxuICAgICAgX3Byb3BzJGFzID0gcHJvcHMuYXMsXG4gICAgICBDb250YWluZXIgPSBfcHJvcHMkYXMgPT09IHZvaWQgMCA/ICdkaXYnIDogX3Byb3BzJGFzLFxuICAgICAgX3Byb3BzJGxvY2tQcm9wcyA9IHByb3BzLmxvY2tQcm9wcyxcbiAgICAgIGNvbnRhaW5lclByb3BzID0gX3Byb3BzJGxvY2tQcm9wcyA9PT0gdm9pZCAwID8ge30gOiBfcHJvcHMkbG9ja1Byb3BzLFxuICAgICAgU2lkZUNhciA9IHByb3BzLnNpZGVDYXIsXG4gICAgICBzaG91bGRSZXR1cm5Gb2N1cyA9IHByb3BzLnJldHVybkZvY3VzLFxuICAgICAgb25BY3RpdmF0aW9uQ2FsbGJhY2sgPSBwcm9wcy5vbkFjdGl2YXRpb24sXG4gICAgICBvbkRlYWN0aXZhdGlvbkNhbGxiYWNrID0gcHJvcHMub25EZWFjdGl2YXRpb247XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTIgPSBSZWFjdC51c2VTdGF0ZSh7fSksXG4gICAgICBpZCA9IF9SZWFjdCR1c2VTdGF0ZTJbMF07IC8vIFNJREUgRUZGRUNUIENBTExCQUNLU1xuXG5cbiAgdmFyIG9uQWN0aXZhdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBvcmlnaW5hbEZvY3VzZWRFbGVtZW50LmN1cnJlbnQgPSBvcmlnaW5hbEZvY3VzZWRFbGVtZW50LmN1cnJlbnQgfHwgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgIGlmIChvYnNlcnZlZC5jdXJyZW50ICYmIG9uQWN0aXZhdGlvbkNhbGxiYWNrKSB7XG4gICAgICBvbkFjdGl2YXRpb25DYWxsYmFjayhvYnNlcnZlZC5jdXJyZW50KTtcbiAgICB9XG5cbiAgICBpc0FjdGl2ZS5jdXJyZW50ID0gdHJ1ZTtcbiAgfSwgW29uQWN0aXZhdGlvbkNhbGxiYWNrXSk7XG4gIHZhciBvbkRlYWN0aXZhdGlvbiA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICBpc0FjdGl2ZS5jdXJyZW50ID0gZmFsc2U7XG5cbiAgICBpZiAob25EZWFjdGl2YXRpb25DYWxsYmFjaykge1xuICAgICAgb25EZWFjdGl2YXRpb25DYWxsYmFjayhvYnNlcnZlZC5jdXJyZW50KTtcbiAgICB9XG4gIH0sIFtvbkRlYWN0aXZhdGlvbkNhbGxiYWNrXSk7XG4gIHZhciByZXR1cm5Gb2N1cyA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChhbGxvd0RlZmVyKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBvcmlnaW5hbEZvY3VzZWRFbGVtZW50LmN1cnJlbnQ7XG5cbiAgICBpZiAoQm9vbGVhbihzaG91bGRSZXR1cm5Gb2N1cykgJiYgY3VycmVudCAmJiBjdXJyZW50LmZvY3VzKSB7XG4gICAgICB2YXIgZm9jdXNPcHRpb25zID0gdHlwZW9mIHNob3VsZFJldHVybkZvY3VzID09PSAnb2JqZWN0JyA/IHNob3VsZFJldHVybkZvY3VzIDogdW5kZWZpbmVkO1xuICAgICAgb3JpZ2luYWxGb2N1c2VkRWxlbWVudC5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgaWYgKGFsbG93RGVmZXIpIHtcbiAgICAgICAgLy8gUmVhY3QgbWlnaHQgcmV0dXJuIGZvY3VzIGFmdGVyIHVwZGF0ZVxuICAgICAgICAvLyBpdCdzIHNhZmVyIHRvIGRlZmVyIHRoZSBhY3Rpb25cbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGN1cnJlbnQuZm9jdXMoZm9jdXNPcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50LmZvY3VzKGZvY3VzT3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbc2hvdWxkUmV0dXJuRm9jdXNdKTsgLy8gTUVESVVNIENBTExCQUNLU1xuXG4gIHZhciBvbkZvY3VzID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGlzQWN0aXZlLmN1cnJlbnQpIHtcbiAgICAgIG1lZGl1bUZvY3VzLnVzZU1lZGl1bShldmVudCk7XG4gICAgfVxuICB9LCBbXSk7XG4gIHZhciBvbkJsdXIgPSBtZWRpdW1CbHVyLnVzZU1lZGl1bTsgLy8gUkVGIFBST1BBR0FUSU9OXG4gIC8vIG5vdCB1c2luZyByZWFsIHJlZnMgZHVlIHRvIHJhY2UgY29uZGl0aW9uc1xuXG4gIHZhciBzZXRPYnNlcnZlTm9kZSA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChuZXdPYnNlcnZlZCkge1xuICAgIGlmIChvYnNlcnZlZC5jdXJyZW50ICE9PSBuZXdPYnNlcnZlZCkge1xuICAgICAgb2JzZXJ2ZWQuY3VycmVudCA9IG5ld09ic2VydmVkO1xuICAgICAgc2V0T2JzZXJ2ZWQobmV3T2JzZXJ2ZWQpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHR5cGVvZiBhbGxvd1RleHRTZWxlY3Rpb24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgY29uc29sZS53YXJuKCdSZWFjdC1Gb2N1cy1Mb2NrOiBhbGxvd1RleHRTZWxlY3Rpb24gaXMgZGVwcmVjYXRlZCBhbmQgZW5hYmxlZCBieSBkZWZhdWx0Jyk7XG4gICAgfVxuXG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghb2JzZXJ2ZWQuY3VycmVudCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICBjb25zb2xlLmVycm9yKCdGb2N1c0xvY2s6IGNvdWxkIG5vdCBvYnRhaW4gcmVmIHRvIGludGVybmFsIG5vZGUnKTtcbiAgICAgIH1cbiAgICB9LCBbXSk7XG4gIH1cblxuICB2YXIgbG9ja1Byb3BzID0gX2V4dGVuZHMoKF9leHRlbmRzMiA9IHt9LCBfZXh0ZW5kczJbY29uc3RhbnRzLkZPQ1VTX0RJU0FCTEVEXSA9IGRpc2FibGVkICYmICdkaXNhYmxlZCcsIF9leHRlbmRzMltjb25zdGFudHMuRk9DVVNfR1JPVVBdID0gZ3JvdXAsIF9leHRlbmRzMiksIGNvbnRhaW5lclByb3BzKTtcblxuICB2YXIgaGFzTGVhZGluZ0d1YXJkcyA9IG5vRm9jdXNHdWFyZHMgIT09IHRydWU7XG4gIHZhciBoYXNUYWlsaW5nR3VhcmRzID0gaGFzTGVhZGluZ0d1YXJkcyAmJiBub0ZvY3VzR3VhcmRzICE9PSAndGFpbCc7XG4gIHZhciBtZXJnZWRSZWYgPSB1c2VNZXJnZVJlZnMoW3BhcmVudFJlZiwgc2V0T2JzZXJ2ZU5vZGVdKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBoYXNMZWFkaW5nR3VhcmRzICYmIFsvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAga2V5OiBcImd1YXJkLWZpcnN0XCIsXG4gICAgXCJkYXRhLWZvY3VzLWd1YXJkXCI6IHRydWUsXG4gICAgdGFiSW5kZXg6IGRpc2FibGVkID8gLTEgOiAwLFxuICAgIHN0eWxlOiBoaWRkZW5HdWFyZFxuICB9KSxcbiAgLyojX19QVVJFX18qL1xuICAvLyBuZWFyZXN0IGZvY3VzIGd1YXJkXG4gIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGtleTogXCJndWFyZC1uZWFyZXN0XCIsXG4gICAgXCJkYXRhLWZvY3VzLWd1YXJkXCI6IHRydWUsXG4gICAgdGFiSW5kZXg6IGRpc2FibGVkID8gLTEgOiAxLFxuICAgIHN0eWxlOiBoaWRkZW5HdWFyZFxuICB9KSAvLyBmaXJzdCB0YWJiZWQgZWxlbWVudCBndWFyZFxuICBdLCAhZGlzYWJsZWQgJiYgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZUNhciwge1xuICAgIGlkOiBpZCxcbiAgICBzaWRlQ2FyOiBtZWRpdW1TaWRlY2FyLFxuICAgIG9ic2VydmVkOiByZWFsT2JzZXJ2ZWQsXG4gICAgZGlzYWJsZWQ6IGRpc2FibGVkLFxuICAgIHBlcnNpc3RlbnRGb2N1czogcGVyc2lzdGVudEZvY3VzLFxuICAgIGNyb3NzRnJhbWU6IGNyb3NzRnJhbWUsXG4gICAgYXV0b0ZvY3VzOiBhdXRvRm9jdXMsXG4gICAgd2hpdGVMaXN0OiB3aGl0ZUxpc3QsXG4gICAgc2hhcmRzOiBzaGFyZHMsXG4gICAgb25BY3RpdmF0aW9uOiBvbkFjdGl2YXRpb24sXG4gICAgb25EZWFjdGl2YXRpb246IG9uRGVhY3RpdmF0aW9uLFxuICAgIHJldHVybkZvY3VzOiByZXR1cm5Gb2N1c1xuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiBtZXJnZWRSZWZcbiAgfSwgbG9ja1Byb3BzLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWUsXG4gICAgb25CbHVyOiBvbkJsdXIsXG4gICAgb25Gb2N1czogb25Gb2N1c1xuICB9KSwgY2hpbGRyZW4pLCBoYXNUYWlsaW5nR3VhcmRzICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBcImRhdGEtZm9jdXMtZ3VhcmRcIjogdHJ1ZSxcbiAgICB0YWJJbmRleDogZGlzYWJsZWQgPyAtMSA6IDAsXG4gICAgc3R5bGU6IGhpZGRlbkd1YXJkXG4gIH0pKTtcbn0pO1xuRm9jdXNMb2NrLnByb3BUeXBlcyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IHtcbiAgY2hpbGRyZW46IG5vZGUsXG4gIGRpc2FibGVkOiBib29sLFxuICByZXR1cm5Gb2N1czogb25lT2ZUeXBlKFtib29sLCBvYmplY3RdKSxcbiAgbm9Gb2N1c0d1YXJkczogYm9vbCxcbiAgYWxsb3dUZXh0U2VsZWN0aW9uOiBib29sLFxuICBhdXRvRm9jdXM6IGJvb2wsXG4gIHBlcnNpc3RlbnRGb2N1czogYm9vbCxcbiAgY3Jvc3NGcmFtZTogYm9vbCxcbiAgZ3JvdXA6IHN0cmluZyxcbiAgY2xhc3NOYW1lOiBzdHJpbmcsXG4gIHdoaXRlTGlzdDogZnVuYyxcbiAgc2hhcmRzOiBhcnJheU9mKGFueSksXG4gIGFzOiBvbmVPZlR5cGUoW3N0cmluZywgZnVuYywgb2JqZWN0XSksXG4gIGxvY2tQcm9wczogb2JqZWN0LFxuICBvbkFjdGl2YXRpb246IGZ1bmMsXG4gIG9uRGVhY3RpdmF0aW9uOiBmdW5jLFxuICBzaWRlQ2FyOiBhbnkuaXNSZXF1aXJlZFxufSA6IHt9O1xuRm9jdXNMb2NrLmRlZmF1bHRQcm9wcyA9IHtcbiAgY2hpbGRyZW46IHVuZGVmaW5lZCxcbiAgZGlzYWJsZWQ6IGZhbHNlLFxuICByZXR1cm5Gb2N1czogZmFsc2UsXG4gIG5vRm9jdXNHdWFyZHM6IGZhbHNlLFxuICBhdXRvRm9jdXM6IHRydWUsXG4gIHBlcnNpc3RlbnRGb2N1czogZmFsc2UsXG4gIGNyb3NzRnJhbWU6IHRydWUsXG4gIGFsbG93VGV4dFNlbGVjdGlvbjogdW5kZWZpbmVkLFxuICBncm91cDogdW5kZWZpbmVkLFxuICBjbGFzc05hbWU6IHVuZGVmaW5lZCxcbiAgd2hpdGVMaXN0OiB1bmRlZmluZWQsXG4gIHNoYXJkczogdW5kZWZpbmVkLFxuICBhczogJ2RpdicsXG4gIGxvY2tQcm9wczoge30sXG4gIG9uQWN0aXZhdGlvbjogdW5kZWZpbmVkLFxuICBvbkRlYWN0aXZhdGlvbjogdW5kZWZpbmVkXG59O1xuZXhwb3J0IGRlZmF1bHQgRm9jdXNMb2NrOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tIFwiQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZXh0ZW5kc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICdmb2N1cy1sb2NrL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBpbmxpbmVQcm9wIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IG1lZGl1bUVmZmVjdCB9IGZyb20gJy4vbWVkaXVtJztcbmV4cG9ydCB2YXIgdXNlRm9jdXNJbnNpZGUgPSBmdW5jdGlvbiB1c2VGb2N1c0luc2lkZShvYnNlcnZlZFJlZikge1xuICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgIHZhciBlbmFibGVkID0gdHJ1ZTtcbiAgICBtZWRpdW1FZmZlY3QudXNlTWVkaXVtKGZ1bmN0aW9uIChjYXIpIHtcbiAgICAgIHZhciBvYnNlcnZlZCA9IG9ic2VydmVkUmVmICYmIG9ic2VydmVkUmVmLmN1cnJlbnQ7XG5cbiAgICAgIGlmIChlbmFibGVkICYmIG9ic2VydmVkKSB7XG4gICAgICAgIGlmICghY2FyLmZvY3VzSW5zaWRlKG9ic2VydmVkKSkge1xuICAgICAgICAgIGNhci5tb3ZlRm9jdXNJbnNpZGUob2JzZXJ2ZWQsIG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGVuYWJsZWQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbb2JzZXJ2ZWRSZWZdKTtcbn07XG5cbmZ1bmN0aW9uIE1vdmVGb2N1c0luc2lkZShfcmVmKSB7XG4gIHZhciBpc0Rpc2FibGVkID0gX3JlZi5kaXNhYmxlZCxcbiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLFxuICAgICAgY2hpbGRyZW4gPSBfcmVmLmNoaWxkcmVuO1xuICB2YXIgcmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB1c2VGb2N1c0luc2lkZShpc0Rpc2FibGVkID8gdW5kZWZpbmVkIDogcmVmKTtcbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9leHRlbmRzKHt9LCBpbmxpbmVQcm9wKGNvbnN0YW50cy5GT0NVU19BVVRPLCAhaXNEaXNhYmxlZCksIHtcbiAgICByZWY6IHJlZixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICB9KSwgY2hpbGRyZW4pO1xufVxuXG5Nb3ZlRm9jdXNJbnNpZGUucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUuaXNSZXF1aXJlZCxcbiAgZGlzYWJsZWQ6IFByb3BUeXBlcy5ib29sLFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmdcbn0gOiB7fTtcbk1vdmVGb2N1c0luc2lkZS5kZWZhdWx0UHJvcHMgPSB7XG4gIGRpc2FibGVkOiBmYWxzZSxcbiAgY2xhc3NOYW1lOiB1bmRlZmluZWRcbn07XG5leHBvcnQgZGVmYXVsdCBNb3ZlRm9jdXNJbnNpZGU7IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB3aXRoU2lkZUVmZmVjdCBmcm9tICdyZWFjdC1jbGllbnRzaWRlLWVmZmVjdCc7XG5pbXBvcnQgbW92ZUZvY3VzSW5zaWRlLCB7IGZvY3VzSW5zaWRlLCBmb2N1c0lzSGlkZGVuLCBnZXRGb2N1c2FibGVkSW4gfSBmcm9tICdmb2N1cy1sb2NrJztcbmltcG9ydCB7IGRlZmVyQWN0aW9uIH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7IG1lZGl1bUZvY3VzLCBtZWRpdW1CbHVyLCBtZWRpdW1FZmZlY3QgfSBmcm9tICcuL21lZGl1bSc7XG5cbnZhciBmb2N1c09uQm9keSA9IGZ1bmN0aW9uIGZvY3VzT25Cb2R5KCkge1xuICByZXR1cm4gZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZG9jdW1lbnQuYm9keTtcbn07XG5cbnZhciBpc0ZyZWVGb2N1cyA9IGZ1bmN0aW9uIGlzRnJlZUZvY3VzKCkge1xuICByZXR1cm4gZm9jdXNPbkJvZHkoKSB8fCBmb2N1c0lzSGlkZGVuKCk7XG59O1xuXG52YXIgbGFzdEFjdGl2ZVRyYXAgPSBudWxsO1xudmFyIGxhc3RBY3RpdmVGb2N1cyA9IG51bGw7XG52YXIgbGFzdFBvcnRhbGVkRWxlbWVudCA9IG51bGw7XG52YXIgZm9jdXNXYXNPdXRzaWRlV2luZG93ID0gZmFsc2U7XG5cbnZhciBkZWZhdWx0V2hpdGVsaXN0ID0gZnVuY3Rpb24gZGVmYXVsdFdoaXRlbGlzdCgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgZm9jdXNXaGl0ZWxpc3RlZCA9IGZ1bmN0aW9uIGZvY3VzV2hpdGVsaXN0ZWQoYWN0aXZlRWxlbWVudCkge1xuICByZXR1cm4gKGxhc3RBY3RpdmVUcmFwLndoaXRlTGlzdCB8fCBkZWZhdWx0V2hpdGVsaXN0KShhY3RpdmVFbGVtZW50KTtcbn07XG5cbnZhciByZWNvcmRQb3J0YWwgPSBmdW5jdGlvbiByZWNvcmRQb3J0YWwob2JzZXJ2ZXJOb2RlLCBwb3J0YWxlZEVsZW1lbnQpIHtcbiAgbGFzdFBvcnRhbGVkRWxlbWVudCA9IHtcbiAgICBvYnNlcnZlck5vZGU6IG9ic2VydmVyTm9kZSxcbiAgICBwb3J0YWxlZEVsZW1lbnQ6IHBvcnRhbGVkRWxlbWVudFxuICB9O1xufTtcblxudmFyIGZvY3VzSXNQb3J0YWxlZFBhaXIgPSBmdW5jdGlvbiBmb2N1c0lzUG9ydGFsZWRQYWlyKGVsZW1lbnQpIHtcbiAgcmV0dXJuIGxhc3RQb3J0YWxlZEVsZW1lbnQgJiYgbGFzdFBvcnRhbGVkRWxlbWVudC5wb3J0YWxlZEVsZW1lbnQgPT09IGVsZW1lbnQ7XG59O1xuXG5mdW5jdGlvbiBhdXRvR3VhcmQoc3RhcnRJbmRleCwgZW5kLCBzdGVwLCBhbGxOb2Rlcykge1xuICB2YXIgbGFzdEd1YXJkID0gbnVsbDtcbiAgdmFyIGkgPSBzdGFydEluZGV4O1xuXG4gIGRvIHtcbiAgICB2YXIgaXRlbSA9IGFsbE5vZGVzW2ldO1xuXG4gICAgaWYgKGl0ZW0uZ3VhcmQpIHtcbiAgICAgIGlmIChpdGVtLm5vZGUuZGF0YXNldC5mb2N1c0F1dG9HdWFyZCkge1xuICAgICAgICBsYXN0R3VhcmQgPSBpdGVtO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXRlbS5sb2NrSXRlbSkge1xuICAgICAgaWYgKGkgIT09IHN0YXJ0SW5kZXgpIHtcbiAgICAgICAgLy8gd2Ugd2lsbCB0YWIgdG8gdGhlIG5leHQgZWxlbWVudFxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGxhc3RHdWFyZCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSB3aGlsZSAoKGkgKz0gc3RlcCkgIT09IGVuZCk7XG5cbiAgaWYgKGxhc3RHdWFyZCkge1xuICAgIGxhc3RHdWFyZC5ub2RlLnRhYkluZGV4ID0gMDtcbiAgfVxufVxuXG52YXIgZXh0cmFjdFJlZiA9IGZ1bmN0aW9uIGV4dHJhY3RSZWYocmVmKSB7XG4gIHJldHVybiByZWYgJiYgJ2N1cnJlbnQnIGluIHJlZiA/IHJlZi5jdXJyZW50IDogcmVmO1xufTtcblxudmFyIGZvY3VzV2FzT3V0c2lkZSA9IGZ1bmN0aW9uIGZvY3VzV2FzT3V0c2lkZShjcm9zc0ZyYW1lT3B0aW9uKSB7XG4gIGlmIChjcm9zc0ZyYW1lT3B0aW9uKSB7XG4gICAgLy8gd2l0aCBjcm9zcyBmcmFtZSByZXR1cm4gdHJ1ZSBmb3IgYW55IHZhbHVlXG4gICAgcmV0dXJuIEJvb2xlYW4oZm9jdXNXYXNPdXRzaWRlV2luZG93KTtcbiAgfSAvLyBpbiBvdGhlciBjYXNlIHJldHVybiBvbmx5IG9mIGZvY3VzIHdlbnQgYSB3aGlsZSBhaG9cblxuXG4gIHJldHVybiBmb2N1c1dhc091dHNpZGVXaW5kb3cgPT09ICdtZWFud2hpbGUnO1xufTtcblxudmFyIGFjdGl2YXRlVHJhcCA9IGZ1bmN0aW9uIGFjdGl2YXRlVHJhcCgpIHtcbiAgdmFyIHJlc3VsdCA9IGZhbHNlO1xuXG4gIGlmIChsYXN0QWN0aXZlVHJhcCkge1xuICAgIHZhciBfbGFzdEFjdGl2ZVRyYXAgPSBsYXN0QWN0aXZlVHJhcCxcbiAgICAgICAgb2JzZXJ2ZWQgPSBfbGFzdEFjdGl2ZVRyYXAub2JzZXJ2ZWQsXG4gICAgICAgIHBlcnNpc3RlbnRGb2N1cyA9IF9sYXN0QWN0aXZlVHJhcC5wZXJzaXN0ZW50Rm9jdXMsXG4gICAgICAgIGF1dG9Gb2N1cyA9IF9sYXN0QWN0aXZlVHJhcC5hdXRvRm9jdXMsXG4gICAgICAgIHNoYXJkcyA9IF9sYXN0QWN0aXZlVHJhcC5zaGFyZHMsXG4gICAgICAgIGNyb3NzRnJhbWUgPSBfbGFzdEFjdGl2ZVRyYXAuY3Jvc3NGcmFtZTtcbiAgICB2YXIgd29ya2luZ05vZGUgPSBvYnNlcnZlZCB8fCBsYXN0UG9ydGFsZWRFbGVtZW50ICYmIGxhc3RQb3J0YWxlZEVsZW1lbnQucG9ydGFsZWRFbGVtZW50O1xuICAgIHZhciBhY3RpdmVFbGVtZW50ID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcblxuICAgIGlmICh3b3JraW5nTm9kZSkge1xuICAgICAgdmFyIHdvcmtpbmdBcmVhID0gW3dvcmtpbmdOb2RlXS5jb25jYXQoc2hhcmRzLm1hcChleHRyYWN0UmVmKS5maWx0ZXIoQm9vbGVhbikpO1xuXG4gICAgICBpZiAoIWFjdGl2ZUVsZW1lbnQgfHwgZm9jdXNXaGl0ZWxpc3RlZChhY3RpdmVFbGVtZW50KSkge1xuICAgICAgICBpZiAocGVyc2lzdGVudEZvY3VzIHx8IGZvY3VzV2FzT3V0c2lkZShjcm9zc0ZyYW1lKSB8fCAhaXNGcmVlRm9jdXMoKSB8fCAhbGFzdEFjdGl2ZUZvY3VzICYmIGF1dG9Gb2N1cykge1xuICAgICAgICAgIGlmICh3b3JraW5nTm9kZSAmJiAhKGZvY3VzSW5zaWRlKHdvcmtpbmdBcmVhKSB8fCBmb2N1c0lzUG9ydGFsZWRQYWlyKGFjdGl2ZUVsZW1lbnQsIHdvcmtpbmdOb2RlKSkpIHtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudCAmJiAhbGFzdEFjdGl2ZUZvY3VzICYmIGFjdGl2ZUVsZW1lbnQgJiYgIWF1dG9Gb2N1cykge1xuICAgICAgICAgICAgICAvLyBDaGVjayBpZiBibHVyKCkgZXhpc3RzLCB3aGljaCBpcyBtaXNzaW5nIG9uIGNlcnRhaW4gZWxlbWVudHMgb24gSUVcbiAgICAgICAgICAgICAgaWYgKGFjdGl2ZUVsZW1lbnQuYmx1cikge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUVsZW1lbnQuYmx1cigpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5mb2N1cygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gbW92ZUZvY3VzSW5zaWRlKHdvcmtpbmdBcmVhLCBsYXN0QWN0aXZlRm9jdXMpO1xuICAgICAgICAgICAgICBsYXN0UG9ydGFsZWRFbGVtZW50ID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZm9jdXNXYXNPdXRzaWRlV2luZG93ID0gZmFsc2U7XG4gICAgICAgICAgbGFzdEFjdGl2ZUZvY3VzID0gZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZG9jdW1lbnQpIHtcbiAgICAgICAgdmFyIG5ld0FjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudCAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgICB2YXIgYWxsTm9kZXMgPSBnZXRGb2N1c2FibGVkSW4od29ya2luZ0FyZWEpO1xuICAgICAgICB2YXIgZm9jdXNlZEluZGV4ID0gYWxsTm9kZXMubWFwKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgICAgdmFyIG5vZGUgPSBfcmVmLm5vZGU7XG4gICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH0pLmluZGV4T2YobmV3QWN0aXZlRWxlbWVudCk7XG5cbiAgICAgICAgaWYgKGZvY3VzZWRJbmRleCA+IC0xKSB7XG4gICAgICAgICAgLy8gcmVtb3ZlIG9sZCBmb2N1c1xuICAgICAgICAgIGFsbE5vZGVzLmZpbHRlcihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgICAgICAgIHZhciBndWFyZCA9IF9yZWYyLmd1YXJkLFxuICAgICAgICAgICAgICAgIG5vZGUgPSBfcmVmMi5ub2RlO1xuICAgICAgICAgICAgcmV0dXJuIGd1YXJkICYmIG5vZGUuZGF0YXNldC5mb2N1c0F1dG9HdWFyZDtcbiAgICAgICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBfcmVmMy5ub2RlO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUucmVtb3ZlQXR0cmlidXRlKCd0YWJJbmRleCcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGF1dG9HdWFyZChmb2N1c2VkSW5kZXgsIGFsbE5vZGVzLmxlbmd0aCwgKzEsIGFsbE5vZGVzKTtcbiAgICAgICAgICBhdXRvR3VhcmQoZm9jdXNlZEluZGV4LCAtMSwgLTEsIGFsbE5vZGVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG52YXIgb25UcmFwID0gZnVuY3Rpb24gb25UcmFwKGV2ZW50KSB7XG4gIGlmIChhY3RpdmF0ZVRyYXAoKSAmJiBldmVudCkge1xuICAgIC8vIHByZXZlbnQgc2Nyb2xsIGp1bXBcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG59O1xuXG52YXIgb25CbHVyID0gZnVuY3Rpb24gb25CbHVyKCkge1xuICByZXR1cm4gZGVmZXJBY3Rpb24oYWN0aXZhdGVUcmFwKTtcbn07XG5cbnZhciBvbkZvY3VzID0gZnVuY3Rpb24gb25Gb2N1cyhldmVudCkge1xuICAvLyBkZXRlY3QgcG9ydGFsXG4gIHZhciBzb3VyY2UgPSBldmVudC50YXJnZXQ7XG4gIHZhciBjdXJyZW50Tm9kZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG5cbiAgaWYgKCFjdXJyZW50Tm9kZS5jb250YWlucyhzb3VyY2UpKSB7XG4gICAgcmVjb3JkUG9ydGFsKGN1cnJlbnROb2RlLCBzb3VyY2UpO1xuICB9XG59O1xuXG52YXIgRm9jdXNXYXRjaGVyID0gZnVuY3Rpb24gRm9jdXNXYXRjaGVyKCkge1xuICByZXR1cm4gbnVsbDtcbn07XG5cbnZhciBGb2N1c1RyYXAgPSBmdW5jdGlvbiBGb2N1c1RyYXAoX3JlZjQpIHtcbiAgdmFyIGNoaWxkcmVuID0gX3JlZjQuY2hpbGRyZW47XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgb25CbHVyOiBvbkJsdXIsXG4gICAgb25Gb2N1czogb25Gb2N1c1xuICB9LCBjaGlsZHJlbik7XG59O1xuXG5Gb2N1c1RyYXAucHJvcFR5cGVzID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiID8ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUuaXNSZXF1aXJlZFxufSA6IHt9O1xuXG52YXIgb25XaW5kb3dCbHVyID0gZnVuY3Rpb24gb25XaW5kb3dCbHVyKCkge1xuICBmb2N1c1dhc091dHNpZGVXaW5kb3cgPSAnanVzdCc7IC8vIHVzaW5nIHNldFRpbWVvdXQgdG8gc2V0ICB0aGlzIHZhcmlhYmxlIGFmdGVyIFJlYWN0L3NpZGVjYXIgcmVhY3Rpb25cblxuICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICBmb2N1c1dhc091dHNpZGVXaW5kb3cgPSAnbWVhbndoaWxlJztcbiAgfSwgMCk7XG59O1xuXG52YXIgYXR0YWNoSGFuZGxlciA9IGZ1bmN0aW9uIGF0dGFjaEhhbmRsZXIoKSB7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBvblRyYXAsIHRydWUpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIG9uQmx1cik7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgb25XaW5kb3dCbHVyKTtcbn07XG5cbnZhciBkZXRhY2hIYW5kbGVyID0gZnVuY3Rpb24gZGV0YWNoSGFuZGxlcigpIHtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXNpbicsIG9uVHJhcCwgdHJ1ZSk7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0Jywgb25CbHVyKTtcbiAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBvbldpbmRvd0JsdXIpO1xufTtcblxuZnVuY3Rpb24gcmVkdWNlUHJvcHNUb1N0YXRlKHByb3BzTGlzdCkge1xuICByZXR1cm4gcHJvcHNMaXN0LmZpbHRlcihmdW5jdGlvbiAoX3JlZjUpIHtcbiAgICB2YXIgZGlzYWJsZWQgPSBfcmVmNS5kaXNhYmxlZDtcbiAgICByZXR1cm4gIWRpc2FibGVkO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlU3RhdGVDaGFuZ2VPbkNsaWVudCh0cmFwcykge1xuICB2YXIgdHJhcCA9IHRyYXBzLnNsaWNlKC0xKVswXTtcblxuICBpZiAodHJhcCAmJiAhbGFzdEFjdGl2ZVRyYXApIHtcbiAgICBhdHRhY2hIYW5kbGVyKCk7XG4gIH1cblxuICB2YXIgbGFzdFRyYXAgPSBsYXN0QWN0aXZlVHJhcDtcbiAgdmFyIHNhbWVUcmFwID0gbGFzdFRyYXAgJiYgdHJhcCAmJiB0cmFwLmlkID09PSBsYXN0VHJhcC5pZDtcbiAgbGFzdEFjdGl2ZVRyYXAgPSB0cmFwO1xuXG4gIGlmIChsYXN0VHJhcCAmJiAhc2FtZVRyYXApIHtcbiAgICBsYXN0VHJhcC5vbkRlYWN0aXZhdGlvbigpOyAvLyByZXR1cm4gZm9jdXMgb25seSBvZiBsYXN0IHRyYXAgd2FzIHJlbW92ZWRcblxuICAgIGlmICghdHJhcHMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmNikge1xuICAgICAgdmFyIGlkID0gX3JlZjYuaWQ7XG4gICAgICByZXR1cm4gaWQgPT09IGxhc3RUcmFwLmlkO1xuICAgIH0pLmxlbmd0aCkge1xuICAgICAgLy8gYWxsb3cgZGVmZXIgaXMgbm8gb3RoZXIgdHJhcCBpcyBhd2FpdGluZyByZXN0b3JlXG4gICAgICBsYXN0VHJhcC5yZXR1cm5Gb2N1cyghdHJhcCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRyYXApIHtcbiAgICBsYXN0QWN0aXZlRm9jdXMgPSBudWxsO1xuXG4gICAgaWYgKCFzYW1lVHJhcCB8fCBsYXN0VHJhcC5vYnNlcnZlZCAhPT0gdHJhcC5vYnNlcnZlZCkge1xuICAgICAgdHJhcC5vbkFjdGl2YXRpb24oKTtcbiAgICB9XG5cbiAgICBhY3RpdmF0ZVRyYXAodHJ1ZSk7XG4gICAgZGVmZXJBY3Rpb24oYWN0aXZhdGVUcmFwKTtcbiAgfSBlbHNlIHtcbiAgICBkZXRhY2hIYW5kbGVyKCk7XG4gICAgbGFzdEFjdGl2ZUZvY3VzID0gbnVsbDtcbiAgfVxufSAvLyBiaW5kIG1lZGl1bVxuXG5cbm1lZGl1bUZvY3VzLmFzc2lnblN5bmNNZWRpdW0ob25Gb2N1cyk7XG5tZWRpdW1CbHVyLmFzc2lnbk1lZGl1bShvbkJsdXIpO1xubWVkaXVtRWZmZWN0LmFzc2lnbk1lZGl1bShmdW5jdGlvbiAoY2IpIHtcbiAgcmV0dXJuIGNiKHtcbiAgICBtb3ZlRm9jdXNJbnNpZGU6IG1vdmVGb2N1c0luc2lkZSxcbiAgICBmb2N1c0luc2lkZTogZm9jdXNJbnNpZGVcbiAgfSk7XG59KTtcbmV4cG9ydCBkZWZhdWx0IHdpdGhTaWRlRWZmZWN0KHJlZHVjZVByb3BzVG9TdGF0ZSwgaGFuZGxlU3RhdGVDaGFuZ2VPbkNsaWVudCkoRm9jdXNXYXRjaGVyKTsiLCJpbXBvcnQgRm9jdXNMb2NrVUkgZnJvbSAnLi9Mb2NrJztcbmltcG9ydCBBdXRvRm9jdXNJbnNpZGUgZnJvbSAnLi9BdXRvRm9jdXNJbnNpZGUnO1xuaW1wb3J0IE1vdmVGb2N1c0luc2lkZSwgeyB1c2VGb2N1c0luc2lkZSB9IGZyb20gJy4vTW92ZUZvY3VzSW5zaWRlJztcbmltcG9ydCBGcmVlRm9jdXNJbnNpZGUgZnJvbSAnLi9GcmVlRm9jdXNJbnNpZGUnO1xuaW1wb3J0IEluRm9jdXNHdWFyZCBmcm9tICcuL0ZvY3VzR3VhcmQnO1xuZXhwb3J0IHsgQXV0b0ZvY3VzSW5zaWRlLCBNb3ZlRm9jdXNJbnNpZGUsIEZyZWVGb2N1c0luc2lkZSwgSW5Gb2N1c0d1YXJkLCBGb2N1c0xvY2tVSSwgdXNlRm9jdXNJbnNpZGUgfTtcbmV4cG9ydCBkZWZhdWx0IEZvY3VzTG9ja1VJOyIsImltcG9ydCBGb2N1c0xvY2sgZnJvbSAnLi9Db21iaW5hdGlvbic7XG5leHBvcnQgKiBmcm9tICcuL1VJJztcbmV4cG9ydCBkZWZhdWx0IEZvY3VzTG9jazsiLCJpbXBvcnQgeyBjcmVhdGVNZWRpdW0sIGNyZWF0ZVNpZGVjYXJNZWRpdW0gfSBmcm9tICd1c2Utc2lkZWNhcic7XG5leHBvcnQgdmFyIG1lZGl1bUZvY3VzID0gY3JlYXRlTWVkaXVtKHt9LCBmdW5jdGlvbiAoX3JlZikge1xuICB2YXIgdGFyZ2V0ID0gX3JlZi50YXJnZXQsXG4gICAgICBjdXJyZW50VGFyZ2V0ID0gX3JlZi5jdXJyZW50VGFyZ2V0O1xuICByZXR1cm4ge1xuICAgIHRhcmdldDogdGFyZ2V0LFxuICAgIGN1cnJlbnRUYXJnZXQ6IGN1cnJlbnRUYXJnZXRcbiAgfTtcbn0pO1xuZXhwb3J0IHZhciBtZWRpdW1CbHVyID0gY3JlYXRlTWVkaXVtKCk7XG5leHBvcnQgdmFyIG1lZGl1bUVmZmVjdCA9IGNyZWF0ZU1lZGl1bSgpO1xuZXhwb3J0IHZhciBtZWRpdW1TaWRlY2FyID0gY3JlYXRlU2lkZWNhck1lZGl1bSh7XG4gIGFzeW5jOiB0cnVlXG59KTsiLCJleHBvcnQgZnVuY3Rpb24gZGVmZXJBY3Rpb24oYWN0aW9uKSB7XG4gIC8vIEhpZGRpbmcgc2V0SW1tZWRpYXRlIGZyb20gV2VicGFjayB0byBhdm9pZCBpbnNlcnRpbmcgcG9seWZpbGxcbiAgdmFyIF93aW5kb3cgPSB3aW5kb3csXG4gICAgICBzZXRJbW1lZGlhdGUgPSBfd2luZG93LnNldEltbWVkaWF0ZTtcblxuICBpZiAodHlwZW9mIHNldEltbWVkaWF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzZXRJbW1lZGlhdGUoYWN0aW9uKTtcbiAgfSBlbHNlIHtcbiAgICBzZXRUaW1lb3V0KGFjdGlvbiwgMSk7XG4gIH1cbn1cbmV4cG9ydCB2YXIgaW5saW5lUHJvcCA9IGZ1bmN0aW9uIGlubGluZVByb3AobmFtZSwgdmFsdWUpIHtcbiAgdmFyIG9iaiA9IHt9O1xuICBvYmpbbmFtZV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iajtcbn07IiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgc3R5bGVTaW5nbGV0b24gfSBmcm9tICdyZWFjdC1zdHlsZS1zaW5nbGV0b24nO1xuaW1wb3J0IHsgZ2V0R2FwV2lkdGggfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IGZ1bGxXaWR0aENsYXNzTmFtZSwgemVyb1JpZ2h0Q2xhc3NOYW1lLCBub1Njcm9sbGJhcnNDbGFzc05hbWUsIHJlbW92ZWRCYXJTaXplVmFyaWFibGUgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbnZhciBTdHlsZSA9IHN0eWxlU2luZ2xldG9uKCk7XG52YXIgZ2V0U3R5bGVzID0gZnVuY3Rpb24gKF9hLCBhbGxvd1JlbGF0aXZlLCBnYXBNb2RlLCBpbXBvcnRhbnQpIHtcbiAgICB2YXIgbGVmdCA9IF9hLmxlZnQsIHRvcCA9IF9hLnRvcCwgcmlnaHQgPSBfYS5yaWdodCwgZ2FwID0gX2EuZ2FwO1xuICAgIGlmIChnYXBNb2RlID09PSB2b2lkIDApIHsgZ2FwTW9kZSA9ICdtYXJnaW4nOyB9XG4gICAgcmV0dXJuIFwiXFxuICAuXCIgKyBub1Njcm9sbGJhcnNDbGFzc05hbWUgKyBcIiB7XFxuICAgb3ZlcmZsb3c6IGhpZGRlbiBcIiArIGltcG9ydGFudCArIFwiO1xcbiAgIHBhZGRpbmctcmlnaHQ6IFwiICsgZ2FwICsgXCJweCBcIiArIGltcG9ydGFudCArIFwiO1xcbiAgfVxcbiAgYm9keSB7XFxuICAgIG92ZXJmbG93OiBoaWRkZW4gXCIgKyBpbXBvcnRhbnQgKyBcIjtcXG4gICAgXCIgKyBbXG4gICAgICAgIGFsbG93UmVsYXRpdmUgJiYgXCJwb3NpdGlvbjogcmVsYXRpdmUgXCIgKyBpbXBvcnRhbnQgKyBcIjtcIixcbiAgICAgICAgZ2FwTW9kZSA9PT0gJ21hcmdpbicgJiYgXCJcXG4gICAgcGFkZGluZy1sZWZ0OiBcIiArIGxlZnQgKyBcInB4O1xcbiAgICBwYWRkaW5nLXRvcDogXCIgKyB0b3AgKyBcInB4O1xcbiAgICBwYWRkaW5nLXJpZ2h0OiBcIiArIHJpZ2h0ICsgXCJweDtcXG4gICAgbWFyZ2luLWxlZnQ6MDtcXG4gICAgbWFyZ2luLXRvcDowO1xcbiAgICBtYXJnaW4tcmlnaHQ6IFwiICsgZ2FwICsgXCJweCBcIiArIGltcG9ydGFudCArIFwiO1xcbiAgICBcIixcbiAgICAgICAgZ2FwTW9kZSA9PT0gJ3BhZGRpbmcnICYmIFwicGFkZGluZy1yaWdodDogXCIgKyBnYXAgKyBcInB4IFwiICsgaW1wb3J0YW50ICsgXCI7XCIsXG4gICAgXS5maWx0ZXIoQm9vbGVhbikuam9pbignJykgKyBcIlxcbiAgfVxcbiAgXFxuICAuXCIgKyB6ZXJvUmlnaHRDbGFzc05hbWUgKyBcIiB7XFxuICAgIHJpZ2h0OiBcIiArIGdhcCArIFwicHggXCIgKyBpbXBvcnRhbnQgKyBcIjtcXG4gIH1cXG4gIFxcbiAgLlwiICsgZnVsbFdpZHRoQ2xhc3NOYW1lICsgXCIge1xcbiAgICBtYXJnaW4tcmlnaHQ6IFwiICsgZ2FwICsgXCJweCBcIiArIGltcG9ydGFudCArIFwiO1xcbiAgfVxcbiAgXFxuICAuXCIgKyB6ZXJvUmlnaHRDbGFzc05hbWUgKyBcIiAuXCIgKyB6ZXJvUmlnaHRDbGFzc05hbWUgKyBcIiB7XFxuICAgIHJpZ2h0OiAwIFwiICsgaW1wb3J0YW50ICsgXCI7XFxuICB9XFxuICBcXG4gIC5cIiArIGZ1bGxXaWR0aENsYXNzTmFtZSArIFwiIC5cIiArIGZ1bGxXaWR0aENsYXNzTmFtZSArIFwiIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwIFwiICsgaW1wb3J0YW50ICsgXCI7XFxuICB9XFxuICBcXG4gIGJvZHkge1xcbiAgICBcIiArIHJlbW92ZWRCYXJTaXplVmFyaWFibGUgKyBcIjogXCIgKyBnYXAgKyBcInB4O1xcbiAgfVxcblwiO1xufTtcbmV4cG9ydCB2YXIgUmVtb3ZlU2Nyb2xsQmFyID0gZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgdmFyIF9hID0gUmVhY3QudXNlU3RhdGUoZ2V0R2FwV2lkdGgocHJvcHMuZ2FwTW9kZSkpLCBnYXAgPSBfYVswXSwgc2V0R2FwID0gX2FbMV07XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0R2FwKGdldEdhcFdpZHRoKHByb3BzLmdhcE1vZGUpKTtcbiAgICB9LCBbcHJvcHMuZ2FwTW9kZV0pO1xuICAgIHZhciBub1JlbGF0aXZlID0gcHJvcHMubm9SZWxhdGl2ZSwgbm9JbXBvcnRhbnQgPSBwcm9wcy5ub0ltcG9ydGFudCwgX2IgPSBwcm9wcy5nYXBNb2RlLCBnYXBNb2RlID0gX2IgPT09IHZvaWQgMCA/ICdtYXJnaW4nIDogX2I7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGUsIHsgc3R5bGVzOiBnZXRTdHlsZXMoZ2FwLCAhbm9SZWxhdGl2ZSwgZ2FwTW9kZSwgIW5vSW1wb3J0YW50ID8gXCIhaW1wb3J0YW50XCIgOiAnJykgfSk7XG59O1xuIiwiZXhwb3J0IHZhciB6ZXJvUmlnaHRDbGFzc05hbWUgPSAncmlnaHQtc2Nyb2xsLWJhci1wb3NpdGlvbic7XG5leHBvcnQgdmFyIGZ1bGxXaWR0aENsYXNzTmFtZSA9ICd3aWR0aC1iZWZvcmUtc2Nyb2xsLWJhcic7XG5leHBvcnQgdmFyIG5vU2Nyb2xsYmFyc0NsYXNzTmFtZSA9ICd3aXRoLXNjcm9sbC1iYXJzLWhpZGRlbic7XG5leHBvcnQgdmFyIHJlbW92ZWRCYXJTaXplVmFyaWFibGUgPSAnLS1yZW1vdmVkLWJvZHktc2Nyb2xsLWJhci1zaXplJztcbiIsImltcG9ydCB7IFJlbW92ZVNjcm9sbEJhciB9IGZyb20gJy4vY29tcG9uZW50JztcbmltcG9ydCB7IGdldEdhcFdpZHRoIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyB6ZXJvUmlnaHRDbGFzc05hbWUsIGZ1bGxXaWR0aENsYXNzTmFtZSwgbm9TY3JvbGxiYXJzQ2xhc3NOYW1lLCByZW1vdmVkQmFyU2l6ZVZhcmlhYmxlIH0gZnJvbSAnLi9jb25zdGFudHMnO1xuZXhwb3J0IHsgUmVtb3ZlU2Nyb2xsQmFyLCB6ZXJvUmlnaHRDbGFzc05hbWUsIGZ1bGxXaWR0aENsYXNzTmFtZSwgbm9TY3JvbGxiYXJzQ2xhc3NOYW1lLCByZW1vdmVkQmFyU2l6ZVZhcmlhYmxlLCBnZXRHYXBXaWR0aCB9O1xuIiwiZXhwb3J0IHZhciB6ZXJvR2FwID0ge1xuICAgIGxlZnQ6IDAsXG4gICAgdG9wOiAwLFxuICAgIHJpZ2h0OiAwLFxuICAgIGdhcDogMCxcbn07XG52YXIgcGFyc2UgPSBmdW5jdGlvbiAoeCkgeyByZXR1cm4gcGFyc2VJbnQoeCB8fCAnJywgMTApIHx8IDA7IH07XG52YXIgZ2V0T2Zmc2V0ID0gZnVuY3Rpb24gKGdhcE1vZGUpIHtcbiAgICB2YXIgY3MgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KTtcbiAgICB2YXIgbGVmdCA9IGNzW2dhcE1vZGUgPT09ICdwYWRkaW5nJyA/ICdwYWRkaW5nTGVmdCcgOiAnbWFyZ2luTGVmdCddO1xuICAgIHZhciB0b3AgPSBjc1tnYXBNb2RlID09PSAncGFkZGluZycgPyAncGFkZGluZ1RvcCcgOiAnbWFyZ2luVG9wJ107XG4gICAgdmFyIHJpZ2h0ID0gY3NbZ2FwTW9kZSA9PT0gJ3BhZGRpbmcnID8gJ3BhZGRpbmdSaWdodCcgOiAnbWFyZ2luUmlnaHQnXTtcbiAgICByZXR1cm4gW1xuICAgICAgICBwYXJzZShsZWZ0KSxcbiAgICAgICAgcGFyc2UodG9wKSxcbiAgICAgICAgcGFyc2UocmlnaHQpLFxuICAgIF07XG59O1xuZXhwb3J0IHZhciBnZXRHYXBXaWR0aCA9IGZ1bmN0aW9uIChnYXBNb2RlKSB7XG4gICAgaWYgKGdhcE1vZGUgPT09IHZvaWQgMCkgeyBnYXBNb2RlID0gJ21hcmdpbic7IH1cbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHplcm9HYXA7XG4gICAgfVxuICAgIHZhciBvZmZzZXRzID0gZ2V0T2Zmc2V0KGdhcE1vZGUpO1xuICAgIHZhciBkb2N1bWVudFdpZHRoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoO1xuICAgIHZhciB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IG9mZnNldHNbMF0sXG4gICAgICAgIHRvcDogb2Zmc2V0c1sxXSxcbiAgICAgICAgcmlnaHQ6IG9mZnNldHNbMl0sXG4gICAgICAgIGdhcDogTWF0aC5tYXgoMCwgd2luZG93V2lkdGggLSBkb2N1bWVudFdpZHRoICsgb2Zmc2V0c1syXSAtIG9mZnNldHNbMF0pLFxuICAgIH07XG59O1xuIiwiaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlbW92ZVNjcm9sbCB9IGZyb20gJy4vVUknO1xuaW1wb3J0IFNpZGVDYXIgZnJvbSAnLi9zaWRlY2FyJztcbnZhciBSZWFjdFJlbW92ZVNjcm9sbCA9IFJlYWN0LmZvcndhcmRSZWYoZnVuY3Rpb24gKHByb3BzLCByZWYpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlbW92ZVNjcm9sbCwgdHNsaWJfMS5fX2Fzc2lnbih7fSwgcHJvcHMsIHsgcmVmOiByZWYsIHNpZGVDYXI6IFNpZGVDYXIgfSkpKTsgfSk7XG5SZWFjdFJlbW92ZVNjcm9sbC5jbGFzc05hbWVzID0gUmVtb3ZlU2Nyb2xsLmNsYXNzTmFtZXM7XG5leHBvcnQgZGVmYXVsdCBSZWFjdFJlbW92ZVNjcm9sbDtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlbW92ZVNjcm9sbEJhciB9IGZyb20gJ3JlYWN0LXJlbW92ZS1zY3JvbGwtYmFyJztcbmltcG9ydCB7IHN0eWxlU2luZ2xldG9uIH0gZnJvbSAncmVhY3Qtc3R5bGUtc2luZ2xldG9uJztcbmltcG9ydCB7IGhhbmRsZVNjcm9sbCwgbG9jYXRpb25Db3VsZEJlU2Nyb2xsZWQgfSBmcm9tICcuL2hhbmRsZVNjcm9sbCc7XG5pbXBvcnQgeyBub25QYXNzaXZlIH0gZnJvbSAnLi9hZ2dyZXNpdmVDYXB0dXJlJztcbmV4cG9ydCB2YXIgZ2V0VG91Y2hYWSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgIHJldHVybiAnY2hhbmdlZFRvdWNoZXMnIGluIGV2ZW50XG4gICAgICAgID8gW2V2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsIGV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFldXG4gICAgICAgIDogWzAsIDBdO1xufTtcbmV4cG9ydCB2YXIgZ2V0RGVsdGFYWSA9IGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gW2V2ZW50LmRlbHRhWCwgZXZlbnQuZGVsdGFZXTsgfTtcbnZhciBleHRyYWN0UmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgIHJldHVybiByZWYgJiYgJ2N1cnJlbnQnIGluIHJlZiA/IHJlZi5jdXJyZW50IDogcmVmO1xufTtcbnZhciBkZWx0YUNvbXBhcmUgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgIHJldHVybiB4WzBdID09PSB5WzBdICYmIHhbMV0gPT09IHlbMV07XG59O1xudmFyIGdlbmVyYXRlU3R5bGUgPSBmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIFwiXFxuICAuYmxvY2staW50ZXJhY3Rpdml0eS1cIiArIGlkICsgXCIge3BvaW50ZXItZXZlbnRzOiBub25lO31cXG4gIC5hbGxvdy1pbnRlcmFjdGl2aXR5LVwiICsgaWQgKyBcIiB7cG9pbnRlci1ldmVudHM6IGFsbDt9XFxuXCI7IH07XG52YXIgaWRDb3VudGVyID0gMDtcbnZhciBsb2NrU3RhY2sgPSBbXTtcbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVTY3JvbGxTaWRlQ2FyKHByb3BzKSB7XG4gICAgdmFyIHNob3VsZFByZXZlbnRRdWV1ZSA9IFJlYWN0LnVzZVJlZihbXSk7XG4gICAgdmFyIHRvdWNoU3RhcnRSZWYgPSBSZWFjdC51c2VSZWYoWzAsIDBdKTtcbiAgICB2YXIgYWN0aXZlQXhpcyA9IFJlYWN0LnVzZVJlZigpO1xuICAgIHZhciBpZCA9IFJlYWN0LnVzZVN0YXRlKGlkQ291bnRlcisrKVswXTtcbiAgICB2YXIgU3R5bGUgPSBSZWFjdC51c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdHlsZVNpbmdsZXRvbigpOyB9KVswXTtcbiAgICB2YXIgbGFzdFByb3BzID0gUmVhY3QudXNlUmVmKHByb3BzKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBsYXN0UHJvcHMuY3VycmVudCA9IHByb3BzO1xuICAgIH0sIFtwcm9wc10pO1xuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChwcm9wcy5pbmVydCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwiYmxvY2staW50ZXJhY3Rpdml0eS1cIiArIGlkKTtcbiAgICAgICAgICAgIHZhciBhbGxvd18xID0gW1xuICAgICAgICAgICAgICAgIHByb3BzLmxvY2tSZWYuY3VycmVudFxuICAgICAgICAgICAgXS5jb25jYXQoKHByb3BzLnNoYXJkcyB8fCBbXSkubWFwKGV4dHJhY3RSZWYpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgICAgICAgICBhbGxvd18xLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5jbGFzc0xpc3QuYWRkKFwiYWxsb3ctaW50ZXJhY3Rpdml0eS1cIiArIGlkKTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZShcImJsb2NrLWludGVyYWN0aXZpdHktXCIgKyBpZCk7XG4gICAgICAgICAgICAgICAgYWxsb3dfMS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWwuY2xhc3NMaXN0LnJlbW92ZShcImFsbG93LWludGVyYWN0aXZpdHktXCIgKyBpZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9LCBbcHJvcHMuaW5lcnQsIHByb3BzLmxvY2tSZWYuY3VycmVudCwgcHJvcHMuc2hhcmRzXSk7XG4gICAgdmFyIHNob3VsZENhbmNlbEV2ZW50ID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKGV2ZW50LCBwYXJlbnQpIHtcbiAgICAgICAgaWYgKCd0b3VjaGVzJyBpbiBldmVudCAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgcmV0dXJuICFsYXN0UHJvcHMuY3VycmVudC5hbGxvd1BpbmNoWm9vbTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG91Y2ggPSBnZXRUb3VjaFhZKGV2ZW50KTtcbiAgICAgICAgdmFyIHRvdWNoU3RhcnQgPSB0b3VjaFN0YXJ0UmVmLmN1cnJlbnQ7XG4gICAgICAgIHZhciBkZWx0YVggPSAnZGVsdGFYJyBpbiBldmVudCA/IGV2ZW50LmRlbHRhWCA6IHRvdWNoU3RhcnRbMF0gLSB0b3VjaFswXTtcbiAgICAgICAgdmFyIGRlbHRhWSA9ICdkZWx0YVknIGluIGV2ZW50ID8gZXZlbnQuZGVsdGFZIDogdG91Y2hTdGFydFsxXSAtIHRvdWNoWzFdO1xuICAgICAgICB2YXIgY3VycmVudEF4aXM7XG4gICAgICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgIHZhciBtb3ZlRGlyZWN0aW9uID0gTWF0aC5hYnMoZGVsdGFYKSA+IE1hdGguYWJzKGRlbHRhWSkgPyAnaCcgOiAndic7XG4gICAgICAgIHZhciBjYW5CZVNjcm9sbGVkSW5NYWluRGlyZWN0aW9uID0gbG9jYXRpb25Db3VsZEJlU2Nyb2xsZWQobW92ZURpcmVjdGlvbiwgdGFyZ2V0KTtcbiAgICAgICAgaWYgKCFjYW5CZVNjcm9sbGVkSW5NYWluRGlyZWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2FuQmVTY3JvbGxlZEluTWFpbkRpcmVjdGlvbikge1xuICAgICAgICAgICAgY3VycmVudEF4aXMgPSBtb3ZlRGlyZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY3VycmVudEF4aXMgPSBtb3ZlRGlyZWN0aW9uID09PSAndicgPyAnaCcgOiAndic7XG4gICAgICAgICAgICBjYW5CZVNjcm9sbGVkSW5NYWluRGlyZWN0aW9uID0gbG9jYXRpb25Db3VsZEJlU2Nyb2xsZWQobW92ZURpcmVjdGlvbiwgdGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIG90aGVyIGF4aXMgbWlnaHQgYmUgbm90IHNjcm9sbGFibGVcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhbkJlU2Nyb2xsZWRJbk1haW5EaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFjdGl2ZUF4aXMuY3VycmVudCAmJlxuICAgICAgICAgICAgJ2NoYW5nZWRUb3VjaGVzJyBpbiBldmVudCAmJlxuICAgICAgICAgICAgKGRlbHRhWCB8fCBkZWx0YVkpKSB7XG4gICAgICAgICAgICBhY3RpdmVBeGlzLmN1cnJlbnQgPSBjdXJyZW50QXhpcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWN1cnJlbnRBeGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FuY2VsaW5nQXhpcyA9IGFjdGl2ZUF4aXMuY3VycmVudCB8fCBjdXJyZW50QXhpcztcbiAgICAgICAgcmV0dXJuIGhhbmRsZVNjcm9sbChjYW5jZWxpbmdBeGlzLCBwYXJlbnQsIGV2ZW50LCBjYW5jZWxpbmdBeGlzID09PSAnaCcgPyBkZWx0YVggOiBkZWx0YVksIHRydWUpO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgc2hvdWxkUHJldmVudCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChfZXZlbnQpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gX2V2ZW50O1xuICAgICAgICBpZiAoIWxvY2tTdGFjay5sZW5ndGggfHwgbG9ja1N0YWNrW2xvY2tTdGFjay5sZW5ndGggLSAxXSAhPT0gU3R5bGUpIHtcbiAgICAgICAgICAgIC8vIG5vdCB0aGUgbGFzdCBhY3RpdmVcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGVsdGEgPSAnZGVsdGFZJyBpbiBldmVudCA/IGdldERlbHRhWFkoZXZlbnQpIDogZ2V0VG91Y2hYWShldmVudCk7XG4gICAgICAgIHZhciBzb3VyY2VFdmVudCA9IHNob3VsZFByZXZlbnRRdWV1ZS5jdXJyZW50LmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGUubmFtZSA9PT0gZXZlbnQudHlwZSAmJlxuICAgICAgICAgICAgICAgIGUudGFyZ2V0ID09PSBldmVudC50YXJnZXQgJiZcbiAgICAgICAgICAgICAgICBkZWx0YUNvbXBhcmUoZS5kZWx0YSwgZGVsdGEpO1xuICAgICAgICB9KVswXTtcbiAgICAgICAgLy8gc2VsZiBldmVudCwgYW5kIHNob3VsZCBiZSBjYW5jZWxlZFxuICAgICAgICBpZiAoc291cmNlRXZlbnQgJiYgc291cmNlRXZlbnQuc2hvdWxkKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIG91dHNpZGUgb3Igc2hhcmQgZXZlbnRcbiAgICAgICAgaWYgKCFzb3VyY2VFdmVudCkge1xuICAgICAgICAgICAgdmFyIHNoYXJkTm9kZXMgPSAobGFzdFByb3BzLmN1cnJlbnQuc2hhcmRzIHx8IFtdKVxuICAgICAgICAgICAgICAgIC5tYXAoZXh0cmFjdFJlZilcbiAgICAgICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5jb250YWlucyhldmVudC50YXJnZXQpOyB9KTtcbiAgICAgICAgICAgIHZhciBzaG91bGRTdG9wID0gc2hhcmROb2Rlcy5sZW5ndGggPiAwXG4gICAgICAgICAgICAgICAgPyBzaG91bGRDYW5jZWxFdmVudChldmVudCwgc2hhcmROb2Rlc1swXSlcbiAgICAgICAgICAgICAgICA6ICFsYXN0UHJvcHMuY3VycmVudC5ub0lzb2xhdGlvbjtcbiAgICAgICAgICAgIGlmIChzaG91bGRTdG9wKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIFtdKTtcbiAgICB2YXIgc2hvdWxkQ2FuY2VsID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKG5hbWUsIGRlbHRhLCB0YXJnZXQsIHNob3VsZCkge1xuICAgICAgICB2YXIgZXZlbnQgPSB7IG5hbWU6IG5hbWUsIGRlbHRhOiBkZWx0YSwgdGFyZ2V0OiB0YXJnZXQsIHNob3VsZDogc2hvdWxkIH07XG4gICAgICAgIHNob3VsZFByZXZlbnRRdWV1ZS5jdXJyZW50LnB1c2goZXZlbnQpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNob3VsZFByZXZlbnRRdWV1ZS5jdXJyZW50ID0gc2hvdWxkUHJldmVudFF1ZXVlLmN1cnJlbnQuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlICE9PSBldmVudDsgfSk7XG4gICAgICAgIH0sIDEpO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgc2Nyb2xsVG91Y2hTdGFydCA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB0b3VjaFN0YXJ0UmVmLmN1cnJlbnQgPSBnZXRUb3VjaFhZKGV2ZW50KTtcbiAgICAgICAgYWN0aXZlQXhpcy5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgc2Nyb2xsV2hlZWwgPSBSZWFjdC51c2VDYWxsYmFjayhmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgc2hvdWxkQ2FuY2VsKGV2ZW50LnR5cGUsIGdldERlbHRhWFkoZXZlbnQpLCBldmVudC50YXJnZXQsIHNob3VsZENhbmNlbEV2ZW50KGV2ZW50LCBwcm9wcy5sb2NrUmVmLmN1cnJlbnQpKTtcbiAgICB9LCBbXSk7XG4gICAgdmFyIHNjcm9sbFRvdWNoTW92ZSA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBzaG91bGRDYW5jZWwoZXZlbnQudHlwZSwgZ2V0VG91Y2hYWShldmVudCksIGV2ZW50LnRhcmdldCwgc2hvdWxkQ2FuY2VsRXZlbnQoZXZlbnQsIHByb3BzLmxvY2tSZWYuY3VycmVudCkpO1xuICAgIH0sIFtdKTtcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2NrU3RhY2sucHVzaChTdHlsZSk7XG4gICAgICAgIHByb3BzLnNldENhbGxiYWNrcyh7XG4gICAgICAgICAgICBvblNjcm9sbENhcHR1cmU6IHNjcm9sbFdoZWVsLFxuICAgICAgICAgICAgb25XaGVlbENhcHR1cmU6IHNjcm9sbFdoZWVsLFxuICAgICAgICAgICAgb25Ub3VjaE1vdmVDYXB0dXJlOiBzY3JvbGxUb3VjaE1vdmVcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgc2hvdWxkUHJldmVudCwgbm9uUGFzc2l2ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNob3VsZFByZXZlbnQsIG5vblBhc3NpdmUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2Nyb2xsVG91Y2hTdGFydCwgbm9uUGFzc2l2ZSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsb2NrU3RhY2sgPSBsb2NrU3RhY2suZmlsdGVyKGZ1bmN0aW9uIChpbnN0KSB7IHJldHVybiBpbnN0ICE9PSBTdHlsZTsgfSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd3aGVlbCcsIHNob3VsZFByZXZlbnQsIG5vblBhc3NpdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgc2hvdWxkUHJldmVudCwgbm9uUGFzc2l2ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2Nyb2xsVG91Y2hTdGFydCwgbm9uUGFzc2l2ZSk7XG4gICAgICAgIH07XG4gICAgfSwgW10pO1xuICAgIHZhciByZW1vdmVTY3JvbGxCYXIgPSBwcm9wcy5yZW1vdmVTY3JvbGxCYXIsIGluZXJ0ID0gcHJvcHMuaW5lcnQ7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICBpbmVydCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGUsIHsgc3R5bGVzOiBnZW5lcmF0ZVN0eWxlKGlkKSB9KSA6IG51bGwsXG4gICAgICAgIHJlbW92ZVNjcm9sbEJhciA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVtb3ZlU2Nyb2xsQmFyLCB7IGdhcE1vZGU6IFwibWFyZ2luXCIgfSkgOiBudWxsKSk7XG59XG4iLCJpbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZnVsbFdpZHRoQ2xhc3NOYW1lLCB6ZXJvUmlnaHRDbGFzc05hbWUgfSBmcm9tICdyZWFjdC1yZW1vdmUtc2Nyb2xsLWJhci9jb25zdGFudHMnO1xuaW1wb3J0IHsgZWZmZWN0Q2FyIH0gZnJvbSAnLi9tZWRpdW0nO1xuaW1wb3J0IHsgdXNlTWVyZ2VSZWZzIH0gZnJvbSAndXNlLWNhbGxiYWNrLXJlZic7XG52YXIgbm90aGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm47XG59O1xuLyoqXG4gKiBSZW1vdmVzIHNjcm9sbGJhciBmcm9tIHRoZSBwYWdlIGFuZCBjb250YWluIHRoZSBzY3JvbGwgd2l0aGluIHRoZSBMb2NrXG4gKi9cbnZhciBSZW1vdmVTY3JvbGwgPSBSZWFjdC5mb3J3YXJkUmVmKGZ1bmN0aW9uIChwcm9wcywgcGFyZW50UmVmKSB7XG4gICAgdmFyIHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgICB2YXIgX2EgPSBSZWFjdC51c2VTdGF0ZSh7XG4gICAgICAgIG9uU2Nyb2xsQ2FwdHVyZTogbm90aGluZyxcbiAgICAgICAgb25XaGVlbENhcHR1cmU6IG5vdGhpbmcsXG4gICAgICAgIG9uVG91Y2hNb3ZlQ2FwdHVyZTogbm90aGluZ1xuICAgIH0pLCBjYWxsYmFja3MgPSBfYVswXSwgc2V0Q2FsbGJhY2tzID0gX2FbMV07XG4gICAgdmFyIGZvcndhcmRQcm9wcyA9IHByb3BzLmZvcndhcmRQcm9wcywgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbiwgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLCByZW1vdmVTY3JvbGxCYXIgPSBwcm9wcy5yZW1vdmVTY3JvbGxCYXIsIGVuYWJsZWQgPSBwcm9wcy5lbmFibGVkLCBzaGFyZHMgPSBwcm9wcy5zaGFyZHMsIHNpZGVDYXIgPSBwcm9wcy5zaWRlQ2FyLCBub0lzb2xhdGlvbiA9IHByb3BzLm5vSXNvbGF0aW9uLCBpbmVydCA9IHByb3BzLmluZXJ0LCBhbGxvd1BpbmNoWm9vbSA9IHByb3BzLmFsbG93UGluY2hab29tLCBfYiA9IHByb3BzLmFzLCBDb250YWluZXIgPSBfYiA9PT0gdm9pZCAwID8gJ2RpdicgOiBfYiwgcmVzdCA9IHRzbGliXzEuX19yZXN0KHByb3BzLCBbXCJmb3J3YXJkUHJvcHNcIiwgXCJjaGlsZHJlblwiLCBcImNsYXNzTmFtZVwiLCBcInJlbW92ZVNjcm9sbEJhclwiLCBcImVuYWJsZWRcIiwgXCJzaGFyZHNcIiwgXCJzaWRlQ2FyXCIsIFwibm9Jc29sYXRpb25cIiwgXCJpbmVydFwiLCBcImFsbG93UGluY2hab29tXCIsIFwiYXNcIl0pO1xuICAgIHZhciBTaWRlQ2FyID0gc2lkZUNhcjtcbiAgICB2YXIgY29udGFpbmVyUmVmID0gdXNlTWVyZ2VSZWZzKFtcbiAgICAgICAgcmVmLFxuICAgICAgICBwYXJlbnRSZWZcbiAgICBdKTtcbiAgICB2YXIgY29udGFpbmVyUHJvcHMgPSB0c2xpYl8xLl9fYXNzaWduKHt9LCByZXN0LCBjYWxsYmFja3MpO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgZW5hYmxlZCAmJiAoUmVhY3QuY3JlYXRlRWxlbWVudChTaWRlQ2FyLCB7IHNpZGVDYXI6IGVmZmVjdENhciwgcmVtb3ZlU2Nyb2xsQmFyOiByZW1vdmVTY3JvbGxCYXIsIHNoYXJkczogc2hhcmRzLCBub0lzb2xhdGlvbjogbm9Jc29sYXRpb24sIGluZXJ0OiBpbmVydCwgc2V0Q2FsbGJhY2tzOiBzZXRDYWxsYmFja3MsIGFsbG93UGluY2hab29tOiAhIWFsbG93UGluY2hab29tLCBsb2NrUmVmOiByZWYgfSkpLFxuICAgICAgICBmb3J3YXJkUHJvcHMgPyAoUmVhY3QuY2xvbmVFbGVtZW50KFJlYWN0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pLCB0c2xpYl8xLl9fYXNzaWduKHt9LCBjb250YWluZXJQcm9wcywgeyByZWY6IGNvbnRhaW5lclJlZiB9KSkpIDogKFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29udGFpbmVyLCB0c2xpYl8xLl9fYXNzaWduKHt9LCBjb250YWluZXJQcm9wcywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgcmVmOiBjb250YWluZXJSZWYgfSksIGNoaWxkcmVuKSkpKTtcbn0pO1xuUmVtb3ZlU2Nyb2xsLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIHJlbW92ZVNjcm9sbEJhcjogdHJ1ZSxcbiAgICBpbmVydDogZmFsc2Vcbn07XG5SZW1vdmVTY3JvbGwuY2xhc3NOYW1lcyA9IHtcbiAgICBmdWxsV2lkdGg6IGZ1bGxXaWR0aENsYXNzTmFtZSxcbiAgICB6ZXJvUmlnaHQ6IHplcm9SaWdodENsYXNzTmFtZVxufTtcbmV4cG9ydCB7IFJlbW92ZVNjcm9sbCB9O1xuIiwidmFyIHBhc3NpdmVTdXBwb3J0ZWQgPSBmYWxzZTtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHBhc3NpdmVTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBvcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycikge1xuICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IHZhciBub25QYXNzaXZlID0gcGFzc2l2ZVN1cHBvcnRlZCA/IHsgcGFzc2l2ZTogZmFsc2UgfSA6IGZhbHNlO1xuIiwidmFyIGVsZW1lbnRDb3VsZEJlVlNjcm9sbGVkID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgcmV0dXJuIChzdHlsZXMub3ZlcmZsb3dZICE9PSAnaGlkZGVuJyAmJiAvLyBub3Qtbm90LXNjcm9sbGFibGVcbiAgICAgICAgIShzdHlsZXMub3ZlcmZsb3dZID09PSBzdHlsZXMub3ZlcmZsb3dYICYmIHN0eWxlcy5vdmVyZmxvd1kgPT09ICd2aXNpYmxlJykgLy8gc2Nyb2xsYWJsZVxuICAgICk7XG59O1xudmFyIGVsZW1lbnRDb3VsZEJlSFNjcm9sbGVkID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICB2YXIgc3R5bGVzID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgcmV0dXJuIChzdHlsZXMub3ZlcmZsb3dYICE9PSAnaGlkZGVuJyAmJiAvLyBub3Qtbm90LXNjcm9sbGFibGVcbiAgICAgICAgIShzdHlsZXMub3ZlcmZsb3dZID09PSBzdHlsZXMub3ZlcmZsb3dYICYmIHN0eWxlcy5vdmVyZmxvd1ggPT09ICd2aXNpYmxlJykgLy8gc2Nyb2xsYWJsZVxuICAgICk7XG59O1xuZXhwb3J0IHZhciBsb2NhdGlvbkNvdWxkQmVTY3JvbGxlZCA9IGZ1bmN0aW9uIChheGlzLCBub2RlKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBub2RlO1xuICAgIGRvIHtcbiAgICAgICAgdmFyIGlzU2Nyb2xsYWJsZSA9IGVsZW1lbnRDb3VsZEJlU2Nyb2xsZWQoYXhpcywgY3VycmVudCk7XG4gICAgICAgIGlmIChpc1Njcm9sbGFibGUpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IGdldFNjcm9sbFZhcmlhYmxlcyhheGlzLCBjdXJyZW50KSwgcyA9IF9hWzFdLCBkID0gX2FbMl07XG4gICAgICAgICAgICBpZiAocyA+IGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50ID0gY3VycmVudC5wYXJlbnROb2RlO1xuICAgIH0gd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudCAhPT0gZG9jdW1lbnQuYm9keSk7XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbnZhciBnZXRWU2Nyb2xsVmFyaWFibGVzID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHNjcm9sbFRvcCA9IF9hLnNjcm9sbFRvcCwgc2Nyb2xsSGVpZ2h0ID0gX2Euc2Nyb2xsSGVpZ2h0LCBjbGllbnRIZWlnaHQgPSBfYS5jbGllbnRIZWlnaHQ7XG4gICAgcmV0dXJuIFtzY3JvbGxUb3AsIHNjcm9sbEhlaWdodCwgY2xpZW50SGVpZ2h0XTtcbn07XG52YXIgZ2V0SFNjcm9sbFZhcmlhYmxlcyA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBzY3JvbGxMZWZ0ID0gX2Euc2Nyb2xsTGVmdCwgc2Nyb2xsV2lkdGggPSBfYS5zY3JvbGxXaWR0aCwgY2xpZW50V2lkdGggPSBfYS5jbGllbnRXaWR0aDtcbiAgICByZXR1cm4gW3Njcm9sbExlZnQsIHNjcm9sbFdpZHRoLCBjbGllbnRXaWR0aF07XG59O1xudmFyIGVsZW1lbnRDb3VsZEJlU2Nyb2xsZWQgPSBmdW5jdGlvbiAoYXhpcywgbm9kZSkge1xuICAgIHJldHVybiBheGlzID09PSAndicgPyBlbGVtZW50Q291bGRCZVZTY3JvbGxlZChub2RlKSA6IGVsZW1lbnRDb3VsZEJlSFNjcm9sbGVkKG5vZGUpO1xufTtcbnZhciBnZXRTY3JvbGxWYXJpYWJsZXMgPSBmdW5jdGlvbiAoYXhpcywgbm9kZSkge1xuICAgIHJldHVybiBheGlzID09PSAndicgPyBnZXRWU2Nyb2xsVmFyaWFibGVzKG5vZGUpIDogZ2V0SFNjcm9sbFZhcmlhYmxlcyhub2RlKTtcbn07XG5leHBvcnQgdmFyIGhhbmRsZVNjcm9sbCA9IGZ1bmN0aW9uIChheGlzLCBlbmRUYXJnZXQsIGV2ZW50LCBzb3VyY2VEZWx0YSwgbm9PdmVyc2Nyb2xsKSB7XG4gICAgdmFyIGRlbHRhID0gc291cmNlRGVsdGE7XG4gICAgLy8gZmluZCBzY3JvbGxhYmxlIHRhcmdldFxuICAgIHZhciB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgdmFyIHRhcmdldEluTG9jayA9IGVuZFRhcmdldC5jb250YWlucyh0YXJnZXQpO1xuICAgIHZhciBzaG91bGRDYW5jZWxTY3JvbGwgPSBmYWxzZTtcbiAgICB2YXIgaXNEZWx0YVBvc2l0aXZlID0gZGVsdGEgPiAwO1xuICAgIHZhciBhdmFpbGFibGVTY3JvbGwgPSAwO1xuICAgIHZhciBhdmFpbGFibGVTY3JvbGxUb3AgPSAwO1xuICAgIGRvIHtcbiAgICAgICAgdmFyIF9hID0gZ2V0U2Nyb2xsVmFyaWFibGVzKGF4aXMsIHRhcmdldCksIHBvc2l0aW9uID0gX2FbMF0sIHNjcm9sbF8xID0gX2FbMV0sIGNhcGFjaXR5ID0gX2FbMl07XG4gICAgICAgIHZhciBlbGVtZW50U2Nyb2xsID0gc2Nyb2xsXzEgLSBjYXBhY2l0eSAtIHBvc2l0aW9uO1xuICAgICAgICBpZiAocG9zaXRpb24gfHwgZWxlbWVudFNjcm9sbCkge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRDb3VsZEJlU2Nyb2xsZWQoYXhpcywgdGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNjcm9sbCArPSBlbGVtZW50U2Nyb2xsO1xuICAgICAgICAgICAgICAgIGF2YWlsYWJsZVNjcm9sbFRvcCArPSBwb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICB9IHdoaWxlIChcbiAgICAvLyBwb3J0YWxlZCBjb250ZW50XG4gICAgKCF0YXJnZXRJbkxvY2sgJiYgdGFyZ2V0ICE9PSBkb2N1bWVudC5ib2R5KSB8fFxuICAgICAgICAvLyBzZWxmIGNvbnRlbnRcbiAgICAgICAgKHRhcmdldEluTG9jayAmJiAoZW5kVGFyZ2V0LmNvbnRhaW5zKHRhcmdldCkgfHwgZW5kVGFyZ2V0ID09PSB0YXJnZXQpKSk7XG4gICAgaWYgKGlzRGVsdGFQb3NpdGl2ZSAmJlxuICAgICAgICAoKG5vT3ZlcnNjcm9sbCAmJiBhdmFpbGFibGVTY3JvbGwgPT09IDApIHx8XG4gICAgICAgICAgICAoIW5vT3ZlcnNjcm9sbCAmJiBkZWx0YSA+IGF2YWlsYWJsZVNjcm9sbCkpKSB7XG4gICAgICAgIHNob3VsZENhbmNlbFNjcm9sbCA9IHRydWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKCFpc0RlbHRhUG9zaXRpdmUgJiZcbiAgICAgICAgKChub092ZXJzY3JvbGwgJiYgYXZhaWxhYmxlU2Nyb2xsVG9wID09PSAwKSB8fFxuICAgICAgICAgICAgKCFub092ZXJzY3JvbGwgJiYgLWRlbHRhID4gYXZhaWxhYmxlU2Nyb2xsVG9wKSkpIHtcbiAgICAgICAgc2hvdWxkQ2FuY2VsU2Nyb2xsID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHNob3VsZENhbmNlbFNjcm9sbDtcbn07XG4iLCJpbXBvcnQgeyBjcmVhdGVTaWRlY2FyTWVkaXVtIH0gZnJvbSAndXNlLXNpZGVjYXInO1xuZXhwb3J0IHZhciBlZmZlY3RDYXIgPSBjcmVhdGVTaWRlY2FyTWVkaXVtKCk7XG4iLCJpbXBvcnQgeyBleHBvcnRTaWRlY2FyIH0gZnJvbSAndXNlLXNpZGVjYXInO1xuaW1wb3J0IHsgUmVtb3ZlU2Nyb2xsU2lkZUNhciB9IGZyb20gJy4vU2lkZUVmZmVjdCc7XG5pbXBvcnQgeyBlZmZlY3RDYXIgfSBmcm9tICcuL21lZGl1bSc7XG5leHBvcnQgZGVmYXVsdCBleHBvcnRTaWRlY2FyKGVmZmVjdENhciwgUmVtb3ZlU2Nyb2xsU2lkZUNhcik7XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCJpbXBvcnQgeyBzdHlsZUhvb2tTaW5nbGV0b24gfSBmcm9tIFwiLi9ob29rXCI7XG5leHBvcnQgdmFyIHN0eWxlU2luZ2xldG9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB1c2VTdHlsZSA9IHN0eWxlSG9va1NpbmdsZXRvbigpO1xuICAgIHZhciBTaGVldCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgc3R5bGVzID0gX2Euc3R5bGVzO1xuICAgICAgICB1c2VTdHlsZShzdHlsZXMpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBTaGVldDtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBzdHlsZXNoZWV0U2luZ2xldG9uIH0gZnJvbSBcIi4vc2luZ2xldG9uXCI7XG5leHBvcnQgdmFyIHN0eWxlSG9va1NpbmdsZXRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2hlZXQgPSBzdHlsZXNoZWV0U2luZ2xldG9uKCk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdHlsZXMpIHtcbiAgICAgICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNoZWV0LmFkZChzdHlsZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzaGVldC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sIFtdKTtcbiAgICB9O1xufTtcbiIsImV4cG9ydCB7IHN0eWxlU2luZ2xldG9uIH0gZnJvbSAnLi9jb21wb25lbnQnO1xuZXhwb3J0IHsgc3R5bGVzaGVldFNpbmdsZXRvbiB9IGZyb20gJy4vc2luZ2xldG9uJztcbmV4cG9ydCB7IHN0eWxlSG9va1NpbmdsZXRvbiB9IGZyb20gJy4vaG9vayc7XG4iLCJpbXBvcnQgeyBnZXROb25jZSB9IGZyb20gXCJnZXQtbm9uY2VcIjtcbmZ1bmN0aW9uIG1ha2VTdHlsZVRhZygpIHtcbiAgICBpZiAoIWRvY3VtZW50KVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB2YXIgdGFnID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICB0YWcudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gICAgdmFyIG5vbmNlID0gZ2V0Tm9uY2UoKTtcbiAgICBpZiAobm9uY2UpIHtcbiAgICAgICAgdGFnLnNldEF0dHJpYnV0ZSgnbm9uY2UnLCBub25jZSk7XG4gICAgfVxuICAgIHJldHVybiB0YWc7XG59XG5mdW5jdGlvbiBpbmplY3RTdHlsZXModGFnLCBjc3MpIHtcbiAgICBpZiAodGFnLnN0eWxlU2hlZXQpIHtcbiAgICAgICAgdGFnLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhZy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbnNlcnRTdHlsZVRhZyh0YWcpIHtcbiAgICB2YXIgaGVhZCA9IGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2hlYWQnKVswXTtcbiAgICBoZWFkLmFwcGVuZENoaWxkKHRhZyk7XG59XG5leHBvcnQgdmFyIHN0eWxlc2hlZXRTaW5nbGV0b24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvdW50ZXIgPSAwO1xuICAgIHZhciBzdHlsZXNoZWV0ID0gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGQ6IGZ1bmN0aW9uIChzdHlsZSkge1xuICAgICAgICAgICAgaWYgKGNvdW50ZXIgPT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChzdHlsZXNoZWV0ID0gbWFrZVN0eWxlVGFnKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5qZWN0U3R5bGVzKHN0eWxlc2hlZXQsIHN0eWxlKTtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0U3R5bGVUYWcoc3R5bGVzaGVldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnRlcisrO1xuICAgICAgICB9LFxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvdW50ZXItLTtcbiAgICAgICAgICAgIGlmICghY291bnRlciAmJiBzdHlsZXNoZWV0KSB7XG4gICAgICAgICAgICAgICAgc3R5bGVzaGVldC5wYXJlbnROb2RlICYmIHN0eWxlc2hlZXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZXNoZWV0KTtcbiAgICAgICAgICAgICAgICBzdHlsZXNoZWV0ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEJveCwgQ2hha3JhUHJvdmlkZXIsIEdyaWQgfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcbmltcG9ydCB7IHRoZW1lIH0gZnJvbSAnQC9wcmVzZW50YXRpb24vc3R5bGVzL2dsb2JhbC1zdHlsZXMnO1xuaW1wb3J0IHsgSGVhZGVyLCBTaWRlYmFyIH0gZnJvbSAnQC9wcmVzZW50YXRpb24vY29tcG9uZW50cyc7XG5pbXBvcnQgeyBNZENoZXZyb25MZWZ0IH0gZnJvbSAncmVhY3QtaWNvbnMvbWQnO1xuaW1wb3J0IHsgdXNlTmF2aWdhdGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmNvbnN0IFdyYXBwZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gICAgY29uc3QgbmF2aWdhdGUgPSB1c2VOYXZpZ2F0ZSgpO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChDaGFrcmFQcm92aWRlciwgeyB0aGVtZTogdGhlbWUgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkLCB7IGdyaWRUZW1wbGF0ZUNvbHVtbnM6IFwiMjhyZW0gMWZyXCIsIGdyaWRUZW1wbGF0ZVJvd3M6IFwiOHJlbSAxZnJcIiwgaDogXCIxMDB2aFwiLCB3OiBcIjEwMHZ3XCIgfSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyLCBudWxsKSxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2lkZWJhciwgbnVsbCksXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBncmlkQ29sdW1uOiBcIjIvLTFcIiwgZ3JpZFJvdzogXCIyLy0xXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEJveCwgeyBvbkNsaWNrOiAoKSA9PiBuYXZpZ2F0ZSgpIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTWRDaGV2cm9uTGVmdCwgbnVsbCkpLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuKSkpKTtcbn07XG5leHBvcnQgZGVmYXVsdCBXcmFwcGVyO1xuIiwiaW1wb3J0IHsgZXh0ZW5kVGhlbWUgfSBmcm9tICdAY2hha3JhLXVpL3JlYWN0JztcbmV4cG9ydCBjb25zdCBnbG9iYWxTdHlsZXMgPSB7XG4gICAgJyosICo6OmFmdGVyLCAqOjpiZWZvcmUnOiB7XG4gICAgICAgIG1hcmdpbjogMCxcbiAgICAgICAgcGFkZGluZzogMCxcbiAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCdcbiAgICB9LFxuICAgIGh0bWw6IHtcbiAgICAgICAgZm9udFNpemU6ICc2Mi41JScsXG4gICAgICAgICdAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NS41ZW0pJzoge1xuICAgICAgICAgICAgZm9udFNpemU6ICc1Ni4yNSUnXG4gICAgICAgIH0sXG4gICAgICAgICdAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1Ni4yNWVtKSc6IHtcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNTAlJ1xuICAgICAgICB9XG4gICAgfSxcbiAgICAnYm9keSwgYnV0dG9uLCBpbnB1dCc6IHtcbiAgICAgICAgZm9udEZhbWlseTogJ1JvYm90bywgQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZidcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHRoZW1lID0gZXh0ZW5kVGhlbWUoe1xuICAgIHN0eWxlczoge1xuICAgICAgICBnbG9iYWw6IGdsb2JhbFN0eWxlc1xuICAgIH1cbn0pO1xuIiwiLyoqXG4gKiBBc3NpZ25zIGEgdmFsdWUgZm9yIGEgZ2l2ZW4gcmVmLCBubyBtYXR0ZXIgb2YgdGhlIHJlZiBmb3JtYXRcbiAqIEBwYXJhbSB7UmVmT2JqZWN0fSByZWYgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIG9yIHJlZiBvYmplY3RcbiAqIEBwYXJhbSB2YWx1ZSAtIGEgbmV3IHZhbHVlXG4gKlxuICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdGhlS2FzaGV5L3VzZS1jYWxsYmFjay1yZWYjYXNzaWducmVmXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVmT2JqZWN0ID0gdXNlUmVmKCk7XG4gKiBjb25zdCByZWZGbiA9IChyZWYpID0+IHsuLi4ufVxuICpcbiAqIGFzc2lnblJlZihyZWZPYmplY3QsIFwicmVmVmFsdWVcIik7XG4gKiBhc3NpZ25SZWYocmVmRm4sIFwicmVmVmFsdWVcIik7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25SZWYocmVmLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgcmVmID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJlZih2YWx1ZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlZikge1xuICAgICAgICByZWYuY3VycmVudCA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVmO1xufVxuIiwiaW1wb3J0IHsgdXNlQ2FsbGJhY2tSZWYgfSBmcm9tICcuL3VzZVJlZic7XG5pbXBvcnQgeyBhc3NpZ25SZWYgfSBmcm9tICcuL2Fzc2lnblJlZic7XG4vKipcbiAqIE1lcmdlcyB0d28gb3IgbW9yZSByZWZzIHRvZ2V0aGVyIHByb3ZpZGluZyBhIHNpbmdsZSBpbnRlcmZhY2UgdG8gc2V0IHRoZWlyIHZhbHVlXG4gKiBAcGFyYW0ge1JlZk9iamVjdHxSZWZ9IHJlZnNcbiAqIEByZXR1cm5zIHtNdXRhYmxlUmVmT2JqZWN0fSAtIGEgbmV3IHJlZiwgd2hpY2ggdHJhbnNsYXRlcyBhbGwgY2hhbmdlcyB0byB7cmVmc31cbiAqXG4gKiBAc2VlIHtAbGluayBtZXJnZVJlZnN9IGEgdmVyc2lvbiB3aXRob3V0IGJ1aXQtaW4gbWVtb2l6YXRpb25cbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RoZUthc2hleS91c2UtY2FsbGJhY2stcmVmI3VzZW1lcmdlcmVmc1xuICogQGV4YW1wbGVcbiAqIGNvbnN0IENvbXBvbmVudCA9IFJlYWN0LmZvcndhcmRSZWYoKHByb3BzLCByZWYpID0+IHtcbiAqICAgY29uc3Qgb3duUmVmID0gdXNlUmVmKCk7XG4gKiAgIGNvbnN0IGRvbVJlZiA9IHVzZU1lcmdlUmVmcyhbcmVmLCBvd25SZWZdKTsgLy8g8J+RiCBtZXJnZSB0b2dldGhlclxuICogICByZXR1cm4gPGRpdiByZWY9e2RvbVJlZn0+Li4uPC9kaXY+XG4gKiB9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VNZXJnZVJlZnMocmVmcywgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIHVzZUNhbGxiYWNrUmVmKGRlZmF1bHRWYWx1ZSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZWZzLmZvckVhY2goZnVuY3Rpb24gKHJlZikgeyByZXR1cm4gYXNzaWduUmVmKHJlZiwgbmV3VmFsdWUpOyB9KTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuLyoqXG4gKiBjcmVhdGVzIGEgTXV0YWJsZVJlZiB3aXRoIHJlZiBjaGFuZ2UgY2FsbGJhY2tcbiAqIEBwYXJhbSBpbml0aWFsVmFsdWUgLSBpbml0aWFsIHJlZiB2YWx1ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBhIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHZhbHVlIGNoYW5nZXNcbiAqXG4gKiBAZXhhbXBsZVxuICogY29uc3QgcmVmID0gdXNlQ2FsbGJhY2tSZWYoMCwgKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgPT4gY29uc29sZS5sb2cob2xkVmFsdWUsICctPicsIG5ld1ZhbHVlKTtcbiAqIHJlZi5jdXJyZW50ID0gMTtcbiAqIC8vIHByaW50cyAwIC0+IDFcbiAqXG4gKiBAc2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9ob29rcy1yZWZlcmVuY2UuaHRtbCN1c2VyZWZcbiAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3RoZUthc2hleS91c2UtY2FsbGJhY2stcmVmI3VzZWNhbGxiYWNrcmVmLS0tdG8tcmVwbGFjZS1yZWFjdHVzZXJlZlxuICogQHJldHVybnMge011dGFibGVSZWZPYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VDYWxsYmFja1JlZihpbml0aWFsVmFsdWUsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHJlZiA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7XG4gICAgICAgIC8vIHZhbHVlXG4gICAgICAgIHZhbHVlOiBpbml0aWFsVmFsdWUsXG4gICAgICAgIC8vIGxhc3QgY2FsbGJhY2tcbiAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAvLyBcIm1lbW9pemVkXCIgcHVibGljIGludGVyZmFjZVxuICAgICAgICBmYWNhZGU6IHtcbiAgICAgICAgICAgIGdldCBjdXJyZW50KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWYudmFsdWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0IGN1cnJlbnQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbGFzdCA9IHJlZi52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdCAhPT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHJlZi5jYWxsYmFjayh2YWx1ZSwgbGFzdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7IH0pWzBdO1xuICAgIC8vIHVwZGF0ZSBjYWxsYmFja1xuICAgIHJlZi5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIHJldHVybiByZWYuZmFjYWRlO1xufVxuIiwiaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbnZhciBTaWRlQ2FyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgdmFyIHNpZGVDYXIgPSBfYS5zaWRlQ2FyLCByZXN0ID0gdHNsaWJfMS5fX3Jlc3QoX2EsIFtcInNpZGVDYXJcIl0pO1xuICAgIGlmICghc2lkZUNhcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpZGVjYXI6IHBsZWFzZSBwcm92aWRlIGBzaWRlQ2FyYCBwcm9wZXJ0eSB0byBpbXBvcnQgdGhlIHJpZ2h0IGNhcicpO1xuICAgIH1cbiAgICB2YXIgVGFyZ2V0ID0gc2lkZUNhci5yZWFkKCk7XG4gICAgaWYgKCFUYXJnZXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaWRlY2FyIG1lZGl1bSBub3QgZm91bmQnKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGFyZ2V0LCB0c2xpYl8xLl9fYXNzaWduKHt9LCByZXN0KSk7XG59O1xuU2lkZUNhci5pc1NpZGVDYXJFeHBvcnQgPSB0cnVlO1xuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydFNpZGVjYXIobWVkaXVtLCBleHBvcnRlZCkge1xuICAgIG1lZGl1bS51c2VNZWRpdW0oZXhwb3J0ZWQpO1xuICAgIHJldHVybiBTaWRlQ2FyO1xufVxuIiwiaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmZ1bmN0aW9uIEl0b0koYSkge1xuICAgIHJldHVybiBhO1xufVxuZnVuY3Rpb24gaW5uZXJDcmVhdGVNZWRpdW0oZGVmYXVsdHMsIG1pZGRsZXdhcmUpIHtcbiAgICBpZiAobWlkZGxld2FyZSA9PT0gdm9pZCAwKSB7IG1pZGRsZXdhcmUgPSBJdG9JOyB9XG4gICAgdmFyIGJ1ZmZlciA9IFtdO1xuICAgIHZhciBhc3NpZ25lZCA9IGZhbHNlO1xuICAgIHZhciBtZWRpdW0gPSB7XG4gICAgICAgIHJlYWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChhc3NpZ25lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2lkZWNhcjogY291bGQgbm90IGByZWFkYCBmcm9tIGFuIGBhc3NpZ25lZGAgbWVkaXVtLiBgcmVhZGAgY291bGQgYmUgdXNlZCBvbmx5IHdpdGggYHVzZU1lZGl1bWAuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXJbYnVmZmVyLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgICAgICB9LFxuICAgICAgICB1c2VNZWRpdW06IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB2YXIgaXRlbSA9IG1pZGRsZXdhcmUoZGF0YSwgYXNzaWduZWQpO1xuICAgICAgICAgICAgYnVmZmVyLnB1c2goaXRlbSk7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggIT09IGl0ZW07IH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYXNzaWduU3luY01lZGl1bTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICBhc3NpZ25lZCA9IHRydWU7XG4gICAgICAgICAgICB3aGlsZSAoYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjYnMgPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gW107XG4gICAgICAgICAgICAgICAgY2JzLmZvckVhY2goY2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnVmZmVyID0ge1xuICAgICAgICAgICAgICAgIHB1c2g6IGZ1bmN0aW9uICh4KSB7IHJldHVybiBjYih4KTsgfSxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGJ1ZmZlcjsgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGFzc2lnbk1lZGl1bTogZnVuY3Rpb24gKGNiKSB7XG4gICAgICAgICAgICBhc3NpZ25lZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgcGVuZGluZ1F1ZXVlID0gW107XG4gICAgICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBjYnMgPSBidWZmZXI7XG4gICAgICAgICAgICAgICAgYnVmZmVyID0gW107XG4gICAgICAgICAgICAgICAgY2JzLmZvckVhY2goY2IpO1xuICAgICAgICAgICAgICAgIHBlbmRpbmdRdWV1ZSA9IGJ1ZmZlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBleGVjdXRlUXVldWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNicyA9IHBlbmRpbmdRdWV1ZTtcbiAgICAgICAgICAgICAgICBwZW5kaW5nUXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICBjYnMuZm9yRWFjaChjYik7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGN5Y2xlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihleGVjdXRlUXVldWUpOyB9O1xuICAgICAgICAgICAgY3ljbGUoKTtcbiAgICAgICAgICAgIGJ1ZmZlciA9IHtcbiAgICAgICAgICAgICAgICBwdXNoOiBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nUXVldWUucHVzaCh4KTtcbiAgICAgICAgICAgICAgICAgICAgY3ljbGUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogZnVuY3Rpb24gKGZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nUXVldWUgPSBwZW5kaW5nUXVldWUuZmlsdGVyKGZpbHRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gbWVkaXVtO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1lZGl1bShkZWZhdWx0cywgbWlkZGxld2FyZSkge1xuICAgIGlmIChtaWRkbGV3YXJlID09PSB2b2lkIDApIHsgbWlkZGxld2FyZSA9IEl0b0k7IH1cbiAgICByZXR1cm4gaW5uZXJDcmVhdGVNZWRpdW0oZGVmYXVsdHMsIG1pZGRsZXdhcmUpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNpZGVjYXJNZWRpdW0ob3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHt9OyB9XG4gICAgdmFyIG1lZGl1bSA9IGlubmVyQ3JlYXRlTWVkaXVtKG51bGwpO1xuICAgIG1lZGl1bS5vcHRpb25zID0gdHNsaWJfMS5fX2Fzc2lnbih7IGFzeW5jOiB0cnVlLCBzc3I6IGZhbHNlIH0sIG9wdGlvbnMpO1xuICAgIHJldHVybiBtZWRpdW07XG59XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxNC1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBTaW1pbGFyIHRvIGludmFyaWFudCBidXQgb25seSBsb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvZyBpc3N1ZXMgaW4gZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzIGluIGNyaXRpY2FsXG4gKiBwYXRocy4gUmVtb3ZpbmcgdGhlIGxvZ2dpbmcgY29kZSBmb3IgcHJvZHVjdGlvbiBlbnZpcm9ubWVudHMgd2lsbCBrZWVwIHRoZVxuICogc2FtZSBsb2dpYyBhbmQgZm9sbG93IHRoZSBzYW1lIGNvZGUgcGF0aHMuXG4gKi9cblxudmFyIF9fREVWX18gPSBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nO1xuXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChfX0RFVl9fKSB7XG4gIHZhciBwcmludFdhcm5pbmcgPSBmdW5jdGlvbiBwcmludFdhcm5pbmcoZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAxID8gbGVuIC0gMSA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDE7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMV0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICB2YXIgbWVzc2FnZSA9ICdXYXJuaW5nOiAnICtcbiAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICB9KTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgLy8gLS0tIFdlbGNvbWUgdG8gZGVidWdnaW5nIFJlYWN0IC0tLVxuICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAvLyB0byBmaW5kIHRoZSBjYWxsc2l0ZSB0aGF0IGNhdXNlZCB0aGlzIHdhcm5pbmcgdG8gZmlyZS5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICB9IGNhdGNoICh4KSB7fVxuICB9XG5cbiAgd2FybmluZyA9IGZ1bmN0aW9uKGNvbmRpdGlvbiwgZm9ybWF0LCBhcmdzKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgYXJncyA9IG5ldyBBcnJheShsZW4gPiAyID8gbGVuIC0gMiA6IDApO1xuICAgIGZvciAodmFyIGtleSA9IDI7IGtleSA8IGxlbjsga2V5KyspIHtcbiAgICAgIGFyZ3Nba2V5IC0gMl0gPSBhcmd1bWVudHNba2V5XTtcbiAgICB9XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ2B3YXJuaW5nKGNvbmRpdGlvbiwgZm9ybWF0LCAuLi5hcmdzKWAgcmVxdWlyZXMgYSB3YXJuaW5nICcgK1xuICAgICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFjb25kaXRpb24pIHtcbiAgICAgIHByaW50V2FybmluZy5hcHBseShudWxsLCBbZm9ybWF0XS5jb25jYXQoYXJncykpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB3YXJuaW5nO1xuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5IGluIG9iaikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiBvYmo7XG59IiwiaW1wb3J0IHNldFByb3RvdHlwZU9mIGZyb20gXCIuL3NldFByb3RvdHlwZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykge1xuICBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTtcbiAgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7XG4gIHNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkge1xuICBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHtcbiAgICBvLl9fcHJvdG9fXyA9IHA7XG4gICAgcmV0dXJuIG87XG4gIH07XG5cbiAgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTtcbn0iLCJ2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgPyAob2JqKSA9PiAoT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iaikpIDogKG9iaikgPT4gKG9iai5fX3Byb3RvX18pO1xudmFyIGxlYWZQcm90b3R5cGVzO1xuLy8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4vLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuLy8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4vLyBtb2RlICYgMTY6IHJldHVybiB2YWx1ZSB3aGVuIGl0J3MgUHJvbWlzZS1saWtlXG4vLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuXHRpZihtb2RlICYgMSkgdmFsdWUgPSB0aGlzKHZhbHVlKTtcblx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcblx0aWYodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSkge1xuXHRcdGlmKChtb2RlICYgNCkgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuXHRcdGlmKChtb2RlICYgMTYpICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nKSByZXR1cm4gdmFsdWU7XG5cdH1cblx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcblx0dmFyIGRlZiA9IHt9O1xuXHRsZWFmUHJvdG90eXBlcyA9IGxlYWZQcm90b3R5cGVzIHx8IFtudWxsLCBnZXRQcm90byh7fSksIGdldFByb3RvKFtdKSwgZ2V0UHJvdG8oZ2V0UHJvdG8pXTtcblx0Zm9yKHZhciBjdXJyZW50ID0gbW9kZSAmIDIgJiYgdmFsdWU7IHR5cGVvZiBjdXJyZW50ID09ICdvYmplY3QnICYmICF+bGVhZlByb3RvdHlwZXMuaW5kZXhPZihjdXJyZW50KTsgY3VycmVudCA9IGdldFByb3RvKGN1cnJlbnQpKSB7XG5cdFx0T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoY3VycmVudCkuZm9yRWFjaCgoa2V5KSA9PiAoZGVmW2tleV0gPSAoKSA9PiAodmFsdWVba2V5XSkpKTtcblx0fVxuXHRkZWZbJ2RlZmF1bHQnXSA9ICgpID0+ICh2YWx1ZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChucywgZGVmKTtcblx0cmV0dXJuIG5zO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmggPSAoKSA9PiAoXCJhNjUyODM1NWE0OWJjOTM0NDdlMVwiKSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==